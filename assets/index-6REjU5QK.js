var nY=Object.defineProperty;var iY=(t,e,r)=>e in t?nY(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Ae=(t,e,r)=>iY(t,typeof e!="symbol"?e+"":e,r);function oY(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(n,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();var yv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ln(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var C_={exports:{}},Pp={},k_={exports:{}},tn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C6;function sY(){if(C6)return tn;C6=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),s=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),g=Symbol.iterator;function _(se){return se===null||typeof se!="object"?null:(se=g&&se[g]||se["@@iterator"],typeof se=="function"?se:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,E={};function T(se,$,ne){this.props=se,this.context=$,this.refs=E,this.updater=ne||b}T.prototype.isReactComponent={},T.prototype.setState=function(se,$){if(typeof se!="object"&&typeof se!="function"&&se!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,se,$,"setState")},T.prototype.forceUpdate=function(se){this.updater.enqueueForceUpdate(this,se,"forceUpdate")};function O(){}O.prototype=T.prototype;function L(se,$,ne){this.props=se,this.context=$,this.refs=E,this.updater=ne||b}var N=L.prototype=new O;N.constructor=L,P(N,T.prototype),N.isPureReactComponent=!0;var D=Array.isArray,B=Object.prototype.hasOwnProperty,z={current:null},X={key:!0,ref:!0,__self:!0,__source:!0};function Z(se,$,ne){var pe,be={},Ie=null,De=null;if($!=null)for(pe in $.ref!==void 0&&(De=$.ref),$.key!==void 0&&(Ie=""+$.key),$)B.call($,pe)&&!X.hasOwnProperty(pe)&&(be[pe]=$[pe]);var $e=arguments.length-2;if($e===1)be.children=ne;else if(1<$e){for(var Le=Array($e),We=0;We<$e;We++)Le[We]=arguments[We+2];be.children=Le}if(se&&se.defaultProps)for(pe in $e=se.defaultProps,$e)be[pe]===void 0&&(be[pe]=$e[pe]);return{$$typeof:t,type:se,key:Ie,ref:De,props:be,_owner:z.current}}function G(se,$){return{$$typeof:t,type:se.type,key:$,ref:se.ref,props:se.props,_owner:se._owner}}function de(se){return typeof se=="object"&&se!==null&&se.$$typeof===t}function H(se){var $={"=":"=0",":":"=2"};return"$"+se.replace(/[=:]/g,function(ne){return $[ne]})}var ee=/\/+/g;function ae(se,$){return typeof se=="object"&&se!==null&&se.key!=null?H(""+se.key):$.toString(36)}function le(se,$,ne,pe,be){var Ie=typeof se;(Ie==="undefined"||Ie==="boolean")&&(se=null);var De=!1;if(se===null)De=!0;else switch(Ie){case"string":case"number":De=!0;break;case"object":switch(se.$$typeof){case t:case e:De=!0}}if(De)return De=se,be=be(De),se=pe===""?"."+ae(De,0):pe,D(be)?(ne="",se!=null&&(ne=se.replace(ee,"$&/")+"/"),le(be,$,ne,"",function(We){return We})):be!=null&&(de(be)&&(be=G(be,ne+(!be.key||De&&De.key===be.key?"":(""+be.key).replace(ee,"$&/")+"/")+se)),$.push(be)),1;if(De=0,pe=pe===""?".":pe+":",D(se))for(var $e=0;$e<se.length;$e++){Ie=se[$e];var Le=pe+ae(Ie,$e);De+=le(Ie,$,ne,Le,be)}else if(Le=_(se),typeof Le=="function")for(se=Le.call(se),$e=0;!(Ie=se.next()).done;)Ie=Ie.value,Le=pe+ae(Ie,$e++),De+=le(Ie,$,ne,Le,be);else if(Ie==="object")throw $=String(se),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(se).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.");return De}function Te(se,$,ne){if(se==null)return se;var pe=[],be=0;return le(se,pe,"","",function(Ie){return $.call(ne,Ie,be++)}),pe}function te(se){if(se._status===-1){var $=se._result;$=$(),$.then(function(ne){(se._status===0||se._status===-1)&&(se._status=1,se._result=ne)},function(ne){(se._status===0||se._status===-1)&&(se._status=2,se._result=ne)}),se._status===-1&&(se._status=0,se._result=$)}if(se._status===1)return se._result.default;throw se._result}var oe={current:null},K={transition:null},ge={ReactCurrentDispatcher:oe,ReactCurrentBatchConfig:K,ReactCurrentOwner:z};function Ee(){throw Error("act(...) is not supported in production builds of React.")}return tn.Children={map:Te,forEach:function(se,$,ne){Te(se,function(){$.apply(this,arguments)},ne)},count:function(se){var $=0;return Te(se,function(){$++}),$},toArray:function(se){return Te(se,function($){return $})||[]},only:function(se){if(!de(se))throw Error("React.Children.only expected to receive a single React element child.");return se}},tn.Component=T,tn.Fragment=r,tn.Profiler=i,tn.PureComponent=L,tn.StrictMode=n,tn.Suspense=l,tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ge,tn.act=Ee,tn.cloneElement=function(se,$,ne){if(se==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+se+".");var pe=P({},se.props),be=se.key,Ie=se.ref,De=se._owner;if($!=null){if($.ref!==void 0&&(Ie=$.ref,De=z.current),$.key!==void 0&&(be=""+$.key),se.type&&se.type.defaultProps)var $e=se.type.defaultProps;for(Le in $)B.call($,Le)&&!X.hasOwnProperty(Le)&&(pe[Le]=$[Le]===void 0&&$e!==void 0?$e[Le]:$[Le])}var Le=arguments.length-2;if(Le===1)pe.children=ne;else if(1<Le){$e=Array(Le);for(var We=0;We<Le;We++)$e[We]=arguments[We+2];pe.children=$e}return{$$typeof:t,type:se.type,key:be,ref:Ie,props:pe,_owner:De}},tn.createContext=function(se){return se={$$typeof:s,_currentValue:se,_currentValue2:se,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},se.Provider={$$typeof:o,_context:se},se.Consumer=se},tn.createElement=Z,tn.createFactory=function(se){var $=Z.bind(null,se);return $.type=se,$},tn.createRef=function(){return{current:null}},tn.forwardRef=function(se){return{$$typeof:a,render:se}},tn.isValidElement=de,tn.lazy=function(se){return{$$typeof:u,_payload:{_status:-1,_result:se},_init:te}},tn.memo=function(se,$){return{$$typeof:c,type:se,compare:$===void 0?null:$}},tn.startTransition=function(se){var $=K.transition;K.transition={};try{se()}finally{K.transition=$}},tn.unstable_act=Ee,tn.useCallback=function(se,$){return oe.current.useCallback(se,$)},tn.useContext=function(se){return oe.current.useContext(se)},tn.useDebugValue=function(){},tn.useDeferredValue=function(se){return oe.current.useDeferredValue(se)},tn.useEffect=function(se,$){return oe.current.useEffect(se,$)},tn.useId=function(){return oe.current.useId()},tn.useImperativeHandle=function(se,$,ne){return oe.current.useImperativeHandle(se,$,ne)},tn.useInsertionEffect=function(se,$){return oe.current.useInsertionEffect(se,$)},tn.useLayoutEffect=function(se,$){return oe.current.useLayoutEffect(se,$)},tn.useMemo=function(se,$){return oe.current.useMemo(se,$)},tn.useReducer=function(se,$,ne){return oe.current.useReducer(se,$,ne)},tn.useRef=function(se){return oe.current.useRef(se)},tn.useState=function(se){return oe.current.useState(se)},tn.useSyncExternalStore=function(se,$,ne){return oe.current.useSyncExternalStore(se,$,ne)},tn.useTransition=function(){return oe.current.useTransition()},tn.version="18.3.1",tn}var k6;function YT(){return k6||(k6=1,k_.exports=sY()),k_.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O6;function aY(){if(O6)return Pp;O6=1;var t=YT(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function s(a,l,c){var u,g={},_=null,b=null;c!==void 0&&(_=""+c),l.key!==void 0&&(_=""+l.key),l.ref!==void 0&&(b=l.ref);for(u in l)n.call(l,u)&&!o.hasOwnProperty(u)&&(g[u]=l[u]);if(a&&a.defaultProps)for(u in l=a.defaultProps,l)g[u]===void 0&&(g[u]=l[u]);return{$$typeof:e,type:a,key:_,ref:b,props:g,_owner:i.current}}return Pp.Fragment=r,Pp.jsx=s,Pp.jsxs=s,Pp}var R6;function lY(){return R6||(R6=1,C_.exports=aY()),C_.exports}var V=lY(),bv={},O_={exports:{}},ua={},R_={exports:{}},I_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I6;function cY(){return I6||(I6=1,(function(t){function e(K,ge){var Ee=K.length;K.push(ge);e:for(;0<Ee;){var se=Ee-1>>>1,$=K[se];if(0<i($,ge))K[se]=ge,K[Ee]=$,Ee=se;else break e}}function r(K){return K.length===0?null:K[0]}function n(K){if(K.length===0)return null;var ge=K[0],Ee=K.pop();if(Ee!==ge){K[0]=Ee;e:for(var se=0,$=K.length,ne=$>>>1;se<ne;){var pe=2*(se+1)-1,be=K[pe],Ie=pe+1,De=K[Ie];if(0>i(be,Ee))Ie<$&&0>i(De,be)?(K[se]=De,K[Ie]=Ee,se=Ie):(K[se]=be,K[pe]=Ee,se=pe);else if(Ie<$&&0>i(De,Ee))K[se]=De,K[Ie]=Ee,se=Ie;else break e}}return ge}function i(K,ge){var Ee=K.sortIndex-ge.sortIndex;return Ee!==0?Ee:K.id-ge.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,g=null,_=3,b=!1,P=!1,E=!1,T=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(K){for(var ge=r(c);ge!==null;){if(ge.callback===null)n(c);else if(ge.startTime<=K)n(c),ge.sortIndex=ge.expirationTime,e(l,ge);else break;ge=r(c)}}function D(K){if(E=!1,N(K),!P)if(r(l)!==null)P=!0,te(B);else{var ge=r(c);ge!==null&&oe(D,ge.startTime-K)}}function B(K,ge){P=!1,E&&(E=!1,O(Z),Z=-1),b=!0;var Ee=_;try{for(N(ge),g=r(l);g!==null&&(!(g.expirationTime>ge)||K&&!H());){var se=g.callback;if(typeof se=="function"){g.callback=null,_=g.priorityLevel;var $=se(g.expirationTime<=ge);ge=t.unstable_now(),typeof $=="function"?g.callback=$:g===r(l)&&n(l),N(ge)}else n(l);g=r(l)}if(g!==null)var ne=!0;else{var pe=r(c);pe!==null&&oe(D,pe.startTime-ge),ne=!1}return ne}finally{g=null,_=Ee,b=!1}}var z=!1,X=null,Z=-1,G=5,de=-1;function H(){return!(t.unstable_now()-de<G)}function ee(){if(X!==null){var K=t.unstable_now();de=K;var ge=!0;try{ge=X(!0,K)}finally{ge?ae():(z=!1,X=null)}}else z=!1}var ae;if(typeof L=="function")ae=function(){L(ee)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,Te=le.port2;le.port1.onmessage=ee,ae=function(){Te.postMessage(null)}}else ae=function(){T(ee,0)};function te(K){X=K,z||(z=!0,ae())}function oe(K,ge){Z=T(function(){K(t.unstable_now())},ge)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_continueExecution=function(){P||b||(P=!0,te(B))},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(K){switch(_){case 1:case 2:case 3:var ge=3;break;default:ge=_}var Ee=_;_=ge;try{return K()}finally{_=Ee}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(K,ge){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var Ee=_;_=K;try{return ge()}finally{_=Ee}},t.unstable_scheduleCallback=function(K,ge,Ee){var se=t.unstable_now();switch(typeof Ee=="object"&&Ee!==null?(Ee=Ee.delay,Ee=typeof Ee=="number"&&0<Ee?se+Ee:se):Ee=se,K){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=Ee+$,K={id:u++,callback:ge,priorityLevel:K,startTime:Ee,expirationTime:$,sortIndex:-1},Ee>se?(K.sortIndex=Ee,e(c,K),r(l)===null&&K===r(c)&&(E?(O(Z),Z=-1):E=!0,oe(D,Ee-se))):(K.sortIndex=$,e(l,K),P||b||(P=!0,te(B))),K},t.unstable_shouldYield=H,t.unstable_wrapCallback=function(K){var ge=_;return function(){var Ee=_;_=ge;try{return K.apply(this,arguments)}finally{_=Ee}}}})(I_)),I_}var N6;function uY(){return N6||(N6=1,R_.exports=cY()),R_.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M6;function fY(){if(M6)return ua;M6=1;var t=YT(),e=uY();function r(d){for(var m="https://reactjs.org/docs/error-decoder.html?invariant="+d,x=1;x<arguments.length;x++)m+="&args[]="+encodeURIComponent(arguments[x]);return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function o(d,m){s(d,m),s(d+"Capture",m)}function s(d,m){for(i[d]=m,d=0;d<m.length;d++)n.add(m[d])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,u={},g={};function _(d){return l.call(g,d)?!0:l.call(u,d)?!1:c.test(d)?g[d]=!0:(u[d]=!0,!1)}function b(d,m,x,R){if(x!==null&&x.type===0)return!1;switch(typeof m){case"function":case"symbol":return!0;case"boolean":return R?!1:x!==null?!x.acceptsBooleans:(d=d.toLowerCase().slice(0,5),d!=="data-"&&d!=="aria-");default:return!1}}function P(d,m,x,R){if(m===null||typeof m>"u"||b(d,m,x,R))return!0;if(R)return!1;if(x!==null)switch(x.type){case 3:return!m;case 4:return m===!1;case 5:return isNaN(m);case 6:return isNaN(m)||1>m}return!1}function E(d,m,x,R,U,q,me){this.acceptsBooleans=m===2||m===3||m===4,this.attributeName=R,this.attributeNamespace=U,this.mustUseProperty=x,this.propertyName=d,this.type=m,this.sanitizeURL=q,this.removeEmptyString=me}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(d){T[d]=new E(d,0,!1,d,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(d){var m=d[0];T[m]=new E(m,1,!1,d[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(d){T[d]=new E(d,2,!1,d.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(d){T[d]=new E(d,2,!1,d,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(d){T[d]=new E(d,3,!1,d.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(d){T[d]=new E(d,3,!0,d,null,!1,!1)}),["capture","download"].forEach(function(d){T[d]=new E(d,4,!1,d,null,!1,!1)}),["cols","rows","size","span"].forEach(function(d){T[d]=new E(d,6,!1,d,null,!1,!1)}),["rowSpan","start"].forEach(function(d){T[d]=new E(d,5,!1,d.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function L(d){return d[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(d){var m=d.replace(O,L);T[m]=new E(m,1,!1,d,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(d){var m=d.replace(O,L);T[m]=new E(m,1,!1,d,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(d){var m=d.replace(O,L);T[m]=new E(m,1,!1,d,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(d){T[d]=new E(d,1,!1,d.toLowerCase(),null,!1,!1)}),T.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(d){T[d]=new E(d,1,!1,d.toLowerCase(),null,!0,!0)});function N(d,m,x,R){var U=T.hasOwnProperty(m)?T[m]:null;(U!==null?U.type!==0:R||!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(P(m,x,U,R)&&(x=null),R||U===null?_(m)&&(x===null?d.removeAttribute(m):d.setAttribute(m,""+x)):U.mustUseProperty?d[U.propertyName]=x===null?U.type===3?!1:"":x:(m=U.attributeName,R=U.attributeNamespace,x===null?d.removeAttribute(m):(U=U.type,x=U===3||U===4&&x===!0?"":""+x,R?d.setAttributeNS(R,m,x):d.setAttribute(m,x))))}var D=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,B=Symbol.for("react.element"),z=Symbol.for("react.portal"),X=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),de=Symbol.for("react.provider"),H=Symbol.for("react.context"),ee=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),Te=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),oe=Symbol.for("react.offscreen"),K=Symbol.iterator;function ge(d){return d===null||typeof d!="object"?null:(d=K&&d[K]||d["@@iterator"],typeof d=="function"?d:null)}var Ee=Object.assign,se;function $(d){if(se===void 0)try{throw Error()}catch(x){var m=x.stack.trim().match(/\n( *(at )?)/);se=m&&m[1]||""}return`
`+se+d}var ne=!1;function pe(d,m){if(!d||ne)return"";ne=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(m)if(m=function(){throw Error()},Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(ht){var R=ht}Reflect.construct(d,[],m)}else{try{m.call()}catch(ht){R=ht}d.call(m.prototype)}else{try{throw Error()}catch(ht){R=ht}d()}}catch(ht){if(ht&&R&&typeof ht.stack=="string"){for(var U=ht.stack.split(`
`),q=R.stack.split(`
`),me=U.length-1,Be=q.length-1;1<=me&&0<=Be&&U[me]!==q[Be];)Be--;for(;1<=me&&0<=Be;me--,Be--)if(U[me]!==q[Be]){if(me!==1||Be!==1)do if(me--,Be--,0>Be||U[me]!==q[Be]){var He=`
`+U[me].replace(" at new "," at ");return d.displayName&&He.includes("<anonymous>")&&(He=He.replace("<anonymous>",d.displayName)),He}while(1<=me&&0<=Be);break}}}finally{ne=!1,Error.prepareStackTrace=x}return(d=d?d.displayName||d.name:"")?$(d):""}function be(d){switch(d.tag){case 5:return $(d.type);case 16:return $("Lazy");case 13:return $("Suspense");case 19:return $("SuspenseList");case 0:case 2:case 15:return d=pe(d.type,!1),d;case 11:return d=pe(d.type.render,!1),d;case 1:return d=pe(d.type,!0),d;default:return""}}function Ie(d){if(d==null)return null;if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case X:return"Fragment";case z:return"Portal";case G:return"Profiler";case Z:return"StrictMode";case ae:return"Suspense";case le:return"SuspenseList"}if(typeof d=="object")switch(d.$$typeof){case H:return(d.displayName||"Context")+".Consumer";case de:return(d._context.displayName||"Context")+".Provider";case ee:var m=d.render;return d=d.displayName,d||(d=m.displayName||m.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case Te:return m=d.displayName||null,m!==null?m:Ie(d.type)||"Memo";case te:m=d._payload,d=d._init;try{return Ie(d(m))}catch{}}return null}function De(d){var m=d.type;switch(d.tag){case 24:return"Cache";case 9:return(m.displayName||"Context")+".Consumer";case 10:return(m._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return d=m.render,d=d.displayName||d.name||"",m.displayName||(d!==""?"ForwardRef("+d+")":"ForwardRef");case 7:return"Fragment";case 5:return m;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ie(m);case 8:return m===Z?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m}return null}function $e(d){switch(typeof d){case"boolean":case"number":case"string":case"undefined":return d;case"object":return d;default:return""}}function Le(d){var m=d.type;return(d=d.nodeName)&&d.toLowerCase()==="input"&&(m==="checkbox"||m==="radio")}function We(d){var m=Le(d)?"checked":"value",x=Object.getOwnPropertyDescriptor(d.constructor.prototype,m),R=""+d[m];if(!d.hasOwnProperty(m)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var U=x.get,q=x.set;return Object.defineProperty(d,m,{configurable:!0,get:function(){return U.call(this)},set:function(me){R=""+me,q.call(this,me)}}),Object.defineProperty(d,m,{enumerable:x.enumerable}),{getValue:function(){return R},setValue:function(me){R=""+me},stopTracking:function(){d._valueTracker=null,delete d[m]}}}}function ft(d){d._valueTracker||(d._valueTracker=We(d))}function tt(d){if(!d)return!1;var m=d._valueTracker;if(!m)return!0;var x=m.getValue(),R="";return d&&(R=Le(d)?d.checked?"true":"false":d.value),d=R,d!==x?(m.setValue(d),!0):!1}function xt(d){if(d=d||(typeof document<"u"?document:void 0),typeof d>"u")return null;try{return d.activeElement||d.body}catch{return d.body}}function Tt(d,m){var x=m.checked;return Ee({},m,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:x??d._wrapperState.initialChecked})}function xe(d,m){var x=m.defaultValue==null?"":m.defaultValue,R=m.checked!=null?m.checked:m.defaultChecked;x=$e(m.value!=null?m.value:x),d._wrapperState={initialChecked:R,initialValue:x,controlled:m.type==="checkbox"||m.type==="radio"?m.checked!=null:m.value!=null}}function At(d,m){m=m.checked,m!=null&&N(d,"checked",m,!1)}function Vt(d,m){At(d,m);var x=$e(m.value),R=m.type;if(x!=null)R==="number"?(x===0&&d.value===""||d.value!=x)&&(d.value=""+x):d.value!==""+x&&(d.value=""+x);else if(R==="submit"||R==="reset"){d.removeAttribute("value");return}m.hasOwnProperty("value")?bt(d,m.type,x):m.hasOwnProperty("defaultValue")&&bt(d,m.type,$e(m.defaultValue)),m.checked==null&&m.defaultChecked!=null&&(d.defaultChecked=!!m.defaultChecked)}function $t(d,m,x){if(m.hasOwnProperty("value")||m.hasOwnProperty("defaultValue")){var R=m.type;if(!(R!=="submit"&&R!=="reset"||m.value!==void 0&&m.value!==null))return;m=""+d._wrapperState.initialValue,x||m===d.value||(d.value=m),d.defaultValue=m}x=d.name,x!==""&&(d.name=""),d.defaultChecked=!!d._wrapperState.initialChecked,x!==""&&(d.name=x)}function bt(d,m,x){(m!=="number"||xt(d.ownerDocument)!==d)&&(x==null?d.defaultValue=""+d._wrapperState.initialValue:d.defaultValue!==""+x&&(d.defaultValue=""+x))}var Qt=Array.isArray;function It(d,m,x,R){if(d=d.options,m){m={};for(var U=0;U<x.length;U++)m["$"+x[U]]=!0;for(x=0;x<d.length;x++)U=m.hasOwnProperty("$"+d[x].value),d[x].selected!==U&&(d[x].selected=U),U&&R&&(d[x].defaultSelected=!0)}else{for(x=""+$e(x),m=null,U=0;U<d.length;U++){if(d[U].value===x){d[U].selected=!0,R&&(d[U].defaultSelected=!0);return}m!==null||d[U].disabled||(m=d[U])}m!==null&&(m.selected=!0)}}function qt(d,m){if(m.dangerouslySetInnerHTML!=null)throw Error(r(91));return Ee({},m,{value:void 0,defaultValue:void 0,children:""+d._wrapperState.initialValue})}function Zt(d,m){var x=m.value;if(x==null){if(x=m.children,m=m.defaultValue,x!=null){if(m!=null)throw Error(r(92));if(Qt(x)){if(1<x.length)throw Error(r(93));x=x[0]}m=x}m==null&&(m=""),x=m}d._wrapperState={initialValue:$e(x)}}function Hr(d,m){var x=$e(m.value),R=$e(m.defaultValue);x!=null&&(x=""+x,x!==d.value&&(d.value=x),m.defaultValue==null&&d.defaultValue!==x&&(d.defaultValue=x)),R!=null&&(d.defaultValue=""+R)}function jr(d){var m=d.textContent;m===d._wrapperState.initialValue&&m!==""&&m!==null&&(d.value=m)}function Mr(d){switch(d){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yr(d,m){return d==null||d==="http://www.w3.org/1999/xhtml"?Mr(m):d==="http://www.w3.org/2000/svg"&&m==="foreignObject"?"http://www.w3.org/1999/xhtml":d}var zr,Jt=(function(d){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(m,x,R,U){MSApp.execUnsafeLocalFunction(function(){return d(m,x,R,U)})}:d})(function(d,m){if(d.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in d)d.innerHTML=m;else{for(zr=zr||document.createElement("div"),zr.innerHTML="<svg>"+m.valueOf().toString()+"</svg>",m=zr.firstChild;d.firstChild;)d.removeChild(d.firstChild);for(;m.firstChild;)d.appendChild(m.firstChild)}});function Tr(d,m){if(m){var x=d.firstChild;if(x&&x===d.lastChild&&x.nodeType===3){x.nodeValue=m;return}}d.textContent=m}var Gt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ii=["Webkit","ms","Moz","O"];Object.keys(Gt).forEach(function(d){ii.forEach(function(m){m=m+d.charAt(0).toUpperCase()+d.substring(1),Gt[m]=Gt[d]})});function Jr(d,m,x){return m==null||typeof m=="boolean"||m===""?"":x||typeof m!="number"||m===0||Gt.hasOwnProperty(d)&&Gt[d]?(""+m).trim():m+"px"}function Wr(d,m){d=d.style;for(var x in m)if(m.hasOwnProperty(x)){var R=x.indexOf("--")===0,U=Jr(x,m[x],R);x==="float"&&(x="cssFloat"),R?d.setProperty(x,U):d[x]=U}}var qr=Ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yn(d,m){if(m){if(qr[d]&&(m.children!=null||m.dangerouslySetInnerHTML!=null))throw Error(r(137,d));if(m.dangerouslySetInnerHTML!=null){if(m.children!=null)throw Error(r(60));if(typeof m.dangerouslySetInnerHTML!="object"||!("__html"in m.dangerouslySetInnerHTML))throw Error(r(61))}if(m.style!=null&&typeof m.style!="object")throw Error(r(62))}}function fr(d,m){if(d.indexOf("-")===-1)return typeof m.is=="string";switch(d){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bn=null;function ct(d){return d=d.target||d.srcElement||window,d.correspondingUseElement&&(d=d.correspondingUseElement),d.nodeType===3?d.parentNode:d}var Ir=null,hn=null,Dr=null;function mr(d){if(d=Ui(d)){if(typeof Ir!="function")throw Error(r(280));var m=d.stateNode;m&&(m=Du(m),Ir(d.stateNode,d.type,m))}}function nn(d){hn?Dr?Dr.push(d):Dr=[d]:hn=d}function ga(){if(hn){var d=hn,m=Dr;if(Dr=hn=null,mr(d),m)for(d=0;d<m.length;d++)mr(m[d])}}function Ti(d,m){return d(m)}function Rs(){}var no=!1;function pr(d,m,x){if(no)return d(m,x);no=!0;try{return Ti(d,m,x)}finally{no=!1,(hn!==null||Dr!==null)&&(Rs(),ga())}}function Pi(d,m){var x=d.stateNode;if(x===null)return null;var R=Du(x);if(R===null)return null;x=R[m];e:switch(m){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(R=!R.disabled)||(d=d.type,R=!(d==="button"||d==="input"||d==="select"||d==="textarea")),d=!R;break e;default:d=!1}if(d)return null;if(x&&typeof x!="function")throw Error(r(231,m,typeof x));return x}var lt=!1;if(a)try{var pt={};Object.defineProperty(pt,"passive",{get:function(){lt=!0}}),window.addEventListener("test",pt,pt),window.removeEventListener("test",pt,pt)}catch{lt=!1}function Ot(d,m,x,R,U,q,me,Be,He){var ht=Array.prototype.slice.call(arguments,3);try{m.apply(x,ht)}catch(Pt){this.onError(Pt)}}var dt=!1,A=null,ce=!1,Ur=null,Kr={onError:function(d){dt=!0,A=d}};function _n(d,m,x,R,U,q,me,Be,He){dt=!1,A=null,Ot.apply(Kr,arguments)}function vr(d,m,x,R,U,q,me,Be,He){if(_n.apply(this,arguments),dt){if(dt){var ht=A;dt=!1,A=null}else throw Error(r(198));ce||(ce=!0,Ur=ht)}}function yr(d){var m=d,x=d;if(d.alternate)for(;m.return;)m=m.return;else{d=m;do m=d,(m.flags&4098)!==0&&(x=m.return),d=m.return;while(d)}return m.tag===3?x:null}function yi(d){if(d.tag===13){var m=d.memoizedState;if(m===null&&(d=d.alternate,d!==null&&(m=d.memoizedState)),m!==null)return m.dehydrated}return null}function Lr(d){if(yr(d)!==d)throw Error(r(188))}function wr(d){var m=d.alternate;if(!m){if(m=yr(d),m===null)throw Error(r(188));return m!==d?null:d}for(var x=d,R=m;;){var U=x.return;if(U===null)break;var q=U.alternate;if(q===null){if(R=U.return,R!==null){x=R;continue}break}if(U.child===q.child){for(q=U.child;q;){if(q===x)return Lr(U),d;if(q===R)return Lr(U),m;q=q.sibling}throw Error(r(188))}if(x.return!==R.return)x=U,R=q;else{for(var me=!1,Be=U.child;Be;){if(Be===x){me=!0,x=U,R=q;break}if(Be===R){me=!0,R=U,x=q;break}Be=Be.sibling}if(!me){for(Be=q.child;Be;){if(Be===x){me=!0,x=q,R=U;break}if(Be===R){me=!0,R=q,x=U;break}Be=Be.sibling}if(!me)throw Error(r(189))}}if(x.alternate!==R)throw Error(r(190))}if(x.tag!==3)throw Error(r(188));return x.stateNode.current===x?d:m}function Qn(d){return d=wr(d),d!==null?Is(d):null}function Is(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){var m=Is(d);if(m!==null)return m;d=d.sibling}return null}var Nl=e.unstable_scheduleCallback,ma=e.unstable_cancelCallback,Di=e.unstable_shouldYield,Ka=e.unstable_requestPaint,en=e.unstable_now,Ic=e.unstable_getCurrentPriorityLevel,Nc=e.unstable_ImmediatePriority,oi=e.unstable_UserBlockingPriority,gr=e.unstable_NormalPriority,we=e.unstable_LowPriority,hr=e.unstable_IdlePriority,Ga=null,$o=null;function vf(d){if($o&&typeof $o.onCommitFiberRoot=="function")try{$o.onCommitFiberRoot(Ga,d,void 0,(d.current.flags&128)===128)}catch{}}var fi=Math.clz32?Math.clz32:hi,Mc=Math.log,he=Math.LN2;function hi(d){return d>>>=0,d===0?32:31-(Mc(d)/he|0)|0}var Ml=64,zo=4194304;function qs(d){switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return d&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return d}}function Ll(d,m){var x=d.pendingLanes;if(x===0)return 0;var R=0,U=d.suspendedLanes,q=d.pingedLanes,me=x&268435455;if(me!==0){var Be=me&~U;Be!==0?R=qs(Be):(q&=me,q!==0&&(R=qs(q)))}else me=x&~U,me!==0?R=qs(me):q!==0&&(R=qs(q));if(R===0)return 0;if(m!==0&&m!==R&&(m&U)===0&&(U=R&-R,q=m&-m,U>=q||U===16&&(q&4194240)!==0))return m;if((R&4)!==0&&(R|=x&16),m=d.entangledLanes,m!==0)for(d=d.entanglements,m&=R;0<m;)x=31-fi(m),U=1<<x,R|=d[x],m&=~U;return R}function ns(d,m){switch(d){case 1:case 2:case 4:return m+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function di(d,m){for(var x=d.suspendedLanes,R=d.pingedLanes,U=d.expirationTimes,q=d.pendingLanes;0<q;){var me=31-fi(q),Be=1<<me,He=U[me];He===-1?((Be&x)===0||(Be&R)!==0)&&(U[me]=ns(Be,m)):He<=m&&(d.expiredLanes|=Be),q&=~Be}}function is(d){return d=d.pendingLanes&-1073741825,d!==0?d:d&1073741824?1073741824:0}function Lc(){var d=Ml;return Ml<<=1,(Ml&4194240)===0&&(Ml=64),d}function bo(d){for(var m=[],x=0;31>x;x++)m.push(d);return m}function Dn(d,m,x){d.pendingLanes|=m,m!==536870912&&(d.suspendedLanes=0,d.pingedLanes=0),d=d.eventTimes,m=31-fi(m),d[m]=x}function Xs(d,m){var x=d.pendingLanes&~m;d.pendingLanes=m,d.suspendedLanes=0,d.pingedLanes=0,d.expiredLanes&=m,d.mutableReadLanes&=m,d.entangledLanes&=m,m=d.entanglements;var R=d.eventTimes;for(d=d.expirationTimes;0<x;){var U=31-fi(x),q=1<<U;m[U]=0,R[U]=-1,d[U]=-1,x&=~q}}function Dl(d,m){var x=d.entangledLanes|=m;for(d=d.entanglements;x;){var R=31-fi(x),U=1<<R;U&m|d[R]&m&&(d[R]|=m),x&=~U}}var ln=0;function va(d){return d&=-d,1<d?4<d?(d&268435455)!==0?16:536870912:4:1}var Qa,Dc,yf,bf,Bc,dn=!1,Yi=[],Ns=null,_o=null,os=null,Bl=new Map,br=new Map,ss=[],Pu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _f(d,m){switch(d){case"focusin":case"focusout":Ns=null;break;case"dragenter":case"dragleave":_o=null;break;case"mouseover":case"mouseout":os=null;break;case"pointerover":case"pointerout":Bl.delete(m.pointerId);break;case"gotpointercapture":case"lostpointercapture":br.delete(m.pointerId)}}function Wo(d,m,x,R,U,q){return d===null||d.nativeEvent!==q?(d={blockedOn:m,domEventName:x,eventSystemFlags:R,nativeEvent:q,targetContainers:[U]},m!==null&&(m=Ui(m),m!==null&&Dc(m)),d):(d.eventSystemFlags|=R,m=d.targetContainers,U!==null&&m.indexOf(U)===-1&&m.push(U),d)}function ya(d,m,x,R,U){switch(m){case"focusin":return Ns=Wo(Ns,d,m,x,R,U),!0;case"dragenter":return _o=Wo(_o,d,m,x,R,U),!0;case"mouseover":return os=Wo(os,d,m,x,R,U),!0;case"pointerover":var q=U.pointerId;return Bl.set(q,Wo(Bl.get(q)||null,d,m,x,R,U)),!0;case"gotpointercapture":return q=U.pointerId,br.set(q,Wo(br.get(q)||null,d,m,x,R,U)),!0}return!1}function Cu(d){var m=As(d.target);if(m!==null){var x=yr(m);if(x!==null){if(m=x.tag,m===13){if(m=yi(x),m!==null){d.blockedOn=m,Bc(d.priority,function(){yf(x)});return}}else if(m===3&&x.stateNode.current.memoizedState.isDehydrated){d.blockedOn=x.tag===3?x.stateNode.containerInfo:null;return}}}d.blockedOn=null}function Fc(d){if(d.blockedOn!==null)return!1;for(var m=d.targetContainers;0<m.length;){var x=Zn(d.domEventName,d.eventSystemFlags,m[0],d.nativeEvent);if(x===null){x=d.nativeEvent;var R=new x.constructor(x.type,x);bn=R,x.target.dispatchEvent(R),bn=null}else return m=Ui(x),m!==null&&Dc(m),d.blockedOn=x,!1;m.shift()}return!0}function ba(d,m,x){Fc(d)&&x.delete(m)}function Fl(){dn=!1,Ns!==null&&Fc(Ns)&&(Ns=null),_o!==null&&Fc(_o)&&(_o=null),os!==null&&Fc(os)&&(os=null),Bl.forEach(ba),br.forEach(ba)}function Ms(d,m){d.blockedOn===m&&(d.blockedOn=null,dn||(dn=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Fl)))}function Za(d){function m(U){return Ms(U,d)}if(0<Yi.length){Ms(Yi[0],d);for(var x=1;x<Yi.length;x++){var R=Yi[x];R.blockedOn===d&&(R.blockedOn=null)}}for(Ns!==null&&Ms(Ns,d),_o!==null&&Ms(_o,d),os!==null&&Ms(os,d),Bl.forEach(m),br.forEach(m),x=0;x<ss.length;x++)R=ss[x],R.blockedOn===d&&(R.blockedOn=null);for(;0<ss.length&&(x=ss[0],x.blockedOn===null);)Cu(x),x.blockedOn===null&&ss.shift()}var io=D.ReactCurrentBatchConfig,jl=!0;function ku(d,m,x,R){var U=ln,q=io.transition;io.transition=null;try{ln=1,jc(d,m,x,R)}finally{ln=U,io.transition=q}}function Ou(d,m,x,R){var U=ln,q=io.transition;io.transition=null;try{ln=4,jc(d,m,x,R)}finally{ln=U,io.transition=q}}function jc(d,m,x,R){if(jl){var U=Zn(d,m,x,R);if(U===null)Gl(d,m,R,as,x),_f(d,R);else if(ya(U,d,m,x,R))R.stopPropagation();else if(_f(d,R),m&4&&-1<Pu.indexOf(d)){for(;U!==null;){var q=Ui(U);if(q!==null&&Qa(q),q=Zn(d,m,x,R),q===null&&Gl(d,m,R,as,x),q===U)break;U=q}U!==null&&R.stopPropagation()}else Gl(d,m,R,null,x)}}var as=null;function Zn(d,m,x,R){if(as=null,d=ct(R),d=As(d),d!==null)if(m=yr(d),m===null)d=null;else if(x=m.tag,x===13){if(d=yi(m),d!==null)return d;d=null}else if(x===3){if(m.stateNode.current.memoizedState.isDehydrated)return m.tag===3?m.stateNode.containerInfo:null;d=null}else m!==d&&(d=null);return as=d,null}function Vo(d){switch(d){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ic()){case Nc:return 1;case oi:return 4;case gr:case we:return 16;case hr:return 536870912;default:return 16}default:return 16}}var Tn=null,Ls=null,_a=null;function Ja(){if(_a)return _a;var d,m=Ls,x=m.length,R,U="value"in Tn?Tn.value:Tn.textContent,q=U.length;for(d=0;d<x&&m[d]===U[d];d++);var me=x-d;for(R=1;R<=me&&m[x-R]===U[q-R];R++);return _a=U.slice(d,1<R?1-R:void 0)}function Ul(d){var m=d.keyCode;return"charCode"in d?(d=d.charCode,d===0&&m===13&&(d=13)):d=m,d===10&&(d=13),32<=d||d===13?d:0}function ls(){return!0}function Ys(){return!1}function Bi(d){function m(x,R,U,q,me){this._reactName=x,this._targetInst=U,this.type=R,this.nativeEvent=q,this.target=me,this.currentTarget=null;for(var Be in d)d.hasOwnProperty(Be)&&(x=d[Be],this[Be]=x?x(q):q[Be]);return this.isDefaultPrevented=(q.defaultPrevented!=null?q.defaultPrevented:q.returnValue===!1)?ls:Ys,this.isPropagationStopped=Ys,this}return Ee(m.prototype,{preventDefault:function(){this.defaultPrevented=!0;var x=this.nativeEvent;x&&(x.preventDefault?x.preventDefault():typeof x.returnValue!="unknown"&&(x.returnValue=!1),this.isDefaultPrevented=ls)},stopPropagation:function(){var x=this.nativeEvent;x&&(x.stopPropagation?x.stopPropagation():typeof x.cancelBubble!="unknown"&&(x.cancelBubble=!0),this.isPropagationStopped=ls)},persist:function(){},isPersistent:ls}),m}var oo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(d){return d.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cs=Bi(oo),F=Ee({},oo,{view:0,detail:0}),fe=Bi(F),Ne,ze,Ze,gt=Ee({},F,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$l,button:0,buttons:0,relatedTarget:function(d){return d.relatedTarget===void 0?d.fromElement===d.srcElement?d.toElement:d.fromElement:d.relatedTarget},movementX:function(d){return"movementX"in d?d.movementX:(d!==Ze&&(Ze&&d.type==="mousemove"?(Ne=d.screenX-Ze.screenX,ze=d.screenY-Ze.screenY):ze=Ne=0,Ze=d),Ne)},movementY:function(d){return"movementY"in d?d.movementY:ze}}),_t=Bi(gt),Ht=Ee({},gt,{dataTransfer:0}),ar=Bi(Ht),Pr=Ee({},F,{relatedTarget:0}),Nr=Bi(Pr),on=Ee({},oo,{animationName:0,elapsedTime:0,pseudoElement:0}),zn=Bi(on),Ai=Ee({},oo,{clipboardData:function(d){return"clipboardData"in d?d.clipboardData:window.clipboardData}}),Pn=Bi(Ai),bi=Ee({},oo,{data:0}),Jn=Bi(bi),Fi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wa={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xa(d){var m=this.nativeEvent;return m.getModifierState?m.getModifierState(d):(d=wo[d])?!!m[d]:!1}function $l(){return xa}var Uc=Ee({},F,{key:function(d){if(d.key){var m=Fi[d.key]||d.key;if(m!=="Unidentified")return m}return d.type==="keypress"?(d=Ul(d),d===13?"Enter":String.fromCharCode(d)):d.type==="keydown"||d.type==="keyup"?wa[d.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$l,charCode:function(d){return d.type==="keypress"?Ul(d):0},keyCode:function(d){return d.type==="keydown"||d.type==="keyup"?d.keyCode:0},which:function(d){return d.type==="keypress"?Ul(d):d.type==="keydown"||d.type==="keyup"?d.keyCode:0}}),us=Bi(Uc),zl=Ee({},gt,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ks=Bi(zl),Sa=Ee({},F,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$l}),ei=Bi(Sa),Wl=Ee({},oo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ea=Bi(Wl),$c=Ee({},gt,{deltaX:function(d){return"deltaX"in d?d.deltaX:"wheelDeltaX"in d?-d.wheelDeltaX:0},deltaY:function(d){return"deltaY"in d?d.deltaY:"wheelDeltaY"in d?-d.wheelDeltaY:"wheelDelta"in d?-d.wheelDelta:0},deltaZ:0,deltaMode:0}),Ru=Bi($c),Ki=[9,13,27,32],Ds=a&&"CompositionEvent"in window,Gs=null;a&&"documentMode"in document&&(Gs=document.documentMode);var zc=a&&"TextEvent"in window&&!Gs,Ho=a&&(!Ds||Gs&&8<Gs&&11>=Gs),Qs=" ",el=!1;function Zs(d,m){switch(d){case"keyup":return Ki.indexOf(m.keyCode)!==-1;case"keydown":return m.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qr(d){return d=d.detail,typeof d=="object"&&"data"in d?d.data:null}var fs=!1;function xo(d,m){switch(d){case"compositionend":return Qr(m);case"keypress":return m.which!==32?null:(el=!0,Qs);case"textInput":return d=m.data,d===Qs&&el?null:d;default:return null}}function So(d,m){if(fs)return d==="compositionend"||!Ds&&Zs(d,m)?(d=Ja(),_a=Ls=Tn=null,fs=!1,d):null;switch(d){case"paste":return null;case"keypress":if(!(m.ctrlKey||m.altKey||m.metaKey)||m.ctrlKey&&m.altKey){if(m.char&&1<m.char.length)return m.char;if(m.which)return String.fromCharCode(m.which)}return null;case"compositionend":return Ho&&m.locale!=="ko"?null:m.data;default:return null}}var tl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Js(d){var m=d&&d.nodeName&&d.nodeName.toLowerCase();return m==="input"?!!tl[d.type]:m==="textarea"}function Ta(d,m,x,R){nn(R),m=Ql(m,"onChange"),0<m.length&&(x=new cs("onChange","change",null,x,R),d.push({event:x,listeners:m}))}var Pa=null,Wn=null;function Vn(d){Nu(d,0)}function qo(d){var m=ec(d);if(tt(m))return d}function ea(d,m){if(d==="change")return m}var Xo=!1;if(a){var Vl;if(a){var Ci="oninput"in document;if(!Ci){var rl=document.createElement("div");rl.setAttribute("oninput","return;"),Ci=typeof rl.oninput=="function"}Vl=Ci}else Vl=!1;Xo=Vl&&(!document.documentMode||9<document.documentMode)}function nl(){Pa&&(Pa.detachEvent("onpropertychange",Eo),Wn=Pa=null)}function Eo(d){if(d.propertyName==="value"&&qo(Wn)){var m=[];Ta(m,Wn,d,ct(d)),pr(Vn,m)}}function To(d,m,x){d==="focusin"?(nl(),Pa=m,Wn=x,Pa.attachEvent("onpropertychange",Eo)):d==="focusout"&&nl()}function Yo(d){if(d==="selectionchange"||d==="keyup"||d==="keydown")return qo(Wn)}function Hl(d,m){if(d==="click")return qo(m)}function Ca(d,m){if(d==="input"||d==="change")return qo(m)}function ql(d,m){return d===m&&(d!==0||1/d===1/m)||d!==d&&m!==m}var Bn=typeof Object.is=="function"?Object.is:ql;function Po(d,m){if(Bn(d,m))return!0;if(typeof d!="object"||d===null||typeof m!="object"||m===null)return!1;var x=Object.keys(d),R=Object.keys(m);if(x.length!==R.length)return!1;for(R=0;R<x.length;R++){var U=x[R];if(!l.call(m,U)||!Bn(d[U],m[U]))return!1}return!0}function cn(d){for(;d&&d.firstChild;)d=d.firstChild;return d}function An(d,m){var x=cn(d);d=0;for(var R;x;){if(x.nodeType===3){if(R=d+x.textContent.length,d<=m&&R>=m)return{node:x,offset:m-d};d=R}e:{for(;x;){if(x.nextSibling){x=x.nextSibling;break e}x=x.parentNode}x=void 0}x=cn(x)}}function Hn(d,m){return d&&m?d===m?!0:d&&d.nodeType===3?!1:m&&m.nodeType===3?Hn(d,m.parentNode):"contains"in d?d.contains(m):d.compareDocumentPosition?!!(d.compareDocumentPosition(m)&16):!1:!1}function ti(){for(var d=window,m=xt();m instanceof d.HTMLIFrameElement;){try{var x=typeof m.contentWindow.location.href=="string"}catch{x=!1}if(x)d=m.contentWindow;else break;m=xt(d.document)}return m}function so(d){var m=d&&d.nodeName&&d.nodeName.toLowerCase();return m&&(m==="input"&&(d.type==="text"||d.type==="search"||d.type==="tel"||d.type==="url"||d.type==="password")||m==="textarea"||d.contentEditable==="true")}function ta(d){var m=ti(),x=d.focusedElem,R=d.selectionRange;if(m!==x&&x&&x.ownerDocument&&Hn(x.ownerDocument.documentElement,x)){if(R!==null&&so(x)){if(m=R.start,d=R.end,d===void 0&&(d=m),"selectionStart"in x)x.selectionStart=m,x.selectionEnd=Math.min(d,x.value.length);else if(d=(m=x.ownerDocument||document)&&m.defaultView||window,d.getSelection){d=d.getSelection();var U=x.textContent.length,q=Math.min(R.start,U);R=R.end===void 0?q:Math.min(R.end,U),!d.extend&&q>R&&(U=R,R=q,q=U),U=An(x,q);var me=An(x,R);U&&me&&(d.rangeCount!==1||d.anchorNode!==U.node||d.anchorOffset!==U.offset||d.focusNode!==me.node||d.focusOffset!==me.offset)&&(m=m.createRange(),m.setStart(U.node,U.offset),d.removeAllRanges(),q>R?(d.addRange(m),d.extend(me.node,me.offset)):(m.setEnd(me.node,me.offset),d.addRange(m)))}}for(m=[],d=x;d=d.parentNode;)d.nodeType===1&&m.push({element:d,left:d.scrollLeft,top:d.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<m.length;x++)d=m[x],d.element.scrollLeft=d.left,d.element.scrollTop=d.top}}var ki=a&&"documentMode"in document&&11>=document.documentMode,ka=null,il=null,Wc=null,wf=!1;function Eh(d,m,x){var R=x.window===x?x.document:x.nodeType===9?x:x.ownerDocument;wf||ka==null||ka!==xt(R)||(R=ka,"selectionStart"in R&&so(R)?R={start:R.selectionStart,end:R.selectionEnd}:(R=(R.ownerDocument&&R.ownerDocument.defaultView||window).getSelection(),R={anchorNode:R.anchorNode,anchorOffset:R.anchorOffset,focusNode:R.focusNode,focusOffset:R.focusOffset}),Wc&&Po(Wc,R)||(Wc=R,R=Ql(il,"onSelect"),0<R.length&&(m=new cs("onSelect","select",null,m,x),d.push({event:m,listeners:R}),m.target=ka)))}function Vc(d,m){var x={};return x[d.toLowerCase()]=m.toLowerCase(),x["Webkit"+d]="webkit"+m,x["Moz"+d]="moz"+m,x}var Xl={animationend:Vc("Animation","AnimationEnd"),animationiteration:Vc("Animation","AnimationIteration"),animationstart:Vc("Animation","AnimationStart"),transitionend:Vc("Transition","TransitionEnd")},Yl={},Th={};a&&(Th=document.createElement("div").style,"AnimationEvent"in window||(delete Xl.animationend.animation,delete Xl.animationiteration.animation,delete Xl.animationstart.animation),"TransitionEvent"in window||delete Xl.transitionend.transition);function ol(d){if(Yl[d])return Yl[d];if(!Xl[d])return d;var m=Xl[d],x;for(x in m)if(m.hasOwnProperty(x)&&x in Th)return Yl[d]=m[x];return d}var xf=ol("animationend"),Iu=ol("animationiteration"),Ph=ol("animationstart"),Ch=ol("transitionend"),kh=new Map,Oh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ra(d,m){kh.set(d,m),o(m,[d])}for(var Hc=0;Hc<Oh.length;Hc++){var ao=Oh[Hc],Ko=ao.toLowerCase(),Sf=ao[0].toUpperCase()+ao.slice(1);ra(Ko,"on"+Sf)}ra(xf,"onAnimationEnd"),ra(Iu,"onAnimationIteration"),ra(Ph,"onAnimationStart"),ra("dblclick","onDoubleClick"),ra("focusin","onFocus"),ra("focusout","onBlur"),ra(Ch,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),na=new Set("cancel close invalid load scroll toggle".split(" ").concat(Oa));function qc(d,m,x){var R=d.type||"unknown-event";d.currentTarget=x,vr(R,m,void 0,d),d.currentTarget=null}function Nu(d,m){m=(m&4)!==0;for(var x=0;x<d.length;x++){var R=d[x],U=R.event;R=R.listeners;e:{var q=void 0;if(m)for(var me=R.length-1;0<=me;me--){var Be=R[me],He=Be.instance,ht=Be.currentTarget;if(Be=Be.listener,He!==q&&U.isPropagationStopped())break e;qc(U,Be,ht),q=He}else for(me=0;me<R.length;me++){if(Be=R[me],He=Be.instance,ht=Be.currentTarget,Be=Be.listener,He!==q&&U.isPropagationStopped())break e;qc(U,Be,ht),q=He}}}if(ce)throw d=Ur,ce=!1,Ur=null,d}function Sn(d,m){var x=m[sn];x===void 0&&(x=m[sn]=new Set);var R=d+"__bubble";x.has(R)||(hs(m,d,2,!1),x.add(R))}function Ef(d,m,x){var R=0;m&&(R|=4),hs(x,d,R,m)}var Xc="_reactListening"+Math.random().toString(36).slice(2);function Kl(d){if(!d[Xc]){d[Xc]=!0,n.forEach(function(x){x!=="selectionchange"&&(na.has(x)||Ef(x,!1,d),Ef(x,!0,d))});var m=d.nodeType===9?d:d.ownerDocument;m===null||m[Xc]||(m[Xc]=!0,Ef("selectionchange",!1,m))}}function hs(d,m,x,R){switch(Vo(m)){case 1:var U=ku;break;case 4:U=Ou;break;default:U=jc}x=U.bind(null,m,x,d),U=void 0,!lt||m!=="touchstart"&&m!=="touchmove"&&m!=="wheel"||(U=!0),R?U!==void 0?d.addEventListener(m,x,{capture:!0,passive:U}):d.addEventListener(m,x,!0):U!==void 0?d.addEventListener(m,x,{passive:U}):d.addEventListener(m,x,!1)}function Gl(d,m,x,R,U){var q=R;if((m&1)===0&&(m&2)===0&&R!==null)e:for(;;){if(R===null)return;var me=R.tag;if(me===3||me===4){var Be=R.stateNode.containerInfo;if(Be===U||Be.nodeType===8&&Be.parentNode===U)break;if(me===4)for(me=R.return;me!==null;){var He=me.tag;if((He===3||He===4)&&(He=me.stateNode.containerInfo,He===U||He.nodeType===8&&He.parentNode===U))return;me=me.return}for(;Be!==null;){if(me=As(Be),me===null)return;if(He=me.tag,He===5||He===6){R=q=me;continue e}Be=Be.parentNode}}R=R.return}pr(function(){var ht=q,Pt=ct(x),kt=[];e:{var Et=kh.get(d);if(Et!==void 0){var Wt=cs,nr=d;switch(d){case"keypress":if(Ul(x)===0)break e;case"keydown":case"keyup":Wt=us;break;case"focusin":nr="focus",Wt=Nr;break;case"focusout":nr="blur",Wt=Nr;break;case"beforeblur":case"afterblur":Wt=Nr;break;case"click":if(x.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Wt=_t;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Wt=ar;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Wt=ei;break;case xf:case Iu:case Ph:Wt=zn;break;case Ch:Wt=Ea;break;case"scroll":Wt=fe;break;case"wheel":Wt=Ru;break;case"copy":case"cut":case"paste":Wt=Pn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Wt=Ks}var lr=(m&4)!==0,Wi=!lr&&d==="scroll",at=lr?Et!==null?Et+"Capture":null:Et;lr=[];for(var Qe=ht,ut;Qe!==null;){ut=Qe;var Nt=ut.stateNode;if(ut.tag===5&&Nt!==null&&(ut=Nt,at!==null&&(Nt=Pi(Qe,at),Nt!=null&&lr.push(Mu(Qe,Nt,ut)))),Wi)break;Qe=Qe.return}0<lr.length&&(Et=new Wt(Et,nr,null,x,Pt),kt.push({event:Et,listeners:lr}))}}if((m&7)===0){e:{if(Et=d==="mouseover"||d==="pointerover",Wt=d==="mouseout"||d==="pointerout",Et&&x!==bn&&(nr=x.relatedTarget||x.fromElement)&&(As(nr)||nr[ji]))break e;if((Wt||Et)&&(Et=Pt.window===Pt?Pt:(Et=Pt.ownerDocument)?Et.defaultView||Et.parentWindow:window,Wt?(nr=x.relatedTarget||x.toElement,Wt=ht,nr=nr?As(nr):null,nr!==null&&(Wi=yr(nr),nr!==Wi||nr.tag!==5&&nr.tag!==6)&&(nr=null)):(Wt=null,nr=ht),Wt!==nr)){if(lr=_t,Nt="onMouseLeave",at="onMouseEnter",Qe="mouse",(d==="pointerout"||d==="pointerover")&&(lr=Ks,Nt="onPointerLeave",at="onPointerEnter",Qe="pointer"),Wi=Wt==null?Et:ec(Wt),ut=nr==null?Et:ec(nr),Et=new lr(Nt,Qe+"leave",Wt,x,Pt),Et.target=Wi,Et.relatedTarget=ut,Nt=null,As(Pt)===ht&&(lr=new lr(at,Qe+"enter",nr,x,Pt),lr.target=ut,lr.relatedTarget=Wi,Nt=lr),Wi=Nt,Wt&&nr)t:{for(lr=Wt,at=nr,Qe=0,ut=lr;ut;ut=sl(ut))Qe++;for(ut=0,Nt=at;Nt;Nt=sl(Nt))ut++;for(;0<Qe-ut;)lr=sl(lr),Qe--;for(;0<ut-Qe;)at=sl(at),ut--;for(;Qe--;){if(lr===at||at!==null&&lr===at.alternate)break t;lr=sl(lr),at=sl(at)}lr=null}else lr=null;Wt!==null&&qd(kt,Et,Wt,lr,!1),nr!==null&&Wi!==null&&qd(kt,Wi,nr,lr,!0)}}e:{if(Et=ht?ec(ht):window,Wt=Et.nodeName&&Et.nodeName.toLowerCase(),Wt==="select"||Wt==="input"&&Et.type==="file")var ur=ea;else if(Js(Et))if(Xo)ur=Ca;else{ur=Yo;var xr=To}else(Wt=Et.nodeName)&&Wt.toLowerCase()==="input"&&(Et.type==="checkbox"||Et.type==="radio")&&(ur=Hl);if(ur&&(ur=ur(d,ht))){Ta(kt,ur,x,Pt);break e}xr&&xr(d,Et,ht),d==="focusout"&&(xr=Et._wrapperState)&&xr.controlled&&Et.type==="number"&&bt(Et,"number",Et.value)}switch(xr=ht?ec(ht):window,d){case"focusin":(Js(xr)||xr.contentEditable==="true")&&(ka=xr,il=ht,Wc=null);break;case"focusout":Wc=il=ka=null;break;case"mousedown":wf=!0;break;case"contextmenu":case"mouseup":case"dragend":wf=!1,Eh(kt,x,Pt);break;case"selectionchange":if(ki)break;case"keydown":case"keyup":Eh(kt,x,Pt)}var Sr;if(Ds)e:{switch(d){case"compositionstart":var Br="onCompositionStart";break e;case"compositionend":Br="onCompositionEnd";break e;case"compositionupdate":Br="onCompositionUpdate";break e}Br=void 0}else fs?Zs(d,x)&&(Br="onCompositionEnd"):d==="keydown"&&x.keyCode===229&&(Br="onCompositionStart");Br&&(Ho&&x.locale!=="ko"&&(fs||Br!=="onCompositionStart"?Br==="onCompositionEnd"&&fs&&(Sr=Ja()):(Tn=Pt,Ls="value"in Tn?Tn.value:Tn.textContent,fs=!0)),xr=Ql(ht,Br),0<xr.length&&(Br=new Jn(Br,d,null,x,Pt),kt.push({event:Br,listeners:xr}),Sr?Br.data=Sr:(Sr=Qr(x),Sr!==null&&(Br.data=Sr)))),(Sr=zc?xo(d,x):So(d,x))&&(ht=Ql(ht,"onBeforeInput"),0<ht.length&&(Pt=new Jn("onBeforeInput","beforeinput",null,x,Pt),kt.push({event:Pt,listeners:ht}),Pt.data=Sr))}Nu(kt,m)})}function Mu(d,m,x){return{instance:d,listener:m,currentTarget:x}}function Ql(d,m){for(var x=m+"Capture",R=[];d!==null;){var U=d,q=U.stateNode;U.tag===5&&q!==null&&(U=q,q=Pi(d,x),q!=null&&R.unshift(Mu(d,q,U)),q=Pi(d,m),q!=null&&R.push(Mu(d,q,U))),d=d.return}return R}function sl(d){if(d===null)return null;do d=d.return;while(d&&d.tag!==5);return d||null}function qd(d,m,x,R,U){for(var q=m._reactName,me=[];x!==null&&x!==R;){var Be=x,He=Be.alternate,ht=Be.stateNode;if(He!==null&&He===R)break;Be.tag===5&&ht!==null&&(Be=ht,U?(He=Pi(x,q),He!=null&&me.unshift(Mu(x,He,Be))):U||(He=Pi(x,q),He!=null&&me.push(Mu(x,He,Be)))),x=x.return}me.length!==0&&d.push({event:m,listeners:me})}var fp=/\r\n?/g,Lu=/\u0000|\uFFFD/g;function Rh(d){return(typeof d=="string"?d:""+d).replace(fp,`
`).replace(Lu,"")}function al(d,m,x){if(m=Rh(m),Rh(d)!==m&&x)throw Error(r(425))}function ll(){}var Zl=null,cl=null;function Yc(d,m){return d==="textarea"||d==="noscript"||typeof m.children=="string"||typeof m.children=="number"||typeof m.dangerouslySetInnerHTML=="object"&&m.dangerouslySetInnerHTML!==null&&m.dangerouslySetInnerHTML.__html!=null}var Tf=typeof setTimeout=="function"?setTimeout:void 0,Xd=typeof clearTimeout=="function"?clearTimeout:void 0,Yd=typeof Promise=="function"?Promise:void 0,hp=typeof queueMicrotask=="function"?queueMicrotask:typeof Yd<"u"?function(d){return Yd.resolve(null).then(d).catch(dp)}:Tf;function dp(d){setTimeout(function(){throw d})}function Ih(d,m){var x=m,R=0;do{var U=x.nextSibling;if(d.removeChild(x),U&&U.nodeType===8)if(x=U.data,x==="/$"){if(R===0){d.removeChild(U),Za(m);return}R--}else x!=="$"&&x!=="$?"&&x!=="$!"||R++;x=U}while(x);Za(m)}function lo(d){for(;d!=null;d=d.nextSibling){var m=d.nodeType;if(m===1||m===3)break;if(m===8){if(m=d.data,m==="$"||m==="$!"||m==="$?")break;if(m==="/$")return null}}return d}function ds(d){d=d.previousSibling;for(var m=0;d;){if(d.nodeType===8){var x=d.data;if(x==="$"||x==="$!"||x==="$?"){if(m===0)return d;m--}else x==="/$"&&m++}d=d.previousSibling}return null}var Co=Math.random().toString(36).slice(2),ia="__reactFiber$"+Co,Jl="__reactProps$"+Co,ji="__reactContainer$"+Co,sn="__reactEvents$"+Co,Ap="__reactListeners$"+Co,pp="__reactHandles$"+Co;function As(d){var m=d[ia];if(m)return m;for(var x=d.parentNode;x;){if(m=x[ji]||x[ia]){if(x=m.alternate,m.child!==null||x!==null&&x.child!==null)for(d=ds(d);d!==null;){if(x=d[ia])return x;d=ds(d)}return m}d=x,x=d.parentNode}return null}function Ui(d){return d=d[ia]||d[ji],!d||d.tag!==5&&d.tag!==6&&d.tag!==13&&d.tag!==3?null:d}function ec(d){if(d.tag===5||d.tag===6)return d.stateNode;throw Error(r(33))}function Du(d){return d[Jl]||null}var Pf=[],oa=-1;function ps(d){return{current:d}}function pn(d){0>oa||(d.current=Pf[oa],Pf[oa]=null,oa--)}function mn(d,m){oa++,Pf[oa]=d.current,d.current=m}var ul={},$i=ps(ul),ko=ps(!1),tc=ul;function Go(d,m){var x=d.type.contextTypes;if(!x)return ul;var R=d.stateNode;if(R&&R.__reactInternalMemoizedUnmaskedChildContext===m)return R.__reactInternalMemoizedMaskedChildContext;var U={},q;for(q in x)U[q]=m[q];return R&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=m,d.__reactInternalMemoizedMaskedChildContext=U),U}function qn(d){return d=d.childContextTypes,d!=null}function er(){pn(ko),pn($i)}function co(d,m,x){if($i.current!==ul)throw Error(r(168));mn($i,m),mn(ko,x)}function tr(d,m,x){var R=d.stateNode;if(m=m.childContextTypes,typeof R.getChildContext!="function")return x;R=R.getChildContext();for(var U in R)if(!(U in m))throw Error(r(108,De(d)||"Unknown",U));return Ee({},x,R)}function Fn(d){return d=(d=d.stateNode)&&d.__reactInternalMemoizedMergedChildContext||ul,tc=$i.current,mn($i,d),mn(ko,ko.current),!0}function Nh(d,m,x){var R=d.stateNode;if(!R)throw Error(r(169));x?(d=tr(d,m,tc),R.__reactInternalMemoizedMergedChildContext=d,pn(ko),pn($i),mn($i,d)):pn(ko),mn(ko,x)}var Bs=null,gs=!1,C=!1;function I(d){Bs===null?Bs=[d]:Bs.push(d)}function W(d){gs=!0,I(d)}function J(){if(!C&&Bs!==null){C=!0;var d=0,m=ln;try{var x=Bs;for(ln=1;d<x.length;d++){var R=x[d];do R=R(!0);while(R!==null)}Bs=null,gs=!1}catch(U){throw Bs!==null&&(Bs=Bs.slice(d+1)),Nl(Nc,J),U}finally{ln=m,C=!1}}return null}var ue=[],re=0,ie=null,Se=0,Ce=[],Re=0,Ve=null,ot=1,Oe="";function Xe(d,m){ue[re++]=Se,ue[re++]=ie,ie=d,Se=m}function nt(d,m,x){Ce[Re++]=ot,Ce[Re++]=Oe,Ce[Re++]=Ve,Ve=d;var R=ot;d=Oe;var U=32-fi(R)-1;R&=~(1<<U),x+=1;var q=32-fi(m)+U;if(30<q){var me=U-U%5;q=(R&(1<<me)-1).toString(32),R>>=me,U-=me,ot=1<<32-fi(m)+U|x<<U|R,Oe=q+d}else ot=1<<q|x<<U|R,Oe=d}function h(d){d.return!==null&&(Xe(d,1),nt(d,1,0))}function f(d){for(;d===ie;)ie=ue[--re],ue[re]=null,Se=ue[--re],ue[re]=null;for(;d===Ve;)Ve=Ce[--Re],Ce[Re]=null,Oe=Ce[--Re],Ce[Re]=null,ot=Ce[--Re],Ce[Re]=null}var p=null,v=null,y=!1,w=null;function S(d,m){var x=pl(5,null,null,0);x.elementType="DELETED",x.stateNode=m,x.return=d,m=d.deletions,m===null?(d.deletions=[x],d.flags|=16):m.push(x)}function k(d,m){switch(d.tag){case 5:var x=d.type;return m=m.nodeType!==1||x.toLowerCase()!==m.nodeName.toLowerCase()?null:m,m!==null?(d.stateNode=m,p=d,v=lo(m.firstChild),!0):!1;case 6:return m=d.pendingProps===""||m.nodeType!==3?null:m,m!==null?(d.stateNode=m,p=d,v=null,!0):!1;case 13:return m=m.nodeType!==8?null:m,m!==null?(x=Ve!==null?{id:ot,overflow:Oe}:null,d.memoizedState={dehydrated:m,treeContext:x,retryLane:1073741824},x=pl(18,null,null,0),x.stateNode=m,x.return=d,d.child=x,p=d,v=null,!0):!1;default:return!1}}function M(d){return(d.mode&1)!==0&&(d.flags&128)===0}function j(d){if(y){var m=v;if(m){var x=m;if(!k(d,m)){if(M(d))throw Error(r(418));m=lo(x.nextSibling);var R=p;m&&k(d,m)?S(R,x):(d.flags=d.flags&-4097|2,y=!1,p=d)}}else{if(M(d))throw Error(r(418));d.flags=d.flags&-4097|2,y=!1,p=d}}}function Y(d){for(d=d.return;d!==null&&d.tag!==5&&d.tag!==3&&d.tag!==13;)d=d.return;p=d}function ve(d){if(d!==p)return!1;if(!y)return Y(d),y=!0,!1;var m;if((m=d.tag!==3)&&!(m=d.tag!==5)&&(m=d.type,m=m!=="head"&&m!=="body"&&!Yc(d.type,d.memoizedProps)),m&&(m=v)){if(M(d))throw Pe(),Error(r(418));for(;m;)S(d,m),m=lo(m.nextSibling)}if(Y(d),d.tag===13){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));e:{for(d=d.nextSibling,m=0;d;){if(d.nodeType===8){var x=d.data;if(x==="/$"){if(m===0){v=lo(d.nextSibling);break e}m--}else x!=="$"&&x!=="$!"&&x!=="$?"||m++}d=d.nextSibling}v=null}}else v=p?lo(d.stateNode.nextSibling):null;return!0}function Pe(){for(var d=v;d;)d=lo(d.nextSibling)}function _e(){v=p=null,y=!1}function ye(d){w===null?w=[d]:w.push(d)}var je=D.ReactCurrentBatchConfig;function Fe(d,m,x){if(d=x.ref,d!==null&&typeof d!="function"&&typeof d!="object"){if(x._owner){if(x=x._owner,x){if(x.tag!==1)throw Error(r(309));var R=x.stateNode}if(!R)throw Error(r(147,d));var U=R,q=""+d;return m!==null&&m.ref!==null&&typeof m.ref=="function"&&m.ref._stringRef===q?m.ref:(m=function(me){var Be=U.refs;me===null?delete Be[q]:Be[q]=me},m._stringRef=q,m)}if(typeof d!="string")throw Error(r(284));if(!x._owner)throw Error(r(290,d))}return d}function Ge(d,m){throw d=Object.prototype.toString.call(m),Error(r(31,d==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":d))}function qe(d){var m=d._init;return m(d._payload)}function Ye(d){function m(at,Qe){if(d){var ut=at.deletions;ut===null?(at.deletions=[Qe],at.flags|=16):ut.push(Qe)}}function x(at,Qe){if(!d)return null;for(;Qe!==null;)m(at,Qe),Qe=Qe.sibling;return null}function R(at,Qe){for(at=new Map;Qe!==null;)Qe.key!==null?at.set(Qe.key,Qe):at.set(Qe.index,Qe),Qe=Qe.sibling;return at}function U(at,Qe){return at=Bf(at,Qe),at.index=0,at.sibling=null,at}function q(at,Qe,ut){return at.index=ut,d?(ut=at.alternate,ut!==null?(ut=ut.index,ut<Qe?(at.flags|=2,Qe):ut):(at.flags|=2,Qe)):(at.flags|=1048576,Qe)}function me(at){return d&&at.alternate===null&&(at.flags|=2),at}function Be(at,Qe,ut,Nt){return Qe===null||Qe.tag!==6?(Qe=w_(ut,at.mode,Nt),Qe.return=at,Qe):(Qe=U(Qe,ut),Qe.return=at,Qe)}function He(at,Qe,ut,Nt){var ur=ut.type;return ur===X?Pt(at,Qe,ut.props.children,Nt,ut.key):Qe!==null&&(Qe.elementType===ur||typeof ur=="object"&&ur!==null&&ur.$$typeof===te&&qe(ur)===Qe.type)?(Nt=U(Qe,ut.props),Nt.ref=Fe(at,Qe,ut),Nt.return=at,Nt):(Nt=fv(ut.type,ut.key,ut.props,null,at.mode,Nt),Nt.ref=Fe(at,Qe,ut),Nt.return=at,Nt)}function ht(at,Qe,ut,Nt){return Qe===null||Qe.tag!==4||Qe.stateNode.containerInfo!==ut.containerInfo||Qe.stateNode.implementation!==ut.implementation?(Qe=x_(ut,at.mode,Nt),Qe.return=at,Qe):(Qe=U(Qe,ut.children||[]),Qe.return=at,Qe)}function Pt(at,Qe,ut,Nt,ur){return Qe===null||Qe.tag!==7?(Qe=$h(ut,at.mode,Nt,ur),Qe.return=at,Qe):(Qe=U(Qe,ut),Qe.return=at,Qe)}function kt(at,Qe,ut){if(typeof Qe=="string"&&Qe!==""||typeof Qe=="number")return Qe=w_(""+Qe,at.mode,ut),Qe.return=at,Qe;if(typeof Qe=="object"&&Qe!==null){switch(Qe.$$typeof){case B:return ut=fv(Qe.type,Qe.key,Qe.props,null,at.mode,ut),ut.ref=Fe(at,null,Qe),ut.return=at,ut;case z:return Qe=x_(Qe,at.mode,ut),Qe.return=at,Qe;case te:var Nt=Qe._init;return kt(at,Nt(Qe._payload),ut)}if(Qt(Qe)||ge(Qe))return Qe=$h(Qe,at.mode,ut,null),Qe.return=at,Qe;Ge(at,Qe)}return null}function Et(at,Qe,ut,Nt){var ur=Qe!==null?Qe.key:null;if(typeof ut=="string"&&ut!==""||typeof ut=="number")return ur!==null?null:Be(at,Qe,""+ut,Nt);if(typeof ut=="object"&&ut!==null){switch(ut.$$typeof){case B:return ut.key===ur?He(at,Qe,ut,Nt):null;case z:return ut.key===ur?ht(at,Qe,ut,Nt):null;case te:return ur=ut._init,Et(at,Qe,ur(ut._payload),Nt)}if(Qt(ut)||ge(ut))return ur!==null?null:Pt(at,Qe,ut,Nt,null);Ge(at,ut)}return null}function Wt(at,Qe,ut,Nt,ur){if(typeof Nt=="string"&&Nt!==""||typeof Nt=="number")return at=at.get(ut)||null,Be(Qe,at,""+Nt,ur);if(typeof Nt=="object"&&Nt!==null){switch(Nt.$$typeof){case B:return at=at.get(Nt.key===null?ut:Nt.key)||null,He(Qe,at,Nt,ur);case z:return at=at.get(Nt.key===null?ut:Nt.key)||null,ht(Qe,at,Nt,ur);case te:var xr=Nt._init;return Wt(at,Qe,ut,xr(Nt._payload),ur)}if(Qt(Nt)||ge(Nt))return at=at.get(ut)||null,Pt(Qe,at,Nt,ur,null);Ge(Qe,Nt)}return null}function nr(at,Qe,ut,Nt){for(var ur=null,xr=null,Sr=Qe,Br=Qe=0,No=null;Sr!==null&&Br<ut.length;Br++){Sr.index>Br?(No=Sr,Sr=null):No=Sr.sibling;var wn=Et(at,Sr,ut[Br],Nt);if(wn===null){Sr===null&&(Sr=No);break}d&&Sr&&wn.alternate===null&&m(at,Sr),Qe=q(wn,Qe,Br),xr===null?ur=wn:xr.sibling=wn,xr=wn,Sr=No}if(Br===ut.length)return x(at,Sr),y&&Xe(at,Br),ur;if(Sr===null){for(;Br<ut.length;Br++)Sr=kt(at,ut[Br],Nt),Sr!==null&&(Qe=q(Sr,Qe,Br),xr===null?ur=Sr:xr.sibling=Sr,xr=Sr);return y&&Xe(at,Br),ur}for(Sr=R(at,Sr);Br<ut.length;Br++)No=Wt(Sr,at,Br,ut[Br],Nt),No!==null&&(d&&No.alternate!==null&&Sr.delete(No.key===null?Br:No.key),Qe=q(No,Qe,Br),xr===null?ur=No:xr.sibling=No,xr=No);return d&&Sr.forEach(function(Ff){return m(at,Ff)}),y&&Xe(at,Br),ur}function lr(at,Qe,ut,Nt){var ur=ge(ut);if(typeof ur!="function")throw Error(r(150));if(ut=ur.call(ut),ut==null)throw Error(r(151));for(var xr=ur=null,Sr=Qe,Br=Qe=0,No=null,wn=ut.next();Sr!==null&&!wn.done;Br++,wn=ut.next()){Sr.index>Br?(No=Sr,Sr=null):No=Sr.sibling;var Ff=Et(at,Sr,wn.value,Nt);if(Ff===null){Sr===null&&(Sr=No);break}d&&Sr&&Ff.alternate===null&&m(at,Sr),Qe=q(Ff,Qe,Br),xr===null?ur=Ff:xr.sibling=Ff,xr=Ff,Sr=No}if(wn.done)return x(at,Sr),y&&Xe(at,Br),ur;if(Sr===null){for(;!wn.done;Br++,wn=ut.next())wn=kt(at,wn.value,Nt),wn!==null&&(Qe=q(wn,Qe,Br),xr===null?ur=wn:xr.sibling=wn,xr=wn);return y&&Xe(at,Br),ur}for(Sr=R(at,Sr);!wn.done;Br++,wn=ut.next())wn=Wt(Sr,at,Br,wn.value,Nt),wn!==null&&(d&&wn.alternate!==null&&Sr.delete(wn.key===null?Br:wn.key),Qe=q(wn,Qe,Br),xr===null?ur=wn:xr.sibling=wn,xr=wn);return d&&Sr.forEach(function(rY){return m(at,rY)}),y&&Xe(at,Br),ur}function Wi(at,Qe,ut,Nt){if(typeof ut=="object"&&ut!==null&&ut.type===X&&ut.key===null&&(ut=ut.props.children),typeof ut=="object"&&ut!==null){switch(ut.$$typeof){case B:e:{for(var ur=ut.key,xr=Qe;xr!==null;){if(xr.key===ur){if(ur=ut.type,ur===X){if(xr.tag===7){x(at,xr.sibling),Qe=U(xr,ut.props.children),Qe.return=at,at=Qe;break e}}else if(xr.elementType===ur||typeof ur=="object"&&ur!==null&&ur.$$typeof===te&&qe(ur)===xr.type){x(at,xr.sibling),Qe=U(xr,ut.props),Qe.ref=Fe(at,xr,ut),Qe.return=at,at=Qe;break e}x(at,xr);break}else m(at,xr);xr=xr.sibling}ut.type===X?(Qe=$h(ut.props.children,at.mode,Nt,ut.key),Qe.return=at,at=Qe):(Nt=fv(ut.type,ut.key,ut.props,null,at.mode,Nt),Nt.ref=Fe(at,Qe,ut),Nt.return=at,at=Nt)}return me(at);case z:e:{for(xr=ut.key;Qe!==null;){if(Qe.key===xr)if(Qe.tag===4&&Qe.stateNode.containerInfo===ut.containerInfo&&Qe.stateNode.implementation===ut.implementation){x(at,Qe.sibling),Qe=U(Qe,ut.children||[]),Qe.return=at,at=Qe;break e}else{x(at,Qe);break}else m(at,Qe);Qe=Qe.sibling}Qe=x_(ut,at.mode,Nt),Qe.return=at,at=Qe}return me(at);case te:return xr=ut._init,Wi(at,Qe,xr(ut._payload),Nt)}if(Qt(ut))return nr(at,Qe,ut,Nt);if(ge(ut))return lr(at,Qe,ut,Nt);Ge(at,ut)}return typeof ut=="string"&&ut!==""||typeof ut=="number"?(ut=""+ut,Qe!==null&&Qe.tag===6?(x(at,Qe.sibling),Qe=U(Qe,ut),Qe.return=at,at=Qe):(x(at,Qe),Qe=w_(ut,at.mode,Nt),Qe.return=at,at=Qe),me(at)):x(at,Qe)}return Wi}var Ue=Ye(!0),yt=Ye(!1),Mt=ps(null),Rt=null,jt=null,Lt=null;function Ut(){Lt=jt=Rt=null}function Bt(d){var m=Mt.current;pn(Mt),d._currentValue=m}function Ct(d,m,x){for(;d!==null;){var R=d.alternate;if((d.childLanes&m)!==m?(d.childLanes|=m,R!==null&&(R.childLanes|=m)):R!==null&&(R.childLanes&m)!==m&&(R.childLanes|=m),d===x)break;d=d.return}}function vt(d,m){Rt=d,Lt=jt=null,d=d.dependencies,d!==null&&d.firstContext!==null&&((d.lanes&m)!==0&&(aa=!0),d.firstContext=null)}function Xt(d){var m=d._currentValue;if(Lt!==d)if(d={context:d,memoizedValue:m,next:null},jt===null){if(Rt===null)throw Error(r(308));jt=d,Rt.dependencies={lanes:0,firstContext:d}}else jt=jt.next=d;return m}var dr=null;function rr(d){dr===null?dr=[d]:dr.push(d)}function cr(d,m,x,R){var U=m.interleaved;return U===null?(x.next=x,rr(m)):(x.next=U.next,U.next=x),m.interleaved=x,$r(d,R)}function $r(d,m){d.lanes|=m;var x=d.alternate;for(x!==null&&(x.lanes|=m),x=d,d=d.return;d!==null;)d.childLanes|=m,x=d.alternate,x!==null&&(x.childLanes|=m),x=d,d=d.return;return x.tag===3?x.stateNode:null}var si=!1;function uo(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ms(d,m){d=d.updateQueue,m.updateQueue===d&&(m.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,effects:d.effects})}function _i(d,m){return{eventTime:d,lane:m,tag:0,payload:null,callback:null,next:null}}function wi(d,m,x){var R=d.updateQueue;if(R===null)return null;if(R=R.shared,(vn&2)!==0){var U=R.pending;return U===null?m.next=m:(m.next=U.next,U.next=m),R.pending=m,$r(d,x)}return U=R.interleaved,U===null?(m.next=m,rr(R)):(m.next=U.next,U.next=m),R.interleaved=m,$r(d,x)}function Oo(d,m,x){if(m=m.updateQueue,m!==null&&(m=m.shared,(x&4194240)!==0)){var R=m.lanes;R&=d.pendingLanes,x|=R,m.lanes=x,Dl(d,x)}}function Rn(d,m){var x=d.updateQueue,R=d.alternate;if(R!==null&&(R=R.updateQueue,x===R)){var U=null,q=null;if(x=x.firstBaseUpdate,x!==null){do{var me={eventTime:x.eventTime,lane:x.lane,tag:x.tag,payload:x.payload,callback:x.callback,next:null};q===null?U=q=me:q=q.next=me,x=x.next}while(x!==null);q===null?U=q=m:q=q.next=m}else U=q=m;x={baseState:R.baseState,firstBaseUpdate:U,lastBaseUpdate:q,shared:R.shared,effects:R.effects},d.updateQueue=x;return}d=x.lastBaseUpdate,d===null?x.firstBaseUpdate=m:d.next=m,x.lastBaseUpdate=m}function Ro(d,m,x,R){var U=d.updateQueue;si=!1;var q=U.firstBaseUpdate,me=U.lastBaseUpdate,Be=U.shared.pending;if(Be!==null){U.shared.pending=null;var He=Be,ht=He.next;He.next=null,me===null?q=ht:me.next=ht,me=He;var Pt=d.alternate;Pt!==null&&(Pt=Pt.updateQueue,Be=Pt.lastBaseUpdate,Be!==me&&(Be===null?Pt.firstBaseUpdate=ht:Be.next=ht,Pt.lastBaseUpdate=He))}if(q!==null){var kt=U.baseState;me=0,Pt=ht=He=null,Be=q;do{var Et=Be.lane,Wt=Be.eventTime;if((R&Et)===Et){Pt!==null&&(Pt=Pt.next={eventTime:Wt,lane:0,tag:Be.tag,payload:Be.payload,callback:Be.callback,next:null});e:{var nr=d,lr=Be;switch(Et=m,Wt=x,lr.tag){case 1:if(nr=lr.payload,typeof nr=="function"){kt=nr.call(Wt,kt,Et);break e}kt=nr;break e;case 3:nr.flags=nr.flags&-65537|128;case 0:if(nr=lr.payload,Et=typeof nr=="function"?nr.call(Wt,kt,Et):nr,Et==null)break e;kt=Ee({},kt,Et);break e;case 2:si=!0}}Be.callback!==null&&Be.lane!==0&&(d.flags|=64,Et=U.effects,Et===null?U.effects=[Be]:Et.push(Be))}else Wt={eventTime:Wt,lane:Et,tag:Be.tag,payload:Be.payload,callback:Be.callback,next:null},Pt===null?(ht=Pt=Wt,He=kt):Pt=Pt.next=Wt,me|=Et;if(Be=Be.next,Be===null){if(Be=U.shared.pending,Be===null)break;Et=Be,Be=Et.next,Et.next=null,U.lastBaseUpdate=Et,U.shared.pending=null}}while(!0);if(Pt===null&&(He=kt),U.baseState=He,U.firstBaseUpdate=ht,U.lastBaseUpdate=Pt,m=U.shared.interleaved,m!==null){U=m;do me|=U.lane,U=U.next;while(U!==m)}else q===null&&(U.shared.lanes=0);Bh|=me,d.lanes=me,d.memoizedState=kt}}function sa(d,m,x){if(d=m.effects,m.effects=null,d!==null)for(m=0;m<d.length;m++){var R=d[m],U=R.callback;if(U!==null){if(R.callback=null,R=x,typeof U!="function")throw Error(r(191,U));U.call(R)}}}var Ra={},Gi=ps(Ra),xi=ps(Ra),Kc=ps(Ra);function rc(d){if(d===Ra)throw Error(r(174));return d}function Cf(d,m){switch(mn(Kc,m),mn(xi,d),mn(Gi,Ra),d=m.nodeType,d){case 9:case 11:m=(m=m.documentElement)?m.namespaceURI:Yr(null,"");break;default:d=d===8?m.parentNode:m,m=d.namespaceURI||null,d=d.tagName,m=Yr(m,d)}pn(Gi),mn(Gi,m)}function fl(){pn(Gi),pn(xi),pn(Kc)}function qm(d){rc(Kc.current);var m=rc(Gi.current),x=Yr(m,d.type);m!==x&&(mn(xi,d),mn(Gi,x))}function gp(d){xi.current===d&&(pn(Gi),pn(xi))}var Xn=ps(0);function Ia(d){for(var m=d;m!==null;){if(m.tag===13){var x=m.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||x.data==="$?"||x.data==="$!"))return m}else if(m.tag===19&&m.memoizedProps.revealOrder!==void 0){if((m.flags&128)!==0)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===d)break;for(;m.sibling===null;){if(m.return===null||m.return===d)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}var mp=[];function vp(){for(var d=0;d<mp.length;d++)mp[d]._workInProgressVersionPrimary=null;mp.length=0}var Kd=D.ReactCurrentDispatcher,Gd=D.ReactCurrentBatchConfig,hl=0,ri=null,Oi=null,Si=null,kf=!1,nc=!1,Of=0,Yb=0;function zi(){throw Error(r(321))}function Qd(d,m){if(m===null)return!1;for(var x=0;x<m.length&&x<d.length;x++)if(!Bn(d[x],m[x]))return!1;return!0}function Mh(d,m,x,R,U,q){if(hl=q,ri=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,Kd.current=d===null||d.memoizedState===null?CX:kX,d=x(R,U),nc){q=0;do{if(nc=!1,Of=0,25<=q)throw Error(r(301));q+=1,Si=Oi=null,m.updateQueue=null,Kd.current=OX,d=x(R,U)}while(nc)}if(Kd.current=Qm,m=Oi!==null&&Oi.next!==null,hl=0,Si=Oi=ri=null,kf=!1,m)throw Error(r(300));return d}function dl(){var d=Of!==0;return Of=0,d}function Na(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Si===null?ri.memoizedState=Si=d:Si=Si.next=d,Si}function Fs(){if(Oi===null){var d=ri.alternate;d=d!==null?d.memoizedState:null}else d=Oi.next;var m=Si===null?ri.memoizedState:Si.next;if(m!==null)Si=m,Oi=d;else{if(d===null)throw Error(r(310));Oi=d,d={memoizedState:Oi.memoizedState,baseState:Oi.baseState,baseQueue:Oi.baseQueue,queue:Oi.queue,next:null},Si===null?ri.memoizedState=Si=d:Si=Si.next=d}return Si}function Lh(d,m){return typeof m=="function"?m(d):m}function Zd(d){var m=Fs(),x=m.queue;if(x===null)throw Error(r(311));x.lastRenderedReducer=d;var R=Oi,U=R.baseQueue,q=x.pending;if(q!==null){if(U!==null){var me=U.next;U.next=q.next,q.next=me}R.baseQueue=U=q,x.pending=null}if(U!==null){q=U.next,R=R.baseState;var Be=me=null,He=null,ht=q;do{var Pt=ht.lane;if((hl&Pt)===Pt)He!==null&&(He=He.next={lane:0,action:ht.action,hasEagerState:ht.hasEagerState,eagerState:ht.eagerState,next:null}),R=ht.hasEagerState?ht.eagerState:d(R,ht.action);else{var kt={lane:Pt,action:ht.action,hasEagerState:ht.hasEagerState,eagerState:ht.eagerState,next:null};He===null?(Be=He=kt,me=R):He=He.next=kt,ri.lanes|=Pt,Bh|=Pt}ht=ht.next}while(ht!==null&&ht!==q);He===null?me=R:He.next=Be,Bn(R,m.memoizedState)||(aa=!0),m.memoizedState=R,m.baseState=me,m.baseQueue=He,x.lastRenderedState=R}if(d=x.interleaved,d!==null){U=d;do q=U.lane,ri.lanes|=q,Bh|=q,U=U.next;while(U!==d)}else U===null&&(x.lanes=0);return[m.memoizedState,x.dispatch]}function Gc(d){var m=Fs(),x=m.queue;if(x===null)throw Error(r(311));x.lastRenderedReducer=d;var R=x.dispatch,U=x.pending,q=m.memoizedState;if(U!==null){x.pending=null;var me=U=U.next;do q=d(q,me.action),me=me.next;while(me!==U);Bn(q,m.memoizedState)||(aa=!0),m.memoizedState=q,m.baseQueue===null&&(m.baseState=q),x.lastRenderedState=q}return[q,R]}function Xm(){}function yp(d,m){var x=ri,R=Fs(),U=m(),q=!Bn(R.memoizedState,U);if(q&&(R.memoizedState=U,aa=!0),R=R.queue,tA(Km.bind(null,x,R,d),[d]),R.getSnapshot!==m||q||Si!==null&&Si.memoizedState.tag&1){if(x.flags|=2048,js(9,bp.bind(null,x,R,U,m),void 0,null),Io===null)throw Error(r(349));(hl&30)!==0||Ym(x,m,U)}return U}function Ym(d,m,x){d.flags|=16384,d={getSnapshot:m,value:x},m=ri.updateQueue,m===null?(m={lastEffect:null,stores:null},ri.updateQueue=m,m.stores=[d]):(x=m.stores,x===null?m.stores=[d]:x.push(d))}function bp(d,m,x,R){m.value=x,m.getSnapshot=R,Rf(m)&&Jd(d)}function Km(d,m,x){return x(function(){Rf(m)&&Jd(d)})}function Rf(d){var m=d.getSnapshot;d=d.value;try{var x=m();return!Bn(d,x)}catch{return!0}}function Jd(d){var m=$r(d,1);m!==null&&lc(m,d,1,-1)}function Dh(d){var m=Na();return typeof d=="function"&&(d=d()),m.memoizedState=m.baseState=d,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Lh,lastRenderedState:d},m.queue=d,d=d.dispatch=PX.bind(null,ri,d),[m.memoizedState,d]}function js(d,m,x,R){return d={tag:d,create:m,destroy:x,deps:R,next:null},m=ri.updateQueue,m===null?(m={lastEffect:null,stores:null},ri.updateQueue=m,m.lastEffect=d.next=d):(x=m.lastEffect,x===null?m.lastEffect=d.next=d:(R=x.next,x.next=d,d.next=R,m.lastEffect=d)),d}function ic(){return Fs().memoizedState}function Ma(d,m,x,R){var U=Na();ri.flags|=d,U.memoizedState=js(1|m,x,void 0,R===void 0?null:R)}function Bu(d,m,x,R){var U=Fs();R=R===void 0?null:R;var q=void 0;if(Oi!==null){var me=Oi.memoizedState;if(q=me.destroy,R!==null&&Qd(R,me.deps)){U.memoizedState=js(m,x,q,R);return}}ri.flags|=d,U.memoizedState=js(1|m,x,q,R)}function eA(d,m){return Ma(8390656,8,d,m)}function tA(d,m){return Bu(2048,8,d,m)}function Gm(d,m){return Bu(4,2,d,m)}function rA(d,m){return Bu(4,4,d,m)}function nA(d,m){if(typeof m=="function")return d=d(),m(d),function(){m(null)};if(m!=null)return d=d(),m.current=d,function(){m.current=null}}function Tk(d,m,x){return x=x!=null?x.concat([d]):null,Bu(4,4,nA.bind(null,m,d),x)}function Kb(){}function Pk(d,m){var x=Fs();m=m===void 0?null:m;var R=x.memoizedState;return R!==null&&m!==null&&Qd(m,R[1])?R[0]:(x.memoizedState=[d,m],d)}function Ck(d,m){var x=Fs();m=m===void 0?null:m;var R=x.memoizedState;return R!==null&&m!==null&&Qd(m,R[1])?R[0]:(d=d(),x.memoizedState=[d,m],d)}function kk(d,m,x){return(hl&21)===0?(d.baseState&&(d.baseState=!1,aa=!0),d.memoizedState=x):(Bn(x,m)||(x=Lc(),ri.lanes|=x,Bh|=x,d.baseState=!0),m)}function EX(d,m){var x=ln;ln=x!==0&&4>x?x:4,d(!0);var R=Gd.transition;Gd.transition={};try{d(!1),m()}finally{ln=x,Gd.transition=R}}function Ok(){return Fs().memoizedState}function TX(d,m,x){var R=Lf(d);if(x={lane:R,action:x,hasEagerState:!1,eagerState:null,next:null},Rk(d))Ik(m,x);else if(x=cr(d,m,x,R),x!==null){var U=$s();lc(x,d,R,U),Nk(x,m,R)}}function PX(d,m,x){var R=Lf(d),U={lane:R,action:x,hasEagerState:!1,eagerState:null,next:null};if(Rk(d))Ik(m,U);else{var q=d.alternate;if(d.lanes===0&&(q===null||q.lanes===0)&&(q=m.lastRenderedReducer,q!==null))try{var me=m.lastRenderedState,Be=q(me,x);if(U.hasEagerState=!0,U.eagerState=Be,Bn(Be,me)){var He=m.interleaved;He===null?(U.next=U,rr(m)):(U.next=He.next,He.next=U),m.interleaved=U;return}}catch{}finally{}x=cr(d,m,U,R),x!==null&&(U=$s(),lc(x,d,R,U),Nk(x,m,R))}}function Rk(d){var m=d.alternate;return d===ri||m!==null&&m===ri}function Ik(d,m){nc=kf=!0;var x=d.pending;x===null?m.next=m:(m.next=x.next,x.next=m),d.pending=m}function Nk(d,m,x){if((x&4194240)!==0){var R=m.lanes;R&=d.pendingLanes,x|=R,m.lanes=x,Dl(d,x)}}var Qm={readContext:Xt,useCallback:zi,useContext:zi,useEffect:zi,useImperativeHandle:zi,useInsertionEffect:zi,useLayoutEffect:zi,useMemo:zi,useReducer:zi,useRef:zi,useState:zi,useDebugValue:zi,useDeferredValue:zi,useTransition:zi,useMutableSource:zi,useSyncExternalStore:zi,useId:zi,unstable_isNewReconciler:!1},CX={readContext:Xt,useCallback:function(d,m){return Na().memoizedState=[d,m===void 0?null:m],d},useContext:Xt,useEffect:eA,useImperativeHandle:function(d,m,x){return x=x!=null?x.concat([d]):null,Ma(4194308,4,nA.bind(null,m,d),x)},useLayoutEffect:function(d,m){return Ma(4194308,4,d,m)},useInsertionEffect:function(d,m){return Ma(4,2,d,m)},useMemo:function(d,m){var x=Na();return m=m===void 0?null:m,d=d(),x.memoizedState=[d,m],d},useReducer:function(d,m,x){var R=Na();return m=x!==void 0?x(m):m,R.memoizedState=R.baseState=m,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:m},R.queue=d,d=d.dispatch=TX.bind(null,ri,d),[R.memoizedState,d]},useRef:function(d){var m=Na();return d={current:d},m.memoizedState=d},useState:Dh,useDebugValue:Kb,useDeferredValue:function(d){return Na().memoizedState=d},useTransition:function(){var d=Dh(!1),m=d[0];return d=EX.bind(null,d[1]),Na().memoizedState=d,[m,d]},useMutableSource:function(){},useSyncExternalStore:function(d,m,x){var R=ri,U=Na();if(y){if(x===void 0)throw Error(r(407));x=x()}else{if(x=m(),Io===null)throw Error(r(349));(hl&30)!==0||Ym(R,m,x)}U.memoizedState=x;var q={value:x,getSnapshot:m};return U.queue=q,eA(Km.bind(null,R,q,d),[d]),R.flags|=2048,js(9,bp.bind(null,R,q,x,m),void 0,null),x},useId:function(){var d=Na(),m=Io.identifierPrefix;if(y){var x=Oe,R=ot;x=(R&~(1<<32-fi(R)-1)).toString(32)+x,m=":"+m+"R"+x,x=Of++,0<x&&(m+="H"+x.toString(32)),m+=":"}else x=Yb++,m=":"+m+"r"+x.toString(32)+":";return d.memoizedState=m},unstable_isNewReconciler:!1},kX={readContext:Xt,useCallback:Pk,useContext:Xt,useEffect:tA,useImperativeHandle:Tk,useInsertionEffect:Gm,useLayoutEffect:rA,useMemo:Ck,useReducer:Zd,useRef:ic,useState:function(){return Zd(Lh)},useDebugValue:Kb,useDeferredValue:function(d){var m=Fs();return kk(m,Oi.memoizedState,d)},useTransition:function(){var d=Zd(Lh)[0],m=Fs().memoizedState;return[d,m]},useMutableSource:Xm,useSyncExternalStore:yp,useId:Ok,unstable_isNewReconciler:!1},OX={readContext:Xt,useCallback:Pk,useContext:Xt,useEffect:tA,useImperativeHandle:Tk,useInsertionEffect:Gm,useLayoutEffect:rA,useMemo:Ck,useReducer:Gc,useRef:ic,useState:function(){return Gc(Lh)},useDebugValue:Kb,useDeferredValue:function(d){var m=Fs();return Oi===null?m.memoizedState=d:kk(m,Oi.memoizedState,d)},useTransition:function(){var d=Gc(Lh)[0],m=Fs().memoizedState;return[d,m]},useMutableSource:Xm,useSyncExternalStore:yp,useId:Ok,unstable_isNewReconciler:!1};function oc(d,m){if(d&&d.defaultProps){m=Ee({},m),d=d.defaultProps;for(var x in d)m[x]===void 0&&(m[x]=d[x]);return m}return m}function Gb(d,m,x,R){m=d.memoizedState,x=x(R,m),x=x==null?m:Ee({},m,x),d.memoizedState=x,d.lanes===0&&(d.updateQueue.baseState=x)}var Zm={isMounted:function(d){return(d=d._reactInternals)?yr(d)===d:!1},enqueueSetState:function(d,m,x){d=d._reactInternals;var R=$s(),U=Lf(d),q=_i(R,U);q.payload=m,x!=null&&(q.callback=x),m=wi(d,q,U),m!==null&&(lc(m,d,U,R),Oo(m,d,U))},enqueueReplaceState:function(d,m,x){d=d._reactInternals;var R=$s(),U=Lf(d),q=_i(R,U);q.tag=1,q.payload=m,x!=null&&(q.callback=x),m=wi(d,q,U),m!==null&&(lc(m,d,U,R),Oo(m,d,U))},enqueueForceUpdate:function(d,m){d=d._reactInternals;var x=$s(),R=Lf(d),U=_i(x,R);U.tag=2,m!=null&&(U.callback=m),m=wi(d,U,R),m!==null&&(lc(m,d,R,x),Oo(m,d,R))}};function Mk(d,m,x,R,U,q,me){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(R,q,me):m.prototype&&m.prototype.isPureReactComponent?!Po(x,R)||!Po(U,q):!0}function Lk(d,m,x){var R=!1,U=ul,q=m.contextType;return typeof q=="object"&&q!==null?q=Xt(q):(U=qn(m)?tc:$i.current,R=m.contextTypes,q=(R=R!=null)?Go(d,U):ul),m=new m(x,q),d.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Zm,d.stateNode=m,m._reactInternals=d,R&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=U,d.__reactInternalMemoizedMaskedChildContext=q),m}function Dk(d,m,x,R){d=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(x,R),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(x,R),m.state!==d&&Zm.enqueueReplaceState(m,m.state,null)}function Qb(d,m,x,R){var U=d.stateNode;U.props=x,U.state=d.memoizedState,U.refs={},uo(d);var q=m.contextType;typeof q=="object"&&q!==null?U.context=Xt(q):(q=qn(m)?tc:$i.current,U.context=Go(d,q)),U.state=d.memoizedState,q=m.getDerivedStateFromProps,typeof q=="function"&&(Gb(d,m,q,x),U.state=d.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof U.getSnapshotBeforeUpdate=="function"||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(m=U.state,typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount(),m!==U.state&&Zm.enqueueReplaceState(U,U.state,null),Ro(d,x,U,R),U.state=d.memoizedState),typeof U.componentDidMount=="function"&&(d.flags|=4194308)}function iA(d,m){try{var x="",R=m;do x+=be(R),R=R.return;while(R);var U=x}catch(q){U=`
Error generating stack: `+q.message+`
`+q.stack}return{value:d,source:m,stack:U,digest:null}}function Zb(d,m,x){return{value:d,source:null,stack:x??null,digest:m??null}}function Jb(d,m){try{console.error(m.value)}catch(x){setTimeout(function(){throw x})}}var RX=typeof WeakMap=="function"?WeakMap:Map;function Bk(d,m,x){x=_i(-1,x),x.tag=3,x.payload={element:null};var R=m.value;return x.callback=function(){ov||(ov=!0,A_=R),Jb(d,m)},x}function Fk(d,m,x){x=_i(-1,x),x.tag=3;var R=d.type.getDerivedStateFromError;if(typeof R=="function"){var U=m.value;x.payload=function(){return R(U)},x.callback=function(){Jb(d,m)}}var q=d.stateNode;return q!==null&&typeof q.componentDidCatch=="function"&&(x.callback=function(){Jb(d,m),typeof R!="function"&&(Nf===null?Nf=new Set([this]):Nf.add(this));var me=m.stack;this.componentDidCatch(m.value,{componentStack:me!==null?me:""})}),x}function jk(d,m,x){var R=d.pingCache;if(R===null){R=d.pingCache=new RX;var U=new Set;R.set(m,U)}else U=R.get(m),U===void 0&&(U=new Set,R.set(m,U));U.has(x)||(U.add(x),d=HX.bind(null,d,m,x),m.then(d,d))}function Uk(d){do{var m;if((m=d.tag===13)&&(m=d.memoizedState,m=m!==null?m.dehydrated!==null:!0),m)return d;d=d.return}while(d!==null);return null}function $k(d,m,x,R,U){return(d.mode&1)===0?(d===m?d.flags|=65536:(d.flags|=128,x.flags|=131072,x.flags&=-52805,x.tag===1&&(x.alternate===null?x.tag=17:(m=_i(-1,1),m.tag=2,wi(x,m,1))),x.lanes|=1),d):(d.flags|=65536,d.lanes=U,d)}var IX=D.ReactCurrentOwner,aa=!1;function Us(d,m,x,R){m.child=d===null?yt(m,null,x,R):Ue(m,d.child,x,R)}function zk(d,m,x,R,U){x=x.render;var q=m.ref;return vt(m,U),R=Mh(d,m,x,R,q,U),x=dl(),d!==null&&!aa?(m.updateQueue=d.updateQueue,m.flags&=-2053,d.lanes&=~U,Fu(d,m,U)):(y&&x&&h(m),m.flags|=1,Us(d,m,R,U),m.child)}function Wk(d,m,x,R,U){if(d===null){var q=x.type;return typeof q=="function"&&!__(q)&&q.defaultProps===void 0&&x.compare===null&&x.defaultProps===void 0?(m.tag=15,m.type=q,Vk(d,m,q,R,U)):(d=fv(x.type,null,R,m,m.mode,U),d.ref=m.ref,d.return=m,m.child=d)}if(q=d.child,(d.lanes&U)===0){var me=q.memoizedProps;if(x=x.compare,x=x!==null?x:Po,x(me,R)&&d.ref===m.ref)return Fu(d,m,U)}return m.flags|=1,d=Bf(q,R),d.ref=m.ref,d.return=m,m.child=d}function Vk(d,m,x,R,U){if(d!==null){var q=d.memoizedProps;if(Po(q,R)&&d.ref===m.ref)if(aa=!1,m.pendingProps=R=q,(d.lanes&U)!==0)(d.flags&131072)!==0&&(aa=!0);else return m.lanes=d.lanes,Fu(d,m,U)}return e_(d,m,x,R,U)}function Hk(d,m,x){var R=m.pendingProps,U=R.children,q=d!==null?d.memoizedState:null;if(R.mode==="hidden")if((m.mode&1)===0)m.memoizedState={baseLanes:0,cachePool:null,transitions:null},mn(sA,La),La|=x;else{if((x&1073741824)===0)return d=q!==null?q.baseLanes|x:x,m.lanes=m.childLanes=1073741824,m.memoizedState={baseLanes:d,cachePool:null,transitions:null},m.updateQueue=null,mn(sA,La),La|=d,null;m.memoizedState={baseLanes:0,cachePool:null,transitions:null},R=q!==null?q.baseLanes:x,mn(sA,La),La|=R}else q!==null?(R=q.baseLanes|x,m.memoizedState=null):R=x,mn(sA,La),La|=R;return Us(d,m,U,x),m.child}function qk(d,m){var x=m.ref;(d===null&&x!==null||d!==null&&d.ref!==x)&&(m.flags|=512,m.flags|=2097152)}function e_(d,m,x,R,U){var q=qn(x)?tc:$i.current;return q=Go(m,q),vt(m,U),x=Mh(d,m,x,R,q,U),R=dl(),d!==null&&!aa?(m.updateQueue=d.updateQueue,m.flags&=-2053,d.lanes&=~U,Fu(d,m,U)):(y&&R&&h(m),m.flags|=1,Us(d,m,x,U),m.child)}function Xk(d,m,x,R,U){if(qn(x)){var q=!0;Fn(m)}else q=!1;if(vt(m,U),m.stateNode===null)ev(d,m),Lk(m,x,R),Qb(m,x,R,U),R=!0;else if(d===null){var me=m.stateNode,Be=m.memoizedProps;me.props=Be;var He=me.context,ht=x.contextType;typeof ht=="object"&&ht!==null?ht=Xt(ht):(ht=qn(x)?tc:$i.current,ht=Go(m,ht));var Pt=x.getDerivedStateFromProps,kt=typeof Pt=="function"||typeof me.getSnapshotBeforeUpdate=="function";kt||typeof me.UNSAFE_componentWillReceiveProps!="function"&&typeof me.componentWillReceiveProps!="function"||(Be!==R||He!==ht)&&Dk(m,me,R,ht),si=!1;var Et=m.memoizedState;me.state=Et,Ro(m,R,me,U),He=m.memoizedState,Be!==R||Et!==He||ko.current||si?(typeof Pt=="function"&&(Gb(m,x,Pt,R),He=m.memoizedState),(Be=si||Mk(m,x,Be,R,Et,He,ht))?(kt||typeof me.UNSAFE_componentWillMount!="function"&&typeof me.componentWillMount!="function"||(typeof me.componentWillMount=="function"&&me.componentWillMount(),typeof me.UNSAFE_componentWillMount=="function"&&me.UNSAFE_componentWillMount()),typeof me.componentDidMount=="function"&&(m.flags|=4194308)):(typeof me.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=R,m.memoizedState=He),me.props=R,me.state=He,me.context=ht,R=Be):(typeof me.componentDidMount=="function"&&(m.flags|=4194308),R=!1)}else{me=m.stateNode,ms(d,m),Be=m.memoizedProps,ht=m.type===m.elementType?Be:oc(m.type,Be),me.props=ht,kt=m.pendingProps,Et=me.context,He=x.contextType,typeof He=="object"&&He!==null?He=Xt(He):(He=qn(x)?tc:$i.current,He=Go(m,He));var Wt=x.getDerivedStateFromProps;(Pt=typeof Wt=="function"||typeof me.getSnapshotBeforeUpdate=="function")||typeof me.UNSAFE_componentWillReceiveProps!="function"&&typeof me.componentWillReceiveProps!="function"||(Be!==kt||Et!==He)&&Dk(m,me,R,He),si=!1,Et=m.memoizedState,me.state=Et,Ro(m,R,me,U);var nr=m.memoizedState;Be!==kt||Et!==nr||ko.current||si?(typeof Wt=="function"&&(Gb(m,x,Wt,R),nr=m.memoizedState),(ht=si||Mk(m,x,ht,R,Et,nr,He)||!1)?(Pt||typeof me.UNSAFE_componentWillUpdate!="function"&&typeof me.componentWillUpdate!="function"||(typeof me.componentWillUpdate=="function"&&me.componentWillUpdate(R,nr,He),typeof me.UNSAFE_componentWillUpdate=="function"&&me.UNSAFE_componentWillUpdate(R,nr,He)),typeof me.componentDidUpdate=="function"&&(m.flags|=4),typeof me.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof me.componentDidUpdate!="function"||Be===d.memoizedProps&&Et===d.memoizedState||(m.flags|=4),typeof me.getSnapshotBeforeUpdate!="function"||Be===d.memoizedProps&&Et===d.memoizedState||(m.flags|=1024),m.memoizedProps=R,m.memoizedState=nr),me.props=R,me.state=nr,me.context=He,R=ht):(typeof me.componentDidUpdate!="function"||Be===d.memoizedProps&&Et===d.memoizedState||(m.flags|=4),typeof me.getSnapshotBeforeUpdate!="function"||Be===d.memoizedProps&&Et===d.memoizedState||(m.flags|=1024),R=!1)}return t_(d,m,x,R,q,U)}function t_(d,m,x,R,U,q){qk(d,m);var me=(m.flags&128)!==0;if(!R&&!me)return U&&Nh(m,x,!1),Fu(d,m,q);R=m.stateNode,IX.current=m;var Be=me&&typeof x.getDerivedStateFromError!="function"?null:R.render();return m.flags|=1,d!==null&&me?(m.child=Ue(m,d.child,null,q),m.child=Ue(m,null,Be,q)):Us(d,m,Be,q),m.memoizedState=R.state,U&&Nh(m,x,!0),m.child}function Yk(d){var m=d.stateNode;m.pendingContext?co(d,m.pendingContext,m.pendingContext!==m.context):m.context&&co(d,m.context,!1),Cf(d,m.containerInfo)}function Kk(d,m,x,R,U){return _e(),ye(U),m.flags|=256,Us(d,m,x,R),m.child}var r_={dehydrated:null,treeContext:null,retryLane:0};function n_(d){return{baseLanes:d,cachePool:null,transitions:null}}function Gk(d,m,x){var R=m.pendingProps,U=Xn.current,q=!1,me=(m.flags&128)!==0,Be;if((Be=me)||(Be=d!==null&&d.memoizedState===null?!1:(U&2)!==0),Be?(q=!0,m.flags&=-129):(d===null||d.memoizedState!==null)&&(U|=1),mn(Xn,U&1),d===null)return j(m),d=m.memoizedState,d!==null&&(d=d.dehydrated,d!==null)?((m.mode&1)===0?m.lanes=1:d.data==="$!"?m.lanes=8:m.lanes=1073741824,null):(me=R.children,d=R.fallback,q?(R=m.mode,q=m.child,me={mode:"hidden",children:me},(R&1)===0&&q!==null?(q.childLanes=0,q.pendingProps=me):q=hv(me,R,0,null),d=$h(d,R,x,null),q.return=m,d.return=m,q.sibling=d,m.child=q,m.child.memoizedState=n_(x),m.memoizedState=r_,d):i_(m,me));if(U=d.memoizedState,U!==null&&(Be=U.dehydrated,Be!==null))return NX(d,m,me,R,Be,U,x);if(q){q=R.fallback,me=m.mode,U=d.child,Be=U.sibling;var He={mode:"hidden",children:R.children};return(me&1)===0&&m.child!==U?(R=m.child,R.childLanes=0,R.pendingProps=He,m.deletions=null):(R=Bf(U,He),R.subtreeFlags=U.subtreeFlags&14680064),Be!==null?q=Bf(Be,q):(q=$h(q,me,x,null),q.flags|=2),q.return=m,R.return=m,R.sibling=q,m.child=R,R=q,q=m.child,me=d.child.memoizedState,me=me===null?n_(x):{baseLanes:me.baseLanes|x,cachePool:null,transitions:me.transitions},q.memoizedState=me,q.childLanes=d.childLanes&~x,m.memoizedState=r_,R}return q=d.child,d=q.sibling,R=Bf(q,{mode:"visible",children:R.children}),(m.mode&1)===0&&(R.lanes=x),R.return=m,R.sibling=null,d!==null&&(x=m.deletions,x===null?(m.deletions=[d],m.flags|=16):x.push(d)),m.child=R,m.memoizedState=null,R}function i_(d,m){return m=hv({mode:"visible",children:m},d.mode,0,null),m.return=d,d.child=m}function Jm(d,m,x,R){return R!==null&&ye(R),Ue(m,d.child,null,x),d=i_(m,m.pendingProps.children),d.flags|=2,m.memoizedState=null,d}function NX(d,m,x,R,U,q,me){if(x)return m.flags&256?(m.flags&=-257,R=Zb(Error(r(422))),Jm(d,m,me,R)):m.memoizedState!==null?(m.child=d.child,m.flags|=128,null):(q=R.fallback,U=m.mode,R=hv({mode:"visible",children:R.children},U,0,null),q=$h(q,U,me,null),q.flags|=2,R.return=m,q.return=m,R.sibling=q,m.child=R,(m.mode&1)!==0&&Ue(m,d.child,null,me),m.child.memoizedState=n_(me),m.memoizedState=r_,q);if((m.mode&1)===0)return Jm(d,m,me,null);if(U.data==="$!"){if(R=U.nextSibling&&U.nextSibling.dataset,R)var Be=R.dgst;return R=Be,q=Error(r(419)),R=Zb(q,R,void 0),Jm(d,m,me,R)}if(Be=(me&d.childLanes)!==0,aa||Be){if(R=Io,R!==null){switch(me&-me){case 4:U=2;break;case 16:U=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:U=32;break;case 536870912:U=268435456;break;default:U=0}U=(U&(R.suspendedLanes|me))!==0?0:U,U!==0&&U!==q.retryLane&&(q.retryLane=U,$r(d,U),lc(R,d,U,-1))}return b_(),R=Zb(Error(r(421))),Jm(d,m,me,R)}return U.data==="$?"?(m.flags|=128,m.child=d.child,m=qX.bind(null,d),U._reactRetry=m,null):(d=q.treeContext,v=lo(U.nextSibling),p=m,y=!0,w=null,d!==null&&(Ce[Re++]=ot,Ce[Re++]=Oe,Ce[Re++]=Ve,ot=d.id,Oe=d.overflow,Ve=m),m=i_(m,R.children),m.flags|=4096,m)}function Qk(d,m,x){d.lanes|=m;var R=d.alternate;R!==null&&(R.lanes|=m),Ct(d.return,m,x)}function o_(d,m,x,R,U){var q=d.memoizedState;q===null?d.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:R,tail:x,tailMode:U}:(q.isBackwards=m,q.rendering=null,q.renderingStartTime=0,q.last=R,q.tail=x,q.tailMode=U)}function Zk(d,m,x){var R=m.pendingProps,U=R.revealOrder,q=R.tail;if(Us(d,m,R.children,x),R=Xn.current,(R&2)!==0)R=R&1|2,m.flags|=128;else{if(d!==null&&(d.flags&128)!==0)e:for(d=m.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&Qk(d,x,m);else if(d.tag===19)Qk(d,x,m);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===m)break e;for(;d.sibling===null;){if(d.return===null||d.return===m)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}R&=1}if(mn(Xn,R),(m.mode&1)===0)m.memoizedState=null;else switch(U){case"forwards":for(x=m.child,U=null;x!==null;)d=x.alternate,d!==null&&Ia(d)===null&&(U=x),x=x.sibling;x=U,x===null?(U=m.child,m.child=null):(U=x.sibling,x.sibling=null),o_(m,!1,U,x,q);break;case"backwards":for(x=null,U=m.child,m.child=null;U!==null;){if(d=U.alternate,d!==null&&Ia(d)===null){m.child=U;break}d=U.sibling,U.sibling=x,x=U,U=d}o_(m,!0,x,null,q);break;case"together":o_(m,!1,null,null,void 0);break;default:m.memoizedState=null}return m.child}function ev(d,m){(m.mode&1)===0&&d!==null&&(d.alternate=null,m.alternate=null,m.flags|=2)}function Fu(d,m,x){if(d!==null&&(m.dependencies=d.dependencies),Bh|=m.lanes,(x&m.childLanes)===0)return null;if(d!==null&&m.child!==d.child)throw Error(r(153));if(m.child!==null){for(d=m.child,x=Bf(d,d.pendingProps),m.child=x,x.return=m;d.sibling!==null;)d=d.sibling,x=x.sibling=Bf(d,d.pendingProps),x.return=m;x.sibling=null}return m.child}function MX(d,m,x){switch(m.tag){case 3:Yk(m),_e();break;case 5:qm(m);break;case 1:qn(m.type)&&Fn(m);break;case 4:Cf(m,m.stateNode.containerInfo);break;case 10:var R=m.type._context,U=m.memoizedProps.value;mn(Mt,R._currentValue),R._currentValue=U;break;case 13:if(R=m.memoizedState,R!==null)return R.dehydrated!==null?(mn(Xn,Xn.current&1),m.flags|=128,null):(x&m.child.childLanes)!==0?Gk(d,m,x):(mn(Xn,Xn.current&1),d=Fu(d,m,x),d!==null?d.sibling:null);mn(Xn,Xn.current&1);break;case 19:if(R=(x&m.childLanes)!==0,(d.flags&128)!==0){if(R)return Zk(d,m,x);m.flags|=128}if(U=m.memoizedState,U!==null&&(U.rendering=null,U.tail=null,U.lastEffect=null),mn(Xn,Xn.current),R)break;return null;case 22:case 23:return m.lanes=0,Hk(d,m,x)}return Fu(d,m,x)}var Jk,s_,e6,t6;Jk=function(d,m){for(var x=m.child;x!==null;){if(x.tag===5||x.tag===6)d.appendChild(x.stateNode);else if(x.tag!==4&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===m)break;for(;x.sibling===null;){if(x.return===null||x.return===m)return;x=x.return}x.sibling.return=x.return,x=x.sibling}},s_=function(){},e6=function(d,m,x,R){var U=d.memoizedProps;if(U!==R){d=m.stateNode,rc(Gi.current);var q=null;switch(x){case"input":U=Tt(d,U),R=Tt(d,R),q=[];break;case"select":U=Ee({},U,{value:void 0}),R=Ee({},R,{value:void 0}),q=[];break;case"textarea":U=qt(d,U),R=qt(d,R),q=[];break;default:typeof U.onClick!="function"&&typeof R.onClick=="function"&&(d.onclick=ll)}yn(x,R);var me;x=null;for(ht in U)if(!R.hasOwnProperty(ht)&&U.hasOwnProperty(ht)&&U[ht]!=null)if(ht==="style"){var Be=U[ht];for(me in Be)Be.hasOwnProperty(me)&&(x||(x={}),x[me]="")}else ht!=="dangerouslySetInnerHTML"&&ht!=="children"&&ht!=="suppressContentEditableWarning"&&ht!=="suppressHydrationWarning"&&ht!=="autoFocus"&&(i.hasOwnProperty(ht)?q||(q=[]):(q=q||[]).push(ht,null));for(ht in R){var He=R[ht];if(Be=U!=null?U[ht]:void 0,R.hasOwnProperty(ht)&&He!==Be&&(He!=null||Be!=null))if(ht==="style")if(Be){for(me in Be)!Be.hasOwnProperty(me)||He&&He.hasOwnProperty(me)||(x||(x={}),x[me]="");for(me in He)He.hasOwnProperty(me)&&Be[me]!==He[me]&&(x||(x={}),x[me]=He[me])}else x||(q||(q=[]),q.push(ht,x)),x=He;else ht==="dangerouslySetInnerHTML"?(He=He?He.__html:void 0,Be=Be?Be.__html:void 0,He!=null&&Be!==He&&(q=q||[]).push(ht,He)):ht==="children"?typeof He!="string"&&typeof He!="number"||(q=q||[]).push(ht,""+He):ht!=="suppressContentEditableWarning"&&ht!=="suppressHydrationWarning"&&(i.hasOwnProperty(ht)?(He!=null&&ht==="onScroll"&&Sn("scroll",d),q||Be===He||(q=[])):(q=q||[]).push(ht,He))}x&&(q=q||[]).push("style",x);var ht=q;(m.updateQueue=ht)&&(m.flags|=4)}},t6=function(d,m,x,R){x!==R&&(m.flags|=4)};function _p(d,m){if(!y)switch(d.tailMode){case"hidden":m=d.tail;for(var x=null;m!==null;)m.alternate!==null&&(x=m),m=m.sibling;x===null?d.tail=null:x.sibling=null;break;case"collapsed":x=d.tail;for(var R=null;x!==null;)x.alternate!==null&&(R=x),x=x.sibling;R===null?m||d.tail===null?d.tail=null:d.tail.sibling=null:R.sibling=null}}function vs(d){var m=d.alternate!==null&&d.alternate.child===d.child,x=0,R=0;if(m)for(var U=d.child;U!==null;)x|=U.lanes|U.childLanes,R|=U.subtreeFlags&14680064,R|=U.flags&14680064,U.return=d,U=U.sibling;else for(U=d.child;U!==null;)x|=U.lanes|U.childLanes,R|=U.subtreeFlags,R|=U.flags,U.return=d,U=U.sibling;return d.subtreeFlags|=R,d.childLanes=x,m}function LX(d,m,x){var R=m.pendingProps;switch(f(m),m.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vs(m),null;case 1:return qn(m.type)&&er(),vs(m),null;case 3:return R=m.stateNode,fl(),pn(ko),pn($i),vp(),R.pendingContext&&(R.context=R.pendingContext,R.pendingContext=null),(d===null||d.child===null)&&(ve(m)?m.flags|=4:d===null||d.memoizedState.isDehydrated&&(m.flags&256)===0||(m.flags|=1024,w!==null&&(m_(w),w=null))),s_(d,m),vs(m),null;case 5:gp(m);var U=rc(Kc.current);if(x=m.type,d!==null&&m.stateNode!=null)e6(d,m,x,R,U),d.ref!==m.ref&&(m.flags|=512,m.flags|=2097152);else{if(!R){if(m.stateNode===null)throw Error(r(166));return vs(m),null}if(d=rc(Gi.current),ve(m)){R=m.stateNode,x=m.type;var q=m.memoizedProps;switch(R[ia]=m,R[Jl]=q,d=(m.mode&1)!==0,x){case"dialog":Sn("cancel",R),Sn("close",R);break;case"iframe":case"object":case"embed":Sn("load",R);break;case"video":case"audio":for(U=0;U<Oa.length;U++)Sn(Oa[U],R);break;case"source":Sn("error",R);break;case"img":case"image":case"link":Sn("error",R),Sn("load",R);break;case"details":Sn("toggle",R);break;case"input":xe(R,q),Sn("invalid",R);break;case"select":R._wrapperState={wasMultiple:!!q.multiple},Sn("invalid",R);break;case"textarea":Zt(R,q),Sn("invalid",R)}yn(x,q),U=null;for(var me in q)if(q.hasOwnProperty(me)){var Be=q[me];me==="children"?typeof Be=="string"?R.textContent!==Be&&(q.suppressHydrationWarning!==!0&&al(R.textContent,Be,d),U=["children",Be]):typeof Be=="number"&&R.textContent!==""+Be&&(q.suppressHydrationWarning!==!0&&al(R.textContent,Be,d),U=["children",""+Be]):i.hasOwnProperty(me)&&Be!=null&&me==="onScroll"&&Sn("scroll",R)}switch(x){case"input":ft(R),$t(R,q,!0);break;case"textarea":ft(R),jr(R);break;case"select":case"option":break;default:typeof q.onClick=="function"&&(R.onclick=ll)}R=U,m.updateQueue=R,R!==null&&(m.flags|=4)}else{me=U.nodeType===9?U:U.ownerDocument,d==="http://www.w3.org/1999/xhtml"&&(d=Mr(x)),d==="http://www.w3.org/1999/xhtml"?x==="script"?(d=me.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild)):typeof R.is=="string"?d=me.createElement(x,{is:R.is}):(d=me.createElement(x),x==="select"&&(me=d,R.multiple?me.multiple=!0:R.size&&(me.size=R.size))):d=me.createElementNS(d,x),d[ia]=m,d[Jl]=R,Jk(d,m,!1,!1),m.stateNode=d;e:{switch(me=fr(x,R),x){case"dialog":Sn("cancel",d),Sn("close",d),U=R;break;case"iframe":case"object":case"embed":Sn("load",d),U=R;break;case"video":case"audio":for(U=0;U<Oa.length;U++)Sn(Oa[U],d);U=R;break;case"source":Sn("error",d),U=R;break;case"img":case"image":case"link":Sn("error",d),Sn("load",d),U=R;break;case"details":Sn("toggle",d),U=R;break;case"input":xe(d,R),U=Tt(d,R),Sn("invalid",d);break;case"option":U=R;break;case"select":d._wrapperState={wasMultiple:!!R.multiple},U=Ee({},R,{value:void 0}),Sn("invalid",d);break;case"textarea":Zt(d,R),U=qt(d,R),Sn("invalid",d);break;default:U=R}yn(x,U),Be=U;for(q in Be)if(Be.hasOwnProperty(q)){var He=Be[q];q==="style"?Wr(d,He):q==="dangerouslySetInnerHTML"?(He=He?He.__html:void 0,He!=null&&Jt(d,He)):q==="children"?typeof He=="string"?(x!=="textarea"||He!=="")&&Tr(d,He):typeof He=="number"&&Tr(d,""+He):q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&q!=="autoFocus"&&(i.hasOwnProperty(q)?He!=null&&q==="onScroll"&&Sn("scroll",d):He!=null&&N(d,q,He,me))}switch(x){case"input":ft(d),$t(d,R,!1);break;case"textarea":ft(d),jr(d);break;case"option":R.value!=null&&d.setAttribute("value",""+$e(R.value));break;case"select":d.multiple=!!R.multiple,q=R.value,q!=null?It(d,!!R.multiple,q,!1):R.defaultValue!=null&&It(d,!!R.multiple,R.defaultValue,!0);break;default:typeof U.onClick=="function"&&(d.onclick=ll)}switch(x){case"button":case"input":case"select":case"textarea":R=!!R.autoFocus;break e;case"img":R=!0;break e;default:R=!1}}R&&(m.flags|=4)}m.ref!==null&&(m.flags|=512,m.flags|=2097152)}return vs(m),null;case 6:if(d&&m.stateNode!=null)t6(d,m,d.memoizedProps,R);else{if(typeof R!="string"&&m.stateNode===null)throw Error(r(166));if(x=rc(Kc.current),rc(Gi.current),ve(m)){if(R=m.stateNode,x=m.memoizedProps,R[ia]=m,(q=R.nodeValue!==x)&&(d=p,d!==null))switch(d.tag){case 3:al(R.nodeValue,x,(d.mode&1)!==0);break;case 5:d.memoizedProps.suppressHydrationWarning!==!0&&al(R.nodeValue,x,(d.mode&1)!==0)}q&&(m.flags|=4)}else R=(x.nodeType===9?x:x.ownerDocument).createTextNode(R),R[ia]=m,m.stateNode=R}return vs(m),null;case 13:if(pn(Xn),R=m.memoizedState,d===null||d.memoizedState!==null&&d.memoizedState.dehydrated!==null){if(y&&v!==null&&(m.mode&1)!==0&&(m.flags&128)===0)Pe(),_e(),m.flags|=98560,q=!1;else if(q=ve(m),R!==null&&R.dehydrated!==null){if(d===null){if(!q)throw Error(r(318));if(q=m.memoizedState,q=q!==null?q.dehydrated:null,!q)throw Error(r(317));q[ia]=m}else _e(),(m.flags&128)===0&&(m.memoizedState=null),m.flags|=4;vs(m),q=!1}else w!==null&&(m_(w),w=null),q=!0;if(!q)return m.flags&65536?m:null}return(m.flags&128)!==0?(m.lanes=x,m):(R=R!==null,R!==(d!==null&&d.memoizedState!==null)&&R&&(m.child.flags|=8192,(m.mode&1)!==0&&(d===null||(Xn.current&1)!==0?fo===0&&(fo=3):b_())),m.updateQueue!==null&&(m.flags|=4),vs(m),null);case 4:return fl(),s_(d,m),d===null&&Kl(m.stateNode.containerInfo),vs(m),null;case 10:return Bt(m.type._context),vs(m),null;case 17:return qn(m.type)&&er(),vs(m),null;case 19:if(pn(Xn),q=m.memoizedState,q===null)return vs(m),null;if(R=(m.flags&128)!==0,me=q.rendering,me===null)if(R)_p(q,!1);else{if(fo!==0||d!==null&&(d.flags&128)!==0)for(d=m.child;d!==null;){if(me=Ia(d),me!==null){for(m.flags|=128,_p(q,!1),R=me.updateQueue,R!==null&&(m.updateQueue=R,m.flags|=4),m.subtreeFlags=0,R=x,x=m.child;x!==null;)q=x,d=R,q.flags&=14680066,me=q.alternate,me===null?(q.childLanes=0,q.lanes=d,q.child=null,q.subtreeFlags=0,q.memoizedProps=null,q.memoizedState=null,q.updateQueue=null,q.dependencies=null,q.stateNode=null):(q.childLanes=me.childLanes,q.lanes=me.lanes,q.child=me.child,q.subtreeFlags=0,q.deletions=null,q.memoizedProps=me.memoizedProps,q.memoizedState=me.memoizedState,q.updateQueue=me.updateQueue,q.type=me.type,d=me.dependencies,q.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),x=x.sibling;return mn(Xn,Xn.current&1|2),m.child}d=d.sibling}q.tail!==null&&en()>aA&&(m.flags|=128,R=!0,_p(q,!1),m.lanes=4194304)}else{if(!R)if(d=Ia(me),d!==null){if(m.flags|=128,R=!0,x=d.updateQueue,x!==null&&(m.updateQueue=x,m.flags|=4),_p(q,!0),q.tail===null&&q.tailMode==="hidden"&&!me.alternate&&!y)return vs(m),null}else 2*en()-q.renderingStartTime>aA&&x!==1073741824&&(m.flags|=128,R=!0,_p(q,!1),m.lanes=4194304);q.isBackwards?(me.sibling=m.child,m.child=me):(x=q.last,x!==null?x.sibling=me:m.child=me,q.last=me)}return q.tail!==null?(m=q.tail,q.rendering=m,q.tail=m.sibling,q.renderingStartTime=en(),m.sibling=null,x=Xn.current,mn(Xn,R?x&1|2:x&1),m):(vs(m),null);case 22:case 23:return y_(),R=m.memoizedState!==null,d!==null&&d.memoizedState!==null!==R&&(m.flags|=8192),R&&(m.mode&1)!==0?(La&1073741824)!==0&&(vs(m),m.subtreeFlags&6&&(m.flags|=8192)):vs(m),null;case 24:return null;case 25:return null}throw Error(r(156,m.tag))}function DX(d,m){switch(f(m),m.tag){case 1:return qn(m.type)&&er(),d=m.flags,d&65536?(m.flags=d&-65537|128,m):null;case 3:return fl(),pn(ko),pn($i),vp(),d=m.flags,(d&65536)!==0&&(d&128)===0?(m.flags=d&-65537|128,m):null;case 5:return gp(m),null;case 13:if(pn(Xn),d=m.memoizedState,d!==null&&d.dehydrated!==null){if(m.alternate===null)throw Error(r(340));_e()}return d=m.flags,d&65536?(m.flags=d&-65537|128,m):null;case 19:return pn(Xn),null;case 4:return fl(),null;case 10:return Bt(m.type._context),null;case 22:case 23:return y_(),null;case 24:return null;default:return null}}var tv=!1,ys=!1,BX=typeof WeakSet=="function"?WeakSet:Set,Yt=null;function oA(d,m){var x=d.ref;if(x!==null)if(typeof x=="function")try{x(null)}catch(R){Ri(d,m,R)}else x.current=null}function a_(d,m,x){try{x()}catch(R){Ri(d,m,R)}}var r6=!1;function FX(d,m){if(Zl=jl,d=ti(),so(d)){if("selectionStart"in d)var x={start:d.selectionStart,end:d.selectionEnd};else e:{x=(x=d.ownerDocument)&&x.defaultView||window;var R=x.getSelection&&x.getSelection();if(R&&R.rangeCount!==0){x=R.anchorNode;var U=R.anchorOffset,q=R.focusNode;R=R.focusOffset;try{x.nodeType,q.nodeType}catch{x=null;break e}var me=0,Be=-1,He=-1,ht=0,Pt=0,kt=d,Et=null;t:for(;;){for(var Wt;kt!==x||U!==0&&kt.nodeType!==3||(Be=me+U),kt!==q||R!==0&&kt.nodeType!==3||(He=me+R),kt.nodeType===3&&(me+=kt.nodeValue.length),(Wt=kt.firstChild)!==null;)Et=kt,kt=Wt;for(;;){if(kt===d)break t;if(Et===x&&++ht===U&&(Be=me),Et===q&&++Pt===R&&(He=me),(Wt=kt.nextSibling)!==null)break;kt=Et,Et=kt.parentNode}kt=Wt}x=Be===-1||He===-1?null:{start:Be,end:He}}else x=null}x=x||{start:0,end:0}}else x=null;for(cl={focusedElem:d,selectionRange:x},jl=!1,Yt=m;Yt!==null;)if(m=Yt,d=m.child,(m.subtreeFlags&1028)!==0&&d!==null)d.return=m,Yt=d;else for(;Yt!==null;){m=Yt;try{var nr=m.alternate;if((m.flags&1024)!==0)switch(m.tag){case 0:case 11:case 15:break;case 1:if(nr!==null){var lr=nr.memoizedProps,Wi=nr.memoizedState,at=m.stateNode,Qe=at.getSnapshotBeforeUpdate(m.elementType===m.type?lr:oc(m.type,lr),Wi);at.__reactInternalSnapshotBeforeUpdate=Qe}break;case 3:var ut=m.stateNode.containerInfo;ut.nodeType===1?ut.textContent="":ut.nodeType===9&&ut.documentElement&&ut.removeChild(ut.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Nt){Ri(m,m.return,Nt)}if(d=m.sibling,d!==null){d.return=m.return,Yt=d;break}Yt=m.return}return nr=r6,r6=!1,nr}function wp(d,m,x){var R=m.updateQueue;if(R=R!==null?R.lastEffect:null,R!==null){var U=R=R.next;do{if((U.tag&d)===d){var q=U.destroy;U.destroy=void 0,q!==void 0&&a_(m,x,q)}U=U.next}while(U!==R)}}function rv(d,m){if(m=m.updateQueue,m=m!==null?m.lastEffect:null,m!==null){var x=m=m.next;do{if((x.tag&d)===d){var R=x.create;x.destroy=R()}x=x.next}while(x!==m)}}function l_(d){var m=d.ref;if(m!==null){var x=d.stateNode;switch(d.tag){case 5:d=x;break;default:d=x}typeof m=="function"?m(d):m.current=d}}function n6(d){var m=d.alternate;m!==null&&(d.alternate=null,n6(m)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(m=d.stateNode,m!==null&&(delete m[ia],delete m[Jl],delete m[sn],delete m[Ap],delete m[pp])),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}function i6(d){return d.tag===5||d.tag===3||d.tag===4}function o6(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||i6(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function c_(d,m,x){var R=d.tag;if(R===5||R===6)d=d.stateNode,m?x.nodeType===8?x.parentNode.insertBefore(d,m):x.insertBefore(d,m):(x.nodeType===8?(m=x.parentNode,m.insertBefore(d,x)):(m=x,m.appendChild(d)),x=x._reactRootContainer,x!=null||m.onclick!==null||(m.onclick=ll));else if(R!==4&&(d=d.child,d!==null))for(c_(d,m,x),d=d.sibling;d!==null;)c_(d,m,x),d=d.sibling}function u_(d,m,x){var R=d.tag;if(R===5||R===6)d=d.stateNode,m?x.insertBefore(d,m):x.appendChild(d);else if(R!==4&&(d=d.child,d!==null))for(u_(d,m,x),d=d.sibling;d!==null;)u_(d,m,x),d=d.sibling}var Qo=null,sc=!1;function If(d,m,x){for(x=x.child;x!==null;)s6(d,m,x),x=x.sibling}function s6(d,m,x){if($o&&typeof $o.onCommitFiberUnmount=="function")try{$o.onCommitFiberUnmount(Ga,x)}catch{}switch(x.tag){case 5:ys||oA(x,m);case 6:var R=Qo,U=sc;Qo=null,If(d,m,x),Qo=R,sc=U,Qo!==null&&(sc?(d=Qo,x=x.stateNode,d.nodeType===8?d.parentNode.removeChild(x):d.removeChild(x)):Qo.removeChild(x.stateNode));break;case 18:Qo!==null&&(sc?(d=Qo,x=x.stateNode,d.nodeType===8?Ih(d.parentNode,x):d.nodeType===1&&Ih(d,x),Za(d)):Ih(Qo,x.stateNode));break;case 4:R=Qo,U=sc,Qo=x.stateNode.containerInfo,sc=!0,If(d,m,x),Qo=R,sc=U;break;case 0:case 11:case 14:case 15:if(!ys&&(R=x.updateQueue,R!==null&&(R=R.lastEffect,R!==null))){U=R=R.next;do{var q=U,me=q.destroy;q=q.tag,me!==void 0&&((q&2)!==0||(q&4)!==0)&&a_(x,m,me),U=U.next}while(U!==R)}If(d,m,x);break;case 1:if(!ys&&(oA(x,m),R=x.stateNode,typeof R.componentWillUnmount=="function"))try{R.props=x.memoizedProps,R.state=x.memoizedState,R.componentWillUnmount()}catch(Be){Ri(x,m,Be)}If(d,m,x);break;case 21:If(d,m,x);break;case 22:x.mode&1?(ys=(R=ys)||x.memoizedState!==null,If(d,m,x),ys=R):If(d,m,x);break;default:If(d,m,x)}}function a6(d){var m=d.updateQueue;if(m!==null){d.updateQueue=null;var x=d.stateNode;x===null&&(x=d.stateNode=new BX),m.forEach(function(R){var U=XX.bind(null,d,R);x.has(R)||(x.add(R),R.then(U,U))})}}function ac(d,m){var x=m.deletions;if(x!==null)for(var R=0;R<x.length;R++){var U=x[R];try{var q=d,me=m,Be=me;e:for(;Be!==null;){switch(Be.tag){case 5:Qo=Be.stateNode,sc=!1;break e;case 3:Qo=Be.stateNode.containerInfo,sc=!0;break e;case 4:Qo=Be.stateNode.containerInfo,sc=!0;break e}Be=Be.return}if(Qo===null)throw Error(r(160));s6(q,me,U),Qo=null,sc=!1;var He=U.alternate;He!==null&&(He.return=null),U.return=null}catch(ht){Ri(U,m,ht)}}if(m.subtreeFlags&12854)for(m=m.child;m!==null;)l6(m,d),m=m.sibling}function l6(d,m){var x=d.alternate,R=d.flags;switch(d.tag){case 0:case 11:case 14:case 15:if(ac(m,d),Qc(d),R&4){try{wp(3,d,d.return),rv(3,d)}catch(lr){Ri(d,d.return,lr)}try{wp(5,d,d.return)}catch(lr){Ri(d,d.return,lr)}}break;case 1:ac(m,d),Qc(d),R&512&&x!==null&&oA(x,x.return);break;case 5:if(ac(m,d),Qc(d),R&512&&x!==null&&oA(x,x.return),d.flags&32){var U=d.stateNode;try{Tr(U,"")}catch(lr){Ri(d,d.return,lr)}}if(R&4&&(U=d.stateNode,U!=null)){var q=d.memoizedProps,me=x!==null?x.memoizedProps:q,Be=d.type,He=d.updateQueue;if(d.updateQueue=null,He!==null)try{Be==="input"&&q.type==="radio"&&q.name!=null&&At(U,q),fr(Be,me);var ht=fr(Be,q);for(me=0;me<He.length;me+=2){var Pt=He[me],kt=He[me+1];Pt==="style"?Wr(U,kt):Pt==="dangerouslySetInnerHTML"?Jt(U,kt):Pt==="children"?Tr(U,kt):N(U,Pt,kt,ht)}switch(Be){case"input":Vt(U,q);break;case"textarea":Hr(U,q);break;case"select":var Et=U._wrapperState.wasMultiple;U._wrapperState.wasMultiple=!!q.multiple;var Wt=q.value;Wt!=null?It(U,!!q.multiple,Wt,!1):Et!==!!q.multiple&&(q.defaultValue!=null?It(U,!!q.multiple,q.defaultValue,!0):It(U,!!q.multiple,q.multiple?[]:"",!1))}U[Jl]=q}catch(lr){Ri(d,d.return,lr)}}break;case 6:if(ac(m,d),Qc(d),R&4){if(d.stateNode===null)throw Error(r(162));U=d.stateNode,q=d.memoizedProps;try{U.nodeValue=q}catch(lr){Ri(d,d.return,lr)}}break;case 3:if(ac(m,d),Qc(d),R&4&&x!==null&&x.memoizedState.isDehydrated)try{Za(m.containerInfo)}catch(lr){Ri(d,d.return,lr)}break;case 4:ac(m,d),Qc(d);break;case 13:ac(m,d),Qc(d),U=d.child,U.flags&8192&&(q=U.memoizedState!==null,U.stateNode.isHidden=q,!q||U.alternate!==null&&U.alternate.memoizedState!==null||(d_=en())),R&4&&a6(d);break;case 22:if(Pt=x!==null&&x.memoizedState!==null,d.mode&1?(ys=(ht=ys)||Pt,ac(m,d),ys=ht):ac(m,d),Qc(d),R&8192){if(ht=d.memoizedState!==null,(d.stateNode.isHidden=ht)&&!Pt&&(d.mode&1)!==0)for(Yt=d,Pt=d.child;Pt!==null;){for(kt=Yt=Pt;Yt!==null;){switch(Et=Yt,Wt=Et.child,Et.tag){case 0:case 11:case 14:case 15:wp(4,Et,Et.return);break;case 1:oA(Et,Et.return);var nr=Et.stateNode;if(typeof nr.componentWillUnmount=="function"){R=Et,x=Et.return;try{m=R,nr.props=m.memoizedProps,nr.state=m.memoizedState,nr.componentWillUnmount()}catch(lr){Ri(R,x,lr)}}break;case 5:oA(Et,Et.return);break;case 22:if(Et.memoizedState!==null){f6(kt);continue}}Wt!==null?(Wt.return=Et,Yt=Wt):f6(kt)}Pt=Pt.sibling}e:for(Pt=null,kt=d;;){if(kt.tag===5){if(Pt===null){Pt=kt;try{U=kt.stateNode,ht?(q=U.style,typeof q.setProperty=="function"?q.setProperty("display","none","important"):q.display="none"):(Be=kt.stateNode,He=kt.memoizedProps.style,me=He!=null&&He.hasOwnProperty("display")?He.display:null,Be.style.display=Jr("display",me))}catch(lr){Ri(d,d.return,lr)}}}else if(kt.tag===6){if(Pt===null)try{kt.stateNode.nodeValue=ht?"":kt.memoizedProps}catch(lr){Ri(d,d.return,lr)}}else if((kt.tag!==22&&kt.tag!==23||kt.memoizedState===null||kt===d)&&kt.child!==null){kt.child.return=kt,kt=kt.child;continue}if(kt===d)break e;for(;kt.sibling===null;){if(kt.return===null||kt.return===d)break e;Pt===kt&&(Pt=null),kt=kt.return}Pt===kt&&(Pt=null),kt.sibling.return=kt.return,kt=kt.sibling}}break;case 19:ac(m,d),Qc(d),R&4&&a6(d);break;case 21:break;default:ac(m,d),Qc(d)}}function Qc(d){var m=d.flags;if(m&2){try{e:{for(var x=d.return;x!==null;){if(i6(x)){var R=x;break e}x=x.return}throw Error(r(160))}switch(R.tag){case 5:var U=R.stateNode;R.flags&32&&(Tr(U,""),R.flags&=-33);var q=o6(d);u_(d,q,U);break;case 3:case 4:var me=R.stateNode.containerInfo,Be=o6(d);c_(d,Be,me);break;default:throw Error(r(161))}}catch(He){Ri(d,d.return,He)}d.flags&=-3}m&4096&&(d.flags&=-4097)}function jX(d,m,x){Yt=d,c6(d)}function c6(d,m,x){for(var R=(d.mode&1)!==0;Yt!==null;){var U=Yt,q=U.child;if(U.tag===22&&R){var me=U.memoizedState!==null||tv;if(!me){var Be=U.alternate,He=Be!==null&&Be.memoizedState!==null||ys;Be=tv;var ht=ys;if(tv=me,(ys=He)&&!ht)for(Yt=U;Yt!==null;)me=Yt,He=me.child,me.tag===22&&me.memoizedState!==null?h6(U):He!==null?(He.return=me,Yt=He):h6(U);for(;q!==null;)Yt=q,c6(q),q=q.sibling;Yt=U,tv=Be,ys=ht}u6(d)}else(U.subtreeFlags&8772)!==0&&q!==null?(q.return=U,Yt=q):u6(d)}}function u6(d){for(;Yt!==null;){var m=Yt;if((m.flags&8772)!==0){var x=m.alternate;try{if((m.flags&8772)!==0)switch(m.tag){case 0:case 11:case 15:ys||rv(5,m);break;case 1:var R=m.stateNode;if(m.flags&4&&!ys)if(x===null)R.componentDidMount();else{var U=m.elementType===m.type?x.memoizedProps:oc(m.type,x.memoizedProps);R.componentDidUpdate(U,x.memoizedState,R.__reactInternalSnapshotBeforeUpdate)}var q=m.updateQueue;q!==null&&sa(m,q,R);break;case 3:var me=m.updateQueue;if(me!==null){if(x=null,m.child!==null)switch(m.child.tag){case 5:x=m.child.stateNode;break;case 1:x=m.child.stateNode}sa(m,me,x)}break;case 5:var Be=m.stateNode;if(x===null&&m.flags&4){x=Be;var He=m.memoizedProps;switch(m.type){case"button":case"input":case"select":case"textarea":He.autoFocus&&x.focus();break;case"img":He.src&&(x.src=He.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(m.memoizedState===null){var ht=m.alternate;if(ht!==null){var Pt=ht.memoizedState;if(Pt!==null){var kt=Pt.dehydrated;kt!==null&&Za(kt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}ys||m.flags&512&&l_(m)}catch(Et){Ri(m,m.return,Et)}}if(m===d){Yt=null;break}if(x=m.sibling,x!==null){x.return=m.return,Yt=x;break}Yt=m.return}}function f6(d){for(;Yt!==null;){var m=Yt;if(m===d){Yt=null;break}var x=m.sibling;if(x!==null){x.return=m.return,Yt=x;break}Yt=m.return}}function h6(d){for(;Yt!==null;){var m=Yt;try{switch(m.tag){case 0:case 11:case 15:var x=m.return;try{rv(4,m)}catch(He){Ri(m,x,He)}break;case 1:var R=m.stateNode;if(typeof R.componentDidMount=="function"){var U=m.return;try{R.componentDidMount()}catch(He){Ri(m,U,He)}}var q=m.return;try{l_(m)}catch(He){Ri(m,q,He)}break;case 5:var me=m.return;try{l_(m)}catch(He){Ri(m,me,He)}}}catch(He){Ri(m,m.return,He)}if(m===d){Yt=null;break}var Be=m.sibling;if(Be!==null){Be.return=m.return,Yt=Be;break}Yt=m.return}}var UX=Math.ceil,nv=D.ReactCurrentDispatcher,f_=D.ReactCurrentOwner,Al=D.ReactCurrentBatchConfig,vn=0,Io=null,Qi=null,Zo=0,La=0,sA=ps(0),fo=0,xp=null,Bh=0,iv=0,h_=0,Sp=null,la=null,d_=0,aA=1/0,ju=null,ov=!1,A_=null,Nf=null,sv=!1,Mf=null,av=0,Ep=0,p_=null,lv=-1,cv=0;function $s(){return(vn&6)!==0?en():lv!==-1?lv:lv=en()}function Lf(d){return(d.mode&1)===0?1:(vn&2)!==0&&Zo!==0?Zo&-Zo:je.transition!==null?(cv===0&&(cv=Lc()),cv):(d=ln,d!==0||(d=window.event,d=d===void 0?16:Vo(d.type)),d)}function lc(d,m,x,R){if(50<Ep)throw Ep=0,p_=null,Error(r(185));Dn(d,x,R),((vn&2)===0||d!==Io)&&(d===Io&&((vn&2)===0&&(iv|=x),fo===4&&Df(d,Zo)),ca(d,R),x===1&&vn===0&&(m.mode&1)===0&&(aA=en()+500,gs&&J()))}function ca(d,m){var x=d.callbackNode;di(d,m);var R=Ll(d,d===Io?Zo:0);if(R===0)x!==null&&ma(x),d.callbackNode=null,d.callbackPriority=0;else if(m=R&-R,d.callbackPriority!==m){if(x!=null&&ma(x),m===1)d.tag===0?W(A6.bind(null,d)):I(A6.bind(null,d)),hp(function(){(vn&6)===0&&J()}),x=null;else{switch(va(R)){case 1:x=Nc;break;case 4:x=oi;break;case 16:x=gr;break;case 536870912:x=hr;break;default:x=gr}x=w6(x,d6.bind(null,d))}d.callbackPriority=m,d.callbackNode=x}}function d6(d,m){if(lv=-1,cv=0,(vn&6)!==0)throw Error(r(327));var x=d.callbackNode;if(lA()&&d.callbackNode!==x)return null;var R=Ll(d,d===Io?Zo:0);if(R===0)return null;if((R&30)!==0||(R&d.expiredLanes)!==0||m)m=uv(d,R);else{m=R;var U=vn;vn|=2;var q=g6();(Io!==d||Zo!==m)&&(ju=null,aA=en()+500,jh(d,m));do try{WX();break}catch(Be){p6(d,Be)}while(!0);Ut(),nv.current=q,vn=U,Qi!==null?m=0:(Io=null,Zo=0,m=fo)}if(m!==0){if(m===2&&(U=is(d),U!==0&&(R=U,m=g_(d,U))),m===1)throw x=xp,jh(d,0),Df(d,R),ca(d,en()),x;if(m===6)Df(d,R);else{if(U=d.current.alternate,(R&30)===0&&!$X(U)&&(m=uv(d,R),m===2&&(q=is(d),q!==0&&(R=q,m=g_(d,q))),m===1))throw x=xp,jh(d,0),Df(d,R),ca(d,en()),x;switch(d.finishedWork=U,d.finishedLanes=R,m){case 0:case 1:throw Error(r(345));case 2:Uh(d,la,ju);break;case 3:if(Df(d,R),(R&130023424)===R&&(m=d_+500-en(),10<m)){if(Ll(d,0)!==0)break;if(U=d.suspendedLanes,(U&R)!==R){$s(),d.pingedLanes|=d.suspendedLanes&U;break}d.timeoutHandle=Tf(Uh.bind(null,d,la,ju),m);break}Uh(d,la,ju);break;case 4:if(Df(d,R),(R&4194240)===R)break;for(m=d.eventTimes,U=-1;0<R;){var me=31-fi(R);q=1<<me,me=m[me],me>U&&(U=me),R&=~q}if(R=U,R=en()-R,R=(120>R?120:480>R?480:1080>R?1080:1920>R?1920:3e3>R?3e3:4320>R?4320:1960*UX(R/1960))-R,10<R){d.timeoutHandle=Tf(Uh.bind(null,d,la,ju),R);break}Uh(d,la,ju);break;case 5:Uh(d,la,ju);break;default:throw Error(r(329))}}}return ca(d,en()),d.callbackNode===x?d6.bind(null,d):null}function g_(d,m){var x=Sp;return d.current.memoizedState.isDehydrated&&(jh(d,m).flags|=256),d=uv(d,m),d!==2&&(m=la,la=x,m!==null&&m_(m)),d}function m_(d){la===null?la=d:la.push.apply(la,d)}function $X(d){for(var m=d;;){if(m.flags&16384){var x=m.updateQueue;if(x!==null&&(x=x.stores,x!==null))for(var R=0;R<x.length;R++){var U=x[R],q=U.getSnapshot;U=U.value;try{if(!Bn(q(),U))return!1}catch{return!1}}}if(x=m.child,m.subtreeFlags&16384&&x!==null)x.return=m,m=x;else{if(m===d)break;for(;m.sibling===null;){if(m.return===null||m.return===d)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function Df(d,m){for(m&=~h_,m&=~iv,d.suspendedLanes|=m,d.pingedLanes&=~m,d=d.expirationTimes;0<m;){var x=31-fi(m),R=1<<x;d[x]=-1,m&=~R}}function A6(d){if((vn&6)!==0)throw Error(r(327));lA();var m=Ll(d,0);if((m&1)===0)return ca(d,en()),null;var x=uv(d,m);if(d.tag!==0&&x===2){var R=is(d);R!==0&&(m=R,x=g_(d,R))}if(x===1)throw x=xp,jh(d,0),Df(d,m),ca(d,en()),x;if(x===6)throw Error(r(345));return d.finishedWork=d.current.alternate,d.finishedLanes=m,Uh(d,la,ju),ca(d,en()),null}function v_(d,m){var x=vn;vn|=1;try{return d(m)}finally{vn=x,vn===0&&(aA=en()+500,gs&&J())}}function Fh(d){Mf!==null&&Mf.tag===0&&(vn&6)===0&&lA();var m=vn;vn|=1;var x=Al.transition,R=ln;try{if(Al.transition=null,ln=1,d)return d()}finally{ln=R,Al.transition=x,vn=m,(vn&6)===0&&J()}}function y_(){La=sA.current,pn(sA)}function jh(d,m){d.finishedWork=null,d.finishedLanes=0;var x=d.timeoutHandle;if(x!==-1&&(d.timeoutHandle=-1,Xd(x)),Qi!==null)for(x=Qi.return;x!==null;){var R=x;switch(f(R),R.tag){case 1:R=R.type.childContextTypes,R!=null&&er();break;case 3:fl(),pn(ko),pn($i),vp();break;case 5:gp(R);break;case 4:fl();break;case 13:pn(Xn);break;case 19:pn(Xn);break;case 10:Bt(R.type._context);break;case 22:case 23:y_()}x=x.return}if(Io=d,Qi=d=Bf(d.current,null),Zo=La=m,fo=0,xp=null,h_=iv=Bh=0,la=Sp=null,dr!==null){for(m=0;m<dr.length;m++)if(x=dr[m],R=x.interleaved,R!==null){x.interleaved=null;var U=R.next,q=x.pending;if(q!==null){var me=q.next;q.next=U,R.next=me}x.pending=R}dr=null}return d}function p6(d,m){do{var x=Qi;try{if(Ut(),Kd.current=Qm,kf){for(var R=ri.memoizedState;R!==null;){var U=R.queue;U!==null&&(U.pending=null),R=R.next}kf=!1}if(hl=0,Si=Oi=ri=null,nc=!1,Of=0,f_.current=null,x===null||x.return===null){fo=1,xp=m,Qi=null;break}e:{var q=d,me=x.return,Be=x,He=m;if(m=Zo,Be.flags|=32768,He!==null&&typeof He=="object"&&typeof He.then=="function"){var ht=He,Pt=Be,kt=Pt.tag;if((Pt.mode&1)===0&&(kt===0||kt===11||kt===15)){var Et=Pt.alternate;Et?(Pt.updateQueue=Et.updateQueue,Pt.memoizedState=Et.memoizedState,Pt.lanes=Et.lanes):(Pt.updateQueue=null,Pt.memoizedState=null)}var Wt=Uk(me);if(Wt!==null){Wt.flags&=-257,$k(Wt,me,Be,q,m),Wt.mode&1&&jk(q,ht,m),m=Wt,He=ht;var nr=m.updateQueue;if(nr===null){var lr=new Set;lr.add(He),m.updateQueue=lr}else nr.add(He);break e}else{if((m&1)===0){jk(q,ht,m),b_();break e}He=Error(r(426))}}else if(y&&Be.mode&1){var Wi=Uk(me);if(Wi!==null){(Wi.flags&65536)===0&&(Wi.flags|=256),$k(Wi,me,Be,q,m),ye(iA(He,Be));break e}}q=He=iA(He,Be),fo!==4&&(fo=2),Sp===null?Sp=[q]:Sp.push(q),q=me;do{switch(q.tag){case 3:q.flags|=65536,m&=-m,q.lanes|=m;var at=Bk(q,He,m);Rn(q,at);break e;case 1:Be=He;var Qe=q.type,ut=q.stateNode;if((q.flags&128)===0&&(typeof Qe.getDerivedStateFromError=="function"||ut!==null&&typeof ut.componentDidCatch=="function"&&(Nf===null||!Nf.has(ut)))){q.flags|=65536,m&=-m,q.lanes|=m;var Nt=Fk(q,Be,m);Rn(q,Nt);break e}}q=q.return}while(q!==null)}v6(x)}catch(ur){m=ur,Qi===x&&x!==null&&(Qi=x=x.return);continue}break}while(!0)}function g6(){var d=nv.current;return nv.current=Qm,d===null?Qm:d}function b_(){(fo===0||fo===3||fo===2)&&(fo=4),Io===null||(Bh&268435455)===0&&(iv&268435455)===0||Df(Io,Zo)}function uv(d,m){var x=vn;vn|=2;var R=g6();(Io!==d||Zo!==m)&&(ju=null,jh(d,m));do try{zX();break}catch(U){p6(d,U)}while(!0);if(Ut(),vn=x,nv.current=R,Qi!==null)throw Error(r(261));return Io=null,Zo=0,fo}function zX(){for(;Qi!==null;)m6(Qi)}function WX(){for(;Qi!==null&&!Di();)m6(Qi)}function m6(d){var m=_6(d.alternate,d,La);d.memoizedProps=d.pendingProps,m===null?v6(d):Qi=m,f_.current=null}function v6(d){var m=d;do{var x=m.alternate;if(d=m.return,(m.flags&32768)===0){if(x=LX(x,m,La),x!==null){Qi=x;return}}else{if(x=DX(x,m),x!==null){x.flags&=32767,Qi=x;return}if(d!==null)d.flags|=32768,d.subtreeFlags=0,d.deletions=null;else{fo=6,Qi=null;return}}if(m=m.sibling,m!==null){Qi=m;return}Qi=m=d}while(m!==null);fo===0&&(fo=5)}function Uh(d,m,x){var R=ln,U=Al.transition;try{Al.transition=null,ln=1,VX(d,m,x,R)}finally{Al.transition=U,ln=R}return null}function VX(d,m,x,R){do lA();while(Mf!==null);if((vn&6)!==0)throw Error(r(327));x=d.finishedWork;var U=d.finishedLanes;if(x===null)return null;if(d.finishedWork=null,d.finishedLanes=0,x===d.current)throw Error(r(177));d.callbackNode=null,d.callbackPriority=0;var q=x.lanes|x.childLanes;if(Xs(d,q),d===Io&&(Qi=Io=null,Zo=0),(x.subtreeFlags&2064)===0&&(x.flags&2064)===0||sv||(sv=!0,w6(gr,function(){return lA(),null})),q=(x.flags&15990)!==0,(x.subtreeFlags&15990)!==0||q){q=Al.transition,Al.transition=null;var me=ln;ln=1;var Be=vn;vn|=4,f_.current=null,FX(d,x),l6(x,d),ta(cl),jl=!!Zl,cl=Zl=null,d.current=x,jX(x),Ka(),vn=Be,ln=me,Al.transition=q}else d.current=x;if(sv&&(sv=!1,Mf=d,av=U),q=d.pendingLanes,q===0&&(Nf=null),vf(x.stateNode),ca(d,en()),m!==null)for(R=d.onRecoverableError,x=0;x<m.length;x++)U=m[x],R(U.value,{componentStack:U.stack,digest:U.digest});if(ov)throw ov=!1,d=A_,A_=null,d;return(av&1)!==0&&d.tag!==0&&lA(),q=d.pendingLanes,(q&1)!==0?d===p_?Ep++:(Ep=0,p_=d):Ep=0,J(),null}function lA(){if(Mf!==null){var d=va(av),m=Al.transition,x=ln;try{if(Al.transition=null,ln=16>d?16:d,Mf===null)var R=!1;else{if(d=Mf,Mf=null,av=0,(vn&6)!==0)throw Error(r(331));var U=vn;for(vn|=4,Yt=d.current;Yt!==null;){var q=Yt,me=q.child;if((Yt.flags&16)!==0){var Be=q.deletions;if(Be!==null){for(var He=0;He<Be.length;He++){var ht=Be[He];for(Yt=ht;Yt!==null;){var Pt=Yt;switch(Pt.tag){case 0:case 11:case 15:wp(8,Pt,q)}var kt=Pt.child;if(kt!==null)kt.return=Pt,Yt=kt;else for(;Yt!==null;){Pt=Yt;var Et=Pt.sibling,Wt=Pt.return;if(n6(Pt),Pt===ht){Yt=null;break}if(Et!==null){Et.return=Wt,Yt=Et;break}Yt=Wt}}}var nr=q.alternate;if(nr!==null){var lr=nr.child;if(lr!==null){nr.child=null;do{var Wi=lr.sibling;lr.sibling=null,lr=Wi}while(lr!==null)}}Yt=q}}if((q.subtreeFlags&2064)!==0&&me!==null)me.return=q,Yt=me;else e:for(;Yt!==null;){if(q=Yt,(q.flags&2048)!==0)switch(q.tag){case 0:case 11:case 15:wp(9,q,q.return)}var at=q.sibling;if(at!==null){at.return=q.return,Yt=at;break e}Yt=q.return}}var Qe=d.current;for(Yt=Qe;Yt!==null;){me=Yt;var ut=me.child;if((me.subtreeFlags&2064)!==0&&ut!==null)ut.return=me,Yt=ut;else e:for(me=Qe;Yt!==null;){if(Be=Yt,(Be.flags&2048)!==0)try{switch(Be.tag){case 0:case 11:case 15:rv(9,Be)}}catch(ur){Ri(Be,Be.return,ur)}if(Be===me){Yt=null;break e}var Nt=Be.sibling;if(Nt!==null){Nt.return=Be.return,Yt=Nt;break e}Yt=Be.return}}if(vn=U,J(),$o&&typeof $o.onPostCommitFiberRoot=="function")try{$o.onPostCommitFiberRoot(Ga,d)}catch{}R=!0}return R}finally{ln=x,Al.transition=m}}return!1}function y6(d,m,x){m=iA(x,m),m=Bk(d,m,1),d=wi(d,m,1),m=$s(),d!==null&&(Dn(d,1,m),ca(d,m))}function Ri(d,m,x){if(d.tag===3)y6(d,d,x);else for(;m!==null;){if(m.tag===3){y6(m,d,x);break}else if(m.tag===1){var R=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof R.componentDidCatch=="function"&&(Nf===null||!Nf.has(R))){d=iA(x,d),d=Fk(m,d,1),m=wi(m,d,1),d=$s(),m!==null&&(Dn(m,1,d),ca(m,d));break}}m=m.return}}function HX(d,m,x){var R=d.pingCache;R!==null&&R.delete(m),m=$s(),d.pingedLanes|=d.suspendedLanes&x,Io===d&&(Zo&x)===x&&(fo===4||fo===3&&(Zo&130023424)===Zo&&500>en()-d_?jh(d,0):h_|=x),ca(d,m)}function b6(d,m){m===0&&((d.mode&1)===0?m=1:(m=zo,zo<<=1,(zo&130023424)===0&&(zo=4194304)));var x=$s();d=$r(d,m),d!==null&&(Dn(d,m,x),ca(d,x))}function qX(d){var m=d.memoizedState,x=0;m!==null&&(x=m.retryLane),b6(d,x)}function XX(d,m){var x=0;switch(d.tag){case 13:var R=d.stateNode,U=d.memoizedState;U!==null&&(x=U.retryLane);break;case 19:R=d.stateNode;break;default:throw Error(r(314))}R!==null&&R.delete(m),b6(d,x)}var _6;_6=function(d,m,x){if(d!==null)if(d.memoizedProps!==m.pendingProps||ko.current)aa=!0;else{if((d.lanes&x)===0&&(m.flags&128)===0)return aa=!1,MX(d,m,x);aa=(d.flags&131072)!==0}else aa=!1,y&&(m.flags&1048576)!==0&&nt(m,Se,m.index);switch(m.lanes=0,m.tag){case 2:var R=m.type;ev(d,m),d=m.pendingProps;var U=Go(m,$i.current);vt(m,x),U=Mh(null,m,R,d,U,x);var q=dl();return m.flags|=1,typeof U=="object"&&U!==null&&typeof U.render=="function"&&U.$$typeof===void 0?(m.tag=1,m.memoizedState=null,m.updateQueue=null,qn(R)?(q=!0,Fn(m)):q=!1,m.memoizedState=U.state!==null&&U.state!==void 0?U.state:null,uo(m),U.updater=Zm,m.stateNode=U,U._reactInternals=m,Qb(m,R,d,x),m=t_(null,m,R,!0,q,x)):(m.tag=0,y&&q&&h(m),Us(null,m,U,x),m=m.child),m;case 16:R=m.elementType;e:{switch(ev(d,m),d=m.pendingProps,U=R._init,R=U(R._payload),m.type=R,U=m.tag=KX(R),d=oc(R,d),U){case 0:m=e_(null,m,R,d,x);break e;case 1:m=Xk(null,m,R,d,x);break e;case 11:m=zk(null,m,R,d,x);break e;case 14:m=Wk(null,m,R,oc(R.type,d),x);break e}throw Error(r(306,R,""))}return m;case 0:return R=m.type,U=m.pendingProps,U=m.elementType===R?U:oc(R,U),e_(d,m,R,U,x);case 1:return R=m.type,U=m.pendingProps,U=m.elementType===R?U:oc(R,U),Xk(d,m,R,U,x);case 3:e:{if(Yk(m),d===null)throw Error(r(387));R=m.pendingProps,q=m.memoizedState,U=q.element,ms(d,m),Ro(m,R,null,x);var me=m.memoizedState;if(R=me.element,q.isDehydrated)if(q={element:R,isDehydrated:!1,cache:me.cache,pendingSuspenseBoundaries:me.pendingSuspenseBoundaries,transitions:me.transitions},m.updateQueue.baseState=q,m.memoizedState=q,m.flags&256){U=iA(Error(r(423)),m),m=Kk(d,m,R,x,U);break e}else if(R!==U){U=iA(Error(r(424)),m),m=Kk(d,m,R,x,U);break e}else for(v=lo(m.stateNode.containerInfo.firstChild),p=m,y=!0,w=null,x=yt(m,null,R,x),m.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling;else{if(_e(),R===U){m=Fu(d,m,x);break e}Us(d,m,R,x)}m=m.child}return m;case 5:return qm(m),d===null&&j(m),R=m.type,U=m.pendingProps,q=d!==null?d.memoizedProps:null,me=U.children,Yc(R,U)?me=null:q!==null&&Yc(R,q)&&(m.flags|=32),qk(d,m),Us(d,m,me,x),m.child;case 6:return d===null&&j(m),null;case 13:return Gk(d,m,x);case 4:return Cf(m,m.stateNode.containerInfo),R=m.pendingProps,d===null?m.child=Ue(m,null,R,x):Us(d,m,R,x),m.child;case 11:return R=m.type,U=m.pendingProps,U=m.elementType===R?U:oc(R,U),zk(d,m,R,U,x);case 7:return Us(d,m,m.pendingProps,x),m.child;case 8:return Us(d,m,m.pendingProps.children,x),m.child;case 12:return Us(d,m,m.pendingProps.children,x),m.child;case 10:e:{if(R=m.type._context,U=m.pendingProps,q=m.memoizedProps,me=U.value,mn(Mt,R._currentValue),R._currentValue=me,q!==null)if(Bn(q.value,me)){if(q.children===U.children&&!ko.current){m=Fu(d,m,x);break e}}else for(q=m.child,q!==null&&(q.return=m);q!==null;){var Be=q.dependencies;if(Be!==null){me=q.child;for(var He=Be.firstContext;He!==null;){if(He.context===R){if(q.tag===1){He=_i(-1,x&-x),He.tag=2;var ht=q.updateQueue;if(ht!==null){ht=ht.shared;var Pt=ht.pending;Pt===null?He.next=He:(He.next=Pt.next,Pt.next=He),ht.pending=He}}q.lanes|=x,He=q.alternate,He!==null&&(He.lanes|=x),Ct(q.return,x,m),Be.lanes|=x;break}He=He.next}}else if(q.tag===10)me=q.type===m.type?null:q.child;else if(q.tag===18){if(me=q.return,me===null)throw Error(r(341));me.lanes|=x,Be=me.alternate,Be!==null&&(Be.lanes|=x),Ct(me,x,m),me=q.sibling}else me=q.child;if(me!==null)me.return=q;else for(me=q;me!==null;){if(me===m){me=null;break}if(q=me.sibling,q!==null){q.return=me.return,me=q;break}me=me.return}q=me}Us(d,m,U.children,x),m=m.child}return m;case 9:return U=m.type,R=m.pendingProps.children,vt(m,x),U=Xt(U),R=R(U),m.flags|=1,Us(d,m,R,x),m.child;case 14:return R=m.type,U=oc(R,m.pendingProps),U=oc(R.type,U),Wk(d,m,R,U,x);case 15:return Vk(d,m,m.type,m.pendingProps,x);case 17:return R=m.type,U=m.pendingProps,U=m.elementType===R?U:oc(R,U),ev(d,m),m.tag=1,qn(R)?(d=!0,Fn(m)):d=!1,vt(m,x),Lk(m,R,U),Qb(m,R,U,x),t_(null,m,R,!0,d,x);case 19:return Zk(d,m,x);case 22:return Hk(d,m,x)}throw Error(r(156,m.tag))};function w6(d,m){return Nl(d,m)}function YX(d,m,x,R){this.tag=d,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=R,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pl(d,m,x,R){return new YX(d,m,x,R)}function __(d){return d=d.prototype,!(!d||!d.isReactComponent)}function KX(d){if(typeof d=="function")return __(d)?1:0;if(d!=null){if(d=d.$$typeof,d===ee)return 11;if(d===Te)return 14}return 2}function Bf(d,m){var x=d.alternate;return x===null?(x=pl(d.tag,m,d.key,d.mode),x.elementType=d.elementType,x.type=d.type,x.stateNode=d.stateNode,x.alternate=d,d.alternate=x):(x.pendingProps=m,x.type=d.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=d.flags&14680064,x.childLanes=d.childLanes,x.lanes=d.lanes,x.child=d.child,x.memoizedProps=d.memoizedProps,x.memoizedState=d.memoizedState,x.updateQueue=d.updateQueue,m=d.dependencies,x.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},x.sibling=d.sibling,x.index=d.index,x.ref=d.ref,x}function fv(d,m,x,R,U,q){var me=2;if(R=d,typeof d=="function")__(d)&&(me=1);else if(typeof d=="string")me=5;else e:switch(d){case X:return $h(x.children,U,q,m);case Z:me=8,U|=8;break;case G:return d=pl(12,x,m,U|2),d.elementType=G,d.lanes=q,d;case ae:return d=pl(13,x,m,U),d.elementType=ae,d.lanes=q,d;case le:return d=pl(19,x,m,U),d.elementType=le,d.lanes=q,d;case oe:return hv(x,U,q,m);default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case de:me=10;break e;case H:me=9;break e;case ee:me=11;break e;case Te:me=14;break e;case te:me=16,R=null;break e}throw Error(r(130,d==null?d:typeof d,""))}return m=pl(me,x,m,U),m.elementType=d,m.type=R,m.lanes=q,m}function $h(d,m,x,R){return d=pl(7,d,R,m),d.lanes=x,d}function hv(d,m,x,R){return d=pl(22,d,R,m),d.elementType=oe,d.lanes=x,d.stateNode={isHidden:!1},d}function w_(d,m,x){return d=pl(6,d,null,m),d.lanes=x,d}function x_(d,m,x){return m=pl(4,d.children!==null?d.children:[],d.key,m),m.lanes=x,m.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},m}function GX(d,m,x,R,U){this.tag=m,this.containerInfo=d,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bo(0),this.expirationTimes=bo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bo(0),this.identifierPrefix=R,this.onRecoverableError=U,this.mutableSourceEagerHydrationData=null}function S_(d,m,x,R,U,q,me,Be,He){return d=new GX(d,m,x,Be,He),m===1?(m=1,q===!0&&(m|=8)):m=0,q=pl(3,null,null,m),d.current=q,q.stateNode=d,q.memoizedState={element:R,isDehydrated:x,cache:null,transitions:null,pendingSuspenseBoundaries:null},uo(q),d}function QX(d,m,x){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:z,key:R==null?null:""+R,children:d,containerInfo:m,implementation:x}}function x6(d){if(!d)return ul;d=d._reactInternals;e:{if(yr(d)!==d||d.tag!==1)throw Error(r(170));var m=d;do{switch(m.tag){case 3:m=m.stateNode.context;break e;case 1:if(qn(m.type)){m=m.stateNode.__reactInternalMemoizedMergedChildContext;break e}}m=m.return}while(m!==null);throw Error(r(171))}if(d.tag===1){var x=d.type;if(qn(x))return tr(d,x,m)}return m}function S6(d,m,x,R,U,q,me,Be,He){return d=S_(x,R,!0,d,U,q,me,Be,He),d.context=x6(null),x=d.current,R=$s(),U=Lf(x),q=_i(R,U),q.callback=m??null,wi(x,q,U),d.current.lanes=U,Dn(d,U,R),ca(d,R),d}function dv(d,m,x,R){var U=m.current,q=$s(),me=Lf(U);return x=x6(x),m.context===null?m.context=x:m.pendingContext=x,m=_i(q,me),m.payload={element:d},R=R===void 0?null:R,R!==null&&(m.callback=R),d=wi(U,m,me),d!==null&&(lc(d,U,me,q),Oo(d,U,me)),me}function Av(d){if(d=d.current,!d.child)return null;switch(d.child.tag){case 5:return d.child.stateNode;default:return d.child.stateNode}}function E6(d,m){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var x=d.retryLane;d.retryLane=x!==0&&x<m?x:m}}function E_(d,m){E6(d,m),(d=d.alternate)&&E6(d,m)}function ZX(){return null}var T6=typeof reportError=="function"?reportError:function(d){console.error(d)};function T_(d){this._internalRoot=d}pv.prototype.render=T_.prototype.render=function(d){var m=this._internalRoot;if(m===null)throw Error(r(409));dv(d,m,null,null)},pv.prototype.unmount=T_.prototype.unmount=function(){var d=this._internalRoot;if(d!==null){this._internalRoot=null;var m=d.containerInfo;Fh(function(){dv(null,d,null,null)}),m[ji]=null}};function pv(d){this._internalRoot=d}pv.prototype.unstable_scheduleHydration=function(d){if(d){var m=bf();d={blockedOn:null,target:d,priority:m};for(var x=0;x<ss.length&&m!==0&&m<ss[x].priority;x++);ss.splice(x,0,d),x===0&&Cu(d)}};function P_(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)}function gv(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11&&(d.nodeType!==8||d.nodeValue!==" react-mount-point-unstable "))}function P6(){}function JX(d,m,x,R,U){if(U){if(typeof R=="function"){var q=R;R=function(){var ht=Av(me);q.call(ht)}}var me=S6(m,R,d,0,null,!1,!1,"",P6);return d._reactRootContainer=me,d[ji]=me.current,Kl(d.nodeType===8?d.parentNode:d),Fh(),me}for(;U=d.lastChild;)d.removeChild(U);if(typeof R=="function"){var Be=R;R=function(){var ht=Av(He);Be.call(ht)}}var He=S_(d,0,!1,null,null,!1,!1,"",P6);return d._reactRootContainer=He,d[ji]=He.current,Kl(d.nodeType===8?d.parentNode:d),Fh(function(){dv(m,He,x,R)}),He}function mv(d,m,x,R,U){var q=x._reactRootContainer;if(q){var me=q;if(typeof U=="function"){var Be=U;U=function(){var He=Av(me);Be.call(He)}}dv(m,me,d,U)}else me=JX(x,m,d,U,R);return Av(me)}Qa=function(d){switch(d.tag){case 3:var m=d.stateNode;if(m.current.memoizedState.isDehydrated){var x=qs(m.pendingLanes);x!==0&&(Dl(m,x|1),ca(m,en()),(vn&6)===0&&(aA=en()+500,J()))}break;case 13:Fh(function(){var R=$r(d,1);if(R!==null){var U=$s();lc(R,d,1,U)}}),E_(d,1)}},Dc=function(d){if(d.tag===13){var m=$r(d,134217728);if(m!==null){var x=$s();lc(m,d,134217728,x)}E_(d,134217728)}},yf=function(d){if(d.tag===13){var m=Lf(d),x=$r(d,m);if(x!==null){var R=$s();lc(x,d,m,R)}E_(d,m)}},bf=function(){return ln},Bc=function(d,m){var x=ln;try{return ln=d,m()}finally{ln=x}},Ir=function(d,m,x){switch(m){case"input":if(Vt(d,x),m=x.name,x.type==="radio"&&m!=null){for(x=d;x.parentNode;)x=x.parentNode;for(x=x.querySelectorAll("input[name="+JSON.stringify(""+m)+'][type="radio"]'),m=0;m<x.length;m++){var R=x[m];if(R!==d&&R.form===d.form){var U=Du(R);if(!U)throw Error(r(90));tt(R),Vt(R,U)}}}break;case"textarea":Hr(d,x);break;case"select":m=x.value,m!=null&&It(d,!!x.multiple,m,!1)}},Ti=v_,Rs=Fh;var eY={usingClientEntryPoint:!1,Events:[Ui,ec,Du,nn,ga,v_]},Tp={findFiberByHostInstance:As,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tY={bundleType:Tp.bundleType,version:Tp.version,rendererPackageName:Tp.rendererPackageName,rendererConfig:Tp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:D.ReactCurrentDispatcher,findHostInstanceByFiber:function(d){return d=Qn(d),d===null?null:d.stateNode},findFiberByHostInstance:Tp.findFiberByHostInstance||ZX,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vv.isDisabled&&vv.supportsFiber)try{Ga=vv.inject(tY),$o=vv}catch{}}return ua.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eY,ua.createPortal=function(d,m){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!P_(m))throw Error(r(200));return QX(d,m,null,x)},ua.createRoot=function(d,m){if(!P_(d))throw Error(r(299));var x=!1,R="",U=T6;return m!=null&&(m.unstable_strictMode===!0&&(x=!0),m.identifierPrefix!==void 0&&(R=m.identifierPrefix),m.onRecoverableError!==void 0&&(U=m.onRecoverableError)),m=S_(d,1,!1,null,null,x,!1,R,U),d[ji]=m.current,Kl(d.nodeType===8?d.parentNode:d),new T_(m)},ua.findDOMNode=function(d){if(d==null)return null;if(d.nodeType===1)return d;var m=d._reactInternals;if(m===void 0)throw typeof d.render=="function"?Error(r(188)):(d=Object.keys(d).join(","),Error(r(268,d)));return d=Qn(m),d=d===null?null:d.stateNode,d},ua.flushSync=function(d){return Fh(d)},ua.hydrate=function(d,m,x){if(!gv(m))throw Error(r(200));return mv(null,d,m,!0,x)},ua.hydrateRoot=function(d,m,x){if(!P_(d))throw Error(r(405));var R=x!=null&&x.hydratedSources||null,U=!1,q="",me=T6;if(x!=null&&(x.unstable_strictMode===!0&&(U=!0),x.identifierPrefix!==void 0&&(q=x.identifierPrefix),x.onRecoverableError!==void 0&&(me=x.onRecoverableError)),m=S6(m,null,d,1,x??null,U,!1,q,me),d[ji]=m.current,Kl(d),R)for(d=0;d<R.length;d++)x=R[d],U=x._getVersion,U=U(x._source),m.mutableSourceEagerHydrationData==null?m.mutableSourceEagerHydrationData=[x,U]:m.mutableSourceEagerHydrationData.push(x,U);return new pv(m)},ua.render=function(d,m,x){if(!gv(m))throw Error(r(200));return mv(null,d,m,!1,x)},ua.unmountComponentAtNode=function(d){if(!gv(d))throw Error(r(40));return d._reactRootContainer?(Fh(function(){mv(null,null,d,!1,function(){d._reactRootContainer=null,d[ji]=null})}),!0):!1},ua.unstable_batchedUpdates=v_,ua.unstable_renderSubtreeIntoContainer=function(d,m,x,R){if(!gv(x))throw Error(r(200));if(d==null||d._reactInternals===void 0)throw Error(r(38));return mv(d,m,x,!1,R)},ua.version="18.3.1-next-f1338f8080-20240426",ua}var L6;function fj(){if(L6)return O_.exports;L6=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),O_.exports=fY(),O_.exports}var D6;function hY(){if(D6)return bv;D6=1;var t=fj();return bv.createRoot=t.createRoot,bv.hydrateRoot=t.hydrateRoot,bv}var dY=hY(),Q=YT();const Ke=Ln(Q),AY=oY({__proto__:null,default:Ke},[Q]);/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var B6="popstate";function pY(t={}){function e(n,i){let{pathname:o,search:s,hash:a}=n.location;return c4("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Pg(i)}return mY(e,r,null,t)}function mi(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function _c(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function gY(){return Math.random().toString(36).substring(2,10)}function F6(t,e){return{usr:t.state,key:t.key,idx:e}}function c4(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?W0(e):e,state:r,key:e&&e.key||n||gY()}}function Pg({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function W0(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function mY(t,e,r,n={}){let{window:i=document.defaultView,v5Compat:o=!1}=n,s=i.history,a="POP",l=null,c=u();c==null&&(c=0,s.replaceState({...s.state,idx:c},""));function u(){return(s.state||{idx:null}).idx}function g(){a="POP";let T=u(),O=T==null?null:T-c;c=T,l&&l({action:a,location:E.location,delta:O})}function _(T,O){a="PUSH";let L=c4(E.location,T,O);c=u()+1;let N=F6(L,c),D=E.createHref(L);try{s.pushState(N,"",D)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;i.location.assign(D)}o&&l&&l({action:a,location:E.location,delta:1})}function b(T,O){a="REPLACE";let L=c4(E.location,T,O);c=u();let N=F6(L,c),D=E.createHref(L);s.replaceState(N,"",D),o&&l&&l({action:a,location:E.location,delta:0})}function P(T){return vY(T)}let E={get action(){return a},get location(){return t(i,s)},listen(T){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(B6,g),l=T,()=>{i.removeEventListener(B6,g),l=null}},createHref(T){return e(i,T)},createURL:P,encodeLocation(T){let O=P(T);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:_,replace:b,go(T){return s.go(T)}};return E}function vY(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),mi(r,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:Pg(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function hj(t,e,r="/"){return yY(t,e,r,!1)}function yY(t,e,r,n){let i=typeof e=="string"?W0(e):e,o=nf(i.pathname||"/",r);if(o==null)return null;let s=dj(t);bY(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let c=RY(o);a=kY(s[l],c,n)}return a}function dj(t,e=[],r=[],n="",i=!1){let o=(s,a,l=i,c)=>{let u={relativePath:c===void 0?s.path||"":c,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};if(u.relativePath.startsWith("/")){if(!u.relativePath.startsWith(n)&&l)return;mi(u.relativePath.startsWith(n),`Absolute route path "${u.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(n.length)}let g=Ju([n,u.relativePath]),_=r.concat(u);s.children&&s.children.length>0&&(mi(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),dj(s.children,e,_,g,l)),!(s.path==null&&!s.index)&&e.push({path:g,score:PY(g,s.index),routesMeta:_})};return t.forEach((s,a)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))o(s,a);else for(let c of Aj(s.path))o(s,a,!0,c)}),e}function Aj(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return i?[o,""]:[o];let s=Aj(n.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function bY(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:CY(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var _Y=/^:[\w-]+$/,wY=3,xY=2,SY=1,EY=10,TY=-2,j6=t=>t==="*";function PY(t,e){let r=t.split("/"),n=r.length;return r.some(j6)&&(n+=TY),e&&(n+=xY),r.filter(i=>!j6(i)).reduce((i,o)=>i+(_Y.test(o)?wY:o===""?SY:EY),n)}function CY(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function kY(t,e,r=!1){let{routesMeta:n}=t,i={},o="/",s=[];for(let a=0;a<n.length;++a){let l=n[a],c=a===n.length-1,u=o==="/"?e:e.slice(o.length)||"/",g=$1({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),_=l.route;if(!g&&c&&r&&!n[n.length-1].route.index&&(g=$1({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!g)return null;Object.assign(i,g.params),s.push({params:i,pathname:Ju([o,g.pathname]),pathnameBase:LY(Ju([o,g.pathnameBase])),route:_}),g.pathnameBase!=="/"&&(o=Ju([o,g.pathnameBase]))}return s}function $1(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=OY(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:n.reduce((c,{paramName:u,isOptional:g},_)=>{if(u==="*"){let P=a[_]||"";s=o.slice(0,o.length-P.length).replace(/(.)\/+$/,"$1")}const b=a[_];return g&&!b?c[u]=void 0:c[u]=(b||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:s,pattern:t}}function OY(t,e=!1,r=!0){_c(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function RY(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return _c(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function nf(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}var IY=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function NY(t,e="/"){let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?W0(t):t,o;return r?(r=r.replace(/\/\/+/g,"/"),r.startsWith("/")?o=U6(r.substring(1),"/"):o=U6(r,e)):o=e,{pathname:o,search:DY(n),hash:BY(i)}}function U6(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function N_(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function MY(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function KT(t){let e=MY(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function GT(t,e,r,n=!1){let i;typeof t=="string"?i=W0(t):(i={...t},mi(!i.pathname||!i.pathname.includes("?"),N_("?","pathname","search",i)),mi(!i.pathname||!i.pathname.includes("#"),N_("#","pathname","hash",i)),mi(!i.search||!i.search.includes("#"),N_("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=r;else{let g=e.length-1;if(!n&&s.startsWith("..")){let _=s.split("/");for(;_[0]==="..";)_.shift(),g-=1;i.pathname=_.join("/")}a=g>=0?e[g]:"/"}let l=NY(i,a),c=s&&s!=="/"&&s.endsWith("/"),u=(o||s===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}var Ju=t=>t.join("/").replace(/\/\/+/g,"/"),LY=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),DY=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,BY=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,FY=class{constructor(t,e,r,n=!1){this.status=t,this.statusText=e||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function jY(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function UY(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var pj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function gj(t,e){let r=t;if(typeof r!="string"||!IY.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let n=r,i=!1;if(pj)try{let o=new URL(window.location.href),s=r.startsWith("//")?new URL(o.protocol+r):new URL(r),a=nf(s.pathname,e);s.origin===o.origin&&a!=null?r=a+s.search+s.hash:i=!0}catch{_c(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:i,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var mj=["POST","PUT","PATCH","DELETE"];new Set(mj);var $Y=["GET",...mj];new Set($Y);var V0=Q.createContext(null);V0.displayName="DataRouter";var z2=Q.createContext(null);z2.displayName="DataRouterState";var zY=Q.createContext(!1),vj=Q.createContext({isTransitioning:!1});vj.displayName="ViewTransition";var WY=Q.createContext(new Map);WY.displayName="Fetchers";var VY=Q.createContext(null);VY.displayName="Await";var Ya=Q.createContext(null);Ya.displayName="Navigation";var wm=Q.createContext(null);wm.displayName="Location";var Ec=Q.createContext({outlet:null,matches:[],isDataRoute:!1});Ec.displayName="Route";var QT=Q.createContext(null);QT.displayName="RouteError";var yj="REACT_ROUTER_ERROR",HY="REDIRECT",qY="ROUTE_ERROR_RESPONSE";function XY(t){if(t.startsWith(`${yj}:${HY}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function YY(t){if(t.startsWith(`${yj}:${qY}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new FY(e.status,e.statusText,e.data)}catch{}}function KY(t,{relative:e}={}){mi(H0(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=Q.useContext(Ya),{hash:i,pathname:o,search:s}=xm(t,{relative:e}),a=o;return r!=="/"&&(a=o==="/"?r:Ju([r,o])),n.createHref({pathname:a,search:s,hash:i})}function H0(){return Q.useContext(wm)!=null}function gh(){return mi(H0(),"useLocation() may be used only in the context of a <Router> component."),Q.useContext(wm).location}var bj="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function _j(t){Q.useContext(Ya).static||Q.useLayoutEffect(t)}function wj(){let{isDataRoute:t}=Q.useContext(Ec);return t?uK():GY()}function GY(){mi(H0(),"useNavigate() may be used only in the context of a <Router> component.");let t=Q.useContext(V0),{basename:e,navigator:r}=Q.useContext(Ya),{matches:n}=Q.useContext(Ec),{pathname:i}=gh(),o=JSON.stringify(KT(n)),s=Q.useRef(!1);return _j(()=>{s.current=!0}),Q.useCallback((l,c={})=>{if(_c(s.current,bj),!s.current)return;if(typeof l=="number"){r.go(l);return}let u=GT(l,JSON.parse(o),i,c.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:Ju([e,u.pathname])),(c.replace?r.replace:r.push)(u,c.state,c)},[e,r,o,i,t])}var QY=Q.createContext(null);function ZY(t){let e=Q.useContext(Ec).outlet;return Q.useMemo(()=>e&&Q.createElement(QY.Provider,{value:t},e),[e,t])}function xm(t,{relative:e}={}){let{matches:r}=Q.useContext(Ec),{pathname:n}=gh(),i=JSON.stringify(KT(r));return Q.useMemo(()=>GT(t,JSON.parse(i),n,e==="path"),[t,i,n,e])}function JY(t,e){return xj(t,e)}function xj(t,e,r,n,i){var L;mi(H0(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=Q.useContext(Ya),{matches:s}=Q.useContext(Ec),a=s[s.length-1],l=a?a.params:{},c=a?a.pathname:"/",u=a?a.pathnameBase:"/",g=a&&a.route;{let N=g&&g.path||"";Ej(c,!g||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let _=gh(),b;if(e){let N=typeof e=="string"?W0(e):e;mi(u==="/"||((L=N.pathname)==null?void 0:L.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${N.pathname}" was given in the \`location\` prop.`),b=N}else b=_;let P=b.pathname||"/",E=P;if(u!=="/"){let N=u.replace(/^\//,"").split("/");E="/"+P.replace(/^\//,"").split("/").slice(N.length).join("/")}let T=hj(t,{pathname:E});_c(g||T!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),_c(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=iK(T&&T.map(N=>Object.assign({},N,{params:Object.assign({},l,N.params),pathname:Ju([u,o.encodeLocation?o.encodeLocation(N.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?u:Ju([u,o.encodeLocation?o.encodeLocation(N.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathnameBase])})),s,r,n,i);return e&&O?Q.createElement(wm.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},O):O}function eK(){let t=cK(),e=jY(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},o={padding:"2px 4px",backgroundColor:n},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=Q.createElement(Q.Fragment,null,Q.createElement("p",null," Hey developer "),Q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Q.createElement("code",{style:o},"ErrorBoundary")," or"," ",Q.createElement("code",{style:o},"errorElement")," prop on your route.")),Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},e),r?Q.createElement("pre",{style:i},r):null,s)}var tK=Q.createElement(eK,null),Sj=class extends Q.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const r=YY(t.digest);r&&(t=r)}let e=t!==void 0?Q.createElement(Ec.Provider,{value:this.props.routeContext},Q.createElement(QT.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?Q.createElement(rK,{error:t},e):e}};Sj.contextType=zY;var M_=new WeakMap;function rK({children:t,error:e}){let{basename:r}=Q.useContext(Ya);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let n=XY(e.digest);if(n){let i=M_.get(e);if(i)throw i;let o=gj(n.location,r);if(pj&&!M_.get(e))if(o.isExternal||n.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const s=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:n.replace}));throw M_.set(e,s),s}return Q.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return t}function nK({routeContext:t,match:e,children:r}){let n=Q.useContext(V0);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),Q.createElement(Ec.Provider,{value:t},r)}function iK(t,e=[],r=null,n=null,i=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,s=r==null?void 0:r.errors;if(s!=null){let u=o.findIndex(g=>g.route.id&&(s==null?void 0:s[g.route.id])!==void 0);mi(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),o=o.slice(0,Math.min(o.length,u+1))}let a=!1,l=-1;if(r)for(let u=0;u<o.length;u++){let g=o[u];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(l=u),g.route.id){let{loaderData:_,errors:b}=r,P=g.route.loader&&!_.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||P){a=!0,l>=0?o=o.slice(0,l+1):o=[o[0]];break}}}let c=r&&n?(u,g)=>{var _,b;n(u,{location:r.location,params:((b=(_=r.matches)==null?void 0:_[0])==null?void 0:b.params)??{},unstable_pattern:UY(r.matches),errorInfo:g})}:void 0;return o.reduceRight((u,g,_)=>{let b,P=!1,E=null,T=null;r&&(b=s&&g.route.id?s[g.route.id]:void 0,E=g.route.errorElement||tK,a&&(l<0&&_===0?(Ej("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),P=!0,T=null):l===_&&(P=!0,T=g.route.hydrateFallbackElement||null)));let O=e.concat(o.slice(0,_+1)),L=()=>{let N;return b?N=E:P?N=T:g.route.Component?N=Q.createElement(g.route.Component,null):g.route.element?N=g.route.element:N=u,Q.createElement(nK,{match:g,routeContext:{outlet:u,matches:O,isDataRoute:r!=null},children:N})};return r&&(g.route.ErrorBoundary||g.route.errorElement||_===0)?Q.createElement(Sj,{location:r.location,revalidation:r.revalidation,component:E,error:b,children:L(),routeContext:{outlet:null,matches:O,isDataRoute:!0},onError:c}):L()},null)}function ZT(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function oK(t){let e=Q.useContext(V0);return mi(e,ZT(t)),e}function sK(t){let e=Q.useContext(z2);return mi(e,ZT(t)),e}function aK(t){let e=Q.useContext(Ec);return mi(e,ZT(t)),e}function JT(t){let e=aK(t),r=e.matches[e.matches.length-1];return mi(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function lK(){return JT("useRouteId")}function cK(){var n;let t=Q.useContext(QT),e=sK("useRouteError"),r=JT("useRouteError");return t!==void 0?t:(n=e.errors)==null?void 0:n[r]}function uK(){let{router:t}=oK("useNavigate"),e=JT("useNavigate"),r=Q.useRef(!1);return _j(()=>{r.current=!0}),Q.useCallback(async(i,o={})=>{_c(r.current,bj),r.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:e,...o}))},[t,e])}var $6={};function Ej(t,e,r){!e&&!$6[t]&&($6[t]=!0,_c(!1,r))}Q.memo(fK);function fK({routes:t,future:e,state:r,onError:n}){return xj(t,void 0,r,n,e)}function hK({to:t,replace:e,state:r,relative:n}){mi(H0(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=Q.useContext(Ya);_c(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=Q.useContext(Ec),{pathname:s}=gh(),a=wj(),l=GT(t,KT(o),s,n==="path"),c=JSON.stringify(l);return Q.useEffect(()=>{a(JSON.parse(c),{replace:e,state:r,relative:n})},[a,c,n,e,r]),null}function dK(t){return ZY(t.context)}function ru(t){mi(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function AK({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:i,static:o=!1,unstable_useTransitions:s}){mi(!H0(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=t.replace(/^\/*/,"/"),l=Q.useMemo(()=>({basename:a,navigator:i,static:o,unstable_useTransitions:s,future:{}}),[a,i,o,s]);typeof r=="string"&&(r=W0(r));let{pathname:c="/",search:u="",hash:g="",state:_=null,key:b="default"}=r,P=Q.useMemo(()=>{let E=nf(c,a);return E==null?null:{location:{pathname:E,search:u,hash:g,state:_,key:b},navigationType:n}},[a,c,u,g,_,b,n]);return _c(P!=null,`<Router basename="${a}"> is not able to match the URL "${c}${u}${g}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:Q.createElement(Ya.Provider,{value:l},Q.createElement(wm.Provider,{children:e,value:P}))}function pK({children:t,location:e}){return JY(u4(t),e)}function u4(t,e=[]){let r=[];return Q.Children.forEach(t,(n,i)=>{if(!Q.isValidElement(n))return;let o=[...e,i];if(n.type===Q.Fragment){r.push.apply(r,u4(n.props.children,o));return}mi(n.type===ru,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),mi(!n.props.index||!n.props.children,"An index route cannot have child routes.");let s={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=u4(n.props.children,o)),r.push(s)}),r}var v1="get",y1="application/x-www-form-urlencoded";function W2(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function gK(t){return W2(t)&&t.tagName.toLowerCase()==="button"}function mK(t){return W2(t)&&t.tagName.toLowerCase()==="form"}function vK(t){return W2(t)&&t.tagName.toLowerCase()==="input"}function yK(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function bK(t,e){return t.button===0&&(!e||e==="_self")&&!yK(t)}var _v=null;function _K(){if(_v===null)try{new FormData(document.createElement("form"),0),_v=!1}catch{_v=!0}return _v}var wK=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function L_(t){return t!=null&&!wK.has(t)?(_c(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${y1}"`),null):t}function xK(t,e){let r,n,i,o,s;if(mK(t)){let a=t.getAttribute("action");n=a?nf(a,e):null,r=t.getAttribute("method")||v1,i=L_(t.getAttribute("enctype"))||y1,o=new FormData(t)}else if(gK(t)||vK(t)&&(t.type==="submit"||t.type==="image")){let a=t.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=t.getAttribute("formaction")||a.getAttribute("action");if(n=l?nf(l,e):null,r=t.getAttribute("formmethod")||a.getAttribute("method")||v1,i=L_(t.getAttribute("formenctype"))||L_(a.getAttribute("enctype"))||y1,o=new FormData(a,t),!_K()){let{name:c,type:u,value:g}=t;if(u==="image"){let _=c?`${c}.`:"";o.append(`${_}x`,"0"),o.append(`${_}y`,"0")}else c&&o.append(c,g)}}else{if(W2(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=v1,n=null,i=y1,s=t}return o&&i==="text/plain"&&(s=o,o=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:o,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function eP(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function SK(t,e,r,n){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${n}`:i.pathname=`${i.pathname}.${n}`:i.pathname==="/"?i.pathname=`_root.${n}`:e&&nf(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function EK(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function TK(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function PK(t,e,r){let n=await Promise.all(t.map(async i=>{let o=e.routes[i.route.id];if(o){let s=await EK(o,r);return s.links?s.links():[]}return[]}));return RK(n.flat(1).filter(TK).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function z6(t,e,r,n,i,o){let s=(l,c)=>r[c]?l.route.id!==r[c].route.id:!0,a=(l,c)=>{var u;return r[c].pathname!==l.pathname||((u=r[c].route.path)==null?void 0:u.endsWith("*"))&&r[c].params["*"]!==l.params["*"]};return o==="assets"?e.filter((l,c)=>s(l,c)||a(l,c)):o==="data"?e.filter((l,c)=>{var g;let u=n.routes[l.route.id];if(!u||!u.hasLoader)return!1;if(s(l,c)||a(l,c))return!0;if(l.route.shouldRevalidate){let _=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((g=r[0])==null?void 0:g.params)||{},nextUrl:new URL(t,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function CK(t,e,{includeHydrateFallback:r}={}){return kK(t.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function kK(t){return[...new Set(t)]}function OK(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function RK(t,e){let r=new Set;return new Set(e),t.reduce((n,i)=>{let o=JSON.stringify(OK(i));return r.has(o)||(r.add(o),n.push({key:o,link:i})),n},[])}function Tj(){let t=Q.useContext(V0);return eP(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function IK(){let t=Q.useContext(z2);return eP(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var tP=Q.createContext(void 0);tP.displayName="FrameworkContext";function Pj(){let t=Q.useContext(tP);return eP(t,"You must render this element inside a <HydratedRouter> element"),t}function NK(t,e){let r=Q.useContext(tP),[n,i]=Q.useState(!1),[o,s]=Q.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:c,onMouseLeave:u,onTouchStart:g}=e,_=Q.useRef(null);Q.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let E=O=>{O.forEach(L=>{s(L.isIntersecting)})},T=new IntersectionObserver(E,{threshold:.5});return _.current&&T.observe(_.current),()=>{T.disconnect()}}},[t]),Q.useEffect(()=>{if(n){let E=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(E)}}},[n]);let b=()=>{i(!0)},P=()=>{i(!1),s(!1)};return r?t!=="intent"?[o,_,{}]:[o,_,{onFocus:Cp(a,b),onBlur:Cp(l,P),onMouseEnter:Cp(c,b),onMouseLeave:Cp(u,P),onTouchStart:Cp(g,b)}]:[!1,_,{}]}function Cp(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function MK({page:t,...e}){let{router:r}=Tj(),n=Q.useMemo(()=>hj(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?Q.createElement(DK,{page:t,matches:n,...e}):null}function LK(t){let{manifest:e,routeModules:r}=Pj(),[n,i]=Q.useState([]);return Q.useEffect(()=>{let o=!1;return PK(t,e,r).then(s=>{o||i(s)}),()=>{o=!0}},[t,e,r]),n}function DK({page:t,matches:e,...r}){let n=gh(),{future:i,manifest:o,routeModules:s}=Pj(),{basename:a}=Tj(),{loaderData:l,matches:c}=IK(),u=Q.useMemo(()=>z6(t,e,c,o,n,"data"),[t,e,c,o,n]),g=Q.useMemo(()=>z6(t,e,c,o,n,"assets"),[t,e,c,o,n]),_=Q.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let E=new Set,T=!1;if(e.forEach(L=>{var D;let N=o.routes[L.route.id];!N||!N.hasLoader||(!u.some(B=>B.route.id===L.route.id)&&L.route.id in l&&((D=s[L.route.id])!=null&&D.shouldRevalidate)||N.hasClientLoader?T=!0:E.add(L.route.id))}),E.size===0)return[];let O=SK(t,a,i.unstable_trailingSlashAwareDataRequests,"data");return T&&E.size>0&&O.searchParams.set("_routes",e.filter(L=>E.has(L.route.id)).map(L=>L.route.id).join(",")),[O.pathname+O.search]},[a,i.unstable_trailingSlashAwareDataRequests,l,n,o,u,e,t,s]),b=Q.useMemo(()=>CK(g,o),[g,o]),P=LK(g);return Q.createElement(Q.Fragment,null,_.map(E=>Q.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...r})),b.map(E=>Q.createElement("link",{key:E,rel:"modulepreload",href:E,...r})),P.map(({key:E,link:T})=>Q.createElement("link",{key:E,nonce:r.nonce,...T,crossOrigin:T.crossOrigin??r.crossOrigin})))}function BK(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var FK=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{FK&&(window.__reactRouterVersion="7.13.0")}catch{}function jK({basename:t,children:e,unstable_useTransitions:r,window:n}){let i=Q.useRef();i.current==null&&(i.current=pY({window:n,v5Compat:!0}));let o=i.current,[s,a]=Q.useState({action:o.action,location:o.location}),l=Q.useCallback(c=>{r===!1?a(c):Q.startTransition(()=>a(c))},[r]);return Q.useLayoutEffect(()=>o.listen(l),[o,l]),Q.createElement(AK,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:o,unstable_useTransitions:r})}var Cj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kj=Q.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:i,reloadDocument:o,replace:s,state:a,target:l,to:c,preventScrollReset:u,viewTransition:g,unstable_defaultShouldRevalidate:_,...b},P){let{basename:E,unstable_useTransitions:T}=Q.useContext(Ya),O=typeof c=="string"&&Cj.test(c),L=gj(c,E);c=L.to;let N=KY(c,{relative:i}),[D,B,z]=NK(n,b),X=zK(c,{replace:s,state:a,target:l,preventScrollReset:u,relative:i,viewTransition:g,unstable_defaultShouldRevalidate:_,unstable_useTransitions:T});function Z(de){e&&e(de),de.defaultPrevented||X(de)}let G=Q.createElement("a",{...b,...z,href:L.absoluteURL||N,onClick:L.isExternal||o?e:Z,ref:BK(P,B),target:l,"data-discover":!O&&r==="render"?"true":void 0});return D&&!O?Q.createElement(Q.Fragment,null,G,Q.createElement(MK,{page:N})):G});kj.displayName="Link";var Oj=Q.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:i=!1,style:o,to:s,viewTransition:a,children:l,...c},u){let g=xm(s,{relative:c.relative}),_=gh(),b=Q.useContext(z2),{navigator:P,basename:E}=Q.useContext(Ya),T=b!=null&&XK(g)&&a===!0,O=P.encodeLocation?P.encodeLocation(g).pathname:g.pathname,L=_.pathname,N=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;r||(L=L.toLowerCase(),N=N?N.toLowerCase():null,O=O.toLowerCase()),N&&E&&(N=nf(N,E)||N);const D=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let B=L===O||!i&&L.startsWith(O)&&L.charAt(D)==="/",z=N!=null&&(N===O||!i&&N.startsWith(O)&&N.charAt(O.length)==="/"),X={isActive:B,isPending:z,isTransitioning:T},Z=B?e:void 0,G;typeof n=="function"?G=n(X):G=[n,B?"active":null,z?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let de=typeof o=="function"?o(X):o;return Q.createElement(kj,{...c,"aria-current":Z,className:G,ref:u,style:de,to:s,viewTransition:a},typeof l=="function"?l(X):l)});Oj.displayName="NavLink";var UK=Q.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:i,state:o,method:s=v1,action:a,onSubmit:l,relative:c,preventScrollReset:u,viewTransition:g,unstable_defaultShouldRevalidate:_,...b},P)=>{let{unstable_useTransitions:E}=Q.useContext(Ya),T=HK(),O=qK(a,{relative:c}),L=s.toLowerCase()==="get"?"get":"post",N=typeof a=="string"&&Cj.test(a),D=B=>{if(l&&l(B),B.defaultPrevented)return;B.preventDefault();let z=B.nativeEvent.submitter,X=(z==null?void 0:z.getAttribute("formmethod"))||s,Z=()=>T(z||B.currentTarget,{fetcherKey:e,method:X,navigate:r,replace:i,state:o,relative:c,preventScrollReset:u,viewTransition:g,unstable_defaultShouldRevalidate:_});E&&r!==!1?Q.startTransition(()=>Z()):Z()};return Q.createElement("form",{ref:P,method:L,action:O,onSubmit:n?l:D,...b,"data-discover":!N&&t==="render"?"true":void 0})});UK.displayName="Form";function $K(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Rj(t){let e=Q.useContext(V0);return mi(e,$K(t)),e}function zK(t,{target:e,replace:r,state:n,preventScrollReset:i,relative:o,viewTransition:s,unstable_defaultShouldRevalidate:a,unstable_useTransitions:l}={}){let c=wj(),u=gh(),g=xm(t,{relative:o});return Q.useCallback(_=>{if(bK(_,e)){_.preventDefault();let b=r!==void 0?r:Pg(u)===Pg(g),P=()=>c(t,{replace:b,state:n,preventScrollReset:i,relative:o,viewTransition:s,unstable_defaultShouldRevalidate:a});l?Q.startTransition(()=>P()):P()}},[u,c,g,r,n,e,t,i,o,s,a,l])}var WK=0,VK=()=>`__${String(++WK)}__`;function HK(){let{router:t}=Rj("useSubmit"),{basename:e}=Q.useContext(Ya),r=lK(),n=t.fetch,i=t.navigate;return Q.useCallback(async(o,s={})=>{let{action:a,method:l,encType:c,formData:u,body:g}=xK(o,e);if(s.navigate===!1){let _=s.fetcherKey||VK();await n(_,r,s.action||a,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:u,body:g,formMethod:s.method||l,formEncType:s.encType||c,flushSync:s.flushSync})}else await i(s.action||a,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:u,body:g,formMethod:s.method||l,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,i,e,r])}function qK(t,{relative:e}={}){let{basename:r}=Q.useContext(Ya),n=Q.useContext(Ec);mi(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),o={...xm(t||".",{relative:e})},s=gh();if(t==null){o.search=s.search;let a=new URLSearchParams(o.search),l=a.getAll("index");if(l.some(u=>u==="")){a.delete("index"),l.filter(g=>g).forEach(g=>a.append("index",g));let u=a.toString();o.search=u?`?${u}`:""}}return(!t||t===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(o.pathname=o.pathname==="/"?r:Ju([r,o.pathname])),Pg(o)}function XK(t,{relative:e}={}){let r=Q.useContext(vj);mi(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=Rj("useViewTransitionState"),i=xm(t,{relative:e});if(!r.isTransitioning)return!1;let o=nf(r.currentLocation.pathname,n)||r.currentLocation.pathname,s=nf(r.nextLocation.pathname,n)||r.nextLocation.pathname;return $1(i.pathname,s)!=null||$1(i.pathname,o)!=null}var Sm=fj();const YK=Ln(Sm),KK="NeNetraOfflineDB",Zc="offline_queue",GK=1;class QK{constructor(){Ae(this,"db",null);this.initDB(),window.addEventListener("online",()=>{console.log("Network restored. Attempting sync..."),this.sync()})}initDB(){const e=indexedDB.open(KK,GK);e.onerror=r=>{console.error("OfflineDB error:",r)},e.onupgradeneeded=r=>{const n=r.target.result;n.objectStoreNames.contains(Zc)||n.createObjectStore(Zc,{keyPath:"id",autoIncrement:!0})},e.onsuccess=r=>{this.db=r.target.result,console.log("OfflineDB initialized")}}async queueRequest(e,r,n){if(!this.db)return;const i={url:e,method:r,body:n,timestamp:new Date().toISOString()};return new Promise((o,s)=>{const c=this.db.transaction([Zc],"readwrite").objectStore(Zc).add(i);c.onsuccess=()=>o(),c.onerror=()=>s(c.error)})}async getQueueSize(){return this.db?new Promise(e=>{const i=this.db.transaction([Zc],"readonly").objectStore(Zc).count();i.onsuccess=()=>e(i.result),i.onerror=()=>e(0)}):0}async sync(){if(!this.db||!navigator.onLine)return;const n=this.db.transaction([Zc],"readwrite").objectStore(Zc).getAll();n.onsuccess=async()=>{const i=n.result;if(i.length===0)return;console.log(`Syncing ${i.length} offline items...`);let o=0,s="unknown";for(const a of i)try{await fetch(a.url,{method:a.method,headers:{"Content-Type":"application/json"},body:JSON.stringify(a.body)}),a.body.district&&(s=a.body.district),this.removeItem(a.id),o++}catch(l){console.error("Sync failed for item:",a,l)}if(o>0)try{await fetch("http://localhost:8000/log-sync",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({district:s,count:o})})}catch(a){console.warn("Failed to log sync event",a)}}}removeItem(e){if(!this.db)return;this.db.transaction([Zc],"readwrite").objectStore(Zc).delete(e)}}new QK;const CA={districts:["East Khasi Hills","Dimapur","Aizawl","Kamrup Metro","Dibrugarh","Imphal West","Kohima","Shillong","Agartala","Itanagar"],riskScores:{"East Khasi Hills":{district:"East Khasi Hills",score:67,risk_level:"high",trend:"rising",primary_trigger:"High Border Sensitivity",last_updated:"2 hours ago",components:{toxicity:18.5,velocity:15.2,geo_sensitivity:20,temporal_acceleration:8.3},layer_scores:{cognitive:3.7,network:10,physical:19.1},contributing_factors:[{label:"High Border Sensitivity",severity:"critical",value:"Score: 20/25"},{label:"Elevated Network Velocity",severity:"high",value:"15.2 msgs/hr"}],suggested_actions:[{priority:"high",action:"Consider increasing patrol in hotspot areas",rationale:"High risk score with rising trend"}],hotspots:[{location:"Market",severity:"high",incidents:8,type:"market"}]},Dimapur:{district:"Dimapur",score:42,risk_level:"medium",trend:"stable",primary_trigger:"Moderate Network Activity",last_updated:"1 hour ago",components:{toxicity:12.3,velocity:8.7,geo_sensitivity:15,temporal_acceleration:5.2},layer_scores:{cognitive:2.1,network:6.5,physical:12.8},contributing_factors:[{label:"Moderate Network Activity",severity:"medium",value:"8.7 msgs/hr"}],suggested_actions:[{priority:"medium",action:"Continue routine monitoring",rationale:"Stable medium risk level"}],hotspots:[]},Aizawl:{district:"Aizawl",score:18,risk_level:"low",trend:"falling",primary_trigger:"Low Activity",last_updated:"30 minutes ago",components:{toxicity:5.2,velocity:3.1,geo_sensitivity:8,temporal_acceleration:1.8},layer_scores:{cognitive:1.2,network:2.3,physical:6.1},contributing_factors:[{label:"Low Network Activity",severity:"low",value:"3.1 msgs/hr"}],suggested_actions:[{priority:"low",action:"Maintain baseline monitoring",rationale:"Low risk with decreasing trend"}],hotspots:[]}}},ZK=t=>{var n;const e=((n=CA.riskScores[t])==null?void 0:n.score)||20,r=[];for(let i=23;i>=0;i--){const o=Math.random()*20-10,s=Math.max(0,Math.min(100,e+o));r.push({timestamp:new Date(Date.now()-i*60*60*1e3).toISOString(),score:Math.round(s),risk_level:s>60?"high":s>30?"medium":"low"})}return r},zh={async getDistricts(){return await new Promise(t=>setTimeout(t,300)),CA.districts},async getRiskScore(t){return await new Promise(e=>setTimeout(e,500)),CA.riskScores[t]||CA.riskScores.Aizawl},async getRiskHistory(t){return await new Promise(e=>setTimeout(e,400)),ZK(t)},async getAuditLog(t){var e,r;return await new Promise(n=>setTimeout(n,300)),[{id:1,timestamp:new Date(Date.now()-7200*1e3).toISOString(),officer_name:"SP Sharma",officer_rank:"Superintendent of Police",action:"Risk Assessment Reviewed",notes:"Increased patrol deployment in market area",risk_score_at_time:((e=CA.riskScores[t])==null?void 0:e.score)||20},{id:2,timestamp:new Date(Date.now()-360*60*1e3).toISOString(),officer_name:"DM Patel",officer_rank:"District Magistrate",action:"Situation Assessment",notes:"Coordinated with local authorities",risk_score_at_time:(((r=CA.riskScores[t])==null?void 0:r.score)||20)-5}]},async submitReview(t){return await new Promise(e=>setTimeout(e,600)),{success:!0,message:"Review submitted successfully"}},async ingestData(t){return await new Promise(e=>setTimeout(e,800)),{success:!0,message:"Data ingested successfully"}},async analyzeDistrict(t){return await new Promise(e=>setTimeout(e,1e3)),{success:!0,message:"Analysis completed"}}},W6="http://localhost:8000";class JK{async getRiskScore(e){return zh.getRiskScore(e)}async getAuditLog(e,r=10){return zh.getAuditLog(e)}async getRiskHistory(e){return zh.getRiskHistory(e)}async getDistricts(){return zh.getDistricts()}async getDistrictStats(e){const r=await fetch(`${W6}/stats/${encodeURIComponent(e)}`);if(!r.ok)throw new Error(`Failed to fetch district stats: ${r.statusText}`);return r.json()}async submitReview(e){return zh.submitReview(e)}async ingestMessage(e){return zh.ingestData(e)}async analyzeDistrict(e){return zh.analyzeDistrict(e)}async healthCheck(){try{return(await fetch(`${W6}/`)).ok}catch{return!1}}}const fa=new JK;/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eG=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),tG=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),V6=t=>{const e=tG(t);return e.charAt(0).toUpperCase()+e.slice(1)},Ij=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var rG={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nG=Q.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:o,iconNode:s,...a},l)=>Q.createElement("svg",{ref:l,...rG,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:Ij("lucide",i),...a},[...s.map(([c,u])=>Q.createElement(c,u)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rn=(t,e)=>{const r=Q.forwardRef(({className:n,...i},o)=>Q.createElement(nG,{ref:o,iconNode:e,className:Ij(`lucide-${eG(V6(t))}`,`lucide-${t}`,n),...i}));return r.displayName=V6(t),r};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iG=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Yp=rn("activity",iG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oG=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],Nj=rn("brain",oG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sG=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],aG=rn("check",sG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lG=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],cG=rn("chevron-down",lG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uG=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],fG=rn("chevron-left",uG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hG=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],dG=rn("chevron-right",hG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AG=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],pG=rn("chevron-up",AG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gG=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],mG=rn("chevrons-up-down",gG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],z1=rn("circle-alert",vG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yG=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Mj=rn("circle-check-big",yG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bG=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],_G=rn("clipboard-list",bG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],rP=rn("clock",wG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xG=[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]],SG=rn("cog",xG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EG=[["path",{d:"m21.12 6.4-6.05-4.06a2 2 0 0 0-2.17-.05L2.95 8.41a2 2 0 0 0-.95 1.7v5.82a2 2 0 0 0 .88 1.66l6.05 4.07a2 2 0 0 0 2.17.05l9.95-6.12a2 2 0 0 0 .95-1.7V8.06a2 2 0 0 0-.88-1.66Z",key:"1u2ovd"}],["path",{d:"M10 22v-8L2.25 9.15",key:"11pn4q"}],["path",{d:"m10 14 11.77-6.87",key:"1kt1wh"}]],TG=rn("cuboid",EG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PG=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],CG=rn("database",PG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kG=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],f4=rn("download",kG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],RG=rn("info",OG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IG=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],NG=rn("layout-grid",IG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MG=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],LG=rn("lightbulb",MG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DG=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],BG=rn("loader-circle",DG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FG=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],jG=rn("map-pin",FG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UG=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],nP=rn("map",UG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $G=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],zG=rn("message-square",$G);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WG=[["path",{d:"M5 12h14",key:"1ays0h"}]],VG=rn("minus",WG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HG=[["path",{d:"m9 10 2 2 4-4",key:"1gnqz4"}],["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}]],qG=rn("monitor-check",HG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XG=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],Lj=rn("network",XG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YG=[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]],KG=rn("scale",YG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GG=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["path",{d:"M18.944 12.33a1 1 0 0 0 0-.66 7.5 7.5 0 0 0-13.888 0 1 1 0 0 0 0 .66 7.5 7.5 0 0 0 13.888 0",key:"11ak4c"}]],QG=rn("scan-eye",GG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZG=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],JG=rn("search",ZG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eQ=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],tQ=rn("send",eQ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rQ=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],nQ=rn("shield-check",rQ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iQ=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Dj=rn("shield",iQ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oQ=[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]],sQ=rn("terminal",oQ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aQ=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],lQ=rn("trending-down",aQ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cQ=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],uQ=rn("trending-up",cQ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fQ=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Bj=rn("triangle-alert",fQ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hQ=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],dQ=rn("wifi-off",hQ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AQ=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],pQ=rn("wifi",AQ);function Fj(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=Fj(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function fn(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=Fj(t))&&(n&&(n+=" "),n+=e);return n}const iP="-",gQ=t=>{const e=vQ(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:s=>{const a=s.split(iP);return a[0]===""&&a.length!==1&&a.shift(),jj(a,e)||mQ(s)},getConflictingClassGroupIds:(s,a)=>{const l=r[s]||[];return a&&n[s]?[...l,...n[s]]:l}}},jj=(t,e)=>{var s;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),i=n?jj(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const o=t.join(iP);return(s=e.validators.find(({validator:a})=>a(o)))==null?void 0:s.classGroupId},H6=/^\[(.+)\]$/,mQ=t=>{if(H6.test(t)){const e=H6.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},vQ=t=>{const{theme:e,classGroups:r}=t,n={nextPart:new Map,validators:[]};for(const i in r)h4(r[i],n,i,e);return n},h4=(t,e,r,n)=>{t.forEach(i=>{if(typeof i=="string"){const o=i===""?e:q6(e,i);o.classGroupId=r;return}if(typeof i=="function"){if(yQ(i)){h4(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([o,s])=>{h4(s,q6(e,o),r,n)})})},q6=(t,e)=>{let r=t;return e.split(iP).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},yQ=t=>t.isThemeGetter,bQ=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const i=(o,s)=>{r.set(o,s),e++,e>t&&(e=0,n=r,r=new Map)};return{get(o){let s=r.get(o);if(s!==void 0)return s;if((s=n.get(o))!==void 0)return i(o,s),s},set(o,s){r.has(o)?r.set(o,s):i(o,s)}}},d4="!",A4=":",_Q=A4.length,wQ=t=>{const{prefix:e,experimentalParseClassName:r}=t;let n=i=>{const o=[];let s=0,a=0,l=0,c;for(let P=0;P<i.length;P++){let E=i[P];if(s===0&&a===0){if(E===A4){o.push(i.slice(l,P)),l=P+_Q;continue}if(E==="/"){c=P;continue}}E==="["?s++:E==="]"?s--:E==="("?a++:E===")"&&a--}const u=o.length===0?i:i.substring(l),g=xQ(u),_=g!==u,b=c&&c>l?c-l:void 0;return{modifiers:o,hasImportantModifier:_,baseClassName:g,maybePostfixModifierPosition:b}};if(e){const i=e+A4,o=n;n=s=>s.startsWith(i)?o(s.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:s,maybePostfixModifierPosition:void 0}}if(r){const i=n;n=o=>r({className:o,parseClassName:i})}return n},xQ=t=>t.endsWith(d4)?t.substring(0,t.length-1):t.startsWith(d4)?t.substring(1):t,SQ=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const i=[];let o=[];return n.forEach(s=>{s[0]==="["||e[s]?(i.push(...o.sort(),s),o=[]):o.push(s)}),i.push(...o.sort()),i}},EQ=t=>({cache:bQ(t.cacheSize),parseClassName:wQ(t),sortModifiers:SQ(t),...gQ(t)}),TQ=/\s+/,PQ=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i,sortModifiers:o}=e,s=[],a=t.trim().split(TQ);let l="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{isExternal:g,modifiers:_,hasImportantModifier:b,baseClassName:P,maybePostfixModifierPosition:E}=r(u);if(g){l=u+(l.length>0?" "+l:l);continue}let T=!!E,O=n(T?P.substring(0,E):P);if(!O){if(!T){l=u+(l.length>0?" "+l:l);continue}if(O=n(P),!O){l=u+(l.length>0?" "+l:l);continue}T=!1}const L=o(_).join(":"),N=b?L+d4:L,D=N+O;if(s.includes(D))continue;s.push(D);const B=i(O,T);for(let z=0;z<B.length;++z){const X=B[z];s.push(N+X)}l=u+(l.length>0?" "+l:l)}return l};function CQ(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=Uj(e))&&(n&&(n+=" "),n+=r);return n}const Uj=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=Uj(t[n]))&&(r&&(r+=" "),r+=e);return r};function kQ(t,...e){let r,n,i,o=s;function s(l){const c=e.reduce((u,g)=>g(u),t());return r=EQ(c),n=r.cache.get,i=r.cache.set,o=a,a(l)}function a(l){const c=n(l);if(c)return c;const u=PQ(l,r);return i(l,u),u}return function(){return o(CQ.apply(null,arguments))}}const ho=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},$j=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,zj=/^\((?:(\w[\w-]*):)?(.+)\)$/i,OQ=/^\d+\/\d+$/,RQ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,IQ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,NQ=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,MQ=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,LQ=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,cA=t=>OQ.test(t),Zr=t=>!!t&&!Number.isNaN(Number(t)),jf=t=>!!t&&Number.isInteger(Number(t)),D_=t=>t.endsWith("%")&&Zr(t.slice(0,-1)),Uu=t=>RQ.test(t),DQ=()=>!0,BQ=t=>IQ.test(t)&&!NQ.test(t),Wj=()=>!1,FQ=t=>MQ.test(t),jQ=t=>LQ.test(t),UQ=t=>!ir(t)&&!or(t),$Q=t=>q0(t,qj,Wj),ir=t=>$j.test(t),Wh=t=>q0(t,Xj,BQ),B_=t=>q0(t,qQ,Zr),X6=t=>q0(t,Vj,Wj),zQ=t=>q0(t,Hj,jQ),wv=t=>q0(t,Yj,FQ),or=t=>zj.test(t),kp=t=>X0(t,Xj),WQ=t=>X0(t,XQ),Y6=t=>X0(t,Vj),VQ=t=>X0(t,qj),HQ=t=>X0(t,Hj),xv=t=>X0(t,Yj,!0),q0=(t,e,r)=>{const n=$j.exec(t);return n?n[1]?e(n[1]):r(n[2]):!1},X0=(t,e,r=!1)=>{const n=zj.exec(t);return n?n[1]?e(n[1]):r:!1},Vj=t=>t==="position"||t==="percentage",Hj=t=>t==="image"||t==="url",qj=t=>t==="length"||t==="size"||t==="bg-size",Xj=t=>t==="length",qQ=t=>t==="number",XQ=t=>t==="family-name",Yj=t=>t==="shadow",YQ=()=>{const t=ho("color"),e=ho("font"),r=ho("text"),n=ho("font-weight"),i=ho("tracking"),o=ho("leading"),s=ho("breakpoint"),a=ho("container"),l=ho("spacing"),c=ho("radius"),u=ho("shadow"),g=ho("inset-shadow"),_=ho("text-shadow"),b=ho("drop-shadow"),P=ho("blur"),E=ho("perspective"),T=ho("aspect"),O=ho("ease"),L=ho("animate"),N=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],B=()=>[...D(),or,ir],z=()=>["auto","hidden","clip","visible","scroll"],X=()=>["auto","contain","none"],Z=()=>[or,ir,l],G=()=>[cA,"full","auto",...Z()],de=()=>[jf,"none","subgrid",or,ir],H=()=>["auto",{span:["full",jf,or,ir]},jf,or,ir],ee=()=>[jf,"auto",or,ir],ae=()=>["auto","min","max","fr",or,ir],le=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Te=()=>["start","end","center","stretch","center-safe","end-safe"],te=()=>["auto",...Z()],oe=()=>[cA,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...Z()],K=()=>[t,or,ir],ge=()=>[...D(),Y6,X6,{position:[or,ir]}],Ee=()=>["no-repeat",{repeat:["","x","y","space","round"]}],se=()=>["auto","cover","contain",VQ,$Q,{size:[or,ir]}],$=()=>[D_,kp,Wh],ne=()=>["","none","full",c,or,ir],pe=()=>["",Zr,kp,Wh],be=()=>["solid","dashed","dotted","double"],Ie=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],De=()=>[Zr,D_,Y6,X6],$e=()=>["","none",P,or,ir],Le=()=>["none",Zr,or,ir],We=()=>["none",Zr,or,ir],ft=()=>[Zr,or,ir],tt=()=>[cA,"full",...Z()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Uu],breakpoint:[Uu],color:[DQ],container:[Uu],"drop-shadow":[Uu],ease:["in","out","in-out"],font:[UQ],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Uu],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Uu],shadow:[Uu],spacing:["px",Zr],text:[Uu],"text-shadow":[Uu],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",cA,ir,or,T]}],container:["container"],columns:[{columns:[Zr,ir,or,a]}],"break-after":[{"break-after":N()}],"break-before":[{"break-before":N()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:B()}],overflow:[{overflow:z()}],"overflow-x":[{"overflow-x":z()}],"overflow-y":[{"overflow-y":z()}],overscroll:[{overscroll:X()}],"overscroll-x":[{"overscroll-x":X()}],"overscroll-y":[{"overscroll-y":X()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:G()}],"inset-x":[{"inset-x":G()}],"inset-y":[{"inset-y":G()}],start:[{start:G()}],end:[{end:G()}],top:[{top:G()}],right:[{right:G()}],bottom:[{bottom:G()}],left:[{left:G()}],visibility:["visible","invisible","collapse"],z:[{z:[jf,"auto",or,ir]}],basis:[{basis:[cA,"full","auto",a,...Z()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Zr,cA,"auto","initial","none",ir]}],grow:[{grow:["",Zr,or,ir]}],shrink:[{shrink:["",Zr,or,ir]}],order:[{order:[jf,"first","last","none",or,ir]}],"grid-cols":[{"grid-cols":de()}],"col-start-end":[{col:H()}],"col-start":[{"col-start":ee()}],"col-end":[{"col-end":ee()}],"grid-rows":[{"grid-rows":de()}],"row-start-end":[{row:H()}],"row-start":[{"row-start":ee()}],"row-end":[{"row-end":ee()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":ae()}],"auto-rows":[{"auto-rows":ae()}],gap:[{gap:Z()}],"gap-x":[{"gap-x":Z()}],"gap-y":[{"gap-y":Z()}],"justify-content":[{justify:[...le(),"normal"]}],"justify-items":[{"justify-items":[...Te(),"normal"]}],"justify-self":[{"justify-self":["auto",...Te()]}],"align-content":[{content:["normal",...le()]}],"align-items":[{items:[...Te(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Te(),{baseline:["","last"]}]}],"place-content":[{"place-content":le()}],"place-items":[{"place-items":[...Te(),"baseline"]}],"place-self":[{"place-self":["auto",...Te()]}],p:[{p:Z()}],px:[{px:Z()}],py:[{py:Z()}],ps:[{ps:Z()}],pe:[{pe:Z()}],pt:[{pt:Z()}],pr:[{pr:Z()}],pb:[{pb:Z()}],pl:[{pl:Z()}],m:[{m:te()}],mx:[{mx:te()}],my:[{my:te()}],ms:[{ms:te()}],me:[{me:te()}],mt:[{mt:te()}],mr:[{mr:te()}],mb:[{mb:te()}],ml:[{ml:te()}],"space-x":[{"space-x":Z()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":Z()}],"space-y-reverse":["space-y-reverse"],size:[{size:oe()}],w:[{w:[a,"screen",...oe()]}],"min-w":[{"min-w":[a,"screen","none",...oe()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[s]},...oe()]}],h:[{h:["screen",...oe()]}],"min-h":[{"min-h":["screen","none",...oe()]}],"max-h":[{"max-h":["screen",...oe()]}],"font-size":[{text:["base",r,kp,Wh]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,or,B_]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",D_,ir]}],"font-family":[{font:[WQ,ir,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,or,ir]}],"line-clamp":[{"line-clamp":[Zr,"none",or,B_]}],leading:[{leading:[o,...Z()]}],"list-image":[{"list-image":["none",or,ir]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",or,ir]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:K()}],"text-color":[{text:K()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...be(),"wavy"]}],"text-decoration-thickness":[{decoration:[Zr,"from-font","auto",or,Wh]}],"text-decoration-color":[{decoration:K()}],"underline-offset":[{"underline-offset":[Zr,"auto",or,ir]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:Z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",or,ir]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",or,ir]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ge()}],"bg-repeat":[{bg:Ee()}],"bg-size":[{bg:se()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},jf,or,ir],radial:["",or,ir],conic:[jf,or,ir]},HQ,zQ]}],"bg-color":[{bg:K()}],"gradient-from-pos":[{from:$()}],"gradient-via-pos":[{via:$()}],"gradient-to-pos":[{to:$()}],"gradient-from":[{from:K()}],"gradient-via":[{via:K()}],"gradient-to":[{to:K()}],rounded:[{rounded:ne()}],"rounded-s":[{"rounded-s":ne()}],"rounded-e":[{"rounded-e":ne()}],"rounded-t":[{"rounded-t":ne()}],"rounded-r":[{"rounded-r":ne()}],"rounded-b":[{"rounded-b":ne()}],"rounded-l":[{"rounded-l":ne()}],"rounded-ss":[{"rounded-ss":ne()}],"rounded-se":[{"rounded-se":ne()}],"rounded-ee":[{"rounded-ee":ne()}],"rounded-es":[{"rounded-es":ne()}],"rounded-tl":[{"rounded-tl":ne()}],"rounded-tr":[{"rounded-tr":ne()}],"rounded-br":[{"rounded-br":ne()}],"rounded-bl":[{"rounded-bl":ne()}],"border-w":[{border:pe()}],"border-w-x":[{"border-x":pe()}],"border-w-y":[{"border-y":pe()}],"border-w-s":[{"border-s":pe()}],"border-w-e":[{"border-e":pe()}],"border-w-t":[{"border-t":pe()}],"border-w-r":[{"border-r":pe()}],"border-w-b":[{"border-b":pe()}],"border-w-l":[{"border-l":pe()}],"divide-x":[{"divide-x":pe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":pe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...be(),"hidden","none"]}],"divide-style":[{divide:[...be(),"hidden","none"]}],"border-color":[{border:K()}],"border-color-x":[{"border-x":K()}],"border-color-y":[{"border-y":K()}],"border-color-s":[{"border-s":K()}],"border-color-e":[{"border-e":K()}],"border-color-t":[{"border-t":K()}],"border-color-r":[{"border-r":K()}],"border-color-b":[{"border-b":K()}],"border-color-l":[{"border-l":K()}],"divide-color":[{divide:K()}],"outline-style":[{outline:[...be(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Zr,or,ir]}],"outline-w":[{outline:["",Zr,kp,Wh]}],"outline-color":[{outline:K()}],shadow:[{shadow:["","none",u,xv,wv]}],"shadow-color":[{shadow:K()}],"inset-shadow":[{"inset-shadow":["none",g,xv,wv]}],"inset-shadow-color":[{"inset-shadow":K()}],"ring-w":[{ring:pe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:K()}],"ring-offset-w":[{"ring-offset":[Zr,Wh]}],"ring-offset-color":[{"ring-offset":K()}],"inset-ring-w":[{"inset-ring":pe()}],"inset-ring-color":[{"inset-ring":K()}],"text-shadow":[{"text-shadow":["none",_,xv,wv]}],"text-shadow-color":[{"text-shadow":K()}],opacity:[{opacity:[Zr,or,ir]}],"mix-blend":[{"mix-blend":[...Ie(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ie()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Zr]}],"mask-image-linear-from-pos":[{"mask-linear-from":De()}],"mask-image-linear-to-pos":[{"mask-linear-to":De()}],"mask-image-linear-from-color":[{"mask-linear-from":K()}],"mask-image-linear-to-color":[{"mask-linear-to":K()}],"mask-image-t-from-pos":[{"mask-t-from":De()}],"mask-image-t-to-pos":[{"mask-t-to":De()}],"mask-image-t-from-color":[{"mask-t-from":K()}],"mask-image-t-to-color":[{"mask-t-to":K()}],"mask-image-r-from-pos":[{"mask-r-from":De()}],"mask-image-r-to-pos":[{"mask-r-to":De()}],"mask-image-r-from-color":[{"mask-r-from":K()}],"mask-image-r-to-color":[{"mask-r-to":K()}],"mask-image-b-from-pos":[{"mask-b-from":De()}],"mask-image-b-to-pos":[{"mask-b-to":De()}],"mask-image-b-from-color":[{"mask-b-from":K()}],"mask-image-b-to-color":[{"mask-b-to":K()}],"mask-image-l-from-pos":[{"mask-l-from":De()}],"mask-image-l-to-pos":[{"mask-l-to":De()}],"mask-image-l-from-color":[{"mask-l-from":K()}],"mask-image-l-to-color":[{"mask-l-to":K()}],"mask-image-x-from-pos":[{"mask-x-from":De()}],"mask-image-x-to-pos":[{"mask-x-to":De()}],"mask-image-x-from-color":[{"mask-x-from":K()}],"mask-image-x-to-color":[{"mask-x-to":K()}],"mask-image-y-from-pos":[{"mask-y-from":De()}],"mask-image-y-to-pos":[{"mask-y-to":De()}],"mask-image-y-from-color":[{"mask-y-from":K()}],"mask-image-y-to-color":[{"mask-y-to":K()}],"mask-image-radial":[{"mask-radial":[or,ir]}],"mask-image-radial-from-pos":[{"mask-radial-from":De()}],"mask-image-radial-to-pos":[{"mask-radial-to":De()}],"mask-image-radial-from-color":[{"mask-radial-from":K()}],"mask-image-radial-to-color":[{"mask-radial-to":K()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":D()}],"mask-image-conic-pos":[{"mask-conic":[Zr]}],"mask-image-conic-from-pos":[{"mask-conic-from":De()}],"mask-image-conic-to-pos":[{"mask-conic-to":De()}],"mask-image-conic-from-color":[{"mask-conic-from":K()}],"mask-image-conic-to-color":[{"mask-conic-to":K()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ge()}],"mask-repeat":[{mask:Ee()}],"mask-size":[{mask:se()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",or,ir]}],filter:[{filter:["","none",or,ir]}],blur:[{blur:$e()}],brightness:[{brightness:[Zr,or,ir]}],contrast:[{contrast:[Zr,or,ir]}],"drop-shadow":[{"drop-shadow":["","none",b,xv,wv]}],"drop-shadow-color":[{"drop-shadow":K()}],grayscale:[{grayscale:["",Zr,or,ir]}],"hue-rotate":[{"hue-rotate":[Zr,or,ir]}],invert:[{invert:["",Zr,or,ir]}],saturate:[{saturate:[Zr,or,ir]}],sepia:[{sepia:["",Zr,or,ir]}],"backdrop-filter":[{"backdrop-filter":["","none",or,ir]}],"backdrop-blur":[{"backdrop-blur":$e()}],"backdrop-brightness":[{"backdrop-brightness":[Zr,or,ir]}],"backdrop-contrast":[{"backdrop-contrast":[Zr,or,ir]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Zr,or,ir]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Zr,or,ir]}],"backdrop-invert":[{"backdrop-invert":["",Zr,or,ir]}],"backdrop-opacity":[{"backdrop-opacity":[Zr,or,ir]}],"backdrop-saturate":[{"backdrop-saturate":[Zr,or,ir]}],"backdrop-sepia":[{"backdrop-sepia":["",Zr,or,ir]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":Z()}],"border-spacing-x":[{"border-spacing-x":Z()}],"border-spacing-y":[{"border-spacing-y":Z()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",or,ir]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Zr,"initial",or,ir]}],ease:[{ease:["linear","initial",O,or,ir]}],delay:[{delay:[Zr,or,ir]}],animate:[{animate:["none",L,or,ir]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[E,or,ir]}],"perspective-origin":[{"perspective-origin":B()}],rotate:[{rotate:Le()}],"rotate-x":[{"rotate-x":Le()}],"rotate-y":[{"rotate-y":Le()}],"rotate-z":[{"rotate-z":Le()}],scale:[{scale:We()}],"scale-x":[{"scale-x":We()}],"scale-y":[{"scale-y":We()}],"scale-z":[{"scale-z":We()}],"scale-3d":["scale-3d"],skew:[{skew:ft()}],"skew-x":[{"skew-x":ft()}],"skew-y":[{"skew-y":ft()}],transform:[{transform:[or,ir,"","none","gpu","cpu"]}],"transform-origin":[{origin:B()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:tt()}],"translate-x":[{"translate-x":tt()}],"translate-y":[{"translate-y":tt()}],"translate-z":[{"translate-z":tt()}],"translate-none":["translate-none"],accent:[{accent:K()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:K()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",or,ir]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":Z()}],"scroll-mx":[{"scroll-mx":Z()}],"scroll-my":[{"scroll-my":Z()}],"scroll-ms":[{"scroll-ms":Z()}],"scroll-me":[{"scroll-me":Z()}],"scroll-mt":[{"scroll-mt":Z()}],"scroll-mr":[{"scroll-mr":Z()}],"scroll-mb":[{"scroll-mb":Z()}],"scroll-ml":[{"scroll-ml":Z()}],"scroll-p":[{"scroll-p":Z()}],"scroll-px":[{"scroll-px":Z()}],"scroll-py":[{"scroll-py":Z()}],"scroll-ps":[{"scroll-ps":Z()}],"scroll-pe":[{"scroll-pe":Z()}],"scroll-pt":[{"scroll-pt":Z()}],"scroll-pr":[{"scroll-pr":Z()}],"scroll-pb":[{"scroll-pb":Z()}],"scroll-pl":[{"scroll-pl":Z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",or,ir]}],fill:[{fill:["none",...K()]}],"stroke-w":[{stroke:[Zr,kp,Wh,B_]}],stroke:[{stroke:["none",...K()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Kj=kQ(YQ);function Os(...t){return Kj(fn(t))}function KQ({className:t="",showLabel:e=!0}){return V.jsxs("div",{className:`flex items-center gap-3 ${t}`,children:[V.jsxs("div",{className:"relative flex items-center justify-center w-10 h-10 bg-primary/10 rounded-lg border border-primary/20 overflow-hidden group",children:[V.jsx("div",{className:"absolute inset-0 bg-primary/5 group-hover:bg-primary/10 transition-colors duration-500"}),V.jsx("div",{className:"relative z-10",children:V.jsx(QG,{className:"w-6 h-6 text-primary animate-pulse-slow",strokeWidth:1.5})}),V.jsx("div",{className:"absolute top-0 left-0 w-2 h-2 border-t border-l border-primary/40 rounded-tl"}),V.jsx("div",{className:"absolute top-0 right-0 w-2 h-2 border-t border-r border-primary/40 rounded-tr"}),V.jsx("div",{className:"absolute bottom-0 left-0 w-2 h-2 border-b border-l border-primary/40 rounded-bl"}),V.jsx("div",{className:"absolute bottom-0 right-0 w-2 h-2 border-b border-r border-primary/40 rounded-br"})]}),e&&V.jsxs("div",{className:"flex flex-col",children:[V.jsxs("h1",{className:"text-xl font-bold tracking-tight text-foreground flex items-center gap-2",children:["NE-NETRA",V.jsxs("span",{className:"flex h-2 w-2 relative",children:[V.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-severity-medium opacity-75"}),V.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-severity-medium"})]})]}),V.jsx("p",{className:"text-[10px] uppercase tracking-widest text-foreground-tertiary",children:"District Intelligence"})]})]})}function GQ({collapsed:t,onToggle:e}){const r=[{to:"/",icon:NG,label:"Dashboard"},{to:"/ingest",icon:sQ,label:"Ingest Intelligence"},{to:"/analysis",icon:Bj,label:"Risk Analysis"},{to:"/map",icon:nP,label:"Map & Hotspots"},{to:"/actions",icon:_G,label:"Suggested Actions"},{to:"/review",icon:nQ,label:"Officer Review"},{to:"/audit",icon:rP,label:"Audit Log"}];return V.jsxs("aside",{className:Os("fixed left-0 top-0 h-screen z-40 bg-sidebar-bg border-r border-sidebar-border transition-all duration-300 flex flex-col",t?"w-[64px]":"w-[240px]"),children:[V.jsxs("div",{className:"h-16 flex items-center px-4 border-b border-sidebar-border",children:[V.jsx(KQ,{className:"w-8 h-8",showLabel:!1}),V.jsxs("div",{className:Os("ml-3 overflow-hidden transition-opacity duration-200",t?"opacity-0 w-0":"opacity-100"),children:[V.jsx("h1",{className:"text-base font-bold text-foreground tracking-tight whitespace-nowrap",children:"NE-NETRA"}),V.jsx("p",{className:"text-[10px] text-foreground-tertiary uppercase tracking-wider",children:"Intel Sys"})]})]}),V.jsx("nav",{className:"flex-1 py-4 space-y-1 px-3",children:r.map(n=>V.jsxs(Oj,{to:n.to,className:({isActive:i})=>Os("flex items-center px-3 py-2.5 rounded-md transition-colors group relative",i?"bg-sidebar-active-bg text-sidebar-active":"text-sidebar-foreground hover:bg-background-tertiary hover:text-foreground"),children:[V.jsx(n.icon,{className:Os("w-5 h-5 shrink-0",t?"mx-auto":"mr-3")}),!t&&V.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:n.label}),t&&V.jsx("div",{className:"absolute left-full top-1/2 -translate-y-1/2 ml-2 px-2 py-1 bg-popover text-popover-foreground text-xs rounded border border-border opacity-0 group-hover:opacity-100 pointer-events-none whitespace-nowrap z-50 shadow-lg transition-opacity",children:n.label})]},n.to))}),V.jsx("div",{className:"p-4 border-t border-sidebar-border",children:V.jsx("button",{onClick:e,className:"w-full flex items-center justify-center p-2 rounded-md hover:bg-background-tertiary text-sidebar-foreground transition-colors",children:t?V.jsx(dG,{className:"w-4 h-4"}):V.jsxs("div",{className:"flex items-center text-xs",children:[V.jsx(fG,{className:"w-4 h-4 mr-2"})," Collapse Sidebar"]})})})]})}function K6(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function pd(...t){return e=>{let r=!1;const n=t.map(i=>{const o=K6(i,e);return!r&&typeof o=="function"&&(r=!0),o});if(r)return()=>{for(let i=0;i<n.length;i++){const o=n[i];typeof o=="function"?o():K6(t[i],null)}}}}function Rl(...t){return Q.useCallback(pd(...t),t)}var Em=Q.forwardRef((t,e)=>{const{children:r,...n}=t,i=Q.Children.toArray(r),o=i.find(ZQ);if(o){const s=o.props.children,a=i.map(l=>l===o?Q.Children.count(s)>1?Q.Children.only(null):Q.isValidElement(s)?s.props.children:null:l);return V.jsx(p4,{...n,ref:e,children:Q.isValidElement(s)?Q.cloneElement(s,void 0,a):null})}return V.jsx(p4,{...n,ref:e,children:r})});Em.displayName="Slot";var p4=Q.forwardRef((t,e)=>{const{children:r,...n}=t;if(Q.isValidElement(r)){const i=eZ(r),o=JQ(n,r.props);return r.type!==Q.Fragment&&(o.ref=e?pd(e,i):i),Q.cloneElement(r,o)}return Q.Children.count(r)>1?Q.Children.only(null):null});p4.displayName="SlotClone";var QQ=({children:t})=>V.jsx(V.Fragment,{children:t});function ZQ(t){return Q.isValidElement(t)&&t.type===QQ}function JQ(t,e){const r={...e};for(const n in e){const i=t[n],o=e[n];/^on[A-Z]/.test(n)?i&&o?r[n]=(...a)=>{o(...a),i(...a)}:i&&(r[n]=i):n==="style"?r[n]={...i,...o}:n==="className"&&(r[n]=[i,o].filter(Boolean).join(" "))}return{...t,...r}}function eZ(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}const G6=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Q6=fn,tZ=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return Q6(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:o}=e,s=Object.keys(i).map(c=>{const u=r==null?void 0:r[c],g=o==null?void 0:o[c];if(u===null)return null;const _=G6(u)||G6(g);return i[c][_]}),a=r&&Object.entries(r).reduce((c,u)=>{let[g,_]=u;return _===void 0||(c[g]=_),c},{}),l=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((c,u)=>{let{class:g,className:_,...b}=u;return Object.entries(b).every(P=>{let[E,T]=P;return Array.isArray(T)?T.includes({...o,...a}[E]):{...o,...a}[E]===T})?[...c,g,_]:c},[]);return Q6(t,s,l,r==null?void 0:r.class,r==null?void 0:r.className)};function Hs(...t){return Kj(fn(t))}const rZ=tZ("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),o0=Q.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...i},o)=>{const s=n?Em:"button";return V.jsx(s,{"data-slot":"button",className:Hs(rZ({variant:e,size:r,className:t})),ref:o,...i})});o0.displayName="Button";function da(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t==null||t(i),r===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function nZ(t,e){const r=Q.createContext(e),n=o=>{const{children:s,...a}=o,l=Q.useMemo(()=>a,Object.values(a));return V.jsx(r.Provider,{value:l,children:s})};n.displayName=t+"Provider";function i(o){const s=Q.useContext(r);if(s)return s;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[n,i]}function V2(t,e=[]){let r=[];function n(o,s){const a=Q.createContext(s),l=r.length;r=[...r,s];const c=g=>{var O;const{scope:_,children:b,...P}=g,E=((O=_==null?void 0:_[t])==null?void 0:O[l])||a,T=Q.useMemo(()=>P,Object.values(P));return V.jsx(E.Provider,{value:T,children:b})};c.displayName=o+"Provider";function u(g,_){var E;const b=((E=_==null?void 0:_[t])==null?void 0:E[l])||a,P=Q.useContext(b);if(P)return P;if(s!==void 0)return s;throw new Error(`\`${g}\` must be used within \`${o}\``)}return[c,u]}const i=()=>{const o=r.map(s=>Q.createContext(s));return function(a){const l=(a==null?void 0:a[t])||o;return Q.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[n,iZ(i,...e)]}function iZ(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=n.reduce((a,{useScope:l,scopeName:c})=>{const g=l(o)[`__scope${c}`];return{...a,...g}},{});return Q.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return r.scopeName=e.scopeName,r}function uh(t){const e=Q.useRef(t);return Q.useEffect(()=>{e.current=t}),Q.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function oP({prop:t,defaultProp:e,onChange:r=()=>{}}){const[n,i]=oZ({defaultProp:e,onChange:r}),o=t!==void 0,s=o?t:n,a=uh(r),l=Q.useCallback(c=>{if(o){const g=typeof c=="function"?c(t):c;g!==t&&a(g)}else i(c)},[o,t,i,a]);return[s,l]}function oZ({defaultProp:t,onChange:e}){const r=Q.useState(t),[n]=r,i=Q.useRef(n),o=uh(e);return Q.useEffect(()=>{i.current!==n&&(o(n),i.current=n)},[n,i,o]),r}function sZ(t){const e=Q.useRef({value:t,previous:t});return Q.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var gd=globalThis!=null&&globalThis.document?Q.useLayoutEffect:()=>{};function Gj(t){const[e,r]=Q.useState(void 0);return gd(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let s,a;if("borderBoxSize"in o){const l=o.borderBoxSize,c=Array.isArray(l)?l[0]:l;s=c.inlineSize,a=c.blockSize}else s=t.offsetWidth,a=t.offsetHeight;r({width:s,height:a})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var aZ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ui=aZ.reduce((t,e)=>{const r=Q.forwardRef((n,i)=>{const{asChild:o,...s}=n,a=o?Em:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),V.jsx(a,{...s,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function lZ(t,e){t&&Sm.flushSync(()=>t.dispatchEvent(e))}var sP="Switch",[cZ]=V2(sP),[uZ,fZ]=cZ(sP),Qj=Q.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:o,required:s,disabled:a,value:l="on",onCheckedChange:c,form:u,...g}=t,[_,b]=Q.useState(null),P=Rl(e,N=>b(N)),E=Q.useRef(!1),T=_?u||!!_.closest("form"):!0,[O=!1,L]=oP({prop:i,defaultProp:o,onChange:c});return V.jsxs(uZ,{scope:r,checked:O,disabled:a,children:[V.jsx(ui.button,{type:"button",role:"switch","aria-checked":O,"aria-required":s,"data-state":e9(O),"data-disabled":a?"":void 0,disabled:a,value:l,...g,ref:P,onClick:da(t.onClick,N=>{L(D=>!D),T&&(E.current=N.isPropagationStopped(),E.current||N.stopPropagation())})}),T&&V.jsx(hZ,{control:_,bubbles:!E.current,name:n,value:l,checked:O,required:s,disabled:a,form:u,style:{transform:"translateX(-100%)"}})]})});Qj.displayName=sP;var Zj="SwitchThumb",Jj=Q.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,i=fZ(Zj,r);return V.jsx(ui.span,{"data-state":e9(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:e})});Jj.displayName=Zj;var hZ=t=>{const{control:e,checked:r,bubbles:n=!0,...i}=t,o=Q.useRef(null),s=sZ(r),a=Gj(e);return Q.useEffect(()=>{const l=o.current,c=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(c,"checked").set;if(s!==r&&g){const _=new Event("click",{bubbles:n});g.call(l,r),l.dispatchEvent(_)}},[s,r,n]),V.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:o,style:{...t.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function e9(t){return t?"checked":"unchecked"}var dZ=Qj,AZ=Jj;function pZ({className:t,...e}){return V.jsx(dZ,{"data-slot":"switch",className:Hs("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:V.jsx(AZ,{"data-slot":"switch-thumb",className:Hs("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}var gZ="Label",t9=Q.forwardRef((t,e)=>V.jsx(ui.label,{...t,ref:e,onMouseDown:r=>{var i;r.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));t9.displayName=gZ;var mZ=t9;function vZ({className:t,...e}){return V.jsx(mZ,{"data-slot":"label",className:Hs("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}var Z6=1,yZ=.9,bZ=.8,_Z=.17,F_=.1,j_=.999,wZ=.9999,xZ=.99,SZ=/[\\\/_+.#"@\[\(\{&]/,EZ=/[\\\/_+.#"@\[\(\{&]/g,TZ=/[\s-]/,r9=/[\s-]/g;function g4(t,e,r,n,i,o,s){if(o===e.length)return i===t.length?Z6:xZ;var a=`${i},${o}`;if(s[a]!==void 0)return s[a];for(var l=n.charAt(o),c=r.indexOf(l,i),u=0,g,_,b,P;c>=0;)g=g4(t,e,r,n,c+1,o+1,s),g>u&&(c===i?g*=Z6:SZ.test(t.charAt(c-1))?(g*=bZ,b=t.slice(i,c-1).match(EZ),b&&i>0&&(g*=Math.pow(j_,b.length))):TZ.test(t.charAt(c-1))?(g*=yZ,P=t.slice(i,c-1).match(r9),P&&i>0&&(g*=Math.pow(j_,P.length))):(g*=_Z,i>0&&(g*=Math.pow(j_,c-i))),t.charAt(c)!==e.charAt(o)&&(g*=wZ)),(g<F_&&r.charAt(c-1)===n.charAt(o+1)||n.charAt(o+1)===n.charAt(o)&&r.charAt(c-1)!==n.charAt(o))&&(_=g4(t,e,r,n,c+1,o+2,s),_*F_>g&&(g=_*F_)),g>u&&(u=g),c=r.indexOf(l,c+1);return s[a]=u,u}function J6(t){return t.toLowerCase().replace(r9," ")}function PZ(t,e,r){return t=r&&r.length>0?`${t+" "+r.join(" ")}`:t,g4(t,e,J6(t),J6(e),0,0,{})}var CZ=AY.useId||(()=>{}),kZ=0;function Au(t){const[e,r]=Q.useState(CZ());return gd(()=>{r(n=>n??String(kZ++))},[t]),t||(e?`radix-${e}`:"")}function OZ(t,e=globalThis==null?void 0:globalThis.document){const r=uh(t);Q.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var RZ="DismissableLayer",m4="dismissableLayer.update",IZ="dismissableLayer.pointerDownOutside",NZ="dismissableLayer.focusOutside",eO,n9=Q.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),aP=Q.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:s,onDismiss:a,...l}=t,c=Q.useContext(n9),[u,g]=Q.useState(null),_=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,b]=Q.useState({}),P=Rl(e,X=>g(X)),E=Array.from(c.layers),[T]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),O=E.indexOf(T),L=u?E.indexOf(u):-1,N=c.layersWithOutsidePointerEventsDisabled.size>0,D=L>=O,B=DZ(X=>{const Z=X.target,G=[...c.branches].some(de=>de.contains(Z));!D||G||(i==null||i(X),s==null||s(X),X.defaultPrevented||a==null||a())},_),z=BZ(X=>{const Z=X.target;[...c.branches].some(de=>de.contains(Z))||(o==null||o(X),s==null||s(X),X.defaultPrevented||a==null||a())},_);return OZ(X=>{L===c.layers.size-1&&(n==null||n(X),!X.defaultPrevented&&a&&(X.preventDefault(),a()))},_),Q.useEffect(()=>{if(u)return r&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(eO=_.body.style.pointerEvents,_.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),tO(),()=>{r&&c.layersWithOutsidePointerEventsDisabled.size===1&&(_.body.style.pointerEvents=eO)}},[u,_,r,c]),Q.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),tO())},[u,c]),Q.useEffect(()=>{const X=()=>b({});return document.addEventListener(m4,X),()=>document.removeEventListener(m4,X)},[]),V.jsx(ui.div,{...l,ref:P,style:{pointerEvents:N?D?"auto":"none":void 0,...t.style},onFocusCapture:da(t.onFocusCapture,z.onFocusCapture),onBlurCapture:da(t.onBlurCapture,z.onBlurCapture),onPointerDownCapture:da(t.onPointerDownCapture,B.onPointerDownCapture)})});aP.displayName=RZ;var MZ="DismissableLayerBranch",LZ=Q.forwardRef((t,e)=>{const r=Q.useContext(n9),n=Q.useRef(null),i=Rl(e,n);return Q.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),V.jsx(ui.div,{...t,ref:i})});LZ.displayName=MZ;function DZ(t,e=globalThis==null?void 0:globalThis.document){const r=uh(t),n=Q.useRef(!1),i=Q.useRef(()=>{});return Q.useEffect(()=>{const o=a=>{if(a.target&&!n.current){let l=function(){i9(IZ,r,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);n.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",o),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function BZ(t,e=globalThis==null?void 0:globalThis.document){const r=uh(t),n=Q.useRef(!1);return Q.useEffect(()=>{const i=o=>{o.target&&!n.current&&i9(NZ,r,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function tO(){const t=new CustomEvent(m4);document.dispatchEvent(t)}function i9(t,e,r,{discrete:n}){const i=r.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?lZ(i,o):i.dispatchEvent(o)}var U_="focusScope.autoFocusOnMount",$_="focusScope.autoFocusOnUnmount",rO={bubbles:!1,cancelable:!0},FZ="FocusScope",lP=Q.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...s}=t,[a,l]=Q.useState(null),c=uh(i),u=uh(o),g=Q.useRef(null),_=Rl(e,E=>l(E)),b=Q.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;Q.useEffect(()=>{if(n){let E=function(N){if(b.paused||!a)return;const D=N.target;a.contains(D)?g.current=D:Xf(g.current,{select:!0})},T=function(N){if(b.paused||!a)return;const D=N.relatedTarget;D!==null&&(a.contains(D)||Xf(g.current,{select:!0}))},O=function(N){if(document.activeElement===document.body)for(const B of N)B.removedNodes.length>0&&Xf(a)};document.addEventListener("focusin",E),document.addEventListener("focusout",T);const L=new MutationObserver(O);return a&&L.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",E),document.removeEventListener("focusout",T),L.disconnect()}}},[n,a,b.paused]),Q.useEffect(()=>{if(a){iO.add(b);const E=document.activeElement;if(!a.contains(E)){const O=new CustomEvent(U_,rO);a.addEventListener(U_,c),a.dispatchEvent(O),O.defaultPrevented||(jZ(VZ(o9(a)),{select:!0}),document.activeElement===E&&Xf(a))}return()=>{a.removeEventListener(U_,c),setTimeout(()=>{const O=new CustomEvent($_,rO);a.addEventListener($_,u),a.dispatchEvent(O),O.defaultPrevented||Xf(E??document.body,{select:!0}),a.removeEventListener($_,u),iO.remove(b)},0)}}},[a,c,u,b]);const P=Q.useCallback(E=>{if(!r&&!n||b.paused)return;const T=E.key==="Tab"&&!E.altKey&&!E.ctrlKey&&!E.metaKey,O=document.activeElement;if(T&&O){const L=E.currentTarget,[N,D]=UZ(L);N&&D?!E.shiftKey&&O===D?(E.preventDefault(),r&&Xf(N,{select:!0})):E.shiftKey&&O===N&&(E.preventDefault(),r&&Xf(D,{select:!0})):O===L&&E.preventDefault()}},[r,n,b.paused]);return V.jsx(ui.div,{tabIndex:-1,...s,ref:_,onKeyDown:P})});lP.displayName=FZ;function jZ(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(Xf(n,{select:e}),document.activeElement!==r)return}function UZ(t){const e=o9(t),r=nO(e,t),n=nO(e.reverse(),t);return[r,n]}function o9(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function nO(t,e){for(const r of t)if(!$Z(r,{upTo:e}))return r}function $Z(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function zZ(t){return t instanceof HTMLInputElement&&"select"in t}function Xf(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&zZ(t)&&e&&t.select()}}var iO=WZ();function WZ(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=oO(t,e),t.unshift(e)},remove(e){var r;t=oO(t,e),(r=t[0])==null||r.resume()}}}function oO(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function VZ(t){return t.filter(e=>e.tagName!=="A")}var HZ="Portal",cP=Q.forwardRef((t,e)=>{var a;const{container:r,...n}=t,[i,o]=Q.useState(!1);gd(()=>o(!0),[]);const s=r||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return s?YK.createPortal(V.jsx(ui.div,{...n,ref:e}),s):null});cP.displayName=HZ;function qZ(t,e){return Q.useReducer((r,n)=>e[r][n]??r,t)}var Y0=t=>{const{present:e,children:r}=t,n=XZ(e),i=typeof r=="function"?r({present:n.isPresent}):Q.Children.only(r),o=Rl(n.ref,YZ(i));return typeof r=="function"||n.isPresent?Q.cloneElement(i,{ref:o}):null};Y0.displayName="Presence";function XZ(t){const[e,r]=Q.useState(),n=Q.useRef({}),i=Q.useRef(t),o=Q.useRef("none"),s=t?"mounted":"unmounted",[a,l]=qZ(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return Q.useEffect(()=>{const c=Sv(n.current);o.current=a==="mounted"?c:"none"},[a]),gd(()=>{const c=n.current,u=i.current;if(u!==t){const _=o.current,b=Sv(c);t?l("MOUNT"):b==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&_!==b?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),gd(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,g=b=>{const E=Sv(n.current).includes(b.animationName);if(b.target===e&&E&&(l("ANIMATION_END"),!i.current)){const T=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=T)})}},_=b=>{b.target===e&&(o.current=Sv(n.current))};return e.addEventListener("animationstart",_),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",_),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:Q.useCallback(c=>{c&&(n.current=getComputedStyle(c)),r(c)},[])}}function Sv(t){return(t==null?void 0:t.animationName)||"none"}function YZ(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var z_=0;function s9(){Q.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??sO()),document.body.insertAdjacentElement("beforeend",t[1]??sO()),z_++,()=>{z_===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),z_--}},[])}function sO(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var au=function(){return au=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},au.apply(this,arguments)};function a9(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function KZ(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))}var b1="right-scroll-bar-position",_1="width-before-scroll-bar",GZ="with-scroll-bars-hidden",QZ="--removed-body-scroll-bar-size";function W_(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function ZZ(t,e){var r=Q.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=e,r.facade}var JZ=typeof window<"u"?Q.useLayoutEffect:Q.useEffect,aO=new WeakMap;function eJ(t,e){var r=ZZ(null,function(n){return t.forEach(function(i){return W_(i,n)})});return JZ(function(){var n=aO.get(r);if(n){var i=new Set(n),o=new Set(t),s=r.current;i.forEach(function(a){o.has(a)||W_(a,null)}),o.forEach(function(a){i.has(a)||W_(a,s)})}aO.set(r,t)},[t]),r}function tJ(t){return t}function rJ(t,e){e===void 0&&(e=tJ);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(o){var s=e(o,n);return r.push(s),function(){r=r.filter(function(a){return a!==s})}},assignSyncMedium:function(o){for(n=!0;r.length;){var s=r;r=[],s.forEach(o)}r={push:function(a){return o(a)},filter:function(){return r}}},assignMedium:function(o){n=!0;var s=[];if(r.length){var a=r;r=[],a.forEach(o),s=r}var l=function(){var u=s;s=[],u.forEach(o)},c=function(){return Promise.resolve().then(l)};c(),r={push:function(u){s.push(u),c()},filter:function(u){return s=s.filter(u),r}}}};return i}function nJ(t){t===void 0&&(t={});var e=rJ(null);return e.options=au({async:!0,ssr:!1},t),e}var l9=function(t){var e=t.sideCar,r=a9(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return Q.createElement(n,au({},r))};l9.isSideCarExport=!0;function iJ(t,e){return t.useMedium(e),l9}var c9=nJ(),V_=function(){},H2=Q.forwardRef(function(t,e){var r=Q.useRef(null),n=Q.useState({onScrollCapture:V_,onWheelCapture:V_,onTouchMoveCapture:V_}),i=n[0],o=n[1],s=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,g=t.shards,_=t.sideCar,b=t.noRelative,P=t.noIsolation,E=t.inert,T=t.allowPinchZoom,O=t.as,L=O===void 0?"div":O,N=t.gapMode,D=a9(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),B=_,z=eJ([r,e]),X=au(au({},D),i);return Q.createElement(Q.Fragment,null,u&&Q.createElement(B,{sideCar:c9,removeScrollBar:c,shards:g,noRelative:b,noIsolation:P,inert:E,setCallbacks:o,allowPinchZoom:!!T,lockRef:r,gapMode:N}),s?Q.cloneElement(Q.Children.only(a),au(au({},X),{ref:z})):Q.createElement(L,au({},X,{className:l,ref:z}),a))});H2.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};H2.classNames={fullWidth:_1,zeroRight:b1};var oJ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function sJ(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=oJ();return e&&t.setAttribute("nonce",e),t}function aJ(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function lJ(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var cJ=function(){var t=0,e=null;return{add:function(r){t==0&&(e=sJ())&&(aJ(e,r),lJ(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},uJ=function(){var t=cJ();return function(e,r){Q.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},u9=function(){var t=uJ(),e=function(r){var n=r.styles,i=r.dynamic;return t(n,i),null};return e},fJ={left:0,top:0,right:0,gap:0},H_=function(t){return parseInt(t||"",10)||0},hJ=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[H_(r),H_(n),H_(i)]},dJ=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return fJ;var e=hJ(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},AJ=u9(),VA="data-scroll-locked",pJ=function(t,e,r,n){var i=t.left,o=t.top,s=t.right,a=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(GZ,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(a,"px ").concat(n,`;
  }
  body[`).concat(VA,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(a,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(b1,` {
    right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(_1,` {
    margin-right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(b1," .").concat(b1,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(_1," .").concat(_1,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(VA,`] {
    `).concat(QZ,": ").concat(a,`px;
  }
`)},lO=function(){var t=parseInt(document.body.getAttribute(VA)||"0",10);return isFinite(t)?t:0},gJ=function(){Q.useEffect(function(){return document.body.setAttribute(VA,(lO()+1).toString()),function(){var t=lO()-1;t<=0?document.body.removeAttribute(VA):document.body.setAttribute(VA,t.toString())}},[])},mJ=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,i=n===void 0?"margin":n;gJ();var o=Q.useMemo(function(){return dJ(i)},[i]);return Q.createElement(AJ,{styles:pJ(o,!e,i,r?"":"!important")})},v4=!1;if(typeof window<"u")try{var Ev=Object.defineProperty({},"passive",{get:function(){return v4=!0,!0}});window.addEventListener("test",Ev,Ev),window.removeEventListener("test",Ev,Ev)}catch{v4=!1}var uA=v4?{passive:!1}:!1,vJ=function(t){return t.tagName==="TEXTAREA"},f9=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!vJ(t)&&r[e]==="visible")},yJ=function(t){return f9(t,"overflowY")},bJ=function(t){return f9(t,"overflowX")},cO=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=h9(t,n);if(i){var o=d9(t,n),s=o[1],a=o[2];if(s>a)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},_J=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},wJ=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},h9=function(t,e){return t==="v"?yJ(e):bJ(e)},d9=function(t,e){return t==="v"?_J(e):wJ(e)},xJ=function(t,e){return t==="h"&&e==="rtl"?-1:1},SJ=function(t,e,r,n,i){var o=xJ(t,window.getComputedStyle(e).direction),s=o*n,a=r.target,l=e.contains(a),c=!1,u=s>0,g=0,_=0;do{if(!a)break;var b=d9(t,a),P=b[0],E=b[1],T=b[2],O=E-T-o*P;(P||O)&&h9(t,a)&&(g+=O,_+=P);var L=a.parentNode;a=L&&L.nodeType===Node.DOCUMENT_FRAGMENT_NODE?L.host:L}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&Math.abs(g)<1||!u&&Math.abs(_)<1)&&(c=!0),c},Tv=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},uO=function(t){return[t.deltaX,t.deltaY]},fO=function(t){return t&&"current"in t?t.current:t},EJ=function(t,e){return t[0]===e[0]&&t[1]===e[1]},TJ=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},PJ=0,fA=[];function CJ(t){var e=Q.useRef([]),r=Q.useRef([0,0]),n=Q.useRef(),i=Q.useState(PJ++)[0],o=Q.useState(u9)[0],s=Q.useRef(t);Q.useEffect(function(){s.current=t},[t]),Q.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var E=KZ([t.lockRef.current],(t.shards||[]).map(fO),!0).filter(Boolean);return E.forEach(function(T){return T.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),E.forEach(function(T){return T.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=Q.useCallback(function(E,T){if("touches"in E&&E.touches.length===2||E.type==="wheel"&&E.ctrlKey)return!s.current.allowPinchZoom;var O=Tv(E),L=r.current,N="deltaX"in E?E.deltaX:L[0]-O[0],D="deltaY"in E?E.deltaY:L[1]-O[1],B,z=E.target,X=Math.abs(N)>Math.abs(D)?"h":"v";if("touches"in E&&X==="h"&&z.type==="range")return!1;var Z=window.getSelection(),G=Z&&Z.anchorNode,de=G?G===z||G.contains(z):!1;if(de)return!1;var H=cO(X,z);if(!H)return!0;if(H?B=X:(B=X==="v"?"h":"v",H=cO(X,z)),!H)return!1;if(!n.current&&"changedTouches"in E&&(N||D)&&(n.current=B),!B)return!0;var ee=n.current||B;return SJ(ee,T,E,ee==="h"?N:D)},[]),l=Q.useCallback(function(E){var T=E;if(!(!fA.length||fA[fA.length-1]!==o)){var O="deltaY"in T?uO(T):Tv(T),L=e.current.filter(function(B){return B.name===T.type&&(B.target===T.target||T.target===B.shadowParent)&&EJ(B.delta,O)})[0];if(L&&L.should){T.cancelable&&T.preventDefault();return}if(!L){var N=(s.current.shards||[]).map(fO).filter(Boolean).filter(function(B){return B.contains(T.target)}),D=N.length>0?a(T,N[0]):!s.current.noIsolation;D&&T.cancelable&&T.preventDefault()}}},[]),c=Q.useCallback(function(E,T,O,L){var N={name:E,delta:T,target:O,should:L,shadowParent:kJ(O)};e.current.push(N),setTimeout(function(){e.current=e.current.filter(function(D){return D!==N})},1)},[]),u=Q.useCallback(function(E){r.current=Tv(E),n.current=void 0},[]),g=Q.useCallback(function(E){c(E.type,uO(E),E.target,a(E,t.lockRef.current))},[]),_=Q.useCallback(function(E){c(E.type,Tv(E),E.target,a(E,t.lockRef.current))},[]);Q.useEffect(function(){return fA.push(o),t.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:_}),document.addEventListener("wheel",l,uA),document.addEventListener("touchmove",l,uA),document.addEventListener("touchstart",u,uA),function(){fA=fA.filter(function(E){return E!==o}),document.removeEventListener("wheel",l,uA),document.removeEventListener("touchmove",l,uA),document.removeEventListener("touchstart",u,uA)}},[]);var b=t.removeScrollBar,P=t.inert;return Q.createElement(Q.Fragment,null,P?Q.createElement(o,{styles:TJ(i)}):null,b?Q.createElement(mJ,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function kJ(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const OJ=iJ(c9,CJ);var uP=Q.forwardRef(function(t,e){return Q.createElement(H2,au({},t,{ref:e,sideCar:OJ}))});uP.classNames=H2.classNames;var RJ=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},hA=new WeakMap,Pv=new WeakMap,Cv={},q_=0,A9=function(t){return t&&(t.host||A9(t.parentNode))},IJ=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=A9(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},NJ=function(t,e,r,n){var i=IJ(e,Array.isArray(t)?t:[t]);Cv[r]||(Cv[r]=new WeakMap);var o=Cv[r],s=[],a=new Set,l=new Set(i),c=function(g){!g||a.has(g)||(a.add(g),c(g.parentNode))};i.forEach(c);var u=function(g){!g||l.has(g)||Array.prototype.forEach.call(g.children,function(_){if(a.has(_))u(_);else try{var b=_.getAttribute(n),P=b!==null&&b!=="false",E=(hA.get(_)||0)+1,T=(o.get(_)||0)+1;hA.set(_,E),o.set(_,T),s.push(_),E===1&&P&&Pv.set(_,!0),T===1&&_.setAttribute(r,"true"),P||_.setAttribute(n,"true")}catch(O){console.error("aria-hidden: cannot operate on ",_,O)}})};return u(e),a.clear(),q_++,function(){s.forEach(function(g){var _=hA.get(g)-1,b=o.get(g)-1;hA.set(g,_),o.set(g,b),_||(Pv.has(g)||g.removeAttribute(n),Pv.delete(g)),b||g.removeAttribute(r)}),q_--,q_||(hA=new WeakMap,hA=new WeakMap,Pv=new WeakMap,Cv={})}},p9=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),i=RJ(t);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live], script"))),NJ(n,i,r,"aria-hidden")):function(){return null}},fP="Dialog",[g9]=V2(fP),[MJ,Tc]=g9(fP),m9=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:i,onOpenChange:o,modal:s=!0}=t,a=Q.useRef(null),l=Q.useRef(null),[c=!1,u]=oP({prop:n,defaultProp:i,onChange:o});return V.jsx(MJ,{scope:e,triggerRef:a,contentRef:l,contentId:Au(),titleId:Au(),descriptionId:Au(),open:c,onOpenChange:u,onOpenToggle:Q.useCallback(()=>u(g=>!g),[u]),modal:s,children:r})};m9.displayName=fP;var v9="DialogTrigger",LJ=Q.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Tc(v9,r),o=Rl(e,i.triggerRef);return V.jsx(ui.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":AP(i.open),...n,ref:o,onClick:da(t.onClick,i.onOpenToggle)})});LJ.displayName=v9;var hP="DialogPortal",[DJ,y9]=g9(hP,{forceMount:void 0}),b9=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:i}=t,o=Tc(hP,e);return V.jsx(DJ,{scope:e,forceMount:r,children:Q.Children.map(n,s=>V.jsx(Y0,{present:r||o.open,children:V.jsx(cP,{asChild:!0,container:i,children:s})}))})};b9.displayName=hP;var W1="DialogOverlay",_9=Q.forwardRef((t,e)=>{const r=y9(W1,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,o=Tc(W1,t.__scopeDialog);return o.modal?V.jsx(Y0,{present:n||o.open,children:V.jsx(BJ,{...i,ref:e})}):null});_9.displayName=W1;var BJ=Q.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Tc(W1,r);return V.jsx(uP,{as:Em,allowPinchZoom:!0,shards:[i.contentRef],children:V.jsx(ui.div,{"data-state":AP(i.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),md="DialogContent",w9=Q.forwardRef((t,e)=>{const r=y9(md,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,o=Tc(md,t.__scopeDialog);return V.jsx(Y0,{present:n||o.open,children:o.modal?V.jsx(FJ,{...i,ref:e}):V.jsx(jJ,{...i,ref:e})})});w9.displayName=md;var FJ=Q.forwardRef((t,e)=>{const r=Tc(md,t.__scopeDialog),n=Q.useRef(null),i=Rl(e,r.contentRef,n);return Q.useEffect(()=>{const o=n.current;if(o)return p9(o)},[]),V.jsx(x9,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:da(t.onCloseAutoFocus,o=>{var s;o.preventDefault(),(s=r.triggerRef.current)==null||s.focus()}),onPointerDownOutside:da(t.onPointerDownOutside,o=>{const s=o.detail.originalEvent,a=s.button===0&&s.ctrlKey===!0;(s.button===2||a)&&o.preventDefault()}),onFocusOutside:da(t.onFocusOutside,o=>o.preventDefault())})}),jJ=Q.forwardRef((t,e)=>{const r=Tc(md,t.__scopeDialog),n=Q.useRef(!1),i=Q.useRef(!1);return V.jsx(x9,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var s,a;(s=t.onCloseAutoFocus)==null||s.call(t,o),o.defaultPrevented||(n.current||(a=r.triggerRef.current)==null||a.focus(),o.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:o=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=o.target;((c=r.triggerRef.current)==null?void 0:c.contains(s))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),x9=Q.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:o,...s}=t,a=Tc(md,r),l=Q.useRef(null),c=Rl(e,l);return s9(),V.jsxs(V.Fragment,{children:[V.jsx(lP,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:o,children:V.jsx(aP,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":AP(a.open),...s,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),V.jsxs(V.Fragment,{children:[V.jsx(WJ,{titleId:a.titleId}),V.jsx(HJ,{contentRef:l,descriptionId:a.descriptionId})]})]})}),dP="DialogTitle",UJ=Q.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Tc(dP,r);return V.jsx(ui.h2,{id:i.titleId,...n,ref:e})});UJ.displayName=dP;var S9="DialogDescription",$J=Q.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Tc(S9,r);return V.jsx(ui.p,{id:i.descriptionId,...n,ref:e})});$J.displayName=S9;var E9="DialogClose",zJ=Q.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Tc(E9,r);return V.jsx(ui.button,{type:"button",...n,ref:e,onClick:da(t.onClick,()=>i.onOpenChange(!1))})});zJ.displayName=E9;function AP(t){return t?"open":"closed"}var T9="DialogTitleWarning",[tIe,P9]=nZ(T9,{contentName:md,titleName:dP,docsSlug:"dialog"}),WJ=({titleId:t})=>{const e=P9(T9),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return Q.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},VJ="DialogDescriptionWarning",HJ=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${P9(VJ).contentName}}.`;return Q.useEffect(()=>{var o;const i=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},qJ=m9,XJ=b9,YJ=_9,KJ=w9,Op='[cmdk-group=""]',X_='[cmdk-group-items=""]',GJ='[cmdk-group-heading=""]',C9='[cmdk-item=""]',hO=`${C9}:not([aria-disabled="true"])`,y4="cmdk-item-select",kA="data-value",QJ=(t,e,r)=>PZ(t,e,r),k9=Q.createContext(void 0),Tm=()=>Q.useContext(k9),O9=Q.createContext(void 0),pP=()=>Q.useContext(O9),R9=Q.createContext(void 0),I9=Q.forwardRef((t,e)=>{let r=OA(()=>{var $,ne;return{search:"",value:(ne=($=t.value)!=null?$:t.defaultValue)!=null?ne:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=OA(()=>new Set),i=OA(()=>new Map),o=OA(()=>new Map),s=OA(()=>new Set),a=N9(t),{label:l,children:c,value:u,onValueChange:g,filter:_,shouldFilter:b,loop:P,disablePointerSelection:E=!1,vimBindings:T=!0,...O}=t,L=Au(),N=Au(),D=Au(),B=Q.useRef(null),z=lee();vd(()=>{if(u!==void 0){let $=u.trim();r.current.value=$,X.emit()}},[u]),vd(()=>{z(6,ae)},[]);let X=Q.useMemo(()=>({subscribe:$=>(s.current.add($),()=>s.current.delete($)),snapshot:()=>r.current,setState:($,ne,pe)=>{var be,Ie,De,$e;if(!Object.is(r.current[$],ne)){if(r.current[$]=ne,$==="search")ee(),de(),z(1,H);else if($==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let Le=document.getElementById(D);Le?Le.focus():(be=document.getElementById(L))==null||be.focus()}if(z(7,()=>{var Le;r.current.selectedItemId=(Le=le())==null?void 0:Le.id,X.emit()}),pe||z(5,ae),((Ie=a.current)==null?void 0:Ie.value)!==void 0){let Le=ne??"";($e=(De=a.current).onValueChange)==null||$e.call(De,Le);return}}X.emit()}},emit:()=>{s.current.forEach($=>$())}}),[]),Z=Q.useMemo(()=>({value:($,ne,pe)=>{var be;ne!==((be=o.current.get($))==null?void 0:be.value)&&(o.current.set($,{value:ne,keywords:pe}),r.current.filtered.items.set($,G(ne,pe)),z(2,()=>{de(),X.emit()}))},item:($,ne)=>(n.current.add($),ne&&(i.current.has(ne)?i.current.get(ne).add($):i.current.set(ne,new Set([$]))),z(3,()=>{ee(),de(),r.current.value||H(),X.emit()}),()=>{o.current.delete($),n.current.delete($),r.current.filtered.items.delete($);let pe=le();z(4,()=>{ee(),(pe==null?void 0:pe.getAttribute("id"))===$&&H(),X.emit()})}),group:$=>(i.current.has($)||i.current.set($,new Set),()=>{o.current.delete($),i.current.delete($)}),filter:()=>a.current.shouldFilter,label:l||t["aria-label"],getDisablePointerSelection:()=>a.current.disablePointerSelection,listId:L,inputId:D,labelId:N,listInnerRef:B}),[]);function G($,ne){var pe,be;let Ie=(be=(pe=a.current)==null?void 0:pe.filter)!=null?be:QJ;return $?Ie($,r.current.search,ne):0}function de(){if(!r.current.search||a.current.shouldFilter===!1)return;let $=r.current.filtered.items,ne=[];r.current.filtered.groups.forEach(be=>{let Ie=i.current.get(be),De=0;Ie.forEach($e=>{let Le=$.get($e);De=Math.max(Le,De)}),ne.push([be,De])});let pe=B.current;Te().sort((be,Ie)=>{var De,$e;let Le=be.getAttribute("id"),We=Ie.getAttribute("id");return((De=$.get(We))!=null?De:0)-(($e=$.get(Le))!=null?$e:0)}).forEach(be=>{let Ie=be.closest(X_);Ie?Ie.appendChild(be.parentElement===Ie?be:be.closest(`${X_} > *`)):pe.appendChild(be.parentElement===pe?be:be.closest(`${X_} > *`))}),ne.sort((be,Ie)=>Ie[1]-be[1]).forEach(be=>{var Ie;let De=(Ie=B.current)==null?void 0:Ie.querySelector(`${Op}[${kA}="${encodeURIComponent(be[0])}"]`);De==null||De.parentElement.appendChild(De)})}function H(){let $=Te().find(pe=>pe.getAttribute("aria-disabled")!=="true"),ne=$==null?void 0:$.getAttribute(kA);X.setState("value",ne||void 0)}function ee(){var $,ne,pe,be;if(!r.current.search||a.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let Ie=0;for(let De of n.current){let $e=(ne=($=o.current.get(De))==null?void 0:$.value)!=null?ne:"",Le=(be=(pe=o.current.get(De))==null?void 0:pe.keywords)!=null?be:[],We=G($e,Le);r.current.filtered.items.set(De,We),We>0&&Ie++}for(let[De,$e]of i.current)for(let Le of $e)if(r.current.filtered.items.get(Le)>0){r.current.filtered.groups.add(De);break}r.current.filtered.count=Ie}function ae(){var $,ne,pe;let be=le();be&&((($=be.parentElement)==null?void 0:$.firstChild)===be&&((pe=(ne=be.closest(Op))==null?void 0:ne.querySelector(GJ))==null||pe.scrollIntoView({block:"nearest"})),be.scrollIntoView({block:"nearest"}))}function le(){var $;return($=B.current)==null?void 0:$.querySelector(`${C9}[aria-selected="true"]`)}function Te(){var $;return Array.from((($=B.current)==null?void 0:$.querySelectorAll(hO))||[])}function te($){let ne=Te()[$];ne&&X.setState("value",ne.getAttribute(kA))}function oe($){var ne;let pe=le(),be=Te(),Ie=be.findIndex($e=>$e===pe),De=be[Ie+$];(ne=a.current)!=null&&ne.loop&&(De=Ie+$<0?be[be.length-1]:Ie+$===be.length?be[0]:be[Ie+$]),De&&X.setState("value",De.getAttribute(kA))}function K($){let ne=le(),pe=ne==null?void 0:ne.closest(Op),be;for(;pe&&!be;)pe=$>0?see(pe,Op):aee(pe,Op),be=pe==null?void 0:pe.querySelector(hO);be?X.setState("value",be.getAttribute(kA)):oe($)}let ge=()=>te(Te().length-1),Ee=$=>{$.preventDefault(),$.metaKey?ge():$.altKey?K(1):oe(1)},se=$=>{$.preventDefault(),$.metaKey?te(0):$.altKey?K(-1):oe(-1)};return Q.createElement(ui.div,{ref:e,tabIndex:-1,...O,"cmdk-root":"",onKeyDown:$=>{var ne;(ne=O.onKeyDown)==null||ne.call(O,$);let pe=$.nativeEvent.isComposing||$.keyCode===229;if(!($.defaultPrevented||pe))switch($.key){case"n":case"j":{T&&$.ctrlKey&&Ee($);break}case"ArrowDown":{Ee($);break}case"p":case"k":{T&&$.ctrlKey&&se($);break}case"ArrowUp":{se($);break}case"Home":{$.preventDefault(),te(0);break}case"End":{$.preventDefault(),ge();break}case"Enter":{$.preventDefault();let be=le();if(be){let Ie=new Event(y4);be.dispatchEvent(Ie)}}}}},Q.createElement("label",{"cmdk-label":"",htmlFor:Z.inputId,id:Z.labelId,style:uee},l),q2(t,$=>Q.createElement(O9.Provider,{value:X},Q.createElement(k9.Provider,{value:Z},$))))}),ZJ=Q.forwardRef((t,e)=>{var r,n;let i=Au(),o=Q.useRef(null),s=Q.useContext(R9),a=Tm(),l=N9(t),c=(n=(r=l.current)==null?void 0:r.forceMount)!=null?n:s==null?void 0:s.forceMount;vd(()=>{if(!c)return a.item(i,s==null?void 0:s.id)},[c]);let u=M9(i,o,[t.value,t.children,o],t.keywords),g=pP(),_=fh(z=>z.value&&z.value===u.current),b=fh(z=>c||a.filter()===!1?!0:z.search?z.filtered.items.get(i)>0:!0);Q.useEffect(()=>{let z=o.current;if(!(!z||t.disabled))return z.addEventListener(y4,P),()=>z.removeEventListener(y4,P)},[b,t.onSelect,t.disabled]);function P(){var z,X;E(),(X=(z=l.current).onSelect)==null||X.call(z,u.current)}function E(){g.setState("value",u.current,!0)}if(!b)return null;let{disabled:T,value:O,onSelect:L,forceMount:N,keywords:D,...B}=t;return Q.createElement(ui.div,{ref:pd(o,e),...B,id:i,"cmdk-item":"",role:"option","aria-disabled":!!T,"aria-selected":!!_,"data-disabled":!!T,"data-selected":!!_,onPointerMove:T||a.getDisablePointerSelection()?void 0:E,onClick:T?void 0:P},t.children)}),JJ=Q.forwardRef((t,e)=>{let{heading:r,children:n,forceMount:i,...o}=t,s=Au(),a=Q.useRef(null),l=Q.useRef(null),c=Au(),u=Tm(),g=fh(b=>i||u.filter()===!1?!0:b.search?b.filtered.groups.has(s):!0);vd(()=>u.group(s),[]),M9(s,a,[t.value,t.heading,l]);let _=Q.useMemo(()=>({id:s,forceMount:i}),[i]);return Q.createElement(ui.div,{ref:pd(a,e),...o,"cmdk-group":"",role:"presentation",hidden:g?void 0:!0},r&&Q.createElement("div",{ref:l,"cmdk-group-heading":"","aria-hidden":!0,id:c},r),q2(t,b=>Q.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?c:void 0},Q.createElement(R9.Provider,{value:_},b))))}),eee=Q.forwardRef((t,e)=>{let{alwaysRender:r,...n}=t,i=Q.useRef(null),o=fh(s=>!s.search);return!r&&!o?null:Q.createElement(ui.div,{ref:pd(i,e),...n,"cmdk-separator":"",role:"separator"})}),tee=Q.forwardRef((t,e)=>{let{onValueChange:r,...n}=t,i=t.value!=null,o=pP(),s=fh(c=>c.search),a=fh(c=>c.selectedItemId),l=Tm();return Q.useEffect(()=>{t.value!=null&&o.setState("search",t.value)},[t.value]),Q.createElement(ui.input,{ref:e,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":l.listId,"aria-labelledby":l.labelId,"aria-activedescendant":a,id:l.inputId,type:"text",value:i?t.value:s,onChange:c=>{i||o.setState("search",c.target.value),r==null||r(c.target.value)}})}),ree=Q.forwardRef((t,e)=>{let{children:r,label:n="Suggestions",...i}=t,o=Q.useRef(null),s=Q.useRef(null),a=fh(c=>c.selectedItemId),l=Tm();return Q.useEffect(()=>{if(s.current&&o.current){let c=s.current,u=o.current,g,_=new ResizeObserver(()=>{g=requestAnimationFrame(()=>{let b=c.offsetHeight;u.style.setProperty("--cmdk-list-height",b.toFixed(1)+"px")})});return _.observe(c),()=>{cancelAnimationFrame(g),_.unobserve(c)}}},[]),Q.createElement(ui.div,{ref:pd(o,e),...i,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":a,"aria-label":n,id:l.listId},q2(t,c=>Q.createElement("div",{ref:pd(s,l.listInnerRef),"cmdk-list-sizer":""},c)))}),nee=Q.forwardRef((t,e)=>{let{open:r,onOpenChange:n,overlayClassName:i,contentClassName:o,container:s,...a}=t;return Q.createElement(qJ,{open:r,onOpenChange:n},Q.createElement(XJ,{container:s},Q.createElement(YJ,{"cmdk-overlay":"",className:i}),Q.createElement(KJ,{"aria-label":t.label,"cmdk-dialog":"",className:o},Q.createElement(I9,{ref:e,...a}))))}),iee=Q.forwardRef((t,e)=>fh(r=>r.filtered.count===0)?Q.createElement(ui.div,{ref:e,...t,"cmdk-empty":"",role:"presentation"}):null),oee=Q.forwardRef((t,e)=>{let{progress:r,children:n,label:i="Loading...",...o}=t;return Q.createElement(ui.div,{ref:e,...o,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":i},q2(t,s=>Q.createElement("div",{"aria-hidden":!0},s)))}),K0=Object.assign(I9,{List:ree,Item:ZJ,Input:tee,Group:JJ,Separator:eee,Dialog:nee,Empty:iee,Loading:oee});function see(t,e){let r=t.nextElementSibling;for(;r;){if(r.matches(e))return r;r=r.nextElementSibling}}function aee(t,e){let r=t.previousElementSibling;for(;r;){if(r.matches(e))return r;r=r.previousElementSibling}}function N9(t){let e=Q.useRef(t);return vd(()=>{e.current=t}),e}var vd=typeof window>"u"?Q.useEffect:Q.useLayoutEffect;function OA(t){let e=Q.useRef();return e.current===void 0&&(e.current=t()),e}function fh(t){let e=pP(),r=()=>t(e.snapshot());return Q.useSyncExternalStore(e.subscribe,r,r)}function M9(t,e,r,n=[]){let i=Q.useRef(),o=Tm();return vd(()=>{var s;let a=(()=>{var c;for(let u of r){if(typeof u=="string")return u.trim();if(typeof u=="object"&&"current"in u)return u.current?(c=u.current.textContent)==null?void 0:c.trim():i.current}})(),l=n.map(c=>c.trim());o.value(t,a,l),(s=e.current)==null||s.setAttribute(kA,a),i.current=a}),i}var lee=()=>{let[t,e]=Q.useState(),r=OA(()=>new Map);return vd(()=>{r.current.forEach(n=>n()),r.current=new Map},[t]),(n,i)=>{r.current.set(n,i),e({})}};function cee(t){let e=t.type;return typeof e=="function"?e(t.props):"render"in e?e.render(t.props):t}function q2({asChild:t,children:e},r){return t&&Q.isValidElement(e)?Q.cloneElement(cee(e),{ref:e.ref},r(e.props.children)):r(e)}var uee={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function fee({className:t,...e}){return V.jsx(K0,{"data-slot":"command",className:Hs("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",t),...e})}function hee({className:t,...e}){return V.jsxs("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[V.jsx(JG,{className:"size-4 shrink-0 opacity-50"}),V.jsx(K0.Input,{"data-slot":"command-input",className:Hs("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",t),...e})]})}function dee({className:t,...e}){return V.jsx(K0.List,{"data-slot":"command-list",className:Hs("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",t),...e})}function Aee({...t}){return V.jsx(K0.Empty,{"data-slot":"command-empty",className:"py-6 text-center text-sm",...t})}function pee({className:t,...e}){return V.jsx(K0.Group,{"data-slot":"command-group",className:Hs("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",t),...e})}function gee({className:t,...e}){return V.jsx(K0.Item,{"data-slot":"command-item",className:Hs("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...e})}const mee=["top","right","bottom","left"],hh=Math.min,$a=Math.max,V1=Math.round,kv=Math.floor,pu=t=>({x:t,y:t}),vee={left:"right",right:"left",bottom:"top",top:"bottom"},yee={start:"end",end:"start"};function b4(t,e,r){return $a(t,hh(e,r))}function of(t,e){return typeof t=="function"?t(e):t}function sf(t){return t.split("-")[0]}function G0(t){return t.split("-")[1]}function gP(t){return t==="x"?"y":"x"}function mP(t){return t==="y"?"height":"width"}const bee=new Set(["top","bottom"]);function cu(t){return bee.has(sf(t))?"y":"x"}function vP(t){return gP(cu(t))}function _ee(t,e,r){r===void 0&&(r=!1);const n=G0(t),i=vP(t),o=mP(i);let s=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(s=H1(s)),[s,H1(s)]}function wee(t){const e=H1(t);return[_4(t),e,_4(e)]}function _4(t){return t.replace(/start|end/g,e=>yee[e])}const dO=["left","right"],AO=["right","left"],xee=["top","bottom"],See=["bottom","top"];function Eee(t,e,r){switch(t){case"top":case"bottom":return r?e?AO:dO:e?dO:AO;case"left":case"right":return e?xee:See;default:return[]}}function Tee(t,e,r,n){const i=G0(t);let o=Eee(sf(t),r==="start",n);return i&&(o=o.map(s=>s+"-"+i),e&&(o=o.concat(o.map(_4)))),o}function H1(t){return t.replace(/left|right|bottom|top/g,e=>vee[e])}function Pee(t){return{top:0,right:0,bottom:0,left:0,...t}}function L9(t){return typeof t!="number"?Pee(t):{top:t,right:t,bottom:t,left:t}}function q1(t){const{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function pO(t,e,r){let{reference:n,floating:i}=t;const o=cu(e),s=vP(e),a=mP(s),l=sf(e),c=o==="y",u=n.x+n.width/2-i.width/2,g=n.y+n.height/2-i.height/2,_=n[a]/2-i[a]/2;let b;switch(l){case"top":b={x:u,y:n.y-i.height};break;case"bottom":b={x:u,y:n.y+n.height};break;case"right":b={x:n.x+n.width,y:g};break;case"left":b={x:n.x-i.width,y:g};break;default:b={x:n.x,y:n.y}}switch(G0(e)){case"start":b[s]-=_*(r&&c?-1:1);break;case"end":b[s]+=_*(r&&c?-1:1);break}return b}const Cee=async(t,e,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:o=[],platform:s}=r,a=o.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(e));let c=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:g}=pO(c,n,l),_=n,b={},P=0;for(let E=0;E<a.length;E++){const{name:T,fn:O}=a[E],{x:L,y:N,data:D,reset:B}=await O({x:u,y:g,initialPlacement:n,placement:_,strategy:i,middlewareData:b,rects:c,platform:s,elements:{reference:t,floating:e}});u=L??u,g=N??g,b={...b,[T]:{...b[T],...D}},B&&P<=50&&(P++,typeof B=="object"&&(B.placement&&(_=B.placement),B.rects&&(c=B.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):B.rects),{x:u,y:g}=pO(c,_,l)),E=-1)}return{x:u,y:g,placement:_,strategy:i,middlewareData:b}};async function Cg(t,e){var r;e===void 0&&(e={});const{x:n,y:i,platform:o,rects:s,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:g="floating",altBoundary:_=!1,padding:b=0}=of(e,t),P=L9(b),T=a[_?g==="floating"?"reference":"floating":g],O=q1(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(T)))==null||r?T:T.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),L=g==="floating"?{x:n,y:i,width:s.floating.width,height:s.floating.height}:s.reference,N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),D=await(o.isElement==null?void 0:o.isElement(N))?await(o.getScale==null?void 0:o.getScale(N))||{x:1,y:1}:{x:1,y:1},B=q1(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:L,offsetParent:N,strategy:l}):L);return{top:(O.top-B.top+P.top)/D.y,bottom:(B.bottom-O.bottom+P.bottom)/D.y,left:(O.left-B.left+P.left)/D.x,right:(B.right-O.right+P.right)/D.x}}const kee=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:i,rects:o,platform:s,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=of(t,e)||{};if(c==null)return{};const g=L9(u),_={x:r,y:n},b=vP(i),P=mP(b),E=await s.getDimensions(c),T=b==="y",O=T?"top":"left",L=T?"bottom":"right",N=T?"clientHeight":"clientWidth",D=o.reference[P]+o.reference[b]-_[b]-o.floating[P],B=_[b]-o.reference[b],z=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c));let X=z?z[N]:0;(!X||!await(s.isElement==null?void 0:s.isElement(z)))&&(X=a.floating[N]||o.floating[P]);const Z=D/2-B/2,G=X/2-E[P]/2-1,de=hh(g[O],G),H=hh(g[L],G),ee=de,ae=X-E[P]-H,le=X/2-E[P]/2+Z,Te=b4(ee,le,ae),te=!l.arrow&&G0(i)!=null&&le!==Te&&o.reference[P]/2-(le<ee?de:H)-E[P]/2<0,oe=te?le<ee?le-ee:le-ae:0;return{[b]:_[b]+oe,data:{[b]:Te,centerOffset:le-Te-oe,...te&&{alignmentOffset:oe}},reset:te}}}),Oee=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:g=!0,fallbackPlacements:_,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:P="none",flipAlignment:E=!0,...T}=of(t,e);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const O=sf(i),L=cu(a),N=sf(a)===a,D=await(l.isRTL==null?void 0:l.isRTL(c.floating)),B=_||(N||!E?[H1(a)]:wee(a)),z=P!=="none";!_&&z&&B.push(...Tee(a,E,P,D));const X=[a,...B],Z=await Cg(e,T),G=[];let de=((n=o.flip)==null?void 0:n.overflows)||[];if(u&&G.push(Z[O]),g){const le=_ee(i,s,D);G.push(Z[le[0]],Z[le[1]])}if(de=[...de,{placement:i,overflows:G}],!G.every(le=>le<=0)){var H,ee;const le=(((H=o.flip)==null?void 0:H.index)||0)+1,Te=X[le];if(Te&&(!(g==="alignment"?L!==cu(Te):!1)||de.every(K=>cu(K.placement)===L?K.overflows[0]>0:!0)))return{data:{index:le,overflows:de},reset:{placement:Te}};let te=(ee=de.filter(oe=>oe.overflows[0]<=0).sort((oe,K)=>oe.overflows[1]-K.overflows[1])[0])==null?void 0:ee.placement;if(!te)switch(b){case"bestFit":{var ae;const oe=(ae=de.filter(K=>{if(z){const ge=cu(K.placement);return ge===L||ge==="y"}return!0}).map(K=>[K.placement,K.overflows.filter(ge=>ge>0).reduce((ge,Ee)=>ge+Ee,0)]).sort((K,ge)=>K[1]-ge[1])[0])==null?void 0:ae[0];oe&&(te=oe);break}case"initialPlacement":te=a;break}if(i!==te)return{reset:{placement:te}}}return{}}}};function gO(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function mO(t){return mee.some(e=>t[e]>=0)}const Ree=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...i}=of(t,e);switch(n){case"referenceHidden":{const o=await Cg(e,{...i,elementContext:"reference"}),s=gO(o,r.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:mO(s)}}}case"escaped":{const o=await Cg(e,{...i,altBoundary:!0}),s=gO(o,r.floating);return{data:{escapedOffsets:s,escaped:mO(s)}}}default:return{}}}}},D9=new Set(["left","top"]);async function Iee(t,e){const{placement:r,platform:n,elements:i}=t,o=await(n.isRTL==null?void 0:n.isRTL(i.floating)),s=sf(r),a=G0(r),l=cu(r)==="y",c=D9.has(s)?-1:1,u=o&&l?-1:1,g=of(e,t);let{mainAxis:_,crossAxis:b,alignmentAxis:P}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return a&&typeof P=="number"&&(b=a==="end"?P*-1:P),l?{x:b*u,y:_*c}:{x:_*c,y:b*u}}const Nee=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:i,y:o,placement:s,middlewareData:a}=e,l=await Iee(e,t);return s===((r=a.offset)==null?void 0:r.placement)&&(n=a.arrow)!=null&&n.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:s}}}}},Mee=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:i}=e,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:T=>{let{x:O,y:L}=T;return{x:O,y:L}}},...l}=of(t,e),c={x:r,y:n},u=await Cg(e,l),g=cu(sf(i)),_=gP(g);let b=c[_],P=c[g];if(o){const T=_==="y"?"top":"left",O=_==="y"?"bottom":"right",L=b+u[T],N=b-u[O];b=b4(L,b,N)}if(s){const T=g==="y"?"top":"left",O=g==="y"?"bottom":"right",L=P+u[T],N=P-u[O];P=b4(L,P,N)}const E=a.fn({...e,[_]:b,[g]:P});return{...E,data:{x:E.x-r,y:E.y-n,enabled:{[_]:o,[g]:s}}}}}},Lee=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:i,rects:o,middlewareData:s}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=of(t,e),u={x:r,y:n},g=cu(i),_=gP(g);let b=u[_],P=u[g];const E=of(a,e),T=typeof E=="number"?{mainAxis:E,crossAxis:0}:{mainAxis:0,crossAxis:0,...E};if(l){const N=_==="y"?"height":"width",D=o.reference[_]-o.floating[N]+T.mainAxis,B=o.reference[_]+o.reference[N]-T.mainAxis;b<D?b=D:b>B&&(b=B)}if(c){var O,L;const N=_==="y"?"width":"height",D=D9.has(sf(i)),B=o.reference[g]-o.floating[N]+(D&&((O=s.offset)==null?void 0:O[g])||0)+(D?0:T.crossAxis),z=o.reference[g]+o.reference[N]+(D?0:((L=s.offset)==null?void 0:L[g])||0)-(D?T.crossAxis:0);P<B?P=B:P>z&&(P=z)}return{[_]:b,[g]:P}}}},Dee=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:i,rects:o,platform:s,elements:a}=e,{apply:l=()=>{},...c}=of(t,e),u=await Cg(e,c),g=sf(i),_=G0(i),b=cu(i)==="y",{width:P,height:E}=o.floating;let T,O;g==="top"||g==="bottom"?(T=g,O=_===(await(s.isRTL==null?void 0:s.isRTL(a.floating))?"start":"end")?"left":"right"):(O=g,T=_==="end"?"top":"bottom");const L=E-u.top-u.bottom,N=P-u.left-u.right,D=hh(E-u[T],L),B=hh(P-u[O],N),z=!e.middlewareData.shift;let X=D,Z=B;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(Z=N),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(X=L),z&&!_){const de=$a(u.left,0),H=$a(u.right,0),ee=$a(u.top,0),ae=$a(u.bottom,0);b?Z=P-2*(de!==0||H!==0?de+H:$a(u.left,u.right)):X=E-2*(ee!==0||ae!==0?ee+ae:$a(u.top,u.bottom))}await l({...e,availableWidth:Z,availableHeight:X});const G=await s.getDimensions(a.floating);return P!==G.width||E!==G.height?{reset:{rects:!0}}:{}}}};function X2(){return typeof window<"u"}function Q0(t){return B9(t)?(t.nodeName||"").toLowerCase():"#document"}function qa(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function xu(t){var e;return(e=(B9(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function B9(t){return X2()?t instanceof Node||t instanceof qa(t).Node:!1}function wc(t){return X2()?t instanceof Element||t instanceof qa(t).Element:!1}function vu(t){return X2()?t instanceof HTMLElement||t instanceof qa(t).HTMLElement:!1}function vO(t){return!X2()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof qa(t).ShadowRoot}const Bee=new Set(["inline","contents"]);function Pm(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=xc(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!Bee.has(i)}const Fee=new Set(["table","td","th"]);function jee(t){return Fee.has(Q0(t))}const Uee=[":popover-open",":modal"];function Y2(t){return Uee.some(e=>{try{return t.matches(e)}catch{return!1}})}const $ee=["transform","translate","scale","rotate","perspective"],zee=["transform","translate","scale","rotate","perspective","filter"],Wee=["paint","layout","strict","content"];function yP(t){const e=bP(),r=wc(t)?xc(t):t;return $ee.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||zee.some(n=>(r.willChange||"").includes(n))||Wee.some(n=>(r.contain||"").includes(n))}function Vee(t){let e=dh(t);for(;vu(e)&&!s0(e);){if(yP(e))return e;if(Y2(e))return null;e=dh(e)}return null}function bP(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Hee=new Set(["html","body","#document"]);function s0(t){return Hee.has(Q0(t))}function xc(t){return qa(t).getComputedStyle(t)}function K2(t){return wc(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function dh(t){if(Q0(t)==="html")return t;const e=t.assignedSlot||t.parentNode||vO(t)&&t.host||xu(t);return vO(e)?e.host:e}function F9(t){const e=dh(t);return s0(e)?t.ownerDocument?t.ownerDocument.body:t.body:vu(e)&&Pm(e)?e:F9(e)}function kg(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=F9(t),o=i===((n=t.ownerDocument)==null?void 0:n.body),s=qa(i);if(o){const a=w4(s);return e.concat(s,s.visualViewport||[],Pm(i)?i:[],a&&r?kg(a):[])}return e.concat(i,kg(i,[],r))}function w4(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function j9(t){const e=xc(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=vu(t),o=i?t.offsetWidth:r,s=i?t.offsetHeight:n,a=V1(r)!==o||V1(n)!==s;return a&&(r=o,n=s),{width:r,height:n,$:a}}function _P(t){return wc(t)?t:t.contextElement}function HA(t){const e=_P(t);if(!vu(e))return pu(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:o}=j9(e);let s=(o?V1(r.width):r.width)/n,a=(o?V1(r.height):r.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const qee=pu(0);function U9(t){const e=qa(t);return!bP()||!e.visualViewport?qee:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Xee(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==qa(t)?!1:e}function yd(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),o=_P(t);let s=pu(1);e&&(n?wc(n)&&(s=HA(n)):s=HA(t));const a=Xee(o,r,n)?U9(o):pu(0);let l=(i.left+a.x)/s.x,c=(i.top+a.y)/s.y,u=i.width/s.x,g=i.height/s.y;if(o){const _=qa(o),b=n&&wc(n)?qa(n):n;let P=_,E=w4(P);for(;E&&n&&b!==P;){const T=HA(E),O=E.getBoundingClientRect(),L=xc(E),N=O.left+(E.clientLeft+parseFloat(L.paddingLeft))*T.x,D=O.top+(E.clientTop+parseFloat(L.paddingTop))*T.y;l*=T.x,c*=T.y,u*=T.x,g*=T.y,l+=N,c+=D,P=qa(E),E=w4(P)}}return q1({width:u,height:g,x:l,y:c})}function G2(t,e){const r=K2(t).scrollLeft;return e?e.left+r:yd(xu(t)).left+r}function $9(t,e){const r=t.getBoundingClientRect(),n=r.left+e.scrollLeft-G2(t,r),i=r.top+e.scrollTop;return{x:n,y:i}}function Yee(t){let{elements:e,rect:r,offsetParent:n,strategy:i}=t;const o=i==="fixed",s=xu(n),a=e?Y2(e.floating):!1;if(n===s||a&&o)return r;let l={scrollLeft:0,scrollTop:0},c=pu(1);const u=pu(0),g=vu(n);if((g||!g&&!o)&&((Q0(n)!=="body"||Pm(s))&&(l=K2(n)),vu(n))){const b=yd(n);c=HA(n),u.x=b.x+n.clientLeft,u.y=b.y+n.clientTop}const _=s&&!g&&!o?$9(s,l):pu(0);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-l.scrollLeft*c.x+u.x+_.x,y:r.y*c.y-l.scrollTop*c.y+u.y+_.y}}function Kee(t){return Array.from(t.getClientRects())}function Gee(t){const e=xu(t),r=K2(t),n=t.ownerDocument.body,i=$a(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),o=$a(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let s=-r.scrollLeft+G2(t);const a=-r.scrollTop;return xc(n).direction==="rtl"&&(s+=$a(e.clientWidth,n.clientWidth)-i),{width:i,height:o,x:s,y:a}}const yO=25;function Qee(t,e){const r=qa(t),n=xu(t),i=r.visualViewport;let o=n.clientWidth,s=n.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;const u=bP();(!u||u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}const c=G2(n);if(c<=0){const u=n.ownerDocument,g=u.body,_=getComputedStyle(g),b=u.compatMode==="CSS1Compat"&&parseFloat(_.marginLeft)+parseFloat(_.marginRight)||0,P=Math.abs(n.clientWidth-g.clientWidth-b);P<=yO&&(o-=P)}else c<=yO&&(o+=c);return{width:o,height:s,x:a,y:l}}const Zee=new Set(["absolute","fixed"]);function Jee(t,e){const r=yd(t,!0,e==="fixed"),n=r.top+t.clientTop,i=r.left+t.clientLeft,o=vu(t)?HA(t):pu(1),s=t.clientWidth*o.x,a=t.clientHeight*o.y,l=i*o.x,c=n*o.y;return{width:s,height:a,x:l,y:c}}function bO(t,e,r){let n;if(e==="viewport")n=Qee(t,r);else if(e==="document")n=Gee(xu(t));else if(wc(e))n=Jee(e,r);else{const i=U9(t);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return q1(n)}function z9(t,e){const r=dh(t);return r===e||!wc(r)||s0(r)?!1:xc(r).position==="fixed"||z9(r,e)}function ete(t,e){const r=e.get(t);if(r)return r;let n=kg(t,[],!1).filter(a=>wc(a)&&Q0(a)!=="body"),i=null;const o=xc(t).position==="fixed";let s=o?dh(t):t;for(;wc(s)&&!s0(s);){const a=xc(s),l=yP(s);!l&&a.position==="fixed"&&(i=null),(o?!l&&!i:!l&&a.position==="static"&&!!i&&Zee.has(i.position)||Pm(s)&&!l&&z9(t,s))?n=n.filter(u=>u!==s):i=a,s=dh(s)}return e.set(t,n),n}function tte(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t;const s=[...r==="clippingAncestors"?Y2(e)?[]:ete(e,this._c):[].concat(r),n],a=s[0],l=s.reduce((c,u)=>{const g=bO(e,u,i);return c.top=$a(g.top,c.top),c.right=hh(g.right,c.right),c.bottom=hh(g.bottom,c.bottom),c.left=$a(g.left,c.left),c},bO(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function rte(t){const{width:e,height:r}=j9(t);return{width:e,height:r}}function nte(t,e,r){const n=vu(e),i=xu(e),o=r==="fixed",s=yd(t,!0,o,e);let a={scrollLeft:0,scrollTop:0};const l=pu(0);function c(){l.x=G2(i)}if(n||!n&&!o)if((Q0(e)!=="body"||Pm(i))&&(a=K2(e)),n){const b=yd(e,!0,o,e);l.x=b.x+e.clientLeft,l.y=b.y+e.clientTop}else i&&c();o&&!n&&i&&c();const u=i&&!n&&!o?$9(i,a):pu(0),g=s.left+a.scrollLeft-l.x-u.x,_=s.top+a.scrollTop-l.y-u.y;return{x:g,y:_,width:s.width,height:s.height}}function Y_(t){return xc(t).position==="static"}function _O(t,e){if(!vu(t)||xc(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return xu(t)===r&&(r=r.ownerDocument.body),r}function W9(t,e){const r=qa(t);if(Y2(t))return r;if(!vu(t)){let i=dh(t);for(;i&&!s0(i);){if(wc(i)&&!Y_(i))return i;i=dh(i)}return r}let n=_O(t,e);for(;n&&jee(n)&&Y_(n);)n=_O(n,e);return n&&s0(n)&&Y_(n)&&!yP(n)?r:n||Vee(t)||r}const ite=async function(t){const e=this.getOffsetParent||W9,r=this.getDimensions,n=await r(t.floating);return{reference:nte(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function ote(t){return xc(t).direction==="rtl"}const ste={convertOffsetParentRelativeRectToViewportRelativeRect:Yee,getDocumentElement:xu,getClippingRect:tte,getOffsetParent:W9,getElementRects:ite,getClientRects:Kee,getDimensions:rte,getScale:HA,isElement:wc,isRTL:ote};function V9(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function ate(t,e){let r=null,n;const i=xu(t);function o(){var a;clearTimeout(n),(a=r)==null||a.disconnect(),r=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const c=t.getBoundingClientRect(),{left:u,top:g,width:_,height:b}=c;if(a||e(),!_||!b)return;const P=kv(g),E=kv(i.clientWidth-(u+_)),T=kv(i.clientHeight-(g+b)),O=kv(u),N={rootMargin:-P+"px "+-E+"px "+-T+"px "+-O+"px",threshold:$a(0,hh(1,l))||1};let D=!0;function B(z){const X=z[0].intersectionRatio;if(X!==l){if(!D)return s();X?s(!1,X):n=setTimeout(()=>{s(!1,1e-7)},1e3)}X===1&&!V9(c,t.getBoundingClientRect())&&s(),D=!1}try{r=new IntersectionObserver(B,{...N,root:i.ownerDocument})}catch{r=new IntersectionObserver(B,N)}r.observe(t)}return s(!0),o}function lte(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,c=_P(t),u=i||o?[...c?kg(c):[],...kg(e)]:[];u.forEach(O=>{i&&O.addEventListener("scroll",r,{passive:!0}),o&&O.addEventListener("resize",r)});const g=c&&a?ate(c,r):null;let _=-1,b=null;s&&(b=new ResizeObserver(O=>{let[L]=O;L&&L.target===c&&b&&(b.unobserve(e),cancelAnimationFrame(_),_=requestAnimationFrame(()=>{var N;(N=b)==null||N.observe(e)})),r()}),c&&!l&&b.observe(c),b.observe(e));let P,E=l?yd(t):null;l&&T();function T(){const O=yd(t);E&&!V9(E,O)&&r(),E=O,P=requestAnimationFrame(T)}return r(),()=>{var O;u.forEach(L=>{i&&L.removeEventListener("scroll",r),o&&L.removeEventListener("resize",r)}),g==null||g(),(O=b)==null||O.disconnect(),b=null,l&&cancelAnimationFrame(P)}}const cte=Nee,ute=Mee,fte=Oee,hte=Dee,dte=Ree,wO=kee,Ate=Lee,pte=(t,e,r)=>{const n=new Map,i={platform:ste,...r},o={...i.platform,_c:n};return Cee(t,e,{...i,platform:o})};var gte=typeof document<"u",mte=function(){},w1=gte?Q.useLayoutEffect:mte;function X1(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!X1(t[n],e[n]))return!1;return!0}if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){const o=i[n];if(!(o==="_owner"&&t.$$typeof)&&!X1(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function H9(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function xO(t,e){const r=H9(t);return Math.round(e*r)/r}function K_(t){const e=Q.useRef(t);return w1(()=>{e.current=t}),e}function vte(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:o,floating:s}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,g]=Q.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[_,b]=Q.useState(n);X1(_,n)||b(n);const[P,E]=Q.useState(null),[T,O]=Q.useState(null),L=Q.useCallback(K=>{K!==z.current&&(z.current=K,E(K))},[]),N=Q.useCallback(K=>{K!==X.current&&(X.current=K,O(K))},[]),D=o||P,B=s||T,z=Q.useRef(null),X=Q.useRef(null),Z=Q.useRef(u),G=l!=null,de=K_(l),H=K_(i),ee=K_(c),ae=Q.useCallback(()=>{if(!z.current||!X.current)return;const K={placement:e,strategy:r,middleware:_};H.current&&(K.platform=H.current),pte(z.current,X.current,K).then(ge=>{const Ee={...ge,isPositioned:ee.current!==!1};le.current&&!X1(Z.current,Ee)&&(Z.current=Ee,Sm.flushSync(()=>{g(Ee)}))})},[_,e,r,H,ee]);w1(()=>{c===!1&&Z.current.isPositioned&&(Z.current.isPositioned=!1,g(K=>({...K,isPositioned:!1})))},[c]);const le=Q.useRef(!1);w1(()=>(le.current=!0,()=>{le.current=!1}),[]),w1(()=>{if(D&&(z.current=D),B&&(X.current=B),D&&B){if(de.current)return de.current(D,B,ae);ae()}},[D,B,ae,de,G]);const Te=Q.useMemo(()=>({reference:z,floating:X,setReference:L,setFloating:N}),[L,N]),te=Q.useMemo(()=>({reference:D,floating:B}),[D,B]),oe=Q.useMemo(()=>{const K={position:r,left:0,top:0};if(!te.floating)return K;const ge=xO(te.floating,u.x),Ee=xO(te.floating,u.y);return a?{...K,transform:"translate("+ge+"px, "+Ee+"px)",...H9(te.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:ge,top:Ee}},[r,a,te.floating,u.x,u.y]);return Q.useMemo(()=>({...u,update:ae,refs:Te,elements:te,floatingStyles:oe}),[u,ae,Te,te,oe])}const yte=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:i}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?wO({element:n.current,padding:i}).fn(r):{}:n?wO({element:n,padding:i}).fn(r):{}}}},bte=(t,e)=>({...cte(t),options:[t,e]}),_te=(t,e)=>({...ute(t),options:[t,e]}),wte=(t,e)=>({...Ate(t),options:[t,e]}),xte=(t,e)=>({...fte(t),options:[t,e]}),Ste=(t,e)=>({...hte(t),options:[t,e]}),Ete=(t,e)=>({...dte(t),options:[t,e]}),Tte=(t,e)=>({...yte(t),options:[t,e]});var Pte="Arrow",q9=Q.forwardRef((t,e)=>{const{children:r,width:n=10,height:i=5,...o}=t;return V.jsx(ui.svg,{...o,ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:V.jsx("polygon",{points:"0,0 30,0 15,10"})})});q9.displayName=Pte;var Cte=q9,wP="Popper",[X9,Y9]=V2(wP),[kte,K9]=X9(wP),G9=t=>{const{__scopePopper:e,children:r}=t,[n,i]=Q.useState(null);return V.jsx(kte,{scope:e,anchor:n,onAnchorChange:i,children:r})};G9.displayName=wP;var Q9="PopperAnchor",Z9=Q.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...i}=t,o=K9(Q9,r),s=Q.useRef(null),a=Rl(e,s);return Q.useEffect(()=>{o.onAnchorChange((n==null?void 0:n.current)||s.current)}),n?null:V.jsx(ui.div,{...i,ref:a})});Z9.displayName=Q9;var xP="PopperContent",[Ote,Rte]=X9(xP),J9=Q.forwardRef((t,e)=>{var De,$e,Le,We,ft,tt;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:o="center",alignOffset:s=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:g="partial",hideWhenDetached:_=!1,updatePositionStrategy:b="optimized",onPlaced:P,...E}=t,T=K9(xP,r),[O,L]=Q.useState(null),N=Rl(e,xt=>L(xt)),[D,B]=Q.useState(null),z=Gj(D),X=(z==null?void 0:z.width)??0,Z=(z==null?void 0:z.height)??0,G=n+(o!=="center"?"-"+o:""),de=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},H=Array.isArray(c)?c:[c],ee=H.length>0,ae={padding:de,boundary:H.filter(Nte),altBoundary:ee},{refs:le,floatingStyles:Te,placement:te,isPositioned:oe,middlewareData:K}=vte({strategy:"fixed",placement:G,whileElementsMounted:(...xt)=>lte(...xt,{animationFrame:b==="always"}),elements:{reference:T.anchor},middleware:[bte({mainAxis:i+Z,alignmentAxis:s}),l&&_te({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?wte():void 0,...ae}),l&&xte({...ae}),Ste({...ae,apply:({elements:xt,rects:Tt,availableWidth:xe,availableHeight:At})=>{const{width:Vt,height:$t}=Tt.reference,bt=xt.floating.style;bt.setProperty("--radix-popper-available-width",`${xe}px`),bt.setProperty("--radix-popper-available-height",`${At}px`),bt.setProperty("--radix-popper-anchor-width",`${Vt}px`),bt.setProperty("--radix-popper-anchor-height",`${$t}px`)}}),D&&Tte({element:D,padding:a}),Mte({arrowWidth:X,arrowHeight:Z}),_&&Ete({strategy:"referenceHidden",...ae})]}),[ge,Ee]=rU(te),se=uh(P);gd(()=>{oe&&(se==null||se())},[oe,se]);const $=(De=K.arrow)==null?void 0:De.x,ne=($e=K.arrow)==null?void 0:$e.y,pe=((Le=K.arrow)==null?void 0:Le.centerOffset)!==0,[be,Ie]=Q.useState();return gd(()=>{O&&Ie(window.getComputedStyle(O).zIndex)},[O]),V.jsx("div",{ref:le.setFloating,"data-radix-popper-content-wrapper":"",style:{...Te,transform:oe?Te.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:be,"--radix-popper-transform-origin":[(We=K.transformOrigin)==null?void 0:We.x,(ft=K.transformOrigin)==null?void 0:ft.y].join(" "),...((tt=K.hide)==null?void 0:tt.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:V.jsx(Ote,{scope:r,placedSide:ge,onArrowChange:B,arrowX:$,arrowY:ne,shouldHideArrow:pe,children:V.jsx(ui.div,{"data-side":ge,"data-align":Ee,...E,ref:N,style:{...E.style,animation:oe?void 0:"none"}})})})});J9.displayName=xP;var eU="PopperArrow",Ite={top:"bottom",right:"left",bottom:"top",left:"right"},tU=Q.forwardRef(function(e,r){const{__scopePopper:n,...i}=e,o=Rte(eU,n),s=Ite[o.placedSide];return V.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:V.jsx(Cte,{...i,ref:r,style:{...i.style,display:"block"}})})});tU.displayName=eU;function Nte(t){return t!==null}var Mte=t=>({name:"transformOrigin",options:t,fn(e){var T,O,L;const{placement:r,rects:n,middlewareData:i}=e,s=((T=i.arrow)==null?void 0:T.centerOffset)!==0,a=s?0:t.arrowWidth,l=s?0:t.arrowHeight,[c,u]=rU(r),g={start:"0%",center:"50%",end:"100%"}[u],_=(((O=i.arrow)==null?void 0:O.x)??0)+a/2,b=(((L=i.arrow)==null?void 0:L.y)??0)+l/2;let P="",E="";return c==="bottom"?(P=s?g:`${_}px`,E=`${-l}px`):c==="top"?(P=s?g:`${_}px`,E=`${n.floating.height+l}px`):c==="right"?(P=`${-l}px`,E=s?g:`${b}px`):c==="left"&&(P=`${n.floating.width+l}px`,E=s?g:`${b}px`),{data:{x:P,y:E}}}});function rU(t){const[e,r="center"]=t.split("-");return[e,r]}var Lte=G9,nU=Z9,Dte=J9,Bte=tU,SP="Popover",[iU]=V2(SP,[Y9]),Cm=Y9(),[Fte,mh]=iU(SP),oU=t=>{const{__scopePopover:e,children:r,open:n,defaultOpen:i,onOpenChange:o,modal:s=!1}=t,a=Cm(e),l=Q.useRef(null),[c,u]=Q.useState(!1),[g=!1,_]=oP({prop:n,defaultProp:i,onChange:o});return V.jsx(Lte,{...a,children:V.jsx(Fte,{scope:e,contentId:Au(),triggerRef:l,open:g,onOpenChange:_,onOpenToggle:Q.useCallback(()=>_(b=>!b),[_]),hasCustomAnchor:c,onCustomAnchorAdd:Q.useCallback(()=>u(!0),[]),onCustomAnchorRemove:Q.useCallback(()=>u(!1),[]),modal:s,children:r})})};oU.displayName=SP;var sU="PopoverAnchor",jte=Q.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=mh(sU,r),o=Cm(r),{onCustomAnchorAdd:s,onCustomAnchorRemove:a}=i;return Q.useEffect(()=>(s(),()=>a()),[s,a]),V.jsx(nU,{...o,...n,ref:e})});jte.displayName=sU;var aU="PopoverTrigger",lU=Q.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=mh(aU,r),o=Cm(r),s=Rl(e,i.triggerRef),a=V.jsx(ui.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":dU(i.open),...n,ref:s,onClick:da(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?a:V.jsx(nU,{asChild:!0,...o,children:a})});lU.displayName=aU;var EP="PopoverPortal",[Ute,$te]=iU(EP,{forceMount:void 0}),cU=t=>{const{__scopePopover:e,forceMount:r,children:n,container:i}=t,o=mh(EP,e);return V.jsx(Ute,{scope:e,forceMount:r,children:V.jsx(Y0,{present:r||o.open,children:V.jsx(cP,{asChild:!0,container:i,children:n})})})};cU.displayName=EP;var a0="PopoverContent",uU=Q.forwardRef((t,e)=>{const r=$te(a0,t.__scopePopover),{forceMount:n=r.forceMount,...i}=t,o=mh(a0,t.__scopePopover);return V.jsx(Y0,{present:n||o.open,children:o.modal?V.jsx(zte,{...i,ref:e}):V.jsx(Wte,{...i,ref:e})})});uU.displayName=a0;var zte=Q.forwardRef((t,e)=>{const r=mh(a0,t.__scopePopover),n=Q.useRef(null),i=Rl(e,n),o=Q.useRef(!1);return Q.useEffect(()=>{const s=n.current;if(s)return p9(s)},[]),V.jsx(uP,{as:Em,allowPinchZoom:!0,children:V.jsx(fU,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:da(t.onCloseAutoFocus,s=>{var a;s.preventDefault(),o.current||(a=r.triggerRef.current)==null||a.focus()}),onPointerDownOutside:da(t.onPointerDownOutside,s=>{const a=s.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0,c=a.button===2||l;o.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:da(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1})})})}),Wte=Q.forwardRef((t,e)=>{const r=mh(a0,t.__scopePopover),n=Q.useRef(!1),i=Q.useRef(!1);return V.jsx(fU,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var s,a;(s=t.onCloseAutoFocus)==null||s.call(t,o),o.defaultPrevented||(n.current||(a=r.triggerRef.current)==null||a.focus(),o.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:o=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=o.target;((c=r.triggerRef.current)==null?void 0:c.contains(s))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),fU=Q.forwardRef((t,e)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:s,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:u,...g}=t,_=mh(a0,r),b=Cm(r);return s9(),V.jsx(lP,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:o,children:V.jsx(aP,{asChild:!0,disableOutsidePointerEvents:s,onInteractOutside:u,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onDismiss:()=>_.onOpenChange(!1),children:V.jsx(Dte,{"data-state":dU(_.open),role:"dialog",id:_.contentId,...b,...g,ref:e,style:{...g.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),hU="PopoverClose",Vte=Q.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=mh(hU,r);return V.jsx(ui.button,{type:"button",...n,ref:e,onClick:da(t.onClick,()=>i.onOpenChange(!1))})});Vte.displayName=hU;var Hte="PopoverArrow",qte=Q.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=Cm(r);return V.jsx(Bte,{...i,...n,ref:e})});qte.displayName=Hte;function dU(t){return t?"open":"closed"}var Xte=oU,Yte=lU,Kte=cU,Gte=uU;function Qte({...t}){return V.jsx(Xte,{"data-slot":"popover",...t})}function Zte({...t}){return V.jsx(Yte,{"data-slot":"popover-trigger",...t})}function Jte({className:t,align:e="center",sideOffset:r=4,...n}){return V.jsx(Kte,{children:V.jsx(Gte,{"data-slot":"popover-content",align:e,sideOffset:r,className:Hs("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",t),...n})})}function ere({districts:t,selectedDistrict:e,onDistrictChange:r}){const[n,i]=Q.useState(new Date),[o,s]=Q.useState(navigator.onLine),[a,l]=Q.useState(!1),[c,u]=Q.useState(!1);return Q.useEffect(()=>{const g=setInterval(()=>i(new Date),1e3),_=()=>s(!0),b=()=>s(!1);return window.addEventListener("online",_),window.addEventListener("offline",b),()=>{clearInterval(g),window.removeEventListener("online",_),window.removeEventListener("offline",b)}},[]),V.jsxs("div",{className:"sticky top-0 z-30 flex h-16 items-center justify-between border-b border-border bg-background/80 px-6 backdrop-blur",children:[V.jsx("div",{className:"flex items-center gap-4",children:V.jsxs(Qte,{open:a,onOpenChange:l,children:[V.jsx(Zte,{asChild:!0,children:V.jsxs(o0,{variant:"outline",role:"combobox","aria-expanded":a,className:"w-[240px] justify-between bg-background-secondary border-border text-foreground hover:bg-background-tertiary",children:[e||"Select District...",V.jsx(mG,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),V.jsx(Jte,{className:"w-[240px] p-0 bg-popover border-border",children:V.jsxs(fee,{children:[V.jsx(hee,{placeholder:"Search district...",className:"h-9"}),V.jsxs(dee,{children:[V.jsx(Aee,{children:"No district found."}),V.jsx(pee,{children:t.map(g=>V.jsxs(gee,{value:g,onSelect:_=>{const b=t.find(P=>P.toLowerCase()===_.toLowerCase())||_;r(b===e?"":b),l(!1)},className:"text-foreground hover:bg-sidebar-active/20 hover:text-sidebar-active cursor-pointer",children:[g,V.jsx(aG,{className:Os("ml-auto h-4 w-4",e===g?"opacity-100":"opacity-0")})]},g))})]})]})})]})}),V.jsxs("div",{className:"flex items-center gap-6",children:[V.jsxs("div",{className:"flex items-center gap-2",children:[V.jsx(pZ,{id:"live-mode",checked:c,onCheckedChange:u,className:Os(c?"bg-severity-high":"bg-input")}),V.jsxs(vZ,{htmlFor:"live-mode",className:"flex items-center gap-2 text-xs font-medium cursor-pointer",children:[V.jsxs("span",{className:Os("relative flex h-2 w-2",c?"opacity-100":"opacity-50"),children:[c&&V.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),V.jsx("span",{className:Os("relative inline-flex rounded-full h-2 w-2",c?"bg-red-500":"bg-slate-500")})]}),"LIVE MODE"]})]}),V.jsx("div",{className:"h-4 w-px bg-border"}),V.jsxs("div",{className:Os("flex items-center gap-2 px-3 py-1 rounded-full text-xs font-medium border transition-colors",o?"bg-green-500/10 border-green-500/20 text-green-500":"bg-red-500/10 border-red-500/20 text-red-500"),children:[o?V.jsx(pQ,{className:"w-3.5 h-3.5"}):V.jsx(dQ,{className:"w-3.5 h-3.5"}),V.jsx("span",{children:o?"SYSTEM ACTIVE":"OFFLINE"})]}),V.jsx("div",{className:"h-4 w-px bg-border"}),V.jsx("div",{className:"text-right",children:V.jsx("div",{className:"text-lg font-mono font-bold leading-none text-foreground tracking-wide",children:n.toLocaleTimeString("en-IN",{hour12:!1})})})]})]})}function tre(){return V.jsx("footer",{className:"border-t border-border bg-card mt-12",children:V.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[V.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[V.jsxs("div",{className:"flex items-start gap-3",children:[V.jsx(Dj,{className:"w-5 h-5 text-severity-low flex-shrink-0 mt-0.5"}),V.jsxs("div",{children:[V.jsx("p",{className:"text-sm font-medium text-foreground",children:"Decision Support Only"}),V.jsx("p",{className:"text-xs text-foreground-secondary mt-1",children:"No automated enforcement. Final decisions always human-led."})]})]}),V.jsxs("div",{className:"flex items-start gap-3",children:[V.jsx(CG,{className:"w-5 h-5 text-severity-low flex-shrink-0 mt-0.5"}),V.jsxs("div",{children:[V.jsx("p",{className:"text-sm font-medium text-foreground",children:"Public / Synthetic Data Only"}),V.jsx("p",{className:"text-xs text-foreground-secondary mt-1",children:"District-level aggregation. No individual tracking or surveillance."})]})]}),V.jsxs("div",{className:"flex items-start gap-3",children:[V.jsx(KG,{className:"w-5 h-5 text-severity-low flex-shrink-0 mt-0.5"}),V.jsxs("div",{children:[V.jsx("p",{className:"text-sm font-medium text-foreground",children:"DPDP Act 2023 Aligned"}),V.jsx("p",{className:"text-xs text-foreground-secondary mt-1",children:"Compliant with Digital Personal Data Protection Act 2023."})]})]})]}),V.jsxs("div",{className:"border-t border-border pt-6 text-center",children:[V.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2 opacity-50",children:[V.jsx("span",{className:"font-bold tracking-tight",children:"NE-NETRA"}),V.jsx("span",{className:"mx-1",children:""}),V.jsx("span",{className:"uppercase tracking-widest text-[10px]",children:"Version 1.0 Pilot"})]}),V.jsx("p",{className:"text-sm text-foreground-tertiary",children:"Early Warning & Accountability Platform for North-East India"}),V.jsx("p",{className:"text-xs text-foreground-tertiary mt-2",children:"Prototype for controlled 6-week pilot | District-level intelligence only | Full audit trail maintained"}),V.jsxs("div",{className:"mt-4 flex flex-wrap justify-center gap-4",children:[V.jsx("div",{className:"inline-block px-3 py-1 bg-background-tertiary rounded text-xs text-foreground-tertiary border border-border-subtle",children:"Model: 3-Layer Sigmoid (Cognitive, Network, Physical)"}),V.jsxs("div",{className:"inline-flex items-center gap-1.5 px-3 py-1 bg-background-tertiary rounded text-xs text-foreground-tertiary border border-border-subtle",children:[V.jsx(SG,{className:"w-3 h-3"}),"Federated Learning: Active (Simulated) - Weights Syncing"]})]}),V.jsx("p",{className:"text-[10px] text-foreground-tertiary mt-2 opacity-60",children:"Admin Diagnostics: Model weights updated based on 12 recent officer feedback loops."})]})]})})}function rre({districts:t,selectedDistrict:e,onDistrictChange:r}){const[n,i]=Q.useState(!1);return V.jsxs("div",{className:"min-h-screen bg-background flex",children:[V.jsx(GQ,{collapsed:n,onToggle:()=>i(!n)}),V.jsxs("div",{className:Os("flex-1 flex flex-col transition-all duration-300 min-h-screen",n?"pl-[64px]":"pl-[240px]"),children:[V.jsx(ere,{districts:t,selectedDistrict:e,onDistrictChange:r}),V.jsxs("main",{className:"flex-1 p-6 overflow-y-auto flex flex-col",children:[V.jsx("div",{className:"max-w-[1600px] mx-auto animate-in fade-in duration-300 w-full flex-1",children:V.jsx(dK,{})}),V.jsx("div",{className:"mt-8",children:V.jsx(tre,{})})]})]})]})}function Q2({children:t,className:e="",variant:r="default"}){const n={default:"bg-card border border-border",outlined:"bg-transparent border-2 border-border",elevated:"bg-card border border-border shadow-lg"};return V.jsx("div",{className:`rounded-md ${n[r]} ${e}`,children:t})}function TP({children:t,className:e=""}){return V.jsx("div",{className:`px-6 py-4 border-b border-border bg-card-header ${e}`,children:t})}function PP({children:t,className:e=""}){return V.jsx("h3",{className:`font-medium text-foreground ${e}`,children:t})}function Z2({children:t,className:e=""}){return V.jsx("div",{className:`px-6 py-4 ${e}`,children:t})}function nre({score:t,trend:e,riskLevel:r,lastUpdated:n,components:i,layer_scores:o}){const[s,a]=Q.useState(!1),l={rising:{icon:uQ,label:"Rising (last 6 hours)",color:"text-severity-high"},stable:{icon:VG,label:"Stable",color:"text-foreground-secondary"},falling:{icon:lQ,label:"Falling",color:"text-severity-low"}},c={low:{color:"text-severity-low",bg:"bg-severity-low-bg",label:"Low Risk"},medium:{color:"text-severity-medium",bg:"bg-severity-medium-bg",label:"Medium Risk"},high:{color:"text-severity-high",bg:"bg-severity-high-bg",label:"High Risk"},critical:{color:"text-severity-critical",bg:"bg-severity-critical-bg",label:"Critical"}},u=l[e].icon,g=c[r],_=({label:b,value:P,max:E,icon:T})=>V.jsxs("div",{className:"space-y-1",children:[V.jsxs("div",{className:"flex justify-between text-sm items-center",children:[V.jsxs("span",{className:"text-foreground-secondary flex items-center gap-2",children:[T&&V.jsx(T,{className:"w-3.5 h-3.5"}),b]}),V.jsxs("span",{className:"font-mono text-foreground font-medium",children:[P," / ",E]})]}),V.jsx("div",{className:"h-1.5 bg-background-tertiary rounded-full overflow-hidden",children:V.jsx("div",{className:"h-full bg-primary",style:{width:`${Math.min(100,P/E*100)}%`}})})]});return V.jsx(Q2,{variant:"elevated",children:V.jsxs(Z2,{className:"p-0",children:[V.jsxs("div",{className:"p-8 space-y-6",children:[V.jsxs("div",{className:"flex items-start justify-between",children:[V.jsxs("div",{children:[V.jsx("h3",{className:"text-foreground-secondary mb-1",children:"Composite Risk Score"}),n&&V.jsxs("p",{className:"text-xs text-foreground-tertiary",children:["Updated ",n]})]}),V.jsx("div",{className:"px-2 py-0.5 bg-background-tertiary rounded text-[10px] text-foreground-tertiary",children:"Sigmoid Activation Applied"})]}),V.jsxs("div",{className:"flex items-end gap-4",children:[V.jsx("div",{className:`text-7xl font-bold ${g.color} leading-none`,children:Math.round(t)}),V.jsx("div",{className:"mb-2 space-y-1",children:V.jsx("div",{className:"text-2xl text-foreground-secondary",children:"/100"})})]}),V.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-border",children:[V.jsx("div",{className:`inline-flex items-center gap-2 px-4 py-2 rounded ${g.bg} ${g.color} font-medium`,children:g.label}),V.jsxs("div",{className:`flex items-center gap-2 ${l[e].color}`,children:[V.jsx(u,{className:"w-5 h-5"}),V.jsxs("div",{className:"flex flex-col",children:[V.jsx("span",{className:"font-medium text-sm",children:l[e].label}),e==="rising"&&V.jsxs("span",{className:"text-xs opacity-80",children:["Previous: ",(t*.8).toFixed(1),"  Current: ",Math.round(t)]})]})]})]})]}),V.jsxs("div",{className:"border-t border-border",children:[V.jsxs("button",{onClick:()=>a(!s),className:"w-full flex items-center justify-between p-4 hover:bg-background-secondary transition-colors",children:[V.jsxs("span",{className:"font-medium text-foreground flex items-center gap-2",children:["Risk Score Breakdown (Explainable)",V.jsx(RG,{className:"w-4 h-4 text-foreground-tertiary"})]}),s?V.jsx(pG,{className:"w-5 h-5 text-foreground-secondary"}):V.jsx(cG,{className:"w-5 h-5 text-foreground-secondary"})]}),s&&V.jsxs("div",{className:"p-4 bg-background-secondary space-y-6 border-t border-border animate-in slide-in-from-top-2",children:[o&&V.jsxs("div",{className:"space-y-4",children:[V.jsx("h4",{className:"text-xs font-semibold uppercase tracking-wider text-foreground-tertiary mb-2",children:"3-Layer Risk Model"}),V.jsx(_,{label:"Cognitive Risk (Language/Sentiment)",value:Number(o.cognitive.toFixed(1)),max:10,icon:Nj}),V.jsx(_,{label:"Network Risk (Velocity/Spread)",value:Number(o.network.toFixed(1)),max:10,icon:Lj}),V.jsx(_,{label:"Physical Risk (Geo/Volatility)",value:Number(o.physical.toFixed(1)),max:10,icon:nP})]}),V.jsx("div",{className:"h-px bg-border-subtle my-2"}),i&&V.jsxs("div",{className:"space-y-4",children:[V.jsx("h4",{className:"text-xs font-semibold uppercase tracking-wider text-foreground-tertiary mb-2",children:"Raw Signals"}),V.jsx(_,{label:"Toxicity Signal",value:i.toxicity||0,max:30,icon:Yp}),V.jsx(_,{label:"Propagation Velocity",value:i.velocity||0,max:25,icon:Yp}),V.jsx(_,{label:"Geo-Sensitivity Weight",value:i.geo_sensitivity||0,max:25,icon:Yp}),V.jsx(_,{label:"Temporal Acceleration",value:i.temporal_acceleration||0,max:20,icon:Yp})]}),V.jsxs("div",{className:"pt-2",children:[V.jsx("p",{className:"text-xs text-foreground-tertiary italic",children:"Scores are derived from aggregated district-level signals using interpretable heuristics."}),V.jsxs("div",{className:"mt-2 text-[10px] text-foreground-tertiary bg-background-tertiary p-2 rounded border border-border-subtle",children:[V.jsxs("div",{className:"flex justify-between items-center mb-1",children:[V.jsx("span",{className:"font-semibold uppercase tracking-wider",children:"System Config (Read-Only)"}),V.jsx("span",{children:"Updated: 2h ago"})]}),V.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[V.jsx("div",{children:"Cognitive Weight: 1.0"}),V.jsx("div",{children:"Network Weight: 1.0"}),V.jsx("div",{children:"Physical Weight: 1.0"})]}),V.jsxs("div",{className:"mt-2 border-t border-border-subtle pt-1 opacity-75",children:["Indic language normalization: ",V.jsx("span",{className:"font-mono",children:"Heuristic (Pilot-Only)"})]})]})]})]})]})]})})}function uu({className:t,...e}){return V.jsx("div",{"data-slot":"card",className:Hs("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border transition-all duration-300 hover:shadow-md hover:border-gray-700/50",t),...e})}function bd({className:t,...e}){return V.jsx("div",{"data-slot":"card-header",className:Hs("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...e})}function _d({className:t,...e}){return V.jsx("h4",{"data-slot":"card-title",className:Hs("leading-none",t),...e})}function Z0({className:t,...e}){return V.jsx("div",{"data-slot":"card-content",className:Hs("px-6 [&:last-child]:pb-6",t),...e})}function Y1(t,e){if(!t)throw new Error(e||"loader assertion failed.")}const CP=!!(typeof process!="object"||String(process)!=="[object process]"||process.browser),SO=typeof process<"u"&&process.version&&/v([0-9]*)/.exec(process.version);SO&&parseFloat(SO[1]);const Ov=globalThis,dA=globalThis.process||{},ire=globalThis.navigator||{};function AU(t){var n,i;if(typeof window<"u"&&((n=window.process)==null?void 0:n.type)==="renderer"||typeof process<"u"&&((i=process.versions)!=null&&i.electron))return!0;const r=typeof navigator<"u"&&navigator.userAgent;return!!(r&&r.indexOf("Electron")>=0)}function Dd(){return!(typeof process=="object"&&String(process)==="[object process]"&&!(process!=null&&process.browser))||AU()}function ore(t){return Dd()?AU()?"Electron":(ire.userAgent||"").indexOf("Edge")>-1?"Edge":globalThis.chrome?"Chrome":globalThis.safari?"Safari":globalThis.mozInnerScreenX?"Firefox":"Unknown":"Node"}const pU="4.1.0";function sre(t){try{const e=window[t],r="__storage_test__";return e.setItem(r,r),e.removeItem(r),e}catch{return null}}class are{constructor(e,r,n="sessionStorage"){this.storage=sre(n),this.id=e,this.config=r,this._loadConfiguration()}getConfiguration(){return this.config}setConfiguration(e){if(Object.assign(this.config,e),this.storage){const r=JSON.stringify(this.config);this.storage.setItem(this.id,r)}}_loadConfiguration(){let e={};if(this.storage){const r=this.storage.getItem(this.id);e=r?JSON.parse(r):{}}return Object.assign(this.config,e),this}}function lre(t){let e;return t<10?e=`${t.toFixed(2)}ms`:t<100?e=`${t.toFixed(1)}ms`:t<1e3?e=`${t.toFixed(0)}ms`:e=`${(t/1e3).toFixed(2)}s`,e}function cre(t,e=8){const r=Math.max(e-t.length,0);return`${" ".repeat(r)}${t}`}var K1;(function(t){t[t.BLACK=30]="BLACK",t[t.RED=31]="RED",t[t.GREEN=32]="GREEN",t[t.YELLOW=33]="YELLOW",t[t.BLUE=34]="BLUE",t[t.MAGENTA=35]="MAGENTA",t[t.CYAN=36]="CYAN",t[t.WHITE=37]="WHITE",t[t.BRIGHT_BLACK=90]="BRIGHT_BLACK",t[t.BRIGHT_RED=91]="BRIGHT_RED",t[t.BRIGHT_GREEN=92]="BRIGHT_GREEN",t[t.BRIGHT_YELLOW=93]="BRIGHT_YELLOW",t[t.BRIGHT_BLUE=94]="BRIGHT_BLUE",t[t.BRIGHT_MAGENTA=95]="BRIGHT_MAGENTA",t[t.BRIGHT_CYAN=96]="BRIGHT_CYAN",t[t.BRIGHT_WHITE=97]="BRIGHT_WHITE"})(K1||(K1={}));const ure=10;function EO(t){return typeof t!="string"?t:(t=t.toUpperCase(),K1[t]||K1.WHITE)}function fre(t,e,r){return!Dd&&typeof t=="string"&&(e&&(t=`\x1B[${EO(e)}m${t}\x1B[39m`),r&&(t=`\x1B[${EO(r)+ure}m${t}\x1B[49m`)),t}function hre(t,e=["constructor"]){const r=Object.getPrototypeOf(t),n=Object.getOwnPropertyNames(r),i=t;for(const o of n){const s=i[o];typeof s=="function"&&(e.find(a=>o===a)||(i[o]=s.bind(t)))}}function kP(t,e){if(!t)throw new Error("Assertion failed")}function AA(){var e,r,n;let t;if(Dd()&&Ov.performance)t=(r=(e=Ov==null?void 0:Ov.performance)==null?void 0:e.now)==null?void 0:r.call(e);else if("hrtime"in dA){const i=(n=dA==null?void 0:dA.hrtime)==null?void 0:n.call(dA);t=i[0]*1e3+i[1]/1e6}else t=Date.now();return t}const pA={debug:Dd()&&console.debug||console.log,log:console.log,info:console.info,warn:console.warn,error:console.error},dre={enabled:!0,level:0};function gA(){}const TO={},PO={once:!0};class km{constructor({id:e}={id:""}){this.VERSION=pU,this._startTs=AA(),this._deltaTs=AA(),this.userData={},this.LOG_THROTTLE_TIMEOUT=0,this.id=e,this.userData={},this._storage=new are(`__probe-${this.id}__`,dre),this.timeStamp(`${this.id} started`),hre(this),Object.seal(this)}set level(e){this.setLevel(e)}get level(){return this.getLevel()}isEnabled(){return this._storage.config.enabled}getLevel(){return this._storage.config.level}getTotal(){return Number((AA()-this._startTs).toPrecision(10))}getDelta(){return Number((AA()-this._deltaTs).toPrecision(10))}set priority(e){this.level=e}get priority(){return this.level}getPriority(){return this.level}enable(e=!0){return this._storage.setConfiguration({enabled:e}),this}setLevel(e){return this._storage.setConfiguration({level:e}),this}get(e){return this._storage.config[e]}set(e,r){this._storage.setConfiguration({[e]:r})}settings(){console.table?console.table(this._storage.config):console.log(this._storage.config)}assert(e,r){if(!e)throw new Error(r||"Assertion failed")}warn(e){return this._getLogFunction(0,e,pA.warn,arguments,PO)}error(e){return this._getLogFunction(0,e,pA.error,arguments)}deprecated(e,r){return this.warn(`\`${e}\` is deprecated and will be removed in a later version. Use \`${r}\` instead`)}removed(e,r){return this.error(`\`${e}\` has been removed. Use \`${r}\` instead`)}probe(e,r){return this._getLogFunction(e,r,pA.log,arguments,{time:!0,once:!0})}log(e,r){return this._getLogFunction(e,r,pA.debug,arguments)}info(e,r){return this._getLogFunction(e,r,console.info,arguments)}once(e,r){return this._getLogFunction(e,r,pA.debug||pA.info,arguments,PO)}table(e,r,n){return r?this._getLogFunction(e,r,console.table||gA,n&&[n],{tag:pre(r)}):gA}time(e,r){return this._getLogFunction(e,r,console.time?console.time:console.info)}timeEnd(e,r){return this._getLogFunction(e,r,console.timeEnd?console.timeEnd:console.info)}timeStamp(e,r){return this._getLogFunction(e,r,console.timeStamp||gA)}group(e,r,n={collapsed:!1}){const i=CO({logLevel:e,message:r,opts:n}),{collapsed:o}=n;return i.method=(o?console.groupCollapsed:console.group)||console.info,this._getLogFunction(i)}groupCollapsed(e,r,n={}){return this.group(e,r,Object.assign({},n,{collapsed:!0}))}groupEnd(e){return this._getLogFunction(e,"",console.groupEnd||gA)}withGroup(e,r,n){this.group(e,r)();try{n()}finally{this.groupEnd(e)()}}trace(){console.trace&&console.trace()}_shouldLog(e){return this.isEnabled()&&this.getLevel()>=gU(e)}_getLogFunction(e,r,n,i,o){if(this._shouldLog(e)){o=CO({logLevel:e,message:r,args:i,opts:o}),n=n||o.method,kP(n),o.total=this.getTotal(),o.delta=this.getDelta(),this._deltaTs=AA();const s=o.tag||o.message;if(o.once&&s)if(!TO[s])TO[s]=AA();else return gA;return r=Are(this.id,o.message,o),n.bind(console,r,...o.args)}return gA}}km.VERSION=pU;function gU(t){if(!t)return 0;let e;switch(typeof t){case"number":e=t;break;case"object":e=t.logLevel||t.priority||0;break;default:return 0}return kP(Number.isFinite(e)&&e>=0),e}function CO(t){const{logLevel:e,message:r}=t;t.logLevel=gU(e);const n=t.args?Array.from(t.args):[];for(;n.length&&n.shift()!==r;);switch(typeof e){case"string":case"function":r!==void 0&&n.unshift(r),t.message=e;break;case"object":Object.assign(t,e);break}typeof t.message=="function"&&(t.message=t.message());const i=typeof t.message;return kP(i==="string"||i==="object"),Object.assign(t,{args:n},t.opts)}function Are(t,e,r){if(typeof e=="string"){const n=r.time?cre(lre(r.total)):"";e=r.time?`${t}: ${n}  ${e}`:`${t}: ${e}`,e=fre(e,r.color,r.background)}return e}function pre(t){for(const e in t)for(const r in t[e])return r||"untitled";return"empty"}const G_="4.3.3",gre=G_[0]>="0"&&G_[0]<="9"?`v${G_}`:"";function mre(){const t=new km({id:"loaders.gl"});return globalThis.loaders=globalThis.loaders||{},globalThis.loaders.log=t,globalThis.loaders.version=gre,globalThis.probe=globalThis.probe||{},globalThis.probe.loaders=t,t}const vre=mre();function yre(t,e){return mU(t||{},e)}function mU(t,e,r=0){if(r>3)return e;const n={...t};for(const[i,o]of Object.entries(e))o&&typeof o=="object"&&!Array.isArray(o)?n[i]=mU(n[i]||{},e[i],r+1):n[i]=e[i];return n}const bre="latest";function _re(){var t;return(t=globalThis._loadersgl_)!=null&&t.version||(globalThis._loadersgl_=globalThis._loadersgl_||{},globalThis._loadersgl_.version="4.3.3"),globalThis._loadersgl_.version}const wre=_re();function Ah(t,e){if(!t)throw new Error(e||"loaders.gl assertion failed.")}const ad=typeof process!="object"||String(process)!=="[object process]"||process.browser,xre=typeof window<"u"&&typeof window.orientation<"u",kO=typeof process<"u"&&process.version&&/v([0-9]*)/.exec(process.version);kO&&parseFloat(kO[1]);class Sre{constructor(e,r){Ae(this,"name");Ae(this,"workerThread");Ae(this,"isRunning",!0);Ae(this,"result");Ae(this,"_resolve",()=>{});Ae(this,"_reject",()=>{});this.name=e,this.workerThread=r,this.result=new Promise((n,i)=>{this._resolve=n,this._reject=i})}postMessage(e,r){this.workerThread.postMessage({source:"loaders.gl",type:e,payload:r})}done(e){Ah(this.isRunning),this.isRunning=!1,this._resolve(e)}error(e){Ah(this.isRunning),this.isRunning=!1,this._reject(e)}}class Q_{terminate(){}}const Z_=new Map;function Ere(t){Ah(t.source&&!t.url||!t.source&&t.url);let e=Z_.get(t.source||t.url);return e||(t.url&&(e=Tre(t.url),Z_.set(t.url,e)),t.source&&(e=vU(t.source),Z_.set(t.source,e))),Ah(e),e}function Tre(t){if(!t.startsWith("http"))return t;const e=Pre(t);return vU(e)}function vU(t){const e=new Blob([t],{type:"application/javascript"});return URL.createObjectURL(e)}function Pre(t){return`try {
  importScripts('${t}');
} catch (error) {
  console.error(error);
  throw error;
}`}function yU(t,e=!0,r){const n=r||new Set;if(t){if(OO(t))n.add(t);else if(OO(t.buffer))n.add(t.buffer);else if(!ArrayBuffer.isView(t)){if(e&&typeof t=="object")for(const i in t)yU(t[i],e,n)}}return r===void 0?Array.from(n):[]}function OO(t){return t?t instanceof ArrayBuffer||typeof MessagePort<"u"&&t instanceof MessagePort||typeof ImageBitmap<"u"&&t instanceof ImageBitmap||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas:!1}const J_=()=>{};class x4{constructor(e){Ae(this,"name");Ae(this,"source");Ae(this,"url");Ae(this,"terminated",!1);Ae(this,"worker");Ae(this,"onMessage");Ae(this,"onError");Ae(this,"_loadableURL","");const{name:r,source:n,url:i}=e;Ah(n||i),this.name=r,this.source=n,this.url=i,this.onMessage=J_,this.onError=o=>console.log(o),this.worker=ad?this._createBrowserWorker():this._createNodeWorker()}static isSupported(){return typeof Worker<"u"&&ad||typeof Q_<"u"&&!ad}destroy(){this.onMessage=J_,this.onError=J_,this.worker.terminate(),this.terminated=!0}get isRunning(){return!!this.onMessage}postMessage(e,r){r=r||yU(e),this.worker.postMessage(e,r)}_getErrorFromErrorEvent(e){let r="Failed to load ";return r+=`worker ${this.name} from ${this.url}. `,e.message&&(r+=`${e.message} in `),e.lineno&&(r+=`:${e.lineno}:${e.colno}`),new Error(r)}_createBrowserWorker(){this._loadableURL=Ere({source:this.source,url:this.url});const e=new Worker(this._loadableURL,{name:this.name});return e.onmessage=r=>{r.data?this.onMessage(r.data):this.onError(new Error("No data received"))},e.onerror=r=>{this.onError(this._getErrorFromErrorEvent(r)),this.terminated=!0},e.onmessageerror=r=>console.error(r),e}_createNodeWorker(){let e;if(this.url){const n=this.url.includes(":/")||this.url.startsWith("/")?this.url:`./${this.url}`;e=new Q_(n,{eval:!1})}else if(this.source)e=new Q_(this.source,{eval:!0});else throw new Error("no worker");return e.on("message",r=>{this.onMessage(r)}),e.on("error",r=>{this.onError(r)}),e.on("exit",r=>{}),e}}class Cre{constructor(e){Ae(this,"name","unnamed");Ae(this,"source");Ae(this,"url");Ae(this,"maxConcurrency",1);Ae(this,"maxMobileConcurrency",1);Ae(this,"onDebug",()=>{});Ae(this,"reuseWorkers",!0);Ae(this,"props",{});Ae(this,"jobQueue",[]);Ae(this,"idleQueue",[]);Ae(this,"count",0);Ae(this,"isDestroyed",!1);this.source=e.source,this.url=e.url,this.setProps(e)}static isSupported(){return x4.isSupported()}destroy(){this.idleQueue.forEach(e=>e.destroy()),this.isDestroyed=!0}setProps(e){this.props={...this.props,...e},e.name!==void 0&&(this.name=e.name),e.maxConcurrency!==void 0&&(this.maxConcurrency=e.maxConcurrency),e.maxMobileConcurrency!==void 0&&(this.maxMobileConcurrency=e.maxMobileConcurrency),e.reuseWorkers!==void 0&&(this.reuseWorkers=e.reuseWorkers),e.onDebug!==void 0&&(this.onDebug=e.onDebug)}async startJob(e,r=(i,o,s)=>i.done(s),n=(i,o)=>i.error(o)){const i=new Promise(o=>(this.jobQueue.push({name:e,onMessage:r,onError:n,onStart:o}),this));return this._startQueuedJob(),await i}async _startQueuedJob(){if(!this.jobQueue.length)return;const e=this._getAvailableWorker();if(!e)return;const r=this.jobQueue.shift();if(r){this.onDebug({message:"Starting job",name:r.name,workerThread:e,backlog:this.jobQueue.length});const n=new Sre(r.name,e);e.onMessage=i=>r.onMessage(n,i.type,i.payload),e.onError=i=>r.onError(n,i),r.onStart(n);try{await n.result}catch(i){console.error(`Worker exception: ${i}`)}finally{this.returnWorkerToQueue(e)}}}returnWorkerToQueue(e){!ad||this.isDestroyed||!this.reuseWorkers||this.count>this._getMaxConcurrency()?(e.destroy(),this.count--):this.idleQueue.push(e),this.isDestroyed||this._startQueuedJob()}_getAvailableWorker(){if(this.idleQueue.length>0)return this.idleQueue.shift()||null;if(this.count<this._getMaxConcurrency()){this.count++;const e=`${this.name.toLowerCase()} (#${this.count} of ${this.maxConcurrency})`;return new x4({name:e,source:this.source,url:this.url})}return null}_getMaxConcurrency(){return xre?this.maxMobileConcurrency:this.maxConcurrency}}const kre={maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:!0,onDebug:()=>{}},Qf=class Qf{constructor(e){Ae(this,"props");Ae(this,"workerPools",new Map);this.props={...kre},this.setProps(e),this.workerPools=new Map}static isSupported(){return x4.isSupported()}static getWorkerFarm(e={}){return Qf._workerFarm=Qf._workerFarm||new Qf({}),Qf._workerFarm.setProps(e),Qf._workerFarm}destroy(){for(const e of this.workerPools.values())e.destroy();this.workerPools=new Map}setProps(e){this.props={...this.props,...e};for(const r of this.workerPools.values())r.setProps(this._getWorkerPoolProps())}getWorkerPool(e){const{name:r,source:n,url:i}=e;let o=this.workerPools.get(r);return o||(o=new Cre({name:r,source:n,url:i}),o.setProps(this._getWorkerPoolProps()),this.workerPools.set(r,o)),o}_getWorkerPoolProps(){return{maxConcurrency:this.props.maxConcurrency,maxMobileConcurrency:this.props.maxMobileConcurrency,reuseWorkers:this.props.reuseWorkers,onDebug:this.props.onDebug}}};Ae(Qf,"_workerFarm");let G1=Qf;function Ore(t,e={}){const r=e[t.id]||{},n=ad?`${t.id}-worker.js`:`${t.id}-worker-node.js`;let i=r.workerUrl;if(!i&&t.id==="compression"&&(i=e.workerUrl),e._workerType==="test"&&(ad?i=`modules/${t.module}/dist/${n}`:i=`modules/${t.module}/src/workers/${t.id}-worker-node.ts`),!i){let o=t.version;o==="latest"&&(o=bre);const s=o?`@${o}`:"";i=`https://unpkg.com/@loaders.gl/${t.module}${s}/dist/${n}`}return Ah(i),i}function Rre(t,e=wre){Ah(t,"no worker provided");const r=t.version;return!(!e||!r)}function Ire(t,e){return!G1.isSupported()||!ad&&!(e!=null&&e._nodeWorkers)?!1:t.worker&&(e==null?void 0:e.worker)}async function Nre(t,e,r,n,i){const o=t.id,s=Ore(t,r),l=G1.getWorkerFarm(r).getWorkerPool({name:o,url:s});r=JSON.parse(JSON.stringify(r)),n=JSON.parse(JSON.stringify(n||{}));const c=await l.startJob("process-on-worker",Mre.bind(null,i));return c.postMessage("process",{input:e,options:r,context:n}),await(await c.result).result}async function Mre(t,e,r,n){switch(r){case"done":e.done(n);break;case"error":e.error(new Error(n.error));break;case"process":const{id:i,input:o,options:s}=n;try{const a=await t(o,s);e.postMessage("done",{id:i,result:a})}catch(a){const l=a instanceof Error?a.message:"unknown error";e.postMessage("error",{id:i,error:l})}break;default:console.warn(`parse-with-worker unknown message ${r}`)}}function Lre(t,e,r){if(r=r||t.byteLength,t.byteLength<r||e.byteLength<r)return!1;const n=new Uint8Array(t),i=new Uint8Array(e);for(let o=0;o<n.length;++o)if(n[o]!==i[o])return!1;return!0}function Dre(...t){return Bre(t)}function Bre(t){const e=t.map(o=>o instanceof ArrayBuffer?new Uint8Array(o):o),r=e.reduce((o,s)=>o+s.byteLength,0),n=new Uint8Array(r);let i=0;for(const o of e)n.set(o,i),i+=o.byteLength;return n.buffer}async function Fre(t){const e=[];for await(const r of t)e.push(r);return Dre(...e)}function RO(){let t;if(typeof window<"u"&&window.performance)t=window.performance.now();else if(typeof process<"u"&&process.hrtime){const e=process.hrtime();t=e[0]*1e3+e[1]/1e6}else t=Date.now();return t}class IO{constructor(e,r){this.sampleSize=1,this.time=0,this.count=0,this.samples=0,this.lastTiming=0,this.lastSampleTime=0,this.lastSampleCount=0,this._count=0,this._time=0,this._samples=0,this._startTime=0,this._timerPending=!1,this.name=e,this.type=r,this.reset()}reset(){return this.time=0,this.count=0,this.samples=0,this.lastTiming=0,this.lastSampleTime=0,this.lastSampleCount=0,this._count=0,this._time=0,this._samples=0,this._startTime=0,this._timerPending=!1,this}setSampleSize(e){return this.sampleSize=e,this}incrementCount(){return this.addCount(1),this}decrementCount(){return this.subtractCount(1),this}addCount(e){return this._count+=e,this._samples++,this._checkSampling(),this}subtractCount(e){return this._count-=e,this._samples++,this._checkSampling(),this}addTime(e){return this._time+=e,this.lastTiming=e,this._samples++,this._checkSampling(),this}timeStart(){return this._startTime=RO(),this._timerPending=!0,this}timeEnd(){return this._timerPending?(this.addTime(RO()-this._startTime),this._timerPending=!1,this._checkSampling(),this):this}getSampleAverageCount(){return this.sampleSize>0?this.lastSampleCount/this.sampleSize:0}getSampleAverageTime(){return this.sampleSize>0?this.lastSampleTime/this.sampleSize:0}getSampleHz(){return this.lastSampleTime>0?this.sampleSize/(this.lastSampleTime/1e3):0}getAverageCount(){return this.samples>0?this.count/this.samples:0}getAverageTime(){return this.samples>0?this.time/this.samples:0}getHz(){return this.time>0?this.samples/(this.time/1e3):0}_checkSampling(){this._samples===this.sampleSize&&(this.lastSampleTime=this._time,this.lastSampleCount=this._count,this.count+=this._count,this.time+=this._time,this.samples+=this._samples,this._time=0,this._count=0,this._samples=0)}}class J2{constructor(e){this.stats={},this.id=e.id,this.stats={},this._initializeStats(e.stats),Object.seal(this)}get(e,r="count"){return this._getOrCreate({name:e,type:r})}get size(){return Object.keys(this.stats).length}reset(){for(const e of Object.values(this.stats))e.reset();return this}forEach(e){for(const r of Object.values(this.stats))e(r)}getTable(){const e={};return this.forEach(r=>{e[r.name]={time:r.time||0,count:r.count||0,average:r.getAverageTime()||0,hz:r.getHz()||0}}),e}_initializeStats(e=[]){e.forEach(r=>this._getOrCreate(r))}_getOrCreate(e){const{name:r,type:n}=e;let i=this.stats[r];return i||(e instanceof IO?i=e:i=new IO(r,n),this.stats[r]=i),i}}let jre="";const NO={};function Ure(t){for(const e in NO)if(t.startsWith(e)){const r=NO[e];t=t.replace(e,r)}return!t.startsWith("http://")&&!t.startsWith("https://")&&(t=`${jre}${t}`),t}function $re(t){return t&&typeof t=="object"&&t.isBuffer}function bU(t){if($re(t))return t;if(t instanceof ArrayBuffer)return t;if(ArrayBuffer.isView(t))return t.byteOffset===0&&t.byteLength===t.buffer.byteLength?t.buffer:t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength);if(typeof t=="string"){const e=t;return new TextEncoder().encode(e).buffer}if(t&&typeof t=="object"&&t._toArrayBuffer)return t._toArrayBuffer();throw new Error("toArrayBuffer")}function _U(t){const e=t?t.lastIndexOf("/"):-1;return e>=0?t.substr(e+1):""}function zre(t){const e=t?t.lastIndexOf("/"):-1;return e>=0?t.substr(0,e):""}const Wre=t=>typeof t=="boolean",og=t=>typeof t=="function",Om=t=>t!==null&&typeof t=="object",MO=t=>Om(t)&&t.constructor==={}.constructor,Vre=t=>!!t&&typeof t[Symbol.iterator]=="function",Hre=t=>t&&typeof t[Symbol.asyncIterator]=="function",Bd=t=>typeof Response<"u"&&t instanceof Response||t&&t.arrayBuffer&&t.text&&t.json,Fd=t=>typeof Blob<"u"&&t instanceof Blob,qre=t=>t&&typeof t=="object"&&t.isBuffer,Xre=t=>typeof ReadableStream<"u"&&t instanceof ReadableStream||Om(t)&&og(t.tee)&&og(t.cancel)&&og(t.getReader),Yre=t=>Om(t)&&og(t.read)&&og(t.pipe)&&Wre(t.readable),wU=t=>Xre(t)||Yre(t);class Kre extends Error{constructor(r,n){super(r);Ae(this,"reason");Ae(this,"url");Ae(this,"response");this.reason=n.reason,this.url=n.url,this.response=n.response}}const Gre=/^data:([-\w.]+\/[-\w.+]+)(;|,)/,Qre=/^([-\w.]+\/[-\w.+]+)/;function LO(t,e){return t.toLowerCase()===e.toLowerCase()}function Zre(t){const e=Qre.exec(t);return e?e[1]:t}function DO(t){const e=Gre.exec(t);return e?e[1]:""}const xU=/\?.*/;function Jre(t){const e=t.match(xU);return e&&e[0]}function OP(t){return t.replace(xU,"")}function ene(t){if(t.length<50)return t;const e=t.slice(t.length-15);return`${t.substr(0,32)}...${e}`}function eb(t){return Bd(t)?t.url:Fd(t)?t.name||"":typeof t=="string"?t:""}function RP(t){if(Bd(t)){const e=t,r=e.headers.get("content-type")||"",n=OP(e.url);return Zre(r)||DO(n)}return Fd(t)?t.type||"":typeof t=="string"?DO(t):""}function tne(t){return Bd(t)?t.headers["content-length"]||-1:Fd(t)?t.size:typeof t=="string"?t.length:t instanceof ArrayBuffer||ArrayBuffer.isView(t)?t.byteLength:-1}async function SU(t){if(Bd(t))return t;const e={},r=tne(t);r>=0&&(e["content-length"]=String(r));const n=eb(t),i=RP(t);i&&(e["content-type"]=i);const o=await ine(t);o&&(e["x-first-bytes"]=o),typeof t=="string"&&(t=new TextEncoder().encode(t));const s=new Response(t,{headers:e});return Object.defineProperty(s,"url",{value:n}),s}async function rne(t){if(!t.ok)throw await nne(t)}async function nne(t){const e=ene(t.url);let r=`Failed to fetch resource (${t.status}) ${t.statusText}: ${e}`;r=r.length>100?`${r.slice(0,100)}...`:r;const n={reason:t.statusText,url:t.url,response:t};try{const i=t.headers.get("Content-Type");n.reason=!t.bodyUsed&&(i!=null&&i.includes("application/json"))?await t.json():await t.text()}catch{}return new Kre(r,n)}async function ine(t){if(typeof t=="string")return`data:,${t.slice(0,5)}`;if(t instanceof Blob){const r=t.slice(0,5);return await new Promise(n=>{const i=new FileReader;i.onload=o=>{var s;return n((s=o==null?void 0:o.target)==null?void 0:s.result)},i.readAsDataURL(r)})}if(t instanceof ArrayBuffer){const r=t.slice(0,5);return`data:base64,${one(r)}`}return null}function one(t){let e="";const r=new Uint8Array(t);for(let n=0;n<r.byteLength;n++)e+=String.fromCharCode(r[n]);return btoa(e)}function sne(t){return!ane(t)&&!lne(t)}function ane(t){return t.startsWith("http:")||t.startsWith("https:")}function lne(t){return t.startsWith("data:")}async function BO(t,e){var r,n;if(typeof t=="string"){const i=Ure(t);return sne(i)&&(r=globalThis.loaders)!=null&&r.fetchNode?(n=globalThis.loaders)==null?void 0:n.fetchNode(i,e):await fetch(i,e)}return await SU(t)}const FO=new km({id:"loaders.gl"});class cne{log(){return()=>{}}info(){return()=>{}}warn(){return()=>{}}error(){return()=>{}}}class une{constructor(){Ae(this,"console");this.console=console}log(...e){return this.console.log.bind(this.console,...e)}info(...e){return this.console.info.bind(this.console,...e)}warn(...e){return this.console.warn.bind(this.console,...e)}error(...e){return this.console.error.bind(this.console,...e)}}const EU={fetch:null,mimeType:void 0,nothrow:!1,log:new une,useLocalLibraries:!1,CDN:"https://unpkg.com/@loaders.gl",worker:!0,maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:CP,_nodeWorkers:!1,_workerType:"",limit:0,_limitMB:0,batchSize:"auto",batchDebounceMs:0,metadata:!1,transforms:[]},fne={throws:"nothrow",dataType:"(no longer used)",uri:"baseUri",method:"fetch.method",headers:"fetch.headers",body:"fetch.body",mode:"fetch.mode",credentials:"fetch.credentials",cache:"fetch.cache",redirect:"fetch.redirect",referrer:"fetch.referrer",referrerPolicy:"fetch.referrerPolicy",integrity:"fetch.integrity",keepalive:"fetch.keepalive",signal:"fetch.signal"};function TU(){globalThis.loaders=globalThis.loaders||{};const{loaders:t}=globalThis;return t._state||(t._state={}),t._state}function PU(){const t=TU();return t.globalOptions=t.globalOptions||{...EU},t.globalOptions}function hne(t,e,r,n){return r=r||[],r=Array.isArray(r)?r:[r],dne(t,r),pne(e,t,n)}function dne(t,e){jO(t,null,EU,fne,e);for(const r of e){const n=t&&t[r.id]||{},i=r.options&&r.options[r.id]||{},o=r.deprecatedOptions&&r.deprecatedOptions[r.id]||{};jO(n,r.id,i,o,e)}}function jO(t,e,r,n,i){const o=e||"Top level",s=e?`${e}.`:"";for(const a in t){const l=!e&&Om(t[a]),c=a==="baseUri"&&!e,u=a==="workerUrl"&&e;if(!(a in r)&&!c&&!u){if(a in n)FO.warn(`${o} loader option '${s}${a}' no longer supported, use '${n[a]}'`)();else if(!l){const g=Ane(a,i);FO.warn(`${o} loader option '${s}${a}' not recognized. ${g}`)()}}}}function Ane(t,e){const r=t.toLowerCase();let n="";for(const i of e)for(const o in i.options){if(t===o)return`Did you mean '${i.id}.${o}'?`;const s=o.toLowerCase();(r.startsWith(s)||s.startsWith(r))&&(n=n||`Did you mean '${i.id}.${o}'?`)}return n}function pne(t,e,r){const i={...t.options||{}};return gne(i,r),i.log===null&&(i.log=new cne),UO(i,PU()),UO(i,e),i}function UO(t,e){for(const r in e)if(r in e){const n=e[r];MO(n)&&MO(t[r])?t[r]={...t[r],...e[r]}:t[r]=e[r]}}function gne(t,e){e&&!("baseUri"in t)&&(t.baseUri=e)}function IP(t){return t?(Array.isArray(t)&&(t=t[0]),Array.isArray(t==null?void 0:t.extensions)):!1}function NP(t){Y1(t,"null loader"),Y1(IP(t),"invalid loader");let e;return Array.isArray(t)&&(e=t[1],t=t[0],t={...t,options:{...t.options,...e}}),(t!=null&&t.parseTextSync||t!=null&&t.parseText)&&(t.text=!0),t.text||(t.binary=!0),t}const CU=()=>{const t=TU();return t.loaderRegistry=t.loaderRegistry||[],t.loaderRegistry};function mne(t){const e=CU();t=Array.isArray(t)?t:[t];for(const r of t){const n=NP(r);e.find(i=>n===i)||e.unshift(n)}}function vne(){return CU()}const yne=/\.([^.]+)$/;async function bne(t,e=[],r,n){if(!kU(t))return null;let i=$O(t,e,{...r,nothrow:!0},n);if(i)return i;if(Fd(t)&&(t=await t.slice(0,10).arrayBuffer(),i=$O(t,e,r,n)),!i&&!(r!=null&&r.nothrow))throw new Error(OU(t));return i}function $O(t,e=[],r,n){if(!kU(t))return null;if(e&&!Array.isArray(e))return NP(e);let i=[];e&&(i=i.concat(e)),r!=null&&r.ignoreRegisteredLoaders||i.push(...vne()),wne(i);const o=_ne(t,i,r,n);if(!o&&!(r!=null&&r.nothrow))throw new Error(OU(t));return o}function _ne(t,e,r,n){const i=eb(t),o=RP(t),s=OP(i)||(n==null?void 0:n.url);let a=null,l="";return r!=null&&r.mimeType&&(a=ew(e,r==null?void 0:r.mimeType),l=`match forced by supplied MIME type ${r==null?void 0:r.mimeType}`),a=a||xne(e,s),l=l||(a?`matched url ${s}`:""),a=a||ew(e,o),l=l||(a?`matched MIME type ${o}`:""),a=a||Ene(e,t),l=l||(a?`matched initial data ${RU(t)}`:""),r!=null&&r.fallbackMimeType&&(a=a||ew(e,r==null?void 0:r.fallbackMimeType),l=l||(a?`matched fallback MIME type ${o}`:"")),l&&vre.log(1,`selectLoader selected ${a==null?void 0:a.name}: ${l}.`),a}function kU(t){return!(t instanceof Response&&t.status===204)}function OU(t){const e=eb(t),r=RP(t);let n="No valid loader found (";n+=e?`${_U(e)}, `:"no url provided, ",n+=`MIME type: ${r?`"${r}"`:"not provided"}, `;const i=t?RU(t):"";return n+=i?` first bytes: "${i}"`:"first bytes: not available",n+=")",n}function wne(t){for(const e of t)NP(e)}function xne(t,e){const r=e&&yne.exec(e),n=r&&r[1];return n?Sne(t,n):null}function Sne(t,e){e=e.toLowerCase();for(const r of t)for(const n of r.extensions)if(n.toLowerCase()===e)return r;return null}function ew(t,e){var r;for(const n of t)if((r=n.mimeTypes)!=null&&r.some(i=>LO(e,i))||LO(e,`application/x.${n.id}`))return n;return null}function Ene(t,e){if(!e)return null;for(const r of t)if(typeof e=="string"){if(Tne(e,r))return r}else if(ArrayBuffer.isView(e)){if(zO(e.buffer,e.byteOffset,r))return r}else if(e instanceof ArrayBuffer&&zO(e,0,r))return r;return null}function Tne(t,e){return e.testText?e.testText(t):(Array.isArray(e.tests)?e.tests:[e.tests]).some(n=>t.startsWith(n))}function zO(t,e,r){return(Array.isArray(r.tests)?r.tests:[r.tests]).some(i=>Pne(t,e,r,i))}function Pne(t,e,r,n){if(n instanceof ArrayBuffer)return Lre(n,t,n.byteLength);switch(typeof n){case"function":return n(t);case"string":const i=S4(t,e,n.length);return n===i;default:return!1}}function RU(t,e=5){return typeof t=="string"?t.slice(0,e):ArrayBuffer.isView(t)?S4(t.buffer,t.byteOffset,e):t instanceof ArrayBuffer?S4(t,0,e):""}function S4(t,e,r){if(t.byteLength<e+r)return"";const n=new DataView(t);let i="";for(let o=0;o<r;o++)i+=String.fromCharCode(n.getUint8(e+o));return i}const Cne=256*1024;function*kne(t,e){const r=(e==null?void 0:e.chunkSize)||Cne;let n=0;const i=new TextEncoder;for(;n<t.length;){const o=Math.min(t.length-n,r),s=t.slice(n,n+o);n+=o,yield i.encode(s)}}const One=256*1024;function*Rne(t,e={}){const{chunkSize:r=One}=e;let n=0;for(;n<t.byteLength;){const i=Math.min(t.byteLength-n,r),o=new ArrayBuffer(i),s=new Uint8Array(t,n,i);new Uint8Array(o).set(s),n+=i,yield o}}const Ine=1024*1024;async function*Nne(t,e){const r=(e==null?void 0:e.chunkSize)||Ine;let n=0;for(;n<t.size;){const i=n+r,o=await t.slice(n,i).arrayBuffer();n=i,yield o}}function WO(t,e){return CP?Mne(t,e):Lne(t)}async function*Mne(t,e){const r=t.getReader();let n;try{for(;;){const i=n||r.read();e!=null&&e._streamReadAhead&&(n=r.read());const{done:o,value:s}=await i;if(o)return;yield bU(s)}}catch{r.releaseLock()}}async function*Lne(t,e){for await(const r of t)yield bU(r)}function Dne(t,e){if(typeof t=="string")return kne(t,e);if(t instanceof ArrayBuffer)return Rne(t,e);if(Fd(t))return Nne(t,e);if(wU(t))return WO(t,e);if(Bd(t))return WO(t.body,e);throw new Error("makeIterator")}const IU="Cannot convert supplied data type";function Bne(t,e,r){if(e.text&&typeof t=="string")return t;if(qre(t)&&(t=t.buffer),t instanceof ArrayBuffer){const n=t;return e.text&&!e.binary?new TextDecoder("utf8").decode(n):n}if(ArrayBuffer.isView(t)){if(e.text&&!e.binary)return new TextDecoder("utf8").decode(t);let n=t.buffer;const i=t.byteLength||t.length;return(t.byteOffset!==0||i!==n.byteLength)&&(n=n.slice(t.byteOffset,t.byteOffset+i)),n}throw new Error(IU)}async function Fne(t,e,r){const n=t instanceof ArrayBuffer||ArrayBuffer.isView(t);if(typeof t=="string"||n)return Bne(t,e);if(Fd(t)&&(t=await SU(t)),Bd(t)){const i=t;return await rne(i),e.binary?await i.arrayBuffer():await i.text()}if(wU(t)&&(t=Dne(t,r)),Vre(t)||Hre(t))return Fre(t);throw new Error(IU)}function NU(t,e){const r=PU(),n=t||r;return typeof n.fetch=="function"?n.fetch:Om(n.fetch)?i=>BO(i,n.fetch):e!=null&&e.fetch?e==null?void 0:e.fetch:BO}function jne(t,e,r){if(r)return r;const n={fetch:NU(e,t),...t};if(n.url){const i=OP(n.url);n.baseUrl=i,n.queryString=Jre(n.url),n.filename=_U(i),n.baseUrl=zre(i)}return Array.isArray(n.loaders)||(n.loaders=null),n}function Une(t,e){if(t&&!Array.isArray(t))return t;let r;if(t&&(r=Array.isArray(t)?t:[t]),e&&e.loaders){const n=Array.isArray(e.loaders)?e.loaders:[e.loaders];r=r?[...r,...n]:n}return r&&r.length?r:void 0}async function Q1(t,e,r,n){e&&!Array.isArray(e)&&!IP(e)&&(n=void 0,r=e,e=void 0),t=await t,r=r||{};const i=eb(t),s=Une(e,n),a=await bne(t,s,r);return a?(r=hne(r,a,s,i),n=jne({url:i,_parse:Q1,loaders:s},r,n||null),await $ne(a,t,r,n)):null}async function $ne(t,e,r,n){if(Rre(t),r=yre(t.options,r),Bd(e)){const o=e,{ok:s,redirected:a,status:l,statusText:c,type:u,url:g}=o,_=Object.fromEntries(o.headers.entries());n.response={headers:_,ok:s,redirected:a,status:l,statusText:c,type:u,url:g}}e=await Fne(e,t,r);const i=t;if(i.parseTextSync&&typeof e=="string")return i.parseTextSync(e,r,n);if(Ire(t,r))return await Nre(t,e,r,n,Q1);if(i.parseText&&typeof e=="string")return await i.parseText(e,r,n);if(i.parse)return await i.parse(e,r,n);throw Ah(!i.parseSync),new Error(`${t.id} loader - no parser found and worker is disabled`)}async function E4(t,e,r,n){let i,o;!Array.isArray(e)&&!IP(e)?(i=[],o=e):(i=e,o=r);const s=NU(o);let a=t;return typeof t=="string"&&(a=await s(t)),Fd(t)&&(a=await s(t)),Array.isArray(i)?await Q1(a,i,o):await Q1(a,i,o)}const zne="4.3.3";var uj;const Wne=(uj=globalThis.loaders)==null?void 0:uj.parseImageNode,T4=typeof Image<"u",P4=typeof ImageBitmap<"u",Vne=!!Wne,C4=CP?!0:Vne;function Hne(t){switch(t){case"auto":return P4||T4||C4;case"imagebitmap":return P4;case"image":return T4;case"data":return C4;default:throw new Error(`@loaders.gl/images: image ${t} not supported in this environment`)}}function qne(){if(P4)return"imagebitmap";if(T4)return"image";if(C4)return"data";throw new Error("Install '@loaders.gl/polyfills' to parse images under Node.js")}function Xne(t){const e=Kne(t);if(!e)throw new Error("Not an image");return e}function Yne(t){switch(Xne(t)){case"data":return t;case"image":case"imagebitmap":const e=document.createElement("canvas"),r=e.getContext("2d");if(!r)throw new Error("getImageData");return e.width=t.width,e.height=t.height,r.drawImage(t,0,0),r.getImageData(0,0,t.width,t.height);default:throw new Error("getImageData")}}function Kne(t){return typeof ImageBitmap<"u"&&t instanceof ImageBitmap?"imagebitmap":typeof Image<"u"&&t instanceof Image?"image":t&&typeof t=="object"&&t.data&&t.width&&t.height?"data":null}const Gne=/^data:image\/svg\+xml/,Qne=/\.svg((\?|#).*)?$/;function MP(t){return t&&(Gne.test(t)||Qne.test(t))}function Zne(t,e){if(MP(e)){let n=new TextDecoder().decode(t);try{typeof unescape=="function"&&typeof encodeURIComponent=="function"&&(n=unescape(encodeURIComponent(n)))}catch(o){throw new Error(o.message)}return`data:image/svg+xml;base64,${btoa(n)}`}return MU(t,e)}function MU(t,e){if(MP(e))throw new Error("SVG cannot be parsed directly to imagebitmap");return new Blob([new Uint8Array(t)])}async function LU(t,e,r){const n=Zne(t,r),i=self.URL||self.webkitURL,o=typeof n!="string"&&i.createObjectURL(n);try{return await Jne(o||n,e)}finally{o&&i.revokeObjectURL(o)}}async function Jne(t,e){const r=new Image;return r.src=t,e.image&&e.image.decode&&r.decode?(await r.decode(),r):await new Promise((n,i)=>{try{r.onload=()=>n(r),r.onerror=o=>{const s=o instanceof Error?o.message:"error";i(new Error(s))}}catch(o){i(o)}})}const eie={};let VO=!0;async function tie(t,e,r){let n;MP(r)?n=await LU(t,e,r):n=MU(t,r);const i=e&&e.imagebitmap;return await rie(n,i)}async function rie(t,e=null){if((nie(e)||!VO)&&(e=null),e)try{return await createImageBitmap(t,e)}catch(r){console.warn(r),VO=!1}return await createImageBitmap(t)}function nie(t){for(const e in t||eie)return!1;return!0}function iie(t){return!lie(t,"ftyp",4)||(t[8]&96)===0?null:oie(t)}function oie(t){switch(sie(t,8,12).replace("\0"," ").trim()){case"avif":case"avis":return{extension:"avif",mimeType:"image/avif"};default:return null}}function sie(t,e,r){return String.fromCharCode(...t.slice(e,r))}function aie(t){return[...t].map(e=>e.charCodeAt(0))}function lie(t,e,r=0){const n=aie(e);for(let i=0;i<n.length;++i)if(n[i]!==t[i+r])return!1;return!0}const lu=!1,sg=!0;function DU(t){const e=Rm(t);return uie(e)||die(e)||fie(e)||hie(e)||cie(e)}function cie(t){const e=new Uint8Array(t instanceof DataView?t.buffer:t),r=iie(e);return r?{mimeType:r.mimeType,width:0,height:0}:null}function uie(t){const e=Rm(t);return e.byteLength>=24&&e.getUint32(0,lu)===2303741511?{mimeType:"image/png",width:e.getUint32(16,lu),height:e.getUint32(20,lu)}:null}function fie(t){const e=Rm(t);return e.byteLength>=10&&e.getUint32(0,lu)===1195984440?{mimeType:"image/gif",width:e.getUint16(6,sg),height:e.getUint16(8,sg)}:null}function hie(t){const e=Rm(t);return e.byteLength>=14&&e.getUint16(0,lu)===16973&&e.getUint32(2,sg)===e.byteLength?{mimeType:"image/bmp",width:e.getUint32(18,sg),height:e.getUint32(22,sg)}:null}function die(t){const e=Rm(t);if(!(e.byteLength>=3&&e.getUint16(0,lu)===65496&&e.getUint8(2)===255))return null;const{tableMarkers:n,sofMarkers:i}=Aie();let o=2;for(;o+9<e.byteLength;){const s=e.getUint16(o,lu);if(i.has(s))return{mimeType:"image/jpeg",height:e.getUint16(o+5,lu),width:e.getUint16(o+7,lu)};if(!n.has(s))return null;o+=2,o+=e.getUint16(o,lu)}return null}function Aie(){const t=new Set([65499,65476,65484,65501,65534]);for(let r=65504;r<65520;++r)t.add(r);return{tableMarkers:t,sofMarkers:new Set([65472,65473,65474,65475,65477,65478,65479,65481,65482,65483,65485,65486,65487,65502])}}function Rm(t){if(t instanceof DataView)return t;if(ArrayBuffer.isView(t))return new DataView(t.buffer);if(t instanceof ArrayBuffer)return new DataView(t);throw new Error("toDataView")}async function pie(t,e){var i;const{mimeType:r}=DU(t)||{},n=(i=globalThis.loaders)==null?void 0:i.parseImageNode;return Y1(n),await n(t,r)}async function gie(t,e,r){e=e||{};const i=(e.image||{}).type||"auto",{url:o}=r||{},s=mie(i);let a;switch(s){case"imagebitmap":a=await tie(t,e,o);break;case"image":a=await LU(t,e,o);break;case"data":a=await pie(t);break;default:Y1(!1)}return i==="data"&&(a=Yne(a)),a}function mie(t){switch(t){case"auto":case"data":return qne();default:return Hne(t),t}}const vie=["png","jpg","jpeg","gif","webp","bmp","ico","svg","avif"],yie=["image/png","image/jpeg","image/gif","image/webp","image/avif","image/bmp","image/vnd.microsoft.icon","image/svg+xml"],bie={image:{type:"auto",decode:!0}},_ie={dataType:null,batchType:null,id:"image",module:"images",name:"Images",version:zne,mimeTypes:yie,extensions:vie,parse:gie,tests:[t=>!!DU(new DataView(t))],options:bie},Mn=new km({id:"deck"});let k4={};function wie(t){k4=t}function Ps(t,e,r,n){Mn.level>0&&k4[t]&&k4[t].call(null,e,r,n)}function xie(t){const e=t[0],r=t[t.length-1];return e==="{"&&r==="}"||e==="["&&r==="]"}const Sie={dataType:null,batchType:null,id:"JSON",name:"JSON",module:"",version:"",options:{},extensions:["json","geojson"],mimeTypes:["application/json","application/geo+json"],testText:xie,parseTextSync:JSON.parse};function Eie(){const t="9.2.5",e=globalThis.deck&&globalThis.deck.VERSION;if(e&&e!==t)throw new Error(`deck.gl - multiple versions detected: ${e} vs ${t}`);return e||(Mn.log(1,`deck.gl ${t}`)(),globalThis.deck={...globalThis.deck,VERSION:t,version:t,log:Mn,_registerLoggers:wie},mne([Sie,[_ie,{imagebitmap:{premultiplyAlpha:"none"}}]])),t}const Tie=Eie();function LP(t,e){if(!t)throw new Error(e||"shadertools: assertion failed.")}const tw={number:{type:"number",validate(t,e){return Number.isFinite(t)&&typeof e=="object"&&(e.max===void 0||t<=e.max)&&(e.min===void 0||t>=e.min)}},array:{type:"array",validate(t,e){return Array.isArray(t)||ArrayBuffer.isView(t)}}};function Pie(t){const e={};for(const[r,n]of Object.entries(t))e[r]=Cie(n);return e}function Cie(t){let e=HO(t);if(e!=="object")return{value:t,...tw[e],type:e};if(typeof t=="object")return t?t.type!==void 0?{...t,...tw[t.type],type:t.type}:t.value===void 0?{type:"object",value:t}:(e=HO(t.value),{...t,...tw[e],type:e}):{type:"object",value:null};throw new Error("props")}function HO(t){return Array.isArray(t)||ArrayBuffer.isView(t)?"array":typeof t}const kie=`#ifdef MODULE_LOGDEPTH
  logdepth_adjustPosition(gl_Position);
#endif
`,Oie=`#ifdef MODULE_MATERIAL
  fragColor = material_filterColor(fragColor);
#endif

#ifdef MODULE_LIGHTING
  fragColor = lighting_filterColor(fragColor);
#endif

#ifdef MODULE_FOG
  fragColor = fog_filterColor(fragColor);
#endif

#ifdef MODULE_PICKING
  fragColor = picking_filterHighlightColor(fragColor);
  fragColor = picking_filterPickingColor(fragColor);
#endif

#ifdef MODULE_LOGDEPTH
  logdepth_setFragDepth();
#endif
`,Rie={vertex:kie,fragment:Oie},qO=/void\s+main\s*\([^)]*\)\s*\{\n?/,XO=/}\n?[^{}]*$/,rw=[],x1="__LUMA_INJECT_DECLARATIONS__";function Iie(t){const e={vertex:{},fragment:{}};for(const r in t){let n=t[r];const i=Nie(r);typeof n=="string"&&(n={order:0,injection:n}),e[i][r]=n}return e}function Nie(t){const e=t.slice(0,2);switch(e){case"vs":return"vertex";case"fs":return"fragment";default:throw new Error(e)}}function Z1(t,e,r,n=!1){const i=e==="vertex";for(const o in r){const s=r[o];s.sort((l,c)=>l.order-c.order),rw.length=s.length;for(let l=0,c=s.length;l<c;++l)rw[l]=s[l].injection;const a=`${rw.join(`
`)}
`;switch(o){case"vs:#decl":i&&(t=t.replace(x1,a));break;case"vs:#main-start":i&&(t=t.replace(qO,l=>l+a));break;case"vs:#main-end":i&&(t=t.replace(XO,l=>a+l));break;case"fs:#decl":i||(t=t.replace(x1,a));break;case"fs:#main-start":i||(t=t.replace(qO,l=>l+a));break;case"fs:#main-end":i||(t=t.replace(XO,l=>a+l));break;default:t=t.replace(o,l=>l+a)}}return t=t.replace(x1,""),n&&(t=t.replace(/\}\s*$/,o=>o+Rie[e])),t}function J1(t){t.map(e=>Mie(e))}function Mie(t){if(t.instance)return;J1(t.dependencies||[]);const{propTypes:e={},deprecations:r=[],inject:n={}}=t,i={normalizedInjections:Iie(n),parsedDeprecations:Lie(r)};e&&(i.propValidators=Pie(e)),t.instance=i;let o={};e&&(o=Object.entries(e).reduce((s,[a,l])=>{const c=l==null?void 0:l.value;return c&&(s[a]=c),s},{})),t.defaultUniforms={...t.defaultUniforms,...o}}function BU(t,e,r){var n;(n=t.deprecations)==null||n.forEach(i=>{var o;(o=i.regex)!=null&&o.test(e)&&(i.deprecated?r.deprecated(i.old,i.new)():r.removed(i.old,i.new)())})}function Lie(t){return t.forEach(e=>{switch(e.type){case"function":e.regex=new RegExp(`\\b${e.old}\\(`);break;default:e.regex=new RegExp(`${e.type} ${e.old};`)}}),t}function DP(t){J1(t);const e={},r={};FU({modules:t,level:0,moduleMap:e,moduleDepth:r});const n=Object.keys(r).sort((i,o)=>r[o]-r[i]).map(i=>e[i]);return J1(n),n}function FU(t){const{modules:e,level:r,moduleMap:n,moduleDepth:i}=t;if(r>=5)throw new Error("Possible loop in shader dependency graph");for(const o of e)n[o.name]=o,(i[o.name]===void 0||i[o.name]<r)&&(i[o.name]=r);for(const o of e)o.dependencies&&FU({modules:o.dependencies,level:r+1,moduleMap:n,moduleDepth:i})}function Die(t){switch(t==null?void 0:t.gpu.toLowerCase()){case"apple":return`#define APPLE_GPU
// Apple optimizes away the calculation necessary for emulated fp64
#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1
#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1
// Intel GPU doesn't have full 32 bits precision in same cases, causes overflow
#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1
`;case"nvidia":return`#define NVIDIA_GPU
// Nvidia optimizes away the calculation necessary for emulated fp64
#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1
`;case"intel":return`#define INTEL_GPU
// Intel optimizes away the calculation necessary for emulated fp64
#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1
// Intel's built-in 'tan' function doesn't have acceptable precision
#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1
// Intel GPU doesn't have full 32 bits precision in same cases, causes overflow
#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1
`;case"amd":return`#define AMD_GPU
`;default:return`#define DEFAULT_GPU
// Prevent driver from optimizing away the calculation necessary for emulated fp64
#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1
// Headless Chrome's software shader 'tan' function doesn't have acceptable precision
#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1
// If the GPU doesn't have full 32 bits precision, will causes overflow
#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1
`}}function Bie(t,e){var n;if(Number(((n=t.match(/^#version[ \t]+(\d+)/m))==null?void 0:n[1])||100)!==300)throw new Error("luma.gl v9 only supports GLSL 3.00 shader sources");switch(e){case"vertex":return t=YO(t,Fie),t;case"fragment":return t=YO(t,jie),t;default:throw new Error(e)}}const jU=[[/^(#version[ \t]+(100|300[ \t]+es))?[ \t]*\n/,`#version 300 es
`],[/\btexture(2D|2DProj|Cube)Lod(EXT)?\(/g,"textureLod("],[/\btexture(2D|2DProj|Cube)(EXT)?\(/g,"texture("]],Fie=[...jU,[O4("attribute"),"in $1"],[O4("varying"),"out $1"]],jie=[...jU,[O4("varying"),"in $1"]];function YO(t,e){for(const[r,n]of e)t=t.replace(r,n);return t}function O4(t){return new RegExp(`\\b${t}[ \\t]+(\\w+[ \\t]+\\w+(\\[\\w+\\])?;)`,"g")}function UU(t,e){let r="";for(const n in t){const i=t[n];if(r+=`void ${i.signature} {
`,i.header&&(r+=`  ${i.header}`),e[n]){const o=e[n];o.sort((s,a)=>s.order-a.order);for(const s of o)r+=`  ${s.injection}
`}i.footer&&(r+=`  ${i.footer}`),r+=`}
`}return r}function $U(t){const e={vertex:{},fragment:{}};for(const r of t){let n,i;typeof r!="string"?(n=r,i=n.hook):(n={},i=r),i=i.trim();const[o,s]=i.split(":"),a=i.replace(/\(.+/,""),l=Object.assign(n,{signature:s});switch(o){case"vs":e.vertex[a]=l;break;case"fs":e.fragment[a]=l;break;default:throw new Error(o)}}return e}function Uie(t,e){return{name:$ie(t,e),language:"glsl",version:zie(t)}}function $ie(t,e="unnamed"){const n=/#define[^\S\r\n]*SHADER_NAME[^\S\r\n]*([A-Za-z0-9_-]+)\s*/.exec(t);return n?n[1]:e}function zie(t){let e=100;const r=t.match(/[^\s]+/g);if(r&&r.length>=2&&r[0]==="#version"){const n=parseInt(r[1],10);Number.isFinite(n)&&(e=n)}if(e!==100&&e!==300)throw new Error(`Invalid GLSL version ${e}`);return e}const zU=`

${x1}
`,Wie=`precision highp float;
`;function Vie(t){const e=DP(t.modules||[]);return{source:qie(t.platformInfo,{...t,source:t.source,stage:"vertex",modules:e}),getUniforms:WU(e)}}function Hie(t){const{vs:e,fs:r}=t,n=DP(t.modules||[]);return{vs:KO(t.platformInfo,{...t,source:e,stage:"vertex",modules:n}),fs:KO(t.platformInfo,{...t,source:r,stage:"fragment",modules:n}),getUniforms:WU(n)}}function qie(t,e){var E;const{source:r,stage:n,modules:i,hookFunctions:o=[],inject:s={},log:a}=e;LP(typeof r=="string","shader source must be a string");const l=r;let c="";const u=$U(o),g={},_={},b={};for(const T in s){const O=typeof s[T]=="string"?{injection:s[T],order:0}:s[T],L=/^(v|f)s:(#)?([\w-]+)$/.exec(T);if(L){const N=L[2],D=L[3];N?D==="decl"?_[T]=[O]:b[T]=[O]:g[T]=[O]}else b[T]=[O]}const P=i;for(const T of P){a&&BU(T,l,a);const O=VU(T,"wgsl");c+=O;const L=((E=T.injections)==null?void 0:E[n])||{};for(const N in L){const D=/^(v|f)s:#([\w-]+)$/.exec(N);if(D){const z=D[2]==="decl"?_:b;z[N]=z[N]||[],z[N].push(L[N])}else g[N]=g[N]||[],g[N].push(L[N])}}return c+=zU,c=Z1(c,n,_),c+=UU(u[n],g),c+=l,c=Z1(c,n,b),c}function KO(t,e){var z;const{source:r,stage:n,language:i="glsl",modules:o,defines:s={},hookFunctions:a=[],inject:l={},prologue:c=!0,log:u}=e;LP(typeof r=="string","shader source must be a string");const g=i==="glsl"?Uie(r).version:-1,_=t.shaderLanguageVersion,b=g===100?"#version 100":"#version 300 es",E=r.split(`
`).slice(1).join(`
`),T={};o.forEach(X=>{Object.assign(T,X.defines)}),Object.assign(T,s);let O="";switch(i){case"wgsl":break;case"glsl":O=c?`${b}

// ----- PROLOGUE -------------------------
${`#define SHADER_TYPE_${n.toUpperCase()}`}

${Die(t)}
${n==="fragment"?Wie:""}

// ----- APPLICATION DEFINES -------------------------

${Xie(T)}

`:`${b}
`;break}const L=$U(a),N={},D={},B={};for(const X in l){const Z=typeof l[X]=="string"?{injection:l[X],order:0}:l[X],G=/^(v|f)s:(#)?([\w-]+)$/.exec(X);if(G){const de=G[2],H=G[3];de?H==="decl"?D[X]=[Z]:B[X]=[Z]:N[X]=[Z]}else B[X]=[Z]}for(const X of o){u&&BU(X,E,u);const Z=VU(X,n);O+=Z;const G=((z=X.instance)==null?void 0:z.normalizedInjections[n])||{};for(const de in G){const H=/^(v|f)s:#([\w-]+)$/.exec(de);if(H){const ae=H[2]==="decl"?D:B;ae[de]=ae[de]||[],ae[de].push(G[de])}else N[de]=N[de]||[],N[de].push(G[de])}}return O+="// ----- MAIN SHADER SOURCE -------------------------",O+=zU,O=Z1(O,n,D),O+=UU(L[n],N),O+=E,O=Z1(O,n,B),i==="glsl"&&g!==_&&(O=Bie(O,n)),O.trim()}function WU(t){return function(r){var i;const n={};for(const o of t){const s=(i=o.getUniforms)==null?void 0:i.call(o,r,n);Object.assign(n,s)}return n}}function Xie(t={}){let e="";for(const r in t){const n=t[r];(n||Number.isFinite(n))&&(e+=`#define ${r.toUpperCase()} ${t[r]}
`)}return e}function VU(t,e){let r;switch(e){case"vertex":r=t.vs||"";break;case"fragment":r=t.fs||"";break;case"wgsl":r=t.source||"";break;default:LP(!1)}if(!t.name)throw new Error("Shader module must have a name");const n=t.name.toUpperCase().replace(/[^0-9a-z]/gi,"_");let i=`// ----- MODULE ${t.name} ---------------

`;return e!=="wgsl"&&(i+=`#define MODULE_${n}
`),i+=`${r}
`,i}const Yie=/^\s*\#\s*ifdef\s*([a-zA-Z_]+)\s*$/,Kie=/^\s*\#\s*endif\s*$/;function Gie(t,e){var s;const r=t.split(`
`),n=[];let i=!0,o=null;for(const a of r){const l=a.match(Yie),c=a.match(Kie);l?(o=l[1],i=!!((s=e==null?void 0:e.defines)!=null&&s[o])):c?i=!0:i&&n.push(a)}return n.join(`
`)}const Jh=class Jh{constructor(){Ae(this,"_hookFunctions",[]);Ae(this,"_defaultModules",[])}static getDefaultShaderAssembler(){return Jh.defaultShaderAssembler=Jh.defaultShaderAssembler||new Jh,Jh.defaultShaderAssembler}addDefaultModule(e){this._defaultModules.find(r=>r.name===(typeof e=="string"?e:e.name))||this._defaultModules.push(e)}removeDefaultModule(e){const r=typeof e=="string"?e:e.name;this._defaultModules=this._defaultModules.filter(n=>n.name!==r)}addShaderHook(e,r){r&&(e=Object.assign(r,{hook:e})),this._hookFunctions.push(e)}assembleWGSLShader(e){const r=this._getModuleList(e.modules),n=this._hookFunctions,{source:i,getUniforms:o}=Vie({...e,source:e.source,modules:r,hookFunctions:n});return{source:e.platformInfo.shaderLanguage==="wgsl"?Gie(i):i,getUniforms:o,modules:r}}assembleGLSLShaderPair(e){const r=this._getModuleList(e.modules),n=this._hookFunctions;return{...Hie({...e,vs:e.vs,fs:e.fs,modules:r,hookFunctions:n}),modules:r}}_getModuleList(e=[]){const r=new Array(this._defaultModules.length+e.length),n={};let i=0;for(let o=0,s=this._defaultModules.length;o<s;++o){const a=this._defaultModules[o],l=a.name;r[i++]=a,n[l]=!0}for(let o=0,s=e.length;o<s;++o){const a=e[o],l=a.name;n[l]||(r[i++]=a,n[l]=!0)}return r.length=i,J1(r),r}};Ae(Jh,"defaultShaderAssembler");let ey=Jh;const Qie=`out vec4 transform_output;
void main() {
  transform_output = vec4(0);
}`,Zie=`#version 300 es
${Qie}`;function Jie(t){const{input:e,inputChannels:r,output:n}={};if(!e)return Zie;if(!r)throw new Error("inputChannels");const i=eoe(r),o=toe(e,r);return`#version 300 es
in ${i} ${e};
out vec4 ${n};
void main() {
  ${n} = ${o};
}`}function eoe(t){switch(t){case 1:return"float";case 2:return"vec2";case 3:return"vec3";case 4:return"vec4";default:throw new Error(`invalid channels: ${t}`)}}function toe(t,e){switch(e){case 1:return`vec4(${t}, 0.0, 0.0, 1.0)`;case 2:return`vec4(${t}, 0.0, 1.0)`;case 3:return`vec4(${t}, 1.0)`;case 4:return t;default:throw new Error(`invalid channels: ${e}`)}}class roe{constructor(){Ae(this,"stats",new Map)}getStats(e){return this.get(e)}get(e){return this.stats.has(e)||this.stats.set(e,new J2({id:e})),this.stats.get(e)}}const HU=new roe,St=new km({id:"luma.gl"}),nw={};function tb(t="id"){nw[t]=nw[t]||1;const e=nw[t]++;return`${t}-${e}`}var l4;let $n=(l4=class{constructor(e,r,n){Ae(this,"id");Ae(this,"props");Ae(this,"userData",{});Ae(this,"_device");Ae(this,"destroyed",!1);Ae(this,"allocatedBytes",0);Ae(this,"_attachedResources",new Set);if(!e)throw new Error("no device");this._device=e,this.props=noe(r,n);const i=this.props.id!=="undefined"?this.props.id:tb(this[Symbol.toStringTag]);this.props.id=i,this.id=i,this.userData=this.props.userData||{},this.addStats()}toString(){return`${this[Symbol.toStringTag]||this.constructor.name}:"${this.id}"`}destroy(){this.destroyResource()}delete(){return this.destroy(),this}getProps(){return this.props}attachResource(e){this._attachedResources.add(e)}detachResource(e){this._attachedResources.delete(e)}destroyAttachedResource(e){this._attachedResources.delete(e)&&e.destroy()}destroyAttachedResources(){for(const e of Object.values(this._attachedResources))e.destroy();this._attachedResources=new Set}destroyResource(){this.destroyAttachedResources(),this.removeStats(),this.destroyed=!0}removeStats(){const e=this._device.statsManager.getStats("Resource Counts"),r=this[Symbol.toStringTag];e.get(`${r}s Active`).decrementCount()}trackAllocatedMemory(e,r=this[Symbol.toStringTag]){const n=this._device.statsManager.getStats("Resource Counts");n.get("GPU Memory").addCount(e),n.get(`${r} Memory`).addCount(e),this.allocatedBytes=e}trackDeallocatedMemory(e=this[Symbol.toStringTag]){const r=this._device.statsManager.getStats("Resource Counts");r.get("GPU Memory").subtractCount(this.allocatedBytes),r.get(`${e} Memory`).subtractCount(this.allocatedBytes),this.allocatedBytes=0}addStats(){const e=this._device.statsManager.getStats("Resource Counts"),r=this[Symbol.toStringTag];e.get("Resources Created").incrementCount(),e.get(`${r}s Created`).incrementCount(),e.get(`${r}s Active`).incrementCount()}},Ae(l4,"defaultProps",{id:"undefined",handle:void 0,userData:void 0}),l4);function noe(t,e){const r={...e};for(const n in t)t[n]!==void 0&&(r[n]=t[n]);return r}const Jo=class Jo extends $n{constructor(r,n){const i={...n};(n.usage||0)&Jo.INDEX&&!n.indexType&&(n.data instanceof Uint32Array?i.indexType="uint32":n.data instanceof Uint16Array&&(i.indexType="uint16")),delete i.data;super(r,i,Jo.defaultProps);Ae(this,"usage");Ae(this,"indexType");Ae(this,"updateTimestamp");Ae(this,"debugData",new ArrayBuffer(0));this.usage=i.usage||0,this.indexType=i.indexType,this.updateTimestamp=r.incrementTimestamp()}get[Symbol.toStringTag](){return"Buffer"}clone(r){return this.device.createBuffer({...this.props,...r})}_setDebugData(r,n,i){const o=ArrayBuffer.isView(r)?r.buffer:r,s=Math.min(r?r.byteLength:i,Jo.DEBUG_DATA_MAX_LENGTH);o===null?this.debugData=new ArrayBuffer(s):n===0&&i===o.byteLength?this.debugData=o.slice(0,s):this.debugData=o.slice(n,n+s)}};Ae(Jo,"INDEX",16),Ae(Jo,"VERTEX",32),Ae(Jo,"UNIFORM",64),Ae(Jo,"STORAGE",128),Ae(Jo,"INDIRECT",256),Ae(Jo,"QUERY_RESOLVE",512),Ae(Jo,"MAP_READ",1),Ae(Jo,"MAP_WRITE",2),Ae(Jo,"COPY_SRC",4),Ae(Jo,"COPY_DST",8),Ae(Jo,"DEBUG_DATA_MAX_LENGTH",32),Ae(Jo,"defaultProps",{...$n.defaultProps,usage:0,byteLength:0,byteOffset:0,data:null,indexType:"uint16",onMapped:void 0});let ci=Jo;function qU(t){const[e,r,n]=jP[t],i=t.includes("norm"),o=!i&&!t.startsWith("float"),s=t.startsWith("s");return{signedType:e,primitiveType:r,byteLength:n,normalized:i,integer:o,signed:s}}function ioe(t){const e=t;switch(e){case"uint8":return"unorm8";case"sint8":return"snorm8";case"uint16":return"unorm16";case"sint16":return"snorm16";default:return e}}function ooe(t,e){switch(e){case 1:return t;case 2:return t+t%2;default:return t+(4-t%4)%4}}function BP(t){const e=ArrayBuffer.isView(t)?t.constructor:t;if(e===Uint8ClampedArray)return"uint8";const r=Object.values(jP).find(n=>e===n[4]);if(!r)throw new Error(e.name);return r[0]}function FP(t){const[,,,,e]=jP[t];return e}const jP={uint8:["uint8","u32",1,!1,Uint8Array],sint8:["sint8","i32",1,!1,Int8Array],unorm8:["uint8","f32",1,!0,Uint8Array],snorm8:["sint8","f32",1,!0,Int8Array],uint16:["uint16","u32",2,!1,Uint16Array],sint16:["sint16","i32",2,!1,Int16Array],unorm16:["uint16","u32",2,!0,Uint16Array],snorm16:["sint16","i32",2,!0,Int16Array],float16:["float16","f16",2,!1,Uint16Array],float32:["float32","f32",4,!1,Float32Array],uint32:["uint32","u32",4,!1,Uint32Array],sint32:["sint32","i32",4,!1,Int32Array]};function UP(t){let e;t.endsWith("-webgl")&&(t.replace("-webgl",""),e=!0);const[r,n]=t.split("x"),i=r,o=n?parseInt(n):1,s=qU(i),a={type:i,components:o,byteLength:s.byteLength*o,integer:s.integer,signed:s.signed,normalized:s.normalized};return e&&(a.webglOnly=!0),a}function soe(t,e,r){const n=r?ioe(t):t;switch(n){case"unorm8":return e===1?"unorm8":e===3?"unorm8x3-webgl":`${n}x${e}`;case"snorm8":case"uint8":case"sint8":case"uint16":case"sint16":case"unorm16":case"snorm16":case"float16":if(e===1||e===3)throw new Error(`size: ${e}`);return`${n}x${e}`;default:return e===1?n:`${n}x${e}`}}function aoe(t,e,r){if(!e||e>4)throw new Error(`size ${e}`);const n=e,i=BP(t);return soe(i,n,r)}function loe(t){let e;switch(t.primitiveType){case"f32":e="float32";break;case"i32":e="sint32";break;case"u32":e="uint32";break;case"f16":return t.components<=2?"float16x2":"float16x4"}return t.components===1?e:`${e}x${t.components}`}const bs="texture-compression-bc",jn="texture-compression-astc",Jc="texture-compression-etc2",coe="texture-compression-etc1-webgl",Rv="texture-compression-pvrtc-webgl",iw="texture-compression-atc-webgl",Iv="float32-renderable-webgl",ow="float16-renderable-webgl",uoe="rgb9e5ufloat-renderable-webgl",sw="snorm8-renderable-webgl",Rp="norm16-renderable-webgl",aw="snorm16-renderable-webgl",Nv="float32-filterable",GO="float16-filterable-webgl";function XU(t){const e=doe[t];if(!e)throw new Error(`Unsupported texture format ${t}`);return e}const foe={r8unorm:{},rg8unorm:{},"rgb8unorm-webgl":{},rgba8unorm:{},"rgba8unorm-srgb":{},r8snorm:{render:sw},rg8snorm:{render:sw},"rgb8snorm-webgl":{},rgba8snorm:{render:sw},r8uint:{},rg8uint:{},rgba8uint:{},r8sint:{},rg8sint:{},rgba8sint:{},bgra8unorm:{},"bgra8unorm-srgb":{},r16unorm:{f:Rp},rg16unorm:{render:Rp},"rgb16unorm-webgl":{f:Rp},rgba16unorm:{render:Rp},r16snorm:{f:aw},rg16snorm:{render:aw},"rgb16snorm-webgl":{f:Rp},rgba16snorm:{render:aw},r16uint:{},rg16uint:{},rgba16uint:{},r16sint:{},rg16sint:{},rgba16sint:{},r16float:{render:ow,filter:"float16-filterable-webgl"},rg16float:{render:ow,filter:GO},rgba16float:{render:ow,filter:GO},r32uint:{},rg32uint:{},rgba32uint:{},r32sint:{},rg32sint:{},rgba32sint:{},r32float:{render:Iv,filter:Nv},rg32float:{render:!1,filter:Nv},"rgb32float-webgl":{render:Iv,filter:Nv},rgba32float:{render:Iv,filter:Nv},"rgba4unorm-webgl":{channels:"rgba",bitsPerChannel:[4,4,4,4],packed:!0},"rgb565unorm-webgl":{channels:"rgb",bitsPerChannel:[5,6,5,0],packed:!0},"rgb5a1unorm-webgl":{channels:"rgba",bitsPerChannel:[5,5,5,1],packed:!0},rgb9e5ufloat:{channels:"rgb",packed:!0,render:uoe},rg11b10ufloat:{channels:"rgb",bitsPerChannel:[11,11,10,0],packed:!0,p:1,render:Iv},rgb10a2unorm:{channels:"rgba",bitsPerChannel:[10,10,10,2],packed:!0,p:1},rgb10a2uint:{channels:"rgba",bitsPerChannel:[10,10,10,2],packed:!0,p:1},stencil8:{attachment:"stencil",bitsPerChannel:[8,0,0,0],dataType:"uint8"},depth16unorm:{attachment:"depth",bitsPerChannel:[16,0,0,0],dataType:"uint16"},depth24plus:{attachment:"depth",bitsPerChannel:[24,0,0,0],dataType:"uint32"},depth32float:{attachment:"depth",bitsPerChannel:[32,0,0,0],dataType:"float32"},"depth24plus-stencil8":{attachment:"depth-stencil",bitsPerChannel:[24,8,0,0],packed:!0},"depth32float-stencil8":{attachment:"depth-stencil",bitsPerChannel:[32,8,0,0],packed:!0}},hoe={"bc1-rgb-unorm-webgl":{f:bs},"bc1-rgb-unorm-srgb-webgl":{f:bs},"bc1-rgba-unorm":{f:bs},"bc1-rgba-unorm-srgb":{f:bs},"bc2-rgba-unorm":{f:bs},"bc2-rgba-unorm-srgb":{f:bs},"bc3-rgba-unorm":{f:bs},"bc3-rgba-unorm-srgb":{f:bs},"bc4-r-unorm":{f:bs},"bc4-r-snorm":{f:bs},"bc5-rg-unorm":{f:bs},"bc5-rg-snorm":{f:bs},"bc6h-rgb-ufloat":{f:bs},"bc6h-rgb-float":{f:bs},"bc7-rgba-unorm":{f:bs},"bc7-rgba-unorm-srgb":{f:bs},"etc2-rgb8unorm":{f:Jc},"etc2-rgb8unorm-srgb":{f:Jc},"etc2-rgb8a1unorm":{f:Jc},"etc2-rgb8a1unorm-srgb":{f:Jc},"etc2-rgba8unorm":{f:Jc},"etc2-rgba8unorm-srgb":{f:Jc},"eac-r11unorm":{f:Jc},"eac-r11snorm":{f:Jc},"eac-rg11unorm":{f:Jc},"eac-rg11snorm":{f:Jc},"astc-4x4-unorm":{f:jn},"astc-4x4-unorm-srgb":{f:jn},"astc-5x4-unorm":{f:jn},"astc-5x4-unorm-srgb":{f:jn},"astc-5x5-unorm":{f:jn},"astc-5x5-unorm-srgb":{f:jn},"astc-6x5-unorm":{f:jn},"astc-6x5-unorm-srgb":{f:jn},"astc-6x6-unorm":{f:jn},"astc-6x6-unorm-srgb":{f:jn},"astc-8x5-unorm":{f:jn},"astc-8x5-unorm-srgb":{f:jn},"astc-8x6-unorm":{f:jn},"astc-8x6-unorm-srgb":{f:jn},"astc-8x8-unorm":{f:jn},"astc-8x8-unorm-srgb":{f:jn},"astc-10x5-unorm":{f:jn},"astc-10x5-unorm-srgb":{f:jn},"astc-10x6-unorm":{f:jn},"astc-10x6-unorm-srgb":{f:jn},"astc-10x8-unorm":{f:jn},"astc-10x8-unorm-srgb":{f:jn},"astc-10x10-unorm":{f:jn},"astc-10x10-unorm-srgb":{f:jn},"astc-12x10-unorm":{f:jn},"astc-12x10-unorm-srgb":{f:jn},"astc-12x12-unorm":{f:jn},"astc-12x12-unorm-srgb":{f:jn},"pvrtc-rgb4unorm-webgl":{f:Rv},"pvrtc-rgba4unorm-webgl":{f:Rv},"pvrtc-rbg2unorm-webgl":{f:Rv},"pvrtc-rgba2unorm-webgl":{f:Rv},"etc1-rbg-unorm-webgl":{f:coe},"atc-rgb-unorm-webgl":{f:iw},"atc-rgba-unorm-webgl":{f:iw},"atc-rgbai-unorm-webgl":{f:iw}},doe={...foe,...hoe},Aoe=["bc1","bc2","bc3","bc4","bc5","bc6","bc7","etc1","etc2","eac","atc","astc","pvrtc"],poe=/^(r|rg|rgb|rgba|bgra)([0-9]*)([a-z]*)(-srgb)?(-webgl)?$/;class goe{getInfo(e){return QO(e)}isColor(e){return e.startsWith("rgba")||e.startsWith("bgra")||e.startsWith("rgb")}isDepthStencil(e){return e.startsWith("depth")||e.startsWith("stencil")}isCompressed(e){return Aoe.some(r=>e.startsWith(r))}getCapabilities(e){const r=XU(e),n={format:e,create:r.f??!0,render:r.render??!0,filter:r.filter??!0,blend:r.blend??!0,store:r.store??!0},i=QO(e),o=e.startsWith("depth")||e.startsWith("stencil"),s=i==null?void 0:i.signed,a=i==null?void 0:i.integer,l=i==null?void 0:i.webgl;return n.render&&(n.render=!s),n.filter&&(n.filter=!o&&!s&&!a&&!l),n}}const qA=new goe;function QO(t){let e=moe(t);if(qA.isCompressed(t)){e.channels="rgb",e.components=3,e.bytesPerPixel=1,e.srgb=!1,e.compressed=!0;const n=voe(t);n&&(e.blockWidth=n.blockWidth,e.blockHeight=n.blockHeight)}const r=poe.exec(t);if(r){const[,n,i,o,s,a]=r,l=`${o}${i}`,c=qU(l),u=c.byteLength*8,g=n.length,_=[u,g>=2?u:0,g>=3?u:0,g>=4?u:0];e={format:t,attachment:e.attachment,dataType:c.signedType,components:g,channels:n,integer:c.integer,signed:c.signed,normalized:c.normalized,bitsPerChannel:_,bytesPerPixel:c.byteLength*n.length,packed:e.packed,srgb:e.srgb},a==="-webgl"&&(e.webgl=!0),s==="-srgb"&&(e.srgb=!0)}return t.endsWith("-webgl")&&(e.webgl=!0),t.endsWith("-srgb")&&(e.srgb=!0),e}function moe(t){var o;const e=XU(t),r=e.bytesPerPixel||1,n=e.bitsPerChannel||[8,8,8,8];return delete e.bitsPerChannel,delete e.bytesPerPixel,delete e.f,delete e.render,delete e.filter,delete e.blend,delete e.store,{...e,format:t,attachment:e.attachment||"color",channels:e.channels||"r",components:e.components||((o=e.channels)==null?void 0:o.length)||1,bytesPerPixel:r,bitsPerChannel:n,dataType:e.dataType||"uint8",srgb:e.srgb??!1,packed:e.packed??!1,webgl:e.webgl??!1,integer:e.integer??!1,signed:e.signed??!1,normalized:e.normalized??!1,compressed:e.compressed??!1}}function voe(t){const r=/.*-(\d+)x(\d+)-.*/.exec(t);if(r){const[,n,i]=r;return{blockWidth:Number(n),blockHeight:Number(i)}}return null}function yoe(t){return typeof ImageData<"u"&&t instanceof ImageData||typeof ImageBitmap<"u"&&t instanceof ImageBitmap||typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLVideoElement<"u"&&t instanceof HTMLVideoElement||typeof VideoFrame<"u"&&t instanceof VideoFrame||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas}function boe(t){if(typeof ImageData<"u"&&t instanceof ImageData||typeof ImageBitmap<"u"&&t instanceof ImageBitmap||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height};if(typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement)return{width:t.naturalWidth,height:t.naturalHeight};if(typeof HTMLVideoElement<"u"&&t instanceof HTMLVideoElement)return{width:t.videoWidth,height:t.videoHeight};if(typeof VideoFrame<"u"&&t instanceof VideoFrame)return{width:t.displayWidth,height:t.displayHeight};throw new Error("Unknown image type")}class _oe{}class woe{constructor(e=[],r){Ae(this,"features");Ae(this,"disabledFeatures");this.features=new Set(e),this.disabledFeatures=r||{}}*[Symbol.iterator](){yield*this.features}has(e){var r;return!((r=this.disabledFeatures)!=null&&r[e])&&this.features.has(e)}}const T2=class T2{constructor(e){Ae(this,"id");Ae(this,"props");Ae(this,"userData",{});Ae(this,"statsManager",HU);Ae(this,"timestamp",0);Ae(this,"_reused",!1);Ae(this,"_lumaData",{});Ae(this,"_textureCaps",{});this.props={...T2.defaultProps,...e},this.id=this.props.id||tb(this[Symbol.toStringTag].toLowerCase())}get[Symbol.toStringTag](){return"Device"}toString(){return`Device(${this.id})`}getVertexFormatInfo(e){return UP(e)}isVertexFormatSupported(e){return!0}getTextureFormatInfo(e){return qA.getInfo(e)}getTextureFormatCapabilities(e){let r=this._textureCaps[e];if(!r){const n=this._getDeviceTextureFormatCapabilities(e);r=this._getDeviceSpecificTextureFormatCapabilities(n),this._textureCaps[e]=r}return r}getMipLevelCount(e,r,n=1){const i=Math.max(e,r,n);return 1+Math.floor(Math.log2(i))}isExternalImage(e){return yoe(e)}getExternalImageSize(e){return boe(e)}isTextureFormatSupported(e){return this.getTextureFormatCapabilities(e).create}isTextureFormatFilterable(e){return this.getTextureFormatCapabilities(e).filter}isTextureFormatRenderable(e){return this.getTextureFormatCapabilities(e).render}isTextureFormatCompressed(e){return qA.isCompressed(e)}pushDebugGroup(e){this.commandEncoder.pushDebugGroup(e)}popDebugGroup(){var e;(e=this.commandEncoder)==null||e.popDebugGroup()}insertDebugMarker(e){var r;(r=this.commandEncoder)==null||r.insertDebugMarker(e)}loseDevice(){return!1}incrementTimestamp(){return this.timestamp++}reportError(e,r,...n){return this.props.onError(e,r)?()=>{}:St.error(e.message,r,...n)}debug(){if(this.props.debug)debugger;else St.once(0,`'Type luma.log.set({debug: true}) in console to enable debug breakpoints',
or create a device with the 'debug: true' prop.`)()}getDefaultCanvasContext(){if(!this.canvasContext)throw new Error("Device has no default CanvasContext. See props.createCanvasContext");return this.canvasContext}beginRenderPass(e){return this.commandEncoder.beginRenderPass(e)}beginComputePass(e){return this.commandEncoder.beginComputePass(e)}getCanvasContext(){return this.getDefaultCanvasContext()}readPixelsToArrayWebGL(e,r){throw new Error("not implemented")}readPixelsToBufferWebGL(e,r){throw new Error("not implemented")}setParametersWebGL(e){throw new Error("not implemented")}getParametersWebGL(e){throw new Error("not implemented")}withParametersWebGL(e,r){throw new Error("not implemented")}clearWebGL(e){throw new Error("not implemented")}resetWebGL(){throw new Error("not implemented")}static _getCanvasContextProps(e){return e.createCanvasContext===!0?{}:e.createCanvasContext}_getDeviceTextureFormatCapabilities(e){const r=qA.getCapabilities(e),n=o=>(typeof o=="string"?this.features.has(o):o)??!0,i=n(r.create);return{format:e,create:i,render:i&&n(r.render),filter:i&&n(r.filter),blend:i&&n(r.blend),store:i&&n(r.store)}}_normalizeBufferProps(e){(e instanceof ArrayBuffer||ArrayBuffer.isView(e))&&(e={data:e});const r={...e};if((e.usage||0)&ci.INDEX&&(e.indexType||(e.data instanceof Uint32Array?r.indexType="uint32":e.data instanceof Uint16Array&&(r.indexType="uint16")),!r.indexType))throw new Error("indices buffer content must be of type uint16 or uint32");return r}};Ae(T2,"defaultProps",{id:null,powerPreference:"high-performance",failIfMajorPerformanceCaveat:!1,createCanvasContext:void 0,webgl:{},onError:(e,r)=>{},onResize:(e,r)=>{const[n,i]=e.getDevicePixelSize();St.log(1,`${e} resized => ${n}x${i}px`)()},onPositionChange:(e,r)=>{const[n,i]=e.getPosition();St.log(1,`${e} repositioned => ${n},${i}`)()},onVisibilityChange:e=>St.log(1,`${e} Visibility changed ${e.isVisible}`)(),onDevicePixelRatioChange:(e,r)=>St.log(1,`${e} DPR changed ${r.oldRatio} => ${e.devicePixelRatio}`)(),debug:St.get("debug")||void 0,debugShaders:St.get("debug-shaders")||void 0,debugFramebuffers:!!St.get("debug-framebuffers"),debugFactories:!!St.get("debug-factories"),debugWebGL:!!St.get("debug-webgl"),debugSpectorJS:void 0,debugSpectorJSUrl:void 0,_reuseDevices:!1,_requestMaxLimits:!0,_cacheShaders:!1,_cachePipelines:!1,_cacheDestroyPolicy:"unused",_initializeFeatures:!0,_disabledFeatures:{"compilation-status-async-webgl":!0},_handle:void 0});let wd=T2;const xoe="set luma.log.level=1 (or higher) to trace rendering",ZO="No matching device found. Ensure `@luma.gl/webgl` and/or `@luma.gl/webgpu` modules are imported.",Sg=class Sg{constructor(){Ae(this,"stats",HU);Ae(this,"log",St);Ae(this,"VERSION","9.2.5");Ae(this,"spector");Ae(this,"preregisteredAdapters",new Map);if(globalThis.luma){if(globalThis.luma.VERSION!==this.VERSION)throw St.error(`Found luma.gl ${globalThis.luma.VERSION} while initialzing ${this.VERSION}`)(),St.error("'yarn why @luma.gl/core' can help identify the source of the conflict")(),new Error("luma.gl - multiple versions detected: see console log");St.error("This version of luma.gl has already been initialized")()}St.log(1,`${this.VERSION} - ${xoe}`)(),globalThis.luma=this}async createDevice(e={}){const r={...Sg.defaultProps,...e},n=this.selectAdapter(r.type,r.adapters);if(!n)throw new Error(ZO);return r.waitForPageLoad&&await n.pageLoaded,await n.create(r)}async attachDevice(e,r){var o;const n=this._getTypeFromHandle(e,r.adapters),i=n&&this.selectAdapter(n,r.adapters);if(!i)throw new Error(ZO);return await((o=i==null?void 0:i.attach)==null?void 0:o.call(i,e,r))}registerAdapters(e){for(const r of e)this.preregisteredAdapters.set(r.type,r)}getSupportedAdapters(e=[]){const r=this._getAdapterMap(e);return Array.from(r).map(([,n])=>n).filter(n=>{var i;return(i=n.isSupported)==null?void 0:i.call(n)}).map(n=>n.type)}getBestAvailableAdapterType(e=[]){var i,o;const r=["webgpu","webgl","null"],n=this._getAdapterMap(e);for(const s of r)if((o=(i=n.get(s))==null?void 0:i.isSupported)!=null&&o.call(i))return s;return null}selectAdapter(e,r=[]){let n=e;e==="best-available"&&(n=this.getBestAvailableAdapterType(r));const i=this._getAdapterMap(r);return n&&i.get(n)||null}enforceWebGL2(e=!0,r=[]){var o;const i=this._getAdapterMap(r).get("webgl");i||St.warn("enforceWebGL2: webgl adapter not found")(),(o=i==null?void 0:i.enforceWebGL2)==null||o.call(i,e)}setDefaultDeviceProps(e){Object.assign(Sg.defaultProps,e)}_getAdapterMap(e=[]){const r=new Map(this.preregisteredAdapters);for(const n of e)r.set(n.type,n);return r}_getTypeFromHandle(e,r=[]){return e instanceof WebGL2RenderingContext?"webgl":typeof GPUDevice<"u"&&e instanceof GPUDevice||e!=null&&e.queue?"webgpu":e===null?"null":(e instanceof WebGLRenderingContext?St.warn("WebGL1 is not supported",e)():St.warn("Unknown handle type",e)(),null)}};Ae(Sg,"defaultProps",{...wd.defaultProps,type:"best-available",adapters:void 0,waitForPageLoad:!0});let R4=Sg;const I4=new R4;class Soe{get pageLoaded(){return Poe()}}const Eoe=Dd()&&typeof document<"u",Toe=()=>Eoe&&document.readyState==="complete";let Mv=null;function Poe(){return Mv||(Toe()||typeof window>"u"?Mv=Promise.resolve():Mv=new Promise(t=>window.addEventListener("load",()=>t()))),Mv}function Coe(){let t,e;return{promise:new Promise((n,i)=>{t=n,e=i}),resolve:t,reject:e}}const ed=class ed{constructor(e){Ae(this,"id");Ae(this,"props");Ae(this,"canvas");Ae(this,"htmlCanvas");Ae(this,"offscreenCanvas");Ae(this,"type");Ae(this,"initialized");Ae(this,"isInitialized",!1);Ae(this,"isVisible",!0);Ae(this,"cssWidth");Ae(this,"cssHeight");Ae(this,"devicePixelRatio");Ae(this,"devicePixelWidth");Ae(this,"devicePixelHeight");Ae(this,"drawingBufferWidth");Ae(this,"drawingBufferHeight");Ae(this,"_initializedResolvers",Coe());Ae(this,"_resizeObserver");Ae(this,"_intersectionObserver");Ae(this,"_position");Ae(this,"destroyed",!1);var r,n;if(this.props={...ed.defaultProps,...e},e=this.props,this.initialized=this._initializedResolvers.promise,Dd()?e.canvas?typeof e.canvas=="string"?this.canvas=Ooe(e.canvas):this.canvas=e.canvas:this.canvas=Roe(e):this.canvas={width:e.width||1,height:e.height||1},ed.isHTMLCanvas(this.canvas)?(this.id=e.id||this.canvas.id,this.type="html-canvas",this.htmlCanvas=this.canvas):ed.isOffscreenCanvas(this.canvas)?(this.id=e.id||"offscreen-canvas",this.type="offscreen-canvas",this.offscreenCanvas=this.canvas):(this.id=e.id||"node-canvas-context",this.type="node"),this.cssWidth=((r=this.htmlCanvas)==null?void 0:r.clientWidth)||this.canvas.width,this.cssHeight=((n=this.htmlCanvas)==null?void 0:n.clientHeight)||this.canvas.height,this.devicePixelWidth=this.canvas.width,this.devicePixelHeight=this.canvas.height,this.drawingBufferWidth=this.canvas.width,this.drawingBufferHeight=this.canvas.height,this.devicePixelRatio=globalThis.devicePixelRatio||1,this._position=[0,0],ed.isHTMLCanvas(this.canvas)){this._intersectionObserver=new IntersectionObserver(i=>this._handleIntersection(i)),this._intersectionObserver.observe(this.canvas),this._resizeObserver=new ResizeObserver(i=>this._handleResize(i));try{this._resizeObserver.observe(this.canvas,{box:"device-pixel-content-box"})}catch{this._resizeObserver.observe(this.canvas,{box:"content-box"})}setTimeout(()=>this._observeDevicePixelRatio(),0),this.props.trackPosition&&this._trackPosition()}}static isHTMLCanvas(e){return typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement}static isOffscreenCanvas(e){return typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas}toString(){return`${this[Symbol.toStringTag]}(${this.id})`}destroy(){this.destroyed=!0}setProps(e){return"useDevicePixels"in e&&(this.props.useDevicePixels=e.useDevicePixels||!1,this._updateDrawingBufferSize()),this}getCSSSize(){return[this.cssWidth,this.cssHeight]}getPosition(){return this._position}getDevicePixelSize(){return[this.devicePixelWidth,this.devicePixelHeight]}getDrawingBufferSize(){return[this.drawingBufferWidth,this.drawingBufferHeight]}getMaxDrawingBufferSize(){const e=this.device.limits.maxTextureDimension2D;return[e,e]}setDrawingBufferSize(e,r){this.canvas.width=e,this.canvas.height=r,this.drawingBufferWidth=e,this.drawingBufferHeight=r}getDevicePixelRatio(){return typeof window<"u"&&window.devicePixelRatio||1}cssToDevicePixels(e,r=!0){const n=this.cssToDeviceRatio(),[i,o]=this.getDrawingBufferSize();return Ioe(e,n,i,o,r)}getPixelSize(){return this.getDevicePixelSize()}getAspect(){const[e,r]=this.getDevicePixelSize();return e/r}cssToDeviceRatio(){try{const[e]=this.getDrawingBufferSize(),[r]=this.getCSSSize();return r?e/r:1}catch{return 1}}resize(e){this.setDrawingBufferSize(e.width,e.height)}_setAutoCreatedCanvasId(e){var r;((r=this.htmlCanvas)==null?void 0:r.id)==="lumagl-auto-created-canvas"&&(this.htmlCanvas.id=e)}_handleIntersection(e){const r=e.find(i=>i.target===this.canvas);if(!r)return;const n=r.isIntersecting;this.isVisible!==n&&(this.isVisible=n,this.device.props.onVisibilityChange(this))}_handleResize(e){var l,c;const r=e.find(u=>u.target===this.canvas);if(!r)return;this.cssWidth=r.contentBoxSize[0].inlineSize,this.cssHeight=r.contentBoxSize[0].blockSize;const n=this.getDevicePixelSize(),i=((l=r.devicePixelContentBoxSize)==null?void 0:l[0].inlineSize)||r.contentBoxSize[0].inlineSize*devicePixelRatio,o=((c=r.devicePixelContentBoxSize)==null?void 0:c[0].blockSize)||r.contentBoxSize[0].blockSize*devicePixelRatio,[s,a]=this.getMaxDrawingBufferSize();this.devicePixelWidth=Math.max(1,Math.min(i,s)),this.devicePixelHeight=Math.max(1,Math.min(o,a)),this._updateDrawingBufferSize(),this.device.props.onResize(this,{oldPixelSize:n})}_updateDrawingBufferSize(){if(this.props.autoResize){if(typeof this.props.useDevicePixels=="number"){const e=this.props.useDevicePixels;this.setDrawingBufferSize(this.cssWidth*e,this.cssHeight*e)}else this.props.useDevicePixels?this.setDrawingBufferSize(this.devicePixelWidth,this.devicePixelHeight):this.setDrawingBufferSize(this.cssWidth,this.cssHeight);this._updateDevice()}this._initializedResolvers.resolve(),this.isInitialized=!0,this.updatePosition()}_observeDevicePixelRatio(){const e=this.devicePixelRatio;this.devicePixelRatio=window.devicePixelRatio,this.updatePosition(),this.device.props.onDevicePixelRatioChange(this,{oldRatio:e}),matchMedia(`(resolution: ${this.devicePixelRatio}dppx)`).addEventListener("change",()=>this._observeDevicePixelRatio(),{once:!0})}_trackPosition(e=100){const r=setInterval(()=>{this.destroyed?clearInterval(r):this.updatePosition()},e)}updatePosition(){var r,n,i;const e=(r=this.htmlCanvas)==null?void 0:r.getBoundingClientRect();if(e){const o=[e.left,e.top];if(this._position??(this._position=o),o[0]!==this._position[0]||o[1]!==this._position[1]){const a=this._position;this._position=o,(i=(n=this.device.props).onPositionChange)==null||i.call(n,this,{oldPosition:a})}}}};Ae(ed,"defaultProps",{id:void 0,canvas:null,width:800,height:600,useDevicePixels:!0,autoResize:!0,container:null,visible:!0,alphaMode:"opaque",colorSpace:"srgb",trackPosition:!1});let ty=ed;function koe(t){if(typeof t=="string"){const e=document.getElementById(t);if(!e)throw new Error(`${t} is not an HTML element`);return e}return t||document.body}function Ooe(t){const e=document.getElementById(t);if(!ty.isHTMLCanvas(e))throw new Error("Object is not a canvas element");return e}function Roe(t){const{width:e,height:r}=t,n=document.createElement("canvas");n.id=tb("lumagl-auto-created-canvas"),n.width=e||1,n.height=r||1,n.style.width=Number.isFinite(e)?`${e}px`:"100%",n.style.height=Number.isFinite(r)?`${r}px`:"100%",t!=null&&t.visible||(n.style.visibility="hidden");const i=koe((t==null?void 0:t.container)||null);return i.insertBefore(n,i.firstChild),n}function Ioe(t,e,r,n,i){const o=t,s=JO(o[0],e,r);let a=eR(o[1],e,n,i),l=JO(o[0]+1,e,r);const c=l===r-1?l:l-1;l=eR(o[1]+1,e,n,i);let u;return i?(l=l===0?l:l+1,u=a,a=l):u=l===n-1?l:l-1,{x:s,y:a,width:Math.max(c-s+1,1),height:Math.max(u-a+1,1)}}function JO(t,e,r){return Math.min(Math.round(t*e),r-1)}function eR(t,e,r,n){return n?Math.max(0,r-1-Math.round(t*e)):Math.min(Math.round(t*e),r-1)}const Eg=class Eg extends $n{get[Symbol.toStringTag](){return"Sampler"}constructor(e,r){r=Eg.normalizeProps(e,r),super(e,r,Eg.defaultProps)}static normalizeProps(e,r){return r}};Ae(Eg,"defaultProps",{...$n.defaultProps,type:"color-sampler",addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge",addressModeW:"clamp-to-edge",magFilter:"nearest",minFilter:"nearest",mipmapFilter:"none",lodMinClamp:0,lodMaxClamp:32,compare:"less-equal",maxAnisotropy:1});let l0=Eg;const Noe={"1d":"1d","2d":"2d","2d-array":"2d",cube:"2d","cube-array":"2d","3d":"3d"},po=class po extends $n{constructor(r,n){n=po.normalizeProps(r,n);super(r,n,po.defaultProps);Ae(this,"dimension");Ae(this,"baseDimension");Ae(this,"format");Ae(this,"width");Ae(this,"height");Ae(this,"depth");Ae(this,"mipLevels");Ae(this,"updateTimestamp");if(this.dimension=this.props.dimension,this.baseDimension=Noe[this.dimension],this.format=this.props.format,this.width=this.props.width,this.height=this.props.height,this.depth=this.props.depth,this.mipLevels=this.props.mipLevels,this.props.width===void 0||this.props.height===void 0)if(r.isExternalImage(n.data)){const i=r.getExternalImageSize(n.data);this.width=(i==null?void 0:i.width)||1,this.height=(i==null?void 0:i.height)||1}else this.width=1,this.height=1,(this.props.width===void 0||this.props.height===void 0)&&St.warn(`${this} created with undefined width or height. This is deprecated. Use AsyncTexture instead.`)();this.updateTimestamp=r.incrementTimestamp()}get[Symbol.toStringTag](){return"Texture"}toString(){return`Texture(${this.id},${this.format},${this.width}x${this.height})`}setSampler(r){this.sampler=r instanceof l0?r:this.device.createSampler(r)}clone(r){return this.device.createTexture({...this.props,...r})}static normalizeProps(r,n){const i={...n},{width:o,height:s}=i;return typeof o=="number"&&(i.width=Math.max(1,Math.ceil(o))),typeof s=="number"&&(i.height=Math.max(1,Math.ceil(s))),i}_initializeData(r){this.device.isExternalImage(r)?this.copyExternalImage({image:r,width:this.width,height:this.height,depth:this.depth,mipLevel:0,x:0,y:0,z:0,aspect:"all",colorSpace:"srgb",premultipliedAlpha:!1,flipY:!1}):r&&this.copyImageData({data:r,mipLevel:0,x:0,y:0,z:0,aspect:"all"})}_normalizeCopyImageDataOptions(r){const{width:n,height:i,depth:o}=this,s={...po.defaultCopyDataOptions,width:n,height:i,depth:o,...r},a=this.device.getTextureFormatInfo(this.format);if(!r.bytesPerRow&&!a.bytesPerPixel)throw new Error(`bytesPerRow must be provided for texture format ${this.format}`);return s.bytesPerRow=r.bytesPerRow||n*(a.bytesPerPixel||4),s.rowsPerImage=r.rowsPerImage||i,s}_normalizeCopyExternalImageOptions(r){const n=this.device.getExternalImageSize(r.image),i={...po.defaultCopyExternalImageOptions,...n,...r};return i.width=Math.min(i.width,this.width-i.x),i.height=Math.min(i.height,this.height-i.y),i}};Ae(po,"SAMPLE",4),Ae(po,"STORAGE",8),Ae(po,"RENDER",16),Ae(po,"COPY_SRC",1),Ae(po,"COPY_DST",2),Ae(po,"TEXTURE",4),Ae(po,"RENDER_ATTACHMENT",16),Ae(po,"defaultProps",{...$n.defaultProps,data:null,dimension:"2d",format:"rgba8unorm",usage:po.TEXTURE|po.RENDER_ATTACHMENT|po.COPY_DST,width:void 0,height:void 0,depth:1,mipLevels:1,samples:void 0,sampler:{},view:void 0}),Ae(po,"defaultCopyDataOptions",{data:void 0,byteOffset:0,bytesPerRow:void 0,rowsPerImage:void 0,mipLevel:0,x:0,y:0,z:0,aspect:"all"}),Ae(po,"defaultCopyExternalImageOptions",{image:void 0,sourceX:0,sourceY:0,width:void 0,height:void 0,depth:1,mipLevel:0,x:0,y:0,z:0,aspect:"all",colorSpace:"srgb",premultipliedAlpha:!1,flipY:!1});let Va=po;const P2=class P2 extends $n{get[Symbol.toStringTag](){return"TextureView"}constructor(e,r){super(e,r,P2.defaultProps)}};Ae(P2,"defaultProps",{...$n.defaultProps,format:void 0,dimension:void 0,aspect:"all",baseMipLevel:0,mipLevelCount:void 0,baseArrayLayer:0,arrayLayerCount:void 0});let ry=P2;function Moe(t,e,r){let n="";const i=e.split(/\r?\n/),o=t.slice().sort((s,a)=>s.lineNum-a.lineNum);switch((r==null?void 0:r.showSourceCode)||"no"){case"all":let s=0;for(let a=1;a<=i.length;a++)for(n+=YU(i[a-1],a,r);o.length>s&&o[s].lineNum===a;){const l=o[s++];n+=lw(l,i,l.lineNum,{...r,inlineSource:!1})}for(;o.length>s;){const a=o[s++];n+=lw(a,[],0,{...r,inlineSource:!1})}return n;case"issues":case"no":for(const a of t)n+=lw(a,i,a.lineNum,{inlineSource:(r==null?void 0:r.showSourceCode)!=="no"});return n}}function lw(t,e,r,n){if(n!=null&&n.inlineSource){const o=Loe(e,r),s=t.linePos>0?`${" ".repeat(t.linePos+5)}^^^
`:"";return`
${o}${s}${t.type.toUpperCase()}: ${t.message}

`}const i=t.type==="error"?"red":"#8B4000";return n!=null&&n.html?`<div class='luma-compiler-log-error' style="color:${i};"><b> ${t.type.toUpperCase()}: ${t.message}</b></div>`:`${t.type.toUpperCase()}: ${t.message}`}function Loe(t,e,r){let n="";for(let i=e-2;i<=e;i++){const o=t[i-1];o!==void 0&&(n+=YU(o,e,r))}return n}function YU(t,e,r){const n=r!=null&&r.html?Boe(t):t;return`${Doe(String(e),4)}: ${n}${r!=null&&r.html?"<br/>":`
`}`}function Doe(t,e){let r="";for(let n=t.length;n<e;++n)r+=" ";return r+t}function Boe(t){return t.replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;").replaceAll('"',"&quot;").replaceAll("'","&#039;")}const C2=class C2 extends $n{constructor(r,n){n={...n,debugShaders:n.debugShaders||r.props.debugShaders||"errors"};super(r,{id:Foe(n),...n},C2.defaultProps);Ae(this,"stage");Ae(this,"source");Ae(this,"compilationStatus","pending");this.stage=this.props.stage,this.source=this.props.source}get[Symbol.toStringTag](){return"Shader"}getCompilationInfoSync(){return null}getTranslatedSource(){return null}async debugShader(){const r=this.props.debugShaders;switch(r){case"never":return;case"errors":if(this.compilationStatus==="success")return;break}const n=await this.getCompilationInfo();r==="warnings"&&(n==null?void 0:n.length)===0||this._displayShaderLog(n,this.id)}_displayShaderLog(r,n){var u;if(typeof document>"u"||!(document!=null&&document.createElement))return;const i=n,o=`${this.stage} shader "${i}"`;let s=Moe(r,this.source,{showSourceCode:"all",html:!0});const a=this.getTranslatedSource();a&&(s+=`<br /><br /><h1>Translated Source</h1><br /><br /><code style="user-select:text;"><pre>${a}</pre></code>`);const l=document.createElement("Button");l.innerHTML=`
<h1>Compilation error in ${o}</h1><br /><br />
<code style="user-select:text;"><pre>
${s}
</pre></code>`,l.style.top="10px",l.style.left="10px",l.style.position="absolute",l.style.zIndex="9999",l.style.width="100%",l.style.textAlign="left",document.body.appendChild(l),(u=document.getElementsByClassName("luma-compiler-log-error")[0])==null||u.scrollIntoView(),l.onclick=()=>{const g=`data:text/plain,${encodeURIComponent(this.source)}`;navigator.clipboard.writeText(g)}}};Ae(C2,"defaultProps",{...$n.defaultProps,language:"auto",stage:void 0,source:"",sourceMap:null,entryPoint:"main",debugShaders:void 0});let ny=C2;function Foe(t){return joe(t.source)||t.id||tb(`unnamed ${t.stage}-shader`)}function joe(t,e="unnamed"){const n=/#define[\s*]SHADER_NAME[\s*]([A-Za-z0-9_-]+)[\s*]/.exec(t);return n?n[1]:e}const k2=class k2 extends $n{constructor(r,n={}){super(r,n,k2.defaultProps);Ae(this,"width");Ae(this,"height");this.width=this.props.width,this.height=this.props.height}get[Symbol.toStringTag](){return"Framebuffer"}clone(r){const n=this.colorAttachments.map(o=>o.texture.clone(r)),i=this.depthStencilAttachment&&this.depthStencilAttachment.texture.clone(r);return this.device.createFramebuffer({...this.props,colorAttachments:n,depthStencilAttachment:i})}resize(r){let n=!r;if(r){const[i,o]=Array.isArray(r)?r:[r.width,r.height];n=n||o!==this.height||i!==this.width,this.width=i,this.height=o}n&&(St.log(2,`Resizing framebuffer ${this.id} to ${this.width}x${this.height}`)(),this.resizeAttachments(this.width,this.height))}autoCreateAttachmentTextures(){if(this.props.colorAttachments.length===0&&!this.props.depthStencilAttachment)throw new Error("Framebuffer has noattachments");this.colorAttachments=this.props.colorAttachments.map((n,i)=>{if(typeof n=="string"){const o=this.createColorTexture(n,i);return this.attachResource(o),o.view}return n instanceof Va?n.view:n});const r=this.props.depthStencilAttachment;if(r)if(typeof r=="string"){const n=this.createDepthStencilTexture(r);this.attachResource(n),this.depthStencilAttachment=n.view}else r instanceof Va?this.depthStencilAttachment=r.view:this.depthStencilAttachment=r}createColorTexture(r,n){return this.device.createTexture({id:`${this.id}-color-attachment-${n}`,usage:Va.RENDER_ATTACHMENT,format:r,width:this.width,height:this.height,sampler:{magFilter:"linear",minFilter:"linear"}})}createDepthStencilTexture(r){return this.device.createTexture({id:`${this.id}-depth-stencil-attachment`,usage:Va.RENDER_ATTACHMENT,format:r,width:this.width,height:this.height})}resizeAttachments(r,n){for(let i=0;i<this.colorAttachments.length;++i)if(this.colorAttachments[i]){const o=this.colorAttachments[i].texture.clone({width:r,height:n});this.destroyAttachedResource(this.colorAttachments[i]),this.colorAttachments[i]=o.view,this.attachResource(o.view)}if(this.depthStencilAttachment){const i=this.depthStencilAttachment.texture.clone({width:r,height:n});this.destroyAttachedResource(this.depthStencilAttachment),this.depthStencilAttachment=i.view,this.attachResource(i)}this.updateAttachments()}};Ae(k2,"defaultProps",{...$n.defaultProps,width:1,height:1,colorAttachments:[],depthStencilAttachment:null});let iy=k2;const O2=class O2 extends $n{constructor(r,n){super(r,n,O2.defaultProps);Ae(this,"shaderLayout");Ae(this,"bufferLayout");Ae(this,"linkStatus","pending");Ae(this,"hash","");this.shaderLayout=this.props.shaderLayout,this.bufferLayout=this.props.bufferLayout||[]}get[Symbol.toStringTag](){return"RenderPipeline"}};Ae(O2,"defaultProps",{...$n.defaultProps,vs:null,vertexEntryPoint:"vertexMain",vsConstants:{},fs:null,fragmentEntryPoint:"fragmentMain",fsConstants:{},shaderLayout:null,bufferLayout:[],topology:"triangle-list",colorAttachmentFormats:void 0,depthStencilAttachmentFormat:void 0,parameters:{},bindings:{},uniforms:{}});let ld=O2;const dc=class dc extends $n{get[Symbol.toStringTag](){return"RenderPass"}constructor(e,r){r=dc.normalizeProps(e,r),super(e,r,dc.defaultProps)}static normalizeProps(e,r){return r}};Ae(dc,"defaultClearColor",[0,0,0,1]),Ae(dc,"defaultClearDepth",1),Ae(dc,"defaultClearStencil",0),Ae(dc,"defaultProps",{...$n.defaultProps,framebuffer:null,parameters:void 0,clearColor:dc.defaultClearColor,clearColors:void 0,clearDepth:dc.defaultClearDepth,clearStencil:dc.defaultClearStencil,depthReadOnly:!1,stencilReadOnly:!1,discard:!1,occlusionQuerySet:void 0,timestampQuerySet:void 0,beginTimestampIndex:void 0,endTimestampIndex:void 0});let N4=dc;const R2=class R2 extends $n{constructor(r,n){super(r,n,R2.defaultProps);Ae(this,"hash","");Ae(this,"shaderLayout");this.shaderLayout=n.shaderLayout}get[Symbol.toStringTag](){return"ComputePipeline"}};Ae(R2,"defaultProps",{...$n.defaultProps,shader:void 0,entryPoint:void 0,constants:{},shaderLayout:void 0});let oy=R2;const I2=class I2 extends $n{get[Symbol.toStringTag](){return"CommandEncoder"}constructor(e,r){super(e,r,I2.defaultProps)}};Ae(I2,"defaultProps",{...$n.defaultProps,measureExecutionTime:void 0});let M4=I2;const N2=class N2 extends $n{get[Symbol.toStringTag](){return"CommandBuffer"}constructor(e,r){super(e,r,N2.defaultProps)}};Ae(N2,"defaultProps",{...$n.defaultProps});let L4=N2;function KU(t){return Woe[t]}function Uoe(t){const[e,r]=zoe[t],n=e==="i32"||e==="u32",i=e!=="u32",o=$oe[e]*r;return{primitiveType:e,components:r,byteLength:o,integer:n,signed:i}}const $oe={f32:4,f16:2,i32:4,u32:4},zoe={f32:["f32",1],"vec2<f32>":["f32",2],"vec3<f32>":["f32",3],"vec4<f32>":["f32",4],f16:["f16",1],"vec2<f16>":["f16",2],"vec3<f16>":["f16",3],"vec4<f16>":["f16",4],i32:["i32",1],"vec2<i32>":["i32",2],"vec3<i32>":["i32",3],"vec4<i32>":["i32",4],u32:["u32",1],"vec2<u32>":["u32",2],"vec3<u32>":["u32",3],"vec4<u32>":["u32",4]},Woe={f32:{type:"f32",components:1},f16:{type:"f16",components:1},i32:{type:"i32",components:1},u32:{type:"u32",components:1},"vec2<f32>":{type:"f32",components:2},"vec3<f32>":{type:"f32",components:3},"vec4<f32>":{type:"f32",components:4},"vec2<f16>":{type:"f16",components:2},"vec3<f16>":{type:"f16",components:3},"vec4<f16>":{type:"f16",components:4},"vec2<i32>":{type:"i32",components:2},"vec3<i32>":{type:"i32",components:3},"vec4<i32>":{type:"i32",components:4},"vec2<u32>":{type:"u32",components:2},"vec3<u32>":{type:"u32",components:3},"vec4<u32>":{type:"u32",components:4},"mat2x2<f32>":{type:"f32",components:4},"mat2x3<f32>":{type:"f32",components:6},"mat2x4<f32>":{type:"f32",components:8},"mat3x2<f32>":{type:"f32",components:6},"mat3x3<f32>":{type:"f32",components:9},"mat3x4<f32>":{type:"f32",components:12},"mat4x2<f32>":{type:"f32",components:8},"mat4x3<f32>":{type:"f32",components:12},"mat4x4<f32>":{type:"f32",components:16},"mat2x2<f16>":{type:"f16",components:4},"mat2x3<f16>":{type:"f16",components:6},"mat2x4<f16>":{type:"f16",components:8},"mat3x2<f16>":{type:"f16",components:6},"mat3x3<f16>":{type:"f16",components:9},"mat3x4<f16>":{type:"f16",components:12},"mat4x2<f16>":{type:"f16",components:8},"mat4x3<f16>":{type:"f16",components:12},"mat4x4<f16>":{type:"f16",components:16},"mat2x2<i32>":{type:"i32",components:4},"mat2x3<i32>":{type:"i32",components:6},"mat2x4<i32>":{type:"i32",components:8},"mat3x2<i32>":{type:"i32",components:6},"mat3x3<i32>":{type:"i32",components:9},"mat3x4<i32>":{type:"i32",components:12},"mat4x2<i32>":{type:"i32",components:8},"mat4x3<i32>":{type:"i32",components:12},"mat4x4<i32>":{type:"i32",components:16},"mat2x2<u32>":{type:"u32",components:4},"mat2x3<u32>":{type:"u32",components:6},"mat2x4<u32>":{type:"u32",components:8},"mat3x2<u32>":{type:"u32",components:6},"mat3x3<u32>":{type:"u32",components:9},"mat3x4<u32>":{type:"u32",components:12},"mat4x2<u32>":{type:"u32",components:8},"mat4x3<u32>":{type:"u32",components:12},"mat4x4<u32>":{type:"u32",components:16}};function GU(t,e){const r={};for(const n of t.attributes){const i=Hoe(t,e,n.name);i&&(r[n.name]=i)}return r}function Voe(t,e,r=16){const n=GU(t,e),i=new Array(r).fill(null);for(const o of Object.values(n))i[o.location]=o;return i}function Hoe(t,e,r){const n=qoe(t,r),i=Xoe(e,r);if(!n)return null;const o=Uoe(n.type),s=loe(o),a=(i==null?void 0:i.vertexFormat)||s,l=UP(a);return{attributeName:(i==null?void 0:i.attributeName)||n.name,bufferName:(i==null?void 0:i.bufferName)||n.name,location:n.location,shaderType:n.type,primitiveType:o.primitiveType,shaderComponents:o.components,vertexFormat:a,bufferDataType:l.type,bufferComponents:l.components,normalized:l.normalized,integer:o.integer,stepMode:(i==null?void 0:i.stepMode)||n.stepMode||"vertex",byteOffset:(i==null?void 0:i.byteOffset)||0,byteStride:(i==null?void 0:i.byteStride)||0}}function qoe(t,e){const r=t.attributes.find(n=>n.name===e);return r||St.warn(`shader layout attribute "${e}" not present in shader`),r||null}function Xoe(t,e){Yoe(t);let r=Koe(t,e);return r||(r=Goe(t,e),r)?r:(St.warn(`layout for attribute "${e}" not present in buffer layout`),null)}function Yoe(t){for(const e of t)(e.attributes&&e.format||!e.attributes&&!e.format)&&St.warn(`BufferLayout ${name} must have either 'attributes' or 'format' field`)}function Koe(t,e){for(const r of t)if(r.format&&r.name===e)return{attributeName:r.name,bufferName:e,stepMode:r.stepMode,vertexFormat:r.format,byteOffset:0,byteStride:r.byteStride||0};return null}function Goe(t,e){var r;for(const n of t){let i=n.byteStride;if(typeof n.byteStride!="number")for(const s of n.attributes||[]){const a=UP(s.format);i+=a.byteLength}const o=(r=n.attributes)==null?void 0:r.find(s=>s.attribute===e);if(o)return{attributeName:o.attribute,bufferName:n.name,stepMode:n.stepMode,vertexFormat:o.format,byteOffset:o.byteOffset,byteStride:i}}return null}const M2=class M2 extends $n{constructor(r,n){super(r,n,M2.defaultProps);Ae(this,"maxVertexAttributes");Ae(this,"attributeInfos");Ae(this,"indexBuffer",null);Ae(this,"attributes");this.maxVertexAttributes=r.limits.maxVertexAttributes,this.attributes=new Array(this.maxVertexAttributes).fill(null),this.attributeInfos=Voe(n.shaderLayout,n.bufferLayout,this.maxVertexAttributes)}get[Symbol.toStringTag](){return"VertexArray"}setConstantWebGL(r,n){this.device.reportError(new Error("constant attributes not supported"),this)()}};Ae(M2,"defaultProps",{...$n.defaultProps,shaderLayout:void 0,bufferLayout:[]});let D4=M2;const L2=class L2 extends $n{get[Symbol.toStringTag](){return"TransformFeedback"}constructor(e,r){super(e,r,L2.defaultProps)}};Ae(L2,"defaultProps",{...$n.defaultProps,layout:void 0,buffers:{}});let B4=L2;const D2=class D2 extends $n{get[Symbol.toStringTag](){return"QuerySet"}constructor(e,r){super(e,r,D2.defaultProps)}};Ae(D2,"defaultProps",{...$n.defaultProps,type:void 0,count:void 0});let F4=D2,Lv;function QU(t){return(!Lv||Lv.byteLength<t)&&(Lv=new ArrayBuffer(t)),Lv}function Qoe(t,e){const r=QU(t.BYTES_PER_ELEMENT*e);return new t(r,0,e)}function Zoe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function sy(t){return Array.isArray(t)?t.length===0||typeof t[0]=="number":Zoe(t)}const Joe=1024;class ese{constructor(e,r={}){Ae(this,"layout",{});Ae(this,"byteLength");let n=0;for(const[o,s]of Object.entries(e)){const a=KU(s),{type:l,components:c}=a,u=c*((r==null?void 0:r[o])??1);n=ooe(n,u);const g=n;n+=u,this.layout[o]={type:l,size:u,offset:g}}n+=(4-n%4)%4;const i=n*4;this.byteLength=Math.max(i,Joe)}getData(e){const r=QU(this.byteLength),n={i32:new Int32Array(r),u32:new Uint32Array(r),f32:new Float32Array(r),f16:new Uint16Array(r)};for(const[i,o]of Object.entries(e)){const s=this.layout[i];if(!s){St.warn(`Supplied uniform value ${i} not present in uniform block layout`)();continue}const{type:a,size:l,offset:c}=s,u=n[a];if(l===1){if(typeof o!="number"&&typeof o!="boolean"){St.warn(`Supplied value for single component uniform ${i} is not a number: ${o}`)();continue}u[c]=Number(o)}else{if(!sy(o)){St.warn(`Supplied value for multi component / array uniform ${i} is not a numeric array: ${o}`)();continue}u.set(o,c)}}return new Uint8Array(r,0,this.byteLength)}has(e){return!!this.layout[e]}get(e){return this.layout[e]}}function tse(t,e,r=16){if(t!==e)return!1;const n=t,i=e;if(!sy(n))return!1;if(sy(i)&&n.length===i.length){for(let o=0;o<n.length;++o)if(i[o]!==n[o])return!1}return!0}function rse(t){return sy(t)?t.slice():t}class nse{constructor(e){Ae(this,"name");Ae(this,"uniforms",{});Ae(this,"modifiedUniforms",{});Ae(this,"modified",!0);Ae(this,"bindingLayout",{});Ae(this,"needsRedraw","initialized");var r;if(this.name=(e==null?void 0:e.name)||"unnamed",e!=null&&e.name&&(e!=null&&e.shaderLayout)){const n=(r=e==null?void 0:e.shaderLayout.bindings)==null?void 0:r.find(o=>o.type==="uniform"&&o.name===(e==null?void 0:e.name));if(!n)throw new Error(e==null?void 0:e.name);const i=n;for(const o of i.uniforms||[])this.bindingLayout[o.name]=o}}setUniforms(e){for(const[r,n]of Object.entries(e))this._setUniform(r,n),this.needsRedraw||this.setNeedsRedraw(`${this.name}.${r}=${n}`)}setNeedsRedraw(e){this.needsRedraw=this.needsRedraw||e}getAllUniforms(){return this.modifiedUniforms={},this.needsRedraw=!1,this.uniforms||{}}_setUniform(e,r){tse(this.uniforms[e],r)||(this.uniforms[e]=rse(r),this.modifiedUniforms[e]=!0,this.modified=!0)}}class ise{constructor(e){Ae(this,"uniformBlocks",new Map);Ae(this,"uniformBufferLayouts",new Map);Ae(this,"uniformBuffers",new Map);for(const[r,n]of Object.entries(e)){const i=r,o=new ese(n.uniformTypes??{},n.uniformSizes??{});this.uniformBufferLayouts.set(i,o);const s=new nse({name:r});s.setUniforms(n.defaultUniforms||{}),this.uniformBlocks.set(i,s)}}destroy(){for(const e of this.uniformBuffers.values())e.destroy()}setUniforms(e){var r;for(const[n,i]of Object.entries(e))(r=this.uniformBlocks.get(n))==null||r.setUniforms(i);this.updateUniformBuffers()}getUniformBufferByteLength(e){var r;return((r=this.uniformBufferLayouts.get(e))==null?void 0:r.byteLength)||0}getUniformBufferData(e){var n,i;const r=((n=this.uniformBlocks.get(e))==null?void 0:n.getAllUniforms())||{};return(i=this.uniformBufferLayouts.get(e))==null?void 0:i.getData(r)}createUniformBuffer(e,r,n){n&&this.setUniforms(n);const i=this.getUniformBufferByteLength(r),o=e.createBuffer({usage:ci.UNIFORM|ci.COPY_DST,byteLength:i}),s=this.getUniformBufferData(r);return o.write(s),o}getManagedUniformBuffer(e,r){if(!this.uniformBuffers.get(r)){const n=this.getUniformBufferByteLength(r),i=e.createBuffer({usage:ci.UNIFORM|ci.COPY_DST,byteLength:n});this.uniformBuffers.set(r,i)}return this.uniformBuffers.get(r)}updateUniformBuffers(){let e=!1;for(const r of this.uniformBlocks.keys()){const n=this.updateUniformBuffer(r);e||(e=n)}return e&&St.log(3,`UniformStore.updateUniformBuffers(): ${e}`)(),e}updateUniformBuffer(e){var o;const r=this.uniformBlocks.get(e);let n=this.uniformBuffers.get(e),i=!1;if(n&&(r!=null&&r.needsRedraw)){i||(i=r.needsRedraw);const s=this.getUniformBufferData(e);n=this.uniformBuffers.get(e),n==null||n.write(s);const a=(o=this.uniformBlocks.get(e))==null?void 0:o.getAllUniforms();St.log(4,`Writing to uniform buffer ${String(e)}`,s,a)()}return i}}class El{constructor(e,r){this.name=e,this.attributes=r,this.size=0}get isArray(){return!1}get isStruct(){return!1}get isTemplate(){return!1}get isPointer(){return!1}getTypeName(){return this.name}}class tR{constructor(e,r,n){this.name=e,this.type=r,this.attributes=n,this.offset=0,this.size=0}get isArray(){return this.type.isArray}get isStruct(){return this.type.isStruct}get isTemplate(){return this.type.isTemplate}get align(){return this.type.isStruct?this.type.align:0}get members(){return this.type.isStruct?this.type.members:null}get format(){return this.type.isArray||this.type.isTemplate?this.type.format:null}get count(){return this.type.isArray?this.type.count:0}get stride(){return this.type.isArray?this.type.stride:this.size}}class Jf extends El{constructor(e,r){super(e,r),this.members=[],this.align=0,this.startLine=-1,this.endLine=-1,this.inUse=!1}get isStruct(){return!0}}let sh=class extends El{constructor(e,r){super(e,r),this.count=0,this.stride=0}get isArray(){return!0}getTypeName(){return`array<${this.format.getTypeName()}, ${this.count}>`}};class j4 extends El{constructor(e,r,n){super(e,n),this.format=r}get isPointer(){return!0}getTypeName(){return`&${this.format.getTypeName()}`}}let xd=class extends El{constructor(e,r,n,i){super(e,n),this.format=r,this.access=i}get isTemplate(){return!0}getTypeName(){let e=this.name;if(this.format!==null){if(e==="vec2"||e==="vec3"||e==="vec4"||e==="mat2x2"||e==="mat2x3"||e==="mat2x4"||e==="mat3x2"||e==="mat3x3"||e==="mat3x4"||e==="mat4x2"||e==="mat4x3"||e==="mat4x4"){if(this.format.name==="f32")return e+="f",e;if(this.format.name==="i32")return e+="i",e;if(this.format.name==="u32")return e+="u",e;if(this.format.name==="bool")return e+="b",e;if(this.format.name==="f16")return e+="h",e}e+=`<${this.format.name}>`}else if(e==="vec2"||e==="vec3"||e==="vec4")return e;return e}};var Kf;(t=>{t[t.Uniform=0]="Uniform",t[t.Storage=1]="Storage",t[t.Texture=2]="Texture",t[t.Sampler=3]="Sampler",t[t.StorageTexture=4]="StorageTexture"})(Kf||(Kf={}));let Dv=class{constructor(e,r,n,i,o,s,a){this.name=e,this.type=r,this.group=n,this.binding=i,this.attributes=o,this.resourceType=s,this.access=a}get isArray(){return this.type.isArray}get isStruct(){return this.type.isStruct}get isTemplate(){return this.type.isTemplate}get size(){return this.type.size}get align(){return this.type.isStruct?this.type.align:0}get members(){return this.type.isStruct?this.type.members:null}get format(){return this.type.isArray||this.type.isTemplate?this.type.format:null}get count(){return this.type.isArray?this.type.count:0}get stride(){return this.type.isArray?this.type.stride:this.size}},ose=class{constructor(e,r){this.name=e,this.type=r}},sse=class{constructor(e,r,n,i){this.name=e,this.type=r,this.locationType=n,this.location=i,this.interpolation=null}},rR=class{constructor(e,r,n,i){this.name=e,this.type=r,this.locationType=n,this.location=i}},ase=class{constructor(e,r,n,i){this.name=e,this.type=r,this.attributes=n,this.id=i}},lse=class{constructor(e,r,n){this.name=e,this.type=r,this.attributes=n}},cse=class{constructor(e,r=null,n){this.stage=null,this.inputs=[],this.outputs=[],this.arguments=[],this.returnType=null,this.resources=[],this.overrides=[],this.startLine=-1,this.endLine=-1,this.inUse=!1,this.calls=new Set,this.name=e,this.stage=r,this.attributes=n}},use=class{constructor(){this.vertex=[],this.fragment=[],this.compute=[]}};function fse(t){var e=(32768&t)>>15,r=(31744&t)>>10,n=1023&t;return r==0?(e?-1:1)*Math.pow(2,-14)*(n/Math.pow(2,10)):r==31?n?NaN:1/0*(e?-1:1):(e?-1:1)*Math.pow(2,r-15)*(1+n/Math.pow(2,10))}const ZU=new Float32Array(1),hse=new Int32Array(ZU.buffer),_s=new Uint16Array(1);function dse(t){ZU[0]=t;const e=hse[0],r=e>>31&1;let n=e>>23&255,i=8388607&e;if(n===255)return _s[0]=r<<15|31744|(i!==0?512:0),_s[0];if(n===0){if(i===0)return _s[0]=r<<15,_s[0];i|=8388608;let o=113;for(;!(8388608&i);)i<<=1,o--;return n=127-o,i&=8388607,n>0?(i=(i>>126-n)+(i>>127-n&1),_s[0]=r<<15|n<<10|i>>13,_s[0]):(_s[0]=r<<15,_s[0])}return n=n-127+15,n>=31?(_s[0]=r<<15|31744,_s[0]):n<=0?n<-10?(_s[0]=r<<15,_s[0]):(i=(8388608|i)>>1-n,_s[0]=r<<15|i>>13,_s[0]):(i>>=13,_s[0]=r<<15|n<<10|i,_s[0])}const $P=new Uint32Array(1),JU=new Float32Array($P.buffer,0,1);function nR(t){const e=112+(t>>6&31)<<23|(63&t)<<17;return $P[0]=e,JU[0]}function Ase(t,e,r,n,i,o,s,a,l){const c=n*(s>>=i)*(o>>=i)+r*s+e*a;switch(l){case"r8unorm":return[En(t,c,"8unorm",1)[0]];case"r8snorm":return[En(t,c,"8snorm",1)[0]];case"r8uint":return[En(t,c,"8uint",1)[0]];case"r8sint":return[En(t,c,"8sint",1)[0]];case"rg8unorm":{const u=En(t,c,"8unorm",2);return[u[0],u[1]]}case"rg8snorm":{const u=En(t,c,"8snorm",2);return[u[0],u[1]]}case"rg8uint":{const u=En(t,c,"8uint",2);return[u[0],u[1]]}case"rg8sint":{const u=En(t,c,"8sint",2);return[u[0],u[1]]}case"rgba8unorm-srgb":case"rgba8unorm":{const u=En(t,c,"8unorm",4);return[u[0],u[1],u[2],u[3]]}case"rgba8snorm":{const u=En(t,c,"8snorm",4);return[u[0],u[1],u[2],u[3]]}case"rgba8uint":{const u=En(t,c,"8uint",4);return[u[0],u[1],u[2],u[3]]}case"rgba8sint":{const u=En(t,c,"8sint",4);return[u[0],u[1],u[2],u[3]]}case"bgra8unorm-srgb":case"bgra8unorm":{const u=En(t,c,"8unorm",4);return[u[2],u[1],u[0],u[3]]}case"r16uint":return[En(t,c,"16uint",1)[0]];case"r16sint":return[En(t,c,"16sint",1)[0]];case"r16float":return[En(t,c,"16float",1)[0]];case"rg16uint":{const u=En(t,c,"16uint",2);return[u[0],u[1]]}case"rg16sint":{const u=En(t,c,"16sint",2);return[u[0],u[1]]}case"rg16float":{const u=En(t,c,"16float",2);return[u[0],u[1]]}case"rgba16uint":{const u=En(t,c,"16uint",4);return[u[0],u[1],u[2],u[3]]}case"rgba16sint":{const u=En(t,c,"16sint",4);return[u[0],u[1],u[2],u[3]]}case"rgba16float":{const u=En(t,c,"16float",4);return[u[0],u[1],u[2],u[3]]}case"r32uint":return[En(t,c,"32uint",1)[0]];case"r32sint":return[En(t,c,"32sint",1)[0]];case"depth16unorm":case"depth24plus":case"depth24plus-stencil8":case"depth32float":case"depth32float-stencil8":case"r32float":return[En(t,c,"32float",1)[0]];case"rg32uint":{const u=En(t,c,"32uint",2);return[u[0],u[1]]}case"rg32sint":{const u=En(t,c,"32sint",2);return[u[0],u[1]]}case"rg32float":{const u=En(t,c,"32float",2);return[u[0],u[1]]}case"rgba32uint":{const u=En(t,c,"32uint",4);return[u[0],u[1],u[2],u[3]]}case"rgba32sint":{const u=En(t,c,"32sint",4);return[u[0],u[1],u[2],u[3]]}case"rgba32float":{const u=En(t,c,"32float",4);return[u[0],u[1],u[2],u[3]]}case"rg11b10ufloat":{const u=new Uint32Array(t.buffer,c,1)[0],g=(4192256&u)>>11,_=(4290772992&u)>>22;return[nR(2047&u),nR(g),(function(b){const P=112+(b>>5&31)<<23|(31&b)<<18;return $P[0]=P,JU[0]})(_),1]}}return null}function En(t,e,r,n){const i=[0,0,0,0];for(let o=0;o<n;++o)switch(r){case"8unorm":i[o]=t[e]/255,e++;break;case"8snorm":i[o]=t[e]/255*2-1,e++;break;case"8uint":i[o]=t[e],e++;break;case"8sint":i[o]=t[e]-127,e++;break;case"16uint":i[o]=t[e]|t[e+1]<<8,e+=2;break;case"16sint":i[o]=(t[e]|t[e+1]<<8)-32768,e+=2;break;case"16float":i[o]=fse(t[e]|t[e+1]<<8),e+=2;break;case"32uint":case"32sint":i[o]=t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24,e+=4;break;case"32float":i[o]=new Float32Array(t.buffer,e,1)[0],e+=4}return i}function Cn(t,e,r,n,i){for(let o=0;o<n;++o)switch(r){case"8unorm":t[e]=255*i[o],e++;break;case"8snorm":t[e]=.5*(i[o]+1)*255,e++;break;case"8uint":t[e]=i[o],e++;break;case"8sint":t[e]=i[o]+127,e++;break;case"16uint":new Uint16Array(t.buffer,e,1)[0]=i[o],e+=2;break;case"16sint":new Int16Array(t.buffer,e,1)[0]=i[o],e+=2;break;case"16float":{const s=dse(i[o]);new Uint16Array(t.buffer,e,1)[0]=s,e+=2;break}case"32uint":new Uint32Array(t.buffer,e,1)[0]=i[o],e+=4;break;case"32sint":new Int32Array(t.buffer,e,1)[0]=i[o],e+=4;break;case"32float":new Float32Array(t.buffer,e,1)[0]=i[o],e+=4}return i}const cw={r8unorm:{bytesPerBlock:1,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r8snorm:{bytesPerBlock:1,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r8uint:{bytesPerBlock:1,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r8sint:{bytesPerBlock:1,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},rg8unorm:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg8snorm:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg8uint:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg8sint:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rgba8unorm:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},"rgba8unorm-srgb":{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba8snorm:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba8uint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba8sint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},bgra8unorm:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},"bgra8unorm-srgb":{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},r16uint:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r16sint:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r16float:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},rg16uint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg16sint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg16float:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rgba16uint:{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba16sint:{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba16float:{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},r32uint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r32sint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},r32float:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:1},rg32uint:{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg32sint:{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rg32float:{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,channels:2},rgba32uint:{bytesPerBlock:16,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba32sint:{bytesPerBlock:16,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgba32float:{bytesPerBlock:16,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgb10a2uint:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rgb10a2unorm:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},rg11b10ufloat:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},stencil8:{bytesPerBlock:1,blockWidth:1,blockHeight:1,isCompressed:!1,isDepthStencil:!0,hasDepth:!1,hasStencil:!0,channels:1},depth16unorm:{bytesPerBlock:2,blockWidth:1,blockHeight:1,isCompressed:!1,isDepthStencil:!0,hasDepth:!0,hasStencil:!1,channels:1},depth24plus:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,isDepthStencil:!0,hasDepth:!0,hasStencil:!1,depthOnlyFormat:"depth32float",channels:1},"depth24plus-stencil8":{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,isDepthStencil:!0,hasDepth:!0,hasStencil:!0,depthOnlyFormat:"depth32float",channels:1},depth32float:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,isDepthStencil:!0,hasDepth:!0,hasStencil:!1,channels:1},"depth32float-stencil8":{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!1,isDepthStencil:!0,hasDepth:!0,hasStencil:!0,stencilOnlyFormat:"depth32float",channels:1},rgb9e5ufloat:{bytesPerBlock:4,blockWidth:1,blockHeight:1,isCompressed:!1,channels:4},"bc1-rgba-unorm":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc1-rgba-unorm-srgb":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc2-rgba-unorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc2-rgba-unorm-srgb":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc3-rgba-unorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc3-rgba-unorm-srgb":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc4-r-unorm":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:1},"bc4-r-snorm":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:1},"bc5-rg-unorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:2},"bc5-rg-snorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:2},"bc6h-rgb-ufloat":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc6h-rgb-float":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc7-rgba-unorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"bc7-rgba-unorm-srgb":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"etc2-rgb8unorm":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"etc2-rgb8unorm-srgb":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"etc2-rgb8a1unorm":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"etc2-rgb8a1unorm-srgb":{bytesPerBlock:8,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"etc2-rgba8unorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"etc2-rgba8unorm-srgb":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"eac-r11unorm":{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!0,channels:1},"eac-r11snorm":{bytesPerBlock:8,blockWidth:1,blockHeight:1,isCompressed:!0,channels:1},"eac-rg11unorm":{bytesPerBlock:16,blockWidth:1,blockHeight:1,isCompressed:!0,channels:2},"eac-rg11snorm":{bytesPerBlock:16,blockWidth:1,blockHeight:1,isCompressed:!0,channels:2},"astc-4x4-unorm":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"astc-4x4-unorm-srgb":{bytesPerBlock:16,blockWidth:4,blockHeight:4,isCompressed:!0,channels:4},"astc-5x4-unorm":{bytesPerBlock:16,blockWidth:5,blockHeight:4,isCompressed:!0,channels:4},"astc-5x4-unorm-srgb":{bytesPerBlock:16,blockWidth:5,blockHeight:4,isCompressed:!0,channels:4},"astc-5x5-unorm":{bytesPerBlock:16,blockWidth:5,blockHeight:5,isCompressed:!0,channels:4},"astc-5x5-unorm-srgb":{bytesPerBlock:16,blockWidth:5,blockHeight:5,isCompressed:!0,channels:4},"astc-6x5-unorm":{bytesPerBlock:16,blockWidth:6,blockHeight:5,isCompressed:!0,channels:4},"astc-6x5-unorm-srgb":{bytesPerBlock:16,blockWidth:6,blockHeight:5,isCompressed:!0,channels:4},"astc-6x6-unorm":{bytesPerBlock:16,blockWidth:6,blockHeight:6,isCompressed:!0,channels:4},"astc-6x6-unorm-srgb":{bytesPerBlock:16,blockWidth:6,blockHeight:6,isCompressed:!0,channels:4},"astc-8x5-unorm":{bytesPerBlock:16,blockWidth:8,blockHeight:5,isCompressed:!0,channels:4},"astc-8x5-unorm-srgb":{bytesPerBlock:16,blockWidth:8,blockHeight:5,isCompressed:!0,channels:4},"astc-8x6-unorm":{bytesPerBlock:16,blockWidth:8,blockHeight:6,isCompressed:!0,channels:4},"astc-8x6-unorm-srgb":{bytesPerBlock:16,blockWidth:8,blockHeight:6,isCompressed:!0,channels:4},"astc-8x8-unorm":{bytesPerBlock:16,blockWidth:8,blockHeight:8,isCompressed:!0,channels:4},"astc-8x8-unorm-srgb":{bytesPerBlock:16,blockWidth:8,blockHeight:8,isCompressed:!0,channels:4},"astc-10x5-unorm":{bytesPerBlock:16,blockWidth:10,blockHeight:5,isCompressed:!0,channels:4},"astc-10x5-unorm-srgb":{bytesPerBlock:16,blockWidth:10,blockHeight:5,isCompressed:!0,channels:4},"astc-10x6-unorm":{bytesPerBlock:16,blockWidth:10,blockHeight:6,isCompressed:!0,channels:4},"astc-10x6-unorm-srgb":{bytesPerBlock:16,blockWidth:10,blockHeight:6,isCompressed:!0,channels:4},"astc-10x8-unorm":{bytesPerBlock:16,blockWidth:10,blockHeight:8,isCompressed:!0,channels:4},"astc-10x8-unorm-srgb":{bytesPerBlock:16,blockWidth:10,blockHeight:8,isCompressed:!0,channels:4},"astc-10x10-unorm":{bytesPerBlock:16,blockWidth:10,blockHeight:10,isCompressed:!0,channels:4},"astc-10x10-unorm-srgb":{bytesPerBlock:16,blockWidth:10,blockHeight:10,isCompressed:!0,channels:4},"astc-12x10-unorm":{bytesPerBlock:16,blockWidth:12,blockHeight:10,isCompressed:!0,channels:4},"astc-12x10-unorm-srgb":{bytesPerBlock:16,blockWidth:12,blockHeight:10,isCompressed:!0,channels:4},"astc-12x12-unorm":{bytesPerBlock:16,blockWidth:12,blockHeight:12,isCompressed:!0,channels:4},"astc-12x12-unorm-srgb":{bytesPerBlock:16,blockWidth:12,blockHeight:12,isCompressed:!0,channels:4}};let Su=class e${constructor(){this.id=e$._id++,this.line=0}get isAstNode(){return!0}get astNodeType(){return""}search(e){e(this)}searchBlock(e,r){if(e){r(ay.instance);for(const n of e)n instanceof Array?this.searchBlock(n,r):n.search(r);r(ly.instance)}}constEvaluate(e,r){throw new Error("Cannot evaluate node")}constEvaluateString(e){return this.constEvaluate(e).toString()}};Su._id=0;let ay=class extends Su{};ay.instance=new ay;let ly=class extends Su{};ly.instance=new ly;const t$=new Set(["all","all","any","select","arrayLength","abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","clamp","cos","cosh","countLeadingZeros","countOneBits","countTrailingZeros","cross","degrees","determinant","distance","dot","dot4U8Packed","dot4I8Packed","exp","exp2","extractBits","faceForward","firstLeadingBit","firstTrailingBit","floor","fma","fract","frexp","insertBits","inverseSqrt","ldexp","length","log","log2","max","min","mix","modf","normalize","pow","quantizeToF16","radians","reflect","refract","reverseBits","round","saturate","sign","sin","sinh","smoothStep","sqrt","step","tan","tanh","transpose","trunc","dpdx","dpdxCoarse","dpdxFine","dpdy","dpdyCoarse","dpdyFine","fwidth","fwidthCoarse","fwidthFine","textureDimensions","textureGather","textureGatherCompare","textureLoad","textureNumLayers","textureNumLevels","textureNumSamples","textureSample","textureSampleBias","textureSampleCompare","textureSampleCompareLevel","textureSampleGrad","textureSampleLevel","textureSampleBaseClampToEdge","textureStore","atomicLoad","atomicStore","atomicAdd","atomicSub","atomicMax","atomicMin","atomicAnd","atomicOr","atomicXor","atomicExchange","atomicCompareExchangeWeak","pack4x8snorm","pack4x8unorm","pack4xI8","pack4xU8","pack4x8Clamp","pack4xU8Clamp","pack2x16snorm","pack2x16unorm","pack2x16float","unpack4x8snorm","unpack4x8unorm","unpack4xI8","unpack4xU8","unpack2x16snorm","unpack2x16unorm","unpack2x16float","storageBarrier","textureBarrier","workgroupBarrier","workgroupUniformLoad","subgroupAdd","subgroupExclusiveAdd","subgroupInclusiveAdd","subgroupAll","subgroupAnd","subgroupAny","subgroupBallot","subgroupBroadcast","subgroupBroadcastFirst","subgroupElect","subgroupMax","subgroupMin","subgroupMul","subgroupExclusiveMul","subgroupInclusiveMul","subgroupOr","subgroupShuffle","subgroupShuffleDown","subgroupShuffleUp","subgroupShuffleXor","subgroupXor","quadBroadcast","quadSwapDiagonal","quadSwapX","quadSwapY"]);let vi=class extends Su{constructor(){super()}},Og=class extends vi{constructor(e,r,n,i,o,s){super(),this.calls=new Set,this.name=e,this.args=r,this.returnType=n,this.body=i,this.startLine=o,this.endLine=s}get astNodeType(){return"function"}search(e){if(this.attributes)for(const r of this.attributes)e(r);e(this);for(const r of this.args)e(r);this.searchBlock(this.body,e)}},pse=class extends vi{constructor(e){super(),this.expression=e}get astNodeType(){return"staticAssert"}search(e){this.expression.search(e)}},r$=class extends vi{constructor(e,r){super(),this.condition=e,this.body=r}get astNodeType(){return"while"}search(e){this.condition.search(e),this.searchBlock(this.body,e)}},U4=class extends vi{constructor(e,r){super(),this.body=e,this.loopId=r}get astNodeType(){return"continuing"}search(e){this.searchBlock(this.body,e)}},n$=class extends vi{constructor(e,r,n,i){super(),this.init=e,this.condition=r,this.increment=n,this.body=i}get astNodeType(){return"for"}search(e){var r,n,i;(r=this.init)===null||r===void 0||r.search(e),(n=this.condition)===null||n===void 0||n.search(e),(i=this.increment)===null||i===void 0||i.search(e),this.searchBlock(this.body,e)}},Yu=class extends vi{constructor(e,r,n,i,o){super(),this.attributes=null,this.name=e,this.type=r,this.storage=n,this.access=i,this.value=o}get astNodeType(){return"var"}search(e){var r;e(this),(r=this.value)===null||r===void 0||r.search(e)}},zP=class extends vi{constructor(e,r,n){super(),this.attributes=null,this.name=e,this.type=r,this.value=n}get astNodeType(){return"override"}search(e){var r;(r=this.value)===null||r===void 0||r.search(e)}},ag=class extends vi{constructor(e,r,n,i,o){super(),this.attributes=null,this.name=e,this.type=r,this.storage=n,this.access=i,this.value=o}get astNodeType(){return"let"}search(e){var r;e(this),(r=this.value)===null||r===void 0||r.search(e)}},S1=class extends vi{constructor(e,r,n,i,o){super(),this.attributes=null,this.name=e,this.type=r,this.storage=n,this.access=i,this.value=o}get astNodeType(){return"const"}constEvaluate(e,r){return this.value.constEvaluate(e,r)}search(e){var r;e(this),(r=this.value)===null||r===void 0||r.search(e)}};var MA,Kp,st,et;(t=>{t.increment="++",t.decrement="--"})(MA||(MA={})),(t=>{t.parse=function(e){const r=e;if(r=="parse")throw new Error("Invalid value for IncrementOperator");return t[r]}})(MA||(MA={}));let i$=class extends vi{constructor(e,r){super(),this.operator=e,this.variable=r}get astNodeType(){return"increment"}search(e){this.variable.search(e)}};(t=>{t.assign="=",t.addAssign="+=",t.subtractAssin="-=",t.multiplyAssign="*=",t.divideAssign="/=",t.moduloAssign="%=",t.andAssign="&=",t.orAssign="|=",t.xorAssign="^=",t.shiftLeftAssign="<<=",t.shiftRightAssign=">>="})(Kp||(Kp={})),(t=>{t.parse=function(e){const r=e;if(r=="parse")throw new Error("Invalid value for AssignOperator");return r}})(Kp||(Kp={}));let o$=class extends vi{constructor(e,r,n){super(),this.operator=e,this.variable=r,this.value=n}get astNodeType(){return"assign"}search(e){this.variable.search(e),this.value.search(e)}},WP=class extends vi{constructor(e,r){super(),this.name=e,this.args=r}get astNodeType(){return"call"}isBuiltin(){return t$.has(this.name)}search(e){for(const r of this.args)r.search(e);e(this)}},s$=class extends vi{constructor(e,r){super(),this.body=e,this.continuing=r}get astNodeType(){return"loop"}search(e){var r;this.searchBlock(this.body,e),(r=this.continuing)===null||r===void 0||r.search(e)}},a$=class extends vi{constructor(e,r){super(),this.condition=e,this.cases=r}get astNodeType(){return"switch"}search(e){e(this);for(const r of this.cases)r.search(e)}},l$=class extends vi{constructor(e,r,n,i){super(),this.condition=e,this.body=r,this.elseif=n,this.else=i}get astNodeType(){return"if"}search(e){this.condition.search(e),this.searchBlock(this.body,e),this.searchBlock(this.elseif,e),this.searchBlock(this.else,e)}},c$=class extends vi{constructor(e){super(),this.value=e}get astNodeType(){return"return"}search(e){var r;(r=this.value)===null||r===void 0||r.search(e)}},gse=class extends vi{constructor(e){super(),this.name=e}get astNodeType(){return"enable"}},mse=class extends vi{constructor(e){super(),this.extensions=e}get astNodeType(){return"requires"}},u$=class extends vi{constructor(e,r){super(),this.severity=e,this.rule=r}get astNodeType(){return"diagnostic"}},VP=class extends vi{constructor(e,r){super(),this.name=e,this.type=r}get astNodeType(){return"alias"}},vse=class extends vi{constructor(){super()}get astNodeType(){return"discard"}},f$=class extends vi{constructor(){super(),this.condition=null,this.loopId=-1}get astNodeType(){return"break"}},h$=class extends vi{constructor(){super(),this.loopId=-1}get astNodeType(){return"continue"}},wt=class E1 extends vi{constructor(e){super(),this.attributes=null,this.name=e}get astNodeType(){return"type"}get isStruct(){return!1}get isArray(){return!1}static maxFormatType(e){let r=e[0];if(r.name==="f32")return r;for(let n=1;n<e.length;++n){const i=E1._priority.get(r.name);E1._priority.get(e[n].name)<i&&(r=e[n])}return r.name==="x32"?E1.i32:r}getTypeName(){return this.name}};wt.x32=new wt("x32"),wt.f32=new wt("f32"),wt.i32=new wt("i32"),wt.u32=new wt("u32"),wt.f16=new wt("f16"),wt.bool=new wt("bool"),wt.void=new wt("void"),wt._priority=new Map([["f32",0],["f16",1],["u32",2],["i32",3],["x32",3]]);let iR=class extends wt{constructor(e){super(e)}},Hu=class extends wt{constructor(e,r,n,i){super(e),this.members=r,this.startLine=n,this.endLine=i}get astNodeType(){return"struct"}get isStruct(){return!0}getMemberIndex(e){for(let r=0;r<this.members.length;r++)if(this.members[r].name==e)return r;return-1}search(e){for(const r of this.members)e(r)}},it=class extends wt{constructor(e,r,n){super(e),this.format=r,this.access=n}get astNodeType(){return"template"}getTypeName(){let e=this.name;if(this.format!==null){if(e==="vec2"||e==="vec3"||e==="vec4"||e==="mat2x2"||e==="mat2x3"||e==="mat2x4"||e==="mat3x2"||e==="mat3x3"||e==="mat3x4"||e==="mat4x2"||e==="mat4x3"||e==="mat4x4"){if(this.format.name==="f32")return e+="f",e;if(this.format.name==="i32")return e+="i",e;if(this.format.name==="u32")return e+="u",e;if(this.format.name==="bool")return e+="b",e;if(this.format.name==="f16")return e+="h",e}e+=`<${this.format.name}>`}else if(e==="vec2"||e==="vec3"||e==="vec4")return e;return e}};it.vec2f=new it("vec2",wt.f32,null),it.vec3f=new it("vec3",wt.f32,null),it.vec4f=new it("vec4",wt.f32,null),it.vec2i=new it("vec2",wt.i32,null),it.vec3i=new it("vec3",wt.i32,null),it.vec4i=new it("vec4",wt.i32,null),it.vec2u=new it("vec2",wt.u32,null),it.vec3u=new it("vec3",wt.u32,null),it.vec4u=new it("vec4",wt.u32,null),it.vec2h=new it("vec2",wt.f16,null),it.vec3h=new it("vec3",wt.f16,null),it.vec4h=new it("vec4",wt.f16,null),it.vec2b=new it("vec2",wt.bool,null),it.vec3b=new it("vec3",wt.bool,null),it.vec4b=new it("vec4",wt.bool,null),it.mat2x2f=new it("mat2x2",wt.f32,null),it.mat2x3f=new it("mat2x3",wt.f32,null),it.mat2x4f=new it("mat2x4",wt.f32,null),it.mat3x2f=new it("mat3x2",wt.f32,null),it.mat3x3f=new it("mat3x3",wt.f32,null),it.mat3x4f=new it("mat3x4",wt.f32,null),it.mat4x2f=new it("mat4x2",wt.f32,null),it.mat4x3f=new it("mat4x3",wt.f32,null),it.mat4x4f=new it("mat4x4",wt.f32,null),it.mat2x2h=new it("mat2x2",wt.f16,null),it.mat2x3h=new it("mat2x3",wt.f16,null),it.mat2x4h=new it("mat2x4",wt.f16,null),it.mat3x2h=new it("mat3x2",wt.f16,null),it.mat3x3h=new it("mat3x3",wt.f16,null),it.mat3x4h=new it("mat3x4",wt.f16,null),it.mat4x2h=new it("mat4x2",wt.f16,null),it.mat4x3h=new it("mat4x3",wt.f16,null),it.mat4x4h=new it("mat4x4",wt.f16,null),it.mat2x2i=new it("mat2x2",wt.i32,null),it.mat2x3i=new it("mat2x3",wt.i32,null),it.mat2x4i=new it("mat2x4",wt.i32,null),it.mat3x2i=new it("mat3x2",wt.i32,null),it.mat3x3i=new it("mat3x3",wt.i32,null),it.mat3x4i=new it("mat3x4",wt.i32,null),it.mat4x2i=new it("mat4x2",wt.i32,null),it.mat4x3i=new it("mat4x3",wt.i32,null),it.mat4x4i=new it("mat4x4",wt.i32,null),it.mat2x2u=new it("mat2x2",wt.u32,null),it.mat2x3u=new it("mat2x3",wt.u32,null),it.mat2x4u=new it("mat2x4",wt.u32,null),it.mat3x2u=new it("mat3x2",wt.u32,null),it.mat3x3u=new it("mat3x3",wt.u32,null),it.mat3x4u=new it("mat3x4",wt.u32,null),it.mat4x2u=new it("mat4x2",wt.u32,null),it.mat4x3u=new it("mat4x3",wt.u32,null),it.mat4x4u=new it("mat4x4",wt.u32,null);let T1=class extends wt{constructor(e,r,n,i){super(e),this.storage=r,this.type=n,this.access=i}get astNodeType(){return"pointer"}},lg=class extends wt{constructor(e,r,n,i){super(e),this.attributes=r,this.format=n,this.count=i}get astNodeType(){return"array"}get isArray(){return!0}},Gp=class extends wt{constructor(e,r,n){super(e),this.format=r,this.access=n}get astNodeType(){return"sampler"}},Pc=class extends Su{constructor(){super(),this.postfix=null}},Sd=class extends Pc{constructor(e){super(),this.value=e}get astNodeType(){return"stringExpr"}toString(){return this.value}constEvaluateString(){return this.value}},iu=class extends Pc{constructor(e,r){super(),this.type=e,this.args=r}get astNodeType(){return"createExpr"}search(e){if(e(this),this.args)for(const r of this.args)r.search(e)}constEvaluate(e,r){return r&&(r[0]=this.type),e.evalExpression(this,e.context)}},HP=class extends Pc{constructor(e,r){super(),this.cachedReturnValue=null,this.name=e,this.args=r}get astNodeType(){return"callExpr"}setCachedReturnValue(e){this.cachedReturnValue=e}get isBuiltin(){return t$.has(this.name)}constEvaluate(e,r){return e.evalExpression(this,e.context)}search(e){for(const r of this.args)r.search(e);e(this)}},za=class extends Pc{constructor(e){super(),this.name=e}get astNodeType(){return"varExpr"}search(e){e(this),this.postfix&&this.postfix.search(e)}constEvaluate(e,r){return e.evalExpression(this,e.context)}},d$=class extends Pc{constructor(e,r){super(),this.name=e,this.initializer=r}get astNodeType(){return"constExpr"}constEvaluate(e,r){if(this.initializer){const n=e.evalExpression(this.initializer,e.context);return n!==null&&this.postfix?n.getSubData(e,this.postfix,e.context):n}return null}search(e){this.initializer.search(e)}},go=class extends Pc{constructor(e,r){super(),this.value=e,this.type=r}get astNodeType(){return"literalExpr"}constEvaluate(e,r){return r!==void 0&&(r[0]=this.type),this.value}get isScalar(){return this.value instanceof Je}get isVector(){return this.value instanceof Me||this.value instanceof Rr}get scalarValue(){return this.value instanceof Je?this.value.value:(console.error("Value is not scalar."),0)}get vectorValue(){return this.value instanceof Me||this.value instanceof Rr?this.value.data:(console.error("Value is not a vector or matrix."),new Float32Array(0))}},A$=class extends Pc{constructor(e,r){super(),this.type=e,this.value=r}get astNodeType(){return"bitcastExpr"}search(e){this.value.search(e)}},c0=class extends Pc{constructor(e){super(),this.index=e}search(e){this.index.search(e)}},p$=class extends Pc{constructor(){super()}},eo=class extends p${constructor(e,r){super(),this.operator=e,this.right=r}get astNodeType(){return"unaryOp"}constEvaluate(e,r){return e.evalExpression(this,e.context)}search(e){this.right.search(e)}},hc=class extends p${constructor(e,r,n){super(),this.operator=e,this.left=r,this.right=n}get astNodeType(){return"binaryOp"}_getPromotedType(e,r){return e.name===r.name?e:e.name==="f32"||r.name==="f32"?wt.f32:e.name==="u32"||r.name==="u32"?wt.u32:wt.i32}constEvaluate(e,r){return e.evalExpression(this,e.context)}search(e){this.left.search(e),this.right.search(e)}};class g$ extends Su{constructor(e){super(),this.body=e}search(e){e(this),this.searchBlock(this.body,e)}}let P1=class extends Pc{constructor(){super()}get astNodeType(){return"default"}},m$=class extends g${constructor(e,r){super(r),this.selectors=e}get astNodeType(){return"case"}search(e){this.searchBlock(this.body,e)}};class v$ extends g${constructor(e){super(e)}get astNodeType(){return"default"}search(e){this.searchBlock(this.body,e)}}class oR extends Su{constructor(e,r,n){super(),this.name=e,this.type=r,this.attributes=n}get astNodeType(){return"argument"}}let yse=class extends Su{constructor(e,r){super(),this.condition=e,this.body=r}get astNodeType(){return"elseif"}search(e){this.condition.search(e),this.searchBlock(this.body,e)}};class sR extends Su{constructor(e,r,n){super(),this.name=e,this.type=r,this.attributes=n}get astNodeType(){return"member"}}class y$ extends Su{constructor(e,r){super(),this.name=e,this.value=r}get astNodeType(){return"attribute"}}let yu=class b${constructor(e,r){this.parent=null,this.typeInfo=e,this.parent=r,this.id=b$._id++}clone(){throw`Clone: Not implemented for ${this.constructor.name}`}setDataValue(e,r,n,i){console.error(`SetDataValue: Not implemented for ${this.constructor.name}`)}getSubData(e,r,n){return console.error(`GetDataValue: Not implemented for ${this.constructor.name}`),null}toString(){return`<${this.typeInfo.getTypeName()}>`}};yu._id=0;class $4 extends yu{constructor(){super(new El("void",null),null)}toString(){return"void"}}$4.void=new $4;class mA extends yu{constructor(e){super(new j4("pointer",e.typeInfo,null),null),this.reference=e}clone(){return this}setDataValue(e,r,n,i){this.reference.setDataValue(e,r,n,i)}getSubData(e,r,n){return r?this.reference.getSubData(e,r,n):this}toString(){return`&${this.reference.toString()}`}}class Je extends yu{constructor(e,r,n=null){super(r,n),e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array?this.data=e:this.typeInfo.name==="x32"?e-Math.floor(e)!==0?this.data=new Float32Array([e]):this.data=e>=0?new Uint32Array([e]):new Int32Array([e]):this.typeInfo.name==="i32"||this.typeInfo.name==="bool"?this.data=new Int32Array([e]):this.typeInfo.name==="u32"?this.data=new Uint32Array([e]):this.typeInfo.name==="f32"||this.typeInfo.name==="f16"?this.data=new Float32Array([e]):console.error("ScalarData2: Invalid type",r)}clone(){if(this.data instanceof Float32Array)return new Je(new Float32Array(this.data),this.typeInfo,null);if(this.data instanceof Int32Array)return new Je(new Int32Array(this.data),this.typeInfo,null);if(this.data instanceof Uint32Array)return new Je(new Uint32Array(this.data),this.typeInfo,null);throw"ScalarData: Invalid data type"}get value(){return this.data[0]}set value(e){this.data[0]=e}setDataValue(e,r,n,i){if(n)return void console.error("SetDataValue: Scalar data does not support postfix",n);if(!(r instanceof Je))return void console.error("SetDataValue: Invalid value",r);let o=r.data[0];this.typeInfo.name==="i32"||this.typeInfo.name==="u32"?o=Math.floor(o):this.typeInfo.name==="bool"&&(o=o?1:0),this.data[0]=o}getSubData(e,r,n){return r?(console.error("getSubData: Scalar data does not support postfix",r),null):this}toString(){return`${this.value}`}}function bse(t,e,r){const n=e.length;return n===2?r==="f32"?new Me(new Float32Array(e),t.getTypeInfo("vec2f")):r==="i32"||r==="bool"?new Me(new Int32Array(e),t.getTypeInfo("vec2i")):r==="u32"?new Me(new Uint32Array(e),t.getTypeInfo("vec2u")):r==="f16"?new Me(new Float32Array(e),t.getTypeInfo("vec2h")):(console.error(`getSubData: Unknown format ${r}`),null):n===3?r==="f32"?new Me(new Float32Array(e),t.getTypeInfo("vec3f")):r==="i32"||r==="bool"?new Me(new Int32Array(e),t.getTypeInfo("vec3i")):r==="u32"?new Me(new Uint32Array(e),t.getTypeInfo("vec3u")):r==="f16"?new Me(new Float32Array(e),t.getTypeInfo("vec3h")):(console.error(`getSubData: Unknown format ${r}`),null):n===4?r==="f32"?new Me(new Float32Array(e),t.getTypeInfo("vec4f")):r==="i32"||r==="bool"?new Me(new Int32Array(e),t.getTypeInfo("vec4i")):r==="u32"?new Me(new Uint32Array(e),t.getTypeInfo("vec4u")):r==="f16"?new Me(new Float32Array(e),t.getTypeInfo("vec4h")):(console.error(`getSubData: Unknown format ${r}`),null):(console.error(`getSubData: Invalid vector size ${e.length}`),null)}class Me extends yu{constructor(e,r,n=null){if(super(r,n),e instanceof Float32Array||e instanceof Uint32Array||e instanceof Int32Array)this.data=e;else{const i=this.typeInfo.name;i==="vec2f"||i==="vec3f"||i==="vec4f"?this.data=new Float32Array(e):i==="vec2i"||i==="vec3i"||i==="vec4i"?this.data=new Int32Array(e):i==="vec2u"||i==="vec3u"||i==="vec4u"?this.data=new Uint32Array(e):i==="vec2h"||i==="vec3h"||i==="vec4h"?this.data=new Float32Array(e):i==="vec2b"||i==="vec3b"||i==="vec4b"?this.data=new Int32Array(e):i==="vec2"||i==="vec3"||i==="vec4"?this.data=new Float32Array(e):console.error(`VectorData: Invalid type ${i}`)}}clone(){if(this.data instanceof Float32Array)return new Me(new Float32Array(this.data),this.typeInfo,null);if(this.data instanceof Int32Array)return new Me(new Int32Array(this.data),this.typeInfo,null);if(this.data instanceof Uint32Array)return new Me(new Uint32Array(this.data),this.typeInfo,null);throw"VectorData: Invalid data type"}setDataValue(e,r,n,i){n instanceof Sd?console.error("TODO: Set vector postfix"):r instanceof Me?this.data=r.data:console.error("SetDataValue: Invalid value",r)}getSubData(e,r,n){if(r===null)return this;let i=e.getTypeInfo("f32");if(this.typeInfo instanceof xd)i=this.typeInfo.format||i;else{const s=this.typeInfo.name;s==="vec2f"||s==="vec3f"||s==="vec4f"?i=e.getTypeInfo("f32"):s==="vec2i"||s==="vec3i"||s==="vec4i"?i=e.getTypeInfo("i32"):s==="vec2b"||s==="vec3b"||s==="vec4b"?i=e.getTypeInfo("bool"):s==="vec2u"||s==="vec3u"||s==="vec4u"?i=e.getTypeInfo("u32"):s==="vec2h"||s==="vec3h"||s==="vec4h"?i=e.getTypeInfo("f16"):console.error(`GetSubData: Unknown type ${s}`)}let o=this;for(;r!==null&&o!==null;){if(r instanceof c0){const s=r.index;let a=-1;if(s instanceof go){if(!(s.value instanceof Je))return console.error(`GetSubData: Invalid array index ${s.value}`),null;a=s.value.value}else{const l=e.evalExpression(s,n);if(!(l instanceof Je))return console.error("GetSubData: Unknown index type",s),null;a=l.value}if(a<0||a>=o.data.length)return console.error("GetSubData: Index out of range",a),null;if(o.data instanceof Float32Array){const l=new Float32Array(o.data.buffer,o.data.byteOffset+4*a,1);return new Je(l,i)}if(o.data instanceof Int32Array){const l=new Int32Array(o.data.buffer,o.data.byteOffset+4*a,1);return new Je(l,i)}if(o.data instanceof Uint32Array){const l=new Uint32Array(o.data.buffer,o.data.byteOffset+4*a,1);return new Je(l,i)}throw"GetSubData: Invalid data type"}if(!(r instanceof Sd))return console.error("GetSubData: Unknown postfix",r),null;{const s=r.value.toLowerCase();if(s.length===1){let l=0;if(s==="x"||s==="r")l=0;else if(s==="y"||s==="g")l=1;else if(s==="z"||s==="b")l=2;else{if(s!=="w"&&s!=="a")return console.error(`GetSubData: Unknown member ${s}`),null;l=3}if(this.data instanceof Float32Array){let c=new Float32Array(this.data.buffer,this.data.byteOffset+4*l,1);return new Je(c,i,this)}if(this.data instanceof Int32Array){let c=new Int32Array(this.data.buffer,this.data.byteOffset+4*l,1);return new Je(c,i,this)}if(this.data instanceof Uint32Array){let c=new Uint32Array(this.data.buffer,this.data.byteOffset+4*l,1);return new Je(c,i,this)}}const a=[];for(const l of s)l==="x"||l==="r"?a.push(this.data[0]):l==="y"||l==="g"?a.push(this.data[1]):l==="z"||l==="b"?a.push(this.data[2]):l==="w"||l==="a"?a.push(this.data[3]):console.error(`GetDataValue: Unknown member ${l}`);o=bse(e,a,i.name)}r=r.postfix}return o}toString(){let e=`${this.data[0]}`;for(let r=1;r<this.data.length;++r)e+=`, ${this.data[r]}`;return e}}class Rr extends yu{constructor(e,r,n=null){super(r,n),e instanceof Float32Array?this.data=e:this.data=new Float32Array(e)}clone(){return new Rr(new Float32Array(this.data),this.typeInfo,null)}setDataValue(e,r,n,i){n instanceof Sd?console.error("TODO: Set matrix postfix"):r instanceof Rr?this.data=r.data:console.error("SetDataValue: Invalid value",r)}getSubData(e,r,n){if(r===null)return this;const i=this.typeInfo.name;if(e.getTypeInfo("f32"),this.typeInfo instanceof xd)this.typeInfo.format;else if(i.endsWith("f"))e.getTypeInfo("f32");else if(i.endsWith("i"))e.getTypeInfo("i32");else if(i.endsWith("u"))e.getTypeInfo("u32");else{if(!i.endsWith("h"))return console.error(`GetDataValue: Unknown type ${i}`),null;e.getTypeInfo("f16")}if(r instanceof c0){const o=r.index;let s=-1;if(o instanceof go){if(!(o.value instanceof Je))return console.error(`GetDataValue: Invalid array index ${o.value}`),null;s=o.value.value}else{const c=e.evalExpression(o,n);if(!(c instanceof Je))return console.error("GetDataValue: Unknown index type",o),null;s=c.value}if(s<0||s>=this.data.length)return console.error("GetDataValue: Index out of range",s),null;const a=i.endsWith("h")?"h":"f";let l;if(i==="mat2x2"||i==="mat2x2f"||i==="mat2x2h"||i==="mat3x2"||i==="mat3x2f"||i==="mat3x2h"||i==="mat4x2"||i==="mat4x2f"||i==="mat4x2h")l=new Me(new Float32Array(this.data.buffer,this.data.byteOffset+2*s*4,2),e.getTypeInfo(`vec2${a}`));else if(i==="mat2x3"||i==="mat2x3f"||i==="mat2x3h"||i==="mat3x3"||i==="mat3x3f"||i==="mat3x3h"||i==="mat4x3"||i==="mat4x3f"||i==="mat4x3h")l=new Me(new Float32Array(this.data.buffer,this.data.byteOffset+3*s*4,3),e.getTypeInfo(`vec3${a}`));else{if(i!=="mat2x4"&&i!=="mat2x4f"&&i!=="mat2x4h"&&i!=="mat3x4"&&i!=="mat3x4f"&&i!=="mat3x4h"&&i!=="mat4x4"&&i!=="mat4x4f"&&i!=="mat4x4h")return console.error(`GetDataValue: Unknown type ${i}`),null;l=new Me(new Float32Array(this.data.buffer,this.data.byteOffset+4*s*4,4),e.getTypeInfo(`vec4${a}`))}return r.postfix?l.getSubData(e,r.postfix,n):l}return console.error("GetDataValue: Invalid postfix",r),null}toString(){let e=`${this.data[0]}`;for(let r=1;r<this.data.length;++r)e+=`, ${this.data[r]}`;return e}}let Do=class C1 extends yu{constructor(e,r,n=0,i=null){super(r,i),this.buffer=e instanceof ArrayBuffer?e:e.buffer,this.offset=n}clone(){const e=new Uint8Array(new Uint8Array(this.buffer,this.offset,this.typeInfo.size));return new C1(e.buffer,this.typeInfo,0,null)}setDataValue(e,r,n,i){if(r===null)return void console.log("setDataValue: NULL data.");let o=this.offset,s=this.typeInfo;for(;n;){if(n instanceof c0)if(s instanceof sh){const a=n.index;if(a instanceof go){if(!(a.value instanceof Je))return void console.error(`SetDataValue: Invalid index type ${a.value}`);o+=a.value.value*s.stride}else{const l=e.evalExpression(a,i);if(!(l instanceof Je))return void console.error("SetDataValue: Unknown index type",a);o+=l.value*s.stride}s=s.format}else console.error(`SetDataValue: Type ${s.getTypeName()} is not an array`);else{if(!(n instanceof Sd))return void console.error("SetDataValue: Unknown postfix type",n);{const a=n.value;if(s instanceof Jf){let l=!1;for(const c of s.members)if(c.name===a){o+=c.offset,s=c.type,l=!0;break}if(!l)return void console.error(`SetDataValue: Member ${a} not found`)}else if(s instanceof El){const l=s.getTypeName();let c=0;if(a==="x"||a==="r")c=0;else if(a==="y"||a==="g")c=1;else if(a==="z"||a==="b")c=2;else{if(a!=="w"&&a!=="a")return void console.error(`SetDataValue: Unknown member ${a}`);c=3}if(!(r instanceof Je))return void console.error("SetDataValue: Invalid value",r);const u=r.value;return l==="vec2f"?void(new Float32Array(this.buffer,o,2)[c]=u):l==="vec3f"?void(new Float32Array(this.buffer,o,3)[c]=u):l==="vec4f"?void(new Float32Array(this.buffer,o,4)[c]=u):l==="vec2i"?void(new Int32Array(this.buffer,o,2)[c]=u):l==="vec3i"?void(new Int32Array(this.buffer,o,3)[c]=u):l==="vec4i"?void(new Int32Array(this.buffer,o,4)[c]=u):l==="vec2u"?void(new Uint32Array(this.buffer,o,2)[c]=u):l==="vec3u"?void(new Uint32Array(this.buffer,o,3)[c]=u):l==="vec4u"?void(new Uint32Array(this.buffer,o,4)[c]=u):void console.error(`SetDataValue: Type ${l} is not a struct`)}}}n=n.postfix}this.setData(e,r,s,o,i)}setData(e,r,n,i,o){const s=n.getTypeName();if(s!=="f32"&&s!=="f16")if(s!=="i32"&&s!=="atomic<i32>"&&s!=="x32")if(s!=="u32"&&s!=="atomic<u32>")if(s!=="bool"){if(s==="vec2f"||s==="vec2h"){const a=new Float32Array(this.buffer,i,2);return void(r instanceof Me?(a[0]=r.data[0],a[1]=r.data[1]):(a[0]=r[0],a[1]=r[1]))}if(s==="vec3f"||s==="vec3h"){const a=new Float32Array(this.buffer,i,3);return void(r instanceof Me?(a[0]=r.data[0],a[1]=r.data[1],a[2]=r.data[2]):(a[0]=r[0],a[1]=r[1],a[2]=r[2]))}if(s==="vec4f"||s==="vec4h"){const a=new Float32Array(this.buffer,i,4);return void(r instanceof Me?(a[0]=r.data[0],a[1]=r.data[1],a[2]=r.data[2],a[3]=r.data[3]):(a[0]=r[0],a[1]=r[1],a[2]=r[2],a[3]=r[3]))}if(s==="vec2i"){const a=new Int32Array(this.buffer,i,2);return void(r instanceof Me?(a[0]=r.data[0],a[1]=r.data[1]):(a[0]=r[0],a[1]=r[1]))}if(s==="vec3i"){const a=new Int32Array(this.buffer,i,3);return void(r instanceof Me?(a[0]=r.data[0],a[1]=r.data[1],a[2]=r.data[2]):(a[0]=r[0],a[1]=r[1],a[2]=r[2]))}if(s==="vec4i"){const a=new Int32Array(this.buffer,i,4);return void(r instanceof Me?(a[0]=r.data[0],a[1]=r.data[1],a[2]=r.data[2],a[3]=r.data[3]):(a[0]=r[0],a[1]=r[1],a[2]=r[2],a[3]=r[3]))}if(s==="vec2u"){const a=new Uint32Array(this.buffer,i,2);return void(r instanceof Me?(a[0]=r.data[0],a[1]=r.data[1]):(a[0]=r[0],a[1]=r[1]))}if(s==="vec3u"){const a=new Uint32Array(this.buffer,i,3);return void(r instanceof Me?(a[0]=r.data[0],a[1]=r.data[1],a[2]=r.data[2]):(a[0]=r[0],a[1]=r[1],a[2]=r[2]))}if(s==="vec4u"){const a=new Uint32Array(this.buffer,i,4);return void(r instanceof Me?(a[0]=r.data[0],a[1]=r.data[1],a[2]=r.data[2],a[3]=r.data[3]):(a[0]=r[0],a[1]=r[1],a[2]=r[2],a[3]=r[3]))}if(s==="vec2b"){const a=new Uint32Array(this.buffer,i,2);return void(r instanceof Me?(a[0]=r.data[0],a[1]=r.data[1]):(a[0]=r[0],a[1]=r[1]))}if(s==="vec3b"){const a=new Uint32Array(this.buffer,i,3);return void(r instanceof Me?(a[0]=r.data[0],a[1]=r.data[1],a[2]=r.data[2]):(a[0]=r[0],a[1]=r[1],a[2]=r[2]))}if(s==="vec4b"){const a=new Uint32Array(this.buffer,i,4);return void(r instanceof Me?(a[0]=r.data[0],a[1]=r.data[1],a[2]=r.data[2],a[3]=r.data[3]):(a[0]=r[0],a[1]=r[1],a[2]=r[2],a[3]=r[3]))}if(s==="mat2x2f"||s==="mat2x2h"){const a=new Float32Array(this.buffer,i,4);return void(r instanceof Rr?(a[0]=r.data[0],a[1]=r.data[1],a[2]=r.data[2],a[3]=r.data[3]):(a[0]=r[0],a[1]=r[1],a[2]=r[2],a[3]=r[3]))}if(s==="mat2x3f"||s==="mat2x3h"){const a=new Float32Array(this.buffer,i,6);return void(r instanceof Rr?(a[0]=r.data[0],a[1]=r.data[1],a[2]=r.data[2],a[3]=r.data[3],a[4]=r.data[4],a[5]=r.data[5]):(a[0]=r[0],a[1]=r[1],a[2]=r[2],a[3]=r[3],a[4]=r[4],a[5]=r[5]))}if(s==="mat2x4f"||s==="mat2x4h"){const a=new Float32Array(this.buffer,i,8);return void(r instanceof Rr?(a[0]=r.data[0],a[1]=r.data[1],a[2]=r.data[2],a[3]=r.data[3],a[4]=r.data[4],a[5]=r.data[5],a[6]=r.data[6],a[7]=r.data[7]):(a[0]=r[0],a[1]=r[1],a[2]=r[2],a[3]=r[3],a[4]=r[4],a[5]=r[5],a[6]=r[6],a[7]=r[7]))}if(s==="mat3x2f"||s==="mat3x2h"){const a=new Float32Array(this.buffer,i,6);return void(r instanceof Rr?(a[0]=r.data[0],a[1]=r.data[1],a[2]=r.data[2],a[3]=r.data[3],a[4]=r.data[4],a[5]=r.data[5]):(a[0]=r[0],a[1]=r[1],a[2]=r[2],a[3]=r[3],a[4]=r[4],a[5]=r[5]))}if(s==="mat3x3f"||s==="mat3x3h"){const a=new Float32Array(this.buffer,i,9);return void(r instanceof Rr?(a[0]=r.data[0],a[1]=r.data[1],a[2]=r.data[2],a[3]=r.data[3],a[4]=r.data[4],a[5]=r.data[5],a[6]=r.data[6],a[7]=r.data[7],a[8]=r.data[8]):(a[0]=r[0],a[1]=r[1],a[2]=r[2],a[3]=r[3],a[4]=r[4],a[5]=r[5],a[6]=r[6],a[7]=r[7],a[8]=r[8]))}if(s==="mat3x4f"||s==="mat3x4h"){const a=new Float32Array(this.buffer,i,12);return void(r instanceof Rr?(a[0]=r.data[0],a[1]=r.data[1],a[2]=r.data[2],a[3]=r.data[3],a[4]=r.data[4],a[5]=r.data[5],a[6]=r.data[6],a[7]=r.data[7],a[8]=r.data[8],a[9]=r.data[9],a[10]=r.data[10],a[11]=r.data[11]):(a[0]=r[0],a[1]=r[1],a[2]=r[2],a[3]=r[3],a[4]=r[4],a[5]=r[5],a[6]=r[6],a[7]=r[7],a[8]=r[8],a[9]=r[9],a[10]=r[10],a[11]=r[11]))}if(s==="mat4x2f"||s==="mat4x2h"){const a=new Float32Array(this.buffer,i,8);return void(r instanceof Rr?(a[0]=r.data[0],a[1]=r.data[1],a[2]=r.data[2],a[3]=r.data[3],a[4]=r.data[4],a[5]=r.data[5],a[6]=r.data[6],a[7]=r.data[7]):(a[0]=r[0],a[1]=r[1],a[2]=r[2],a[3]=r[3],a[4]=r[4],a[5]=r[5],a[6]=r[6],a[7]=r[7]))}if(s==="mat4x3f"||s==="mat4x3h"){const a=new Float32Array(this.buffer,i,12);return void(r instanceof Rr?(a[0]=r.data[0],a[1]=r.data[1],a[2]=r.data[2],a[3]=r.data[3],a[4]=r.data[4],a[5]=r.data[5],a[6]=r.data[6],a[7]=r.data[7],a[8]=r.data[8],a[9]=r.data[9],a[10]=r.data[10],a[11]=r.data[11]):(a[0]=r[0],a[1]=r[1],a[2]=r[2],a[3]=r[3],a[4]=r[4],a[5]=r[5],a[6]=r[6],a[7]=r[7],a[8]=r[8],a[9]=r[9],a[10]=r[10],a[11]=r[11]))}if(s==="mat4x4f"||s==="mat4x4h"){const a=new Float32Array(this.buffer,i,16);return void(r instanceof Rr?(a[0]=r.data[0],a[1]=r.data[1],a[2]=r.data[2],a[3]=r.data[3],a[4]=r.data[4],a[5]=r.data[5],a[6]=r.data[6],a[7]=r.data[7],a[8]=r.data[8],a[9]=r.data[9],a[10]=r.data[10],a[11]=r.data[11],a[12]=r.data[12],a[13]=r.data[13],a[14]=r.data[14],a[15]=r.data[15]):(a[0]=r[0],a[1]=r[1],a[2]=r[2],a[3]=r[3],a[4]=r[4],a[5]=r[5],a[6]=r[6],a[7]=r[7],a[8]=r[8],a[9]=r[9],a[10]=r[10],a[11]=r[11],a[12]=r[12],a[13]=r[13],a[14]=r[14],a[15]=r[15]))}if(r instanceof C1){if(n===r.typeInfo)return void new Uint8Array(this.buffer,i,r.buffer.byteLength).set(new Uint8Array(r.buffer));console.error("SetDataValue: Type mismatch",s,r.typeInfo.getTypeName())}else console.error(`SetData: Unknown type ${s}`)}else r instanceof Je&&(new Int32Array(this.buffer,i,1)[0]=r.value);else r instanceof Je&&(new Uint32Array(this.buffer,i,1)[0]=r.value);else r instanceof Je&&(new Int32Array(this.buffer,i,1)[0]=r.value);else r instanceof Je&&(new Float32Array(this.buffer,i,1)[0]=r.value)}getSubData(e,r,n){var i,o,s;if(r===null)return this;let a=this.offset,l=this.typeInfo;for(;r;){if(r instanceof c0){const u=r.index,g=u instanceof Pc?e.evalExpression(u,n):u;let _=0;if(g instanceof Je?_=g.value:typeof g=="number"?_=g:console.error("GetDataValue: Invalid index type",u),l instanceof sh)a+=_*l.stride,l=l.format;else{const b=l.getTypeName();b==="mat4x4"||b==="mat4x4f"||b==="mat4x4h"?(a+=16*_,l=e.getTypeInfo("vec4f")):console.error(`getDataValue: Type ${l.getTypeName()} is not an array`)}}else{if(!(r instanceof Sd))return console.error("GetDataValue: Unknown postfix type",r),null;{const u=r.value;if(l instanceof Jf){let g=!1;for(const _ of l.members)if(_.name===u){a+=_.offset,l=_.type,g=!0;break}if(!g)return console.error(`GetDataValue: Member ${u} not found`),null}else if(l instanceof El){const g=l.getTypeName();if(g==="vec2f"||g==="vec3f"||g==="vec4f"||g==="vec2i"||g==="vec3i"||g==="vec4i"||g==="vec2u"||g==="vec3u"||g==="vec4u"||g==="vec2b"||g==="vec3b"||g==="vec4b"||g==="vec2h"||g==="vec3h"||g==="vec4h"||g==="vec2"||g==="vec3"||g==="vec4"){if(u.length>0&&u.length<5){let _="f";const b=[];for(let P=0;P<u.length;++P){const E=u[P].toLowerCase();let T=0;if(E==="x"||E==="r")T=0;else if(E==="y"||E==="g")T=1;else if(E==="z"||E==="b")T=2;else{if(E!=="w"&&E!=="a")return console.error(`Unknown member ${u}`),null;T=3}if(u.length===1){if(g.endsWith("f"))return this.buffer.byteLength<a+4*T+4?(console.log("Insufficient buffer data"),null):new Je(new Float32Array(this.buffer,a+4*T,1),e.getTypeInfo("f32"),this);if(g.endsWith("h"))return new Je(new Float32Array(this.buffer,a+4*T,1),e.getTypeInfo("f16"),this);if(g.endsWith("i"))return new Je(new Int32Array(this.buffer,a+4*T,1),e.getTypeInfo("i32"),this);if(g.endsWith("b"))return new Je(new Int32Array(this.buffer,a+4*T,1),e.getTypeInfo("bool"),this);if(g.endsWith("u"))return new Je(new Uint32Array(this.buffer,a+4*T,1),e.getTypeInfo("i32"),this)}if(g==="vec2f")b.push(new Float32Array(this.buffer,a,2)[T]);else if(g==="vec3f"){if(a+12>=this.buffer.byteLength)return console.log("Insufficient buffer data"),null;const O=new Float32Array(this.buffer,a,3);b.push(O[T])}else if(g==="vec4f")b.push(new Float32Array(this.buffer,a,4)[T]);else if(g==="vec2i")_="i",b.push(new Int32Array(this.buffer,a,2)[T]);else if(g==="vec3i")_="i",b.push(new Int32Array(this.buffer,a,3)[T]);else if(g==="vec4i")_="i",b.push(new Int32Array(this.buffer,a,4)[T]);else if(g==="vec2u"){_="u";const O=new Uint32Array(this.buffer,a,2);b.push(O[T])}else g==="vec3u"?(_="u",b.push(new Uint32Array(this.buffer,a,3)[T])):g==="vec4u"&&(_="u",b.push(new Uint32Array(this.buffer,a,4)[T]))}return b.length===2?l=e.getTypeInfo(`vec2${_}`):b.length===3?l=e.getTypeInfo(`vec3${_}`):b.length===4?l=e.getTypeInfo(`vec4${_}`):console.error(`GetDataValue: Invalid vector length ${b.length}`),new Me(b,l,null)}return console.error(`GetDataValue: Unknown member ${u}`),null}return console.error(`GetDataValue: Type ${g} is not a struct`),null}}}r=r.postfix}const c=l.getTypeName();return c==="f32"?new Je(new Float32Array(this.buffer,a,1),l,this):c==="i32"?new Je(new Int32Array(this.buffer,a,1),l,this):c==="u32"?new Je(new Uint32Array(this.buffer,a,1),l,this):c==="vec2f"?new Me(new Float32Array(this.buffer,a,2),l,this):c==="vec3f"?new Me(new Float32Array(this.buffer,a,3),l,this):c==="vec4f"?new Me(new Float32Array(this.buffer,a,4),l,this):c==="vec2i"?new Me(new Int32Array(this.buffer,a,2),l,this):c==="vec3i"?new Me(new Int32Array(this.buffer,a,3),l,this):c==="vec4i"?new Me(new Int32Array(this.buffer,a,4),l,this):c==="vec2u"?new Me(new Uint32Array(this.buffer,a,2),l,this):c==="vec3u"?new Me(new Uint32Array(this.buffer,a,3),l,this):c==="vec4u"?new Me(new Uint32Array(this.buffer,a,4),l,this):l instanceof xd&&l.name==="atomic"?((i=l.format)===null||i===void 0?void 0:i.name)==="u32"?new Je(new Uint32Array(this.buffer,a,1)[0],l.format,this):((o=l.format)===null||o===void 0?void 0:o.name)==="i32"?new Je(new Int32Array(this.buffer,a,1)[0],l.format,this):(console.error(`GetDataValue: Invalid atomic format ${(s=l.format)===null||s===void 0?void 0:s.name}`),null):new C1(this.buffer,l,a,this)}toString(){let e="";if(this.typeInfo instanceof sh)if(this.typeInfo.format.name==="f32"){const r=new Float32Array(this.buffer,this.offset);e=`[${r[0]}`;for(let n=1;n<r.length;++n)e+=`, ${r[n]}`}else if(this.typeInfo.format.name==="i32"){const r=new Int32Array(this.buffer,this.offset);e=`[${r[0]}`;for(let n=1;n<r.length;++n)e+=`, ${r[n]}`}else if(this.typeInfo.format.name==="u32"){const r=new Uint32Array(this.buffer,this.offset);e=`[${r[0]}`;for(let n=1;n<r.length;++n)e+=`, ${r[n]}`}else if(this.typeInfo.format.name==="vec2f"){const r=new Float32Array(this.buffer,this.offset);e=`[${r[0]}, ${r[1]}]`;for(let n=1;n<r.length/2;++n)e+=`, [${r[2*n]}, ${r[2*n+1]}]`}else if(this.typeInfo.format.name==="vec3f"){const r=new Float32Array(this.buffer,this.offset);e=`[${r[0]}, ${r[1]}, ${r[2]}]`;for(let n=4;n<r.length;n+=4)e+=`, [${r[n]}, ${r[n+1]}, ${r[n+2]}]`}else if(this.typeInfo.format.name==="vec4f"){const r=new Float32Array(this.buffer,this.offset);e=`[${r[0]}, ${r[1]}, ${r[2]}, ${r[3]}]`;for(let n=4;n<r.length;n+=4)e+=`, [${r[n]}, ${r[n+1]}, ${r[n+2]}, ${r[n+3]}]`}else e="[...]";else this.typeInfo instanceof Jf?e+="{...}":e="[...]";return e}};class qu extends yu{constructor(e,r,n,i){super(r,null),this.data=e,this.descriptor=n,this.view=i}clone(){return new qu(this.data,this.typeInfo,this.descriptor,this.view)}get width(){var e,r;const n=this.descriptor.size;return n instanceof Array&&n.length>0?(e=n[0])!==null&&e!==void 0?e:0:n instanceof Object&&(r=n.width)!==null&&r!==void 0?r:0}get height(){var e,r;const n=this.descriptor.size;return n instanceof Array&&n.length>1?(e=n[1])!==null&&e!==void 0?e:0:n instanceof Object&&(r=n.height)!==null&&r!==void 0?r:0}get depthOrArrayLayers(){var e,r;const n=this.descriptor.size;return n instanceof Array&&n.length>2?(e=n[2])!==null&&e!==void 0?e:0:n instanceof Object&&(r=n.depthOrArrayLayers)!==null&&r!==void 0?r:0}get format(){var e;return this.descriptor&&(e=this.descriptor.format)!==null&&e!==void 0?e:"rgba8unorm"}get sampleCount(){var e;return this.descriptor&&(e=this.descriptor.sampleCount)!==null&&e!==void 0?e:1}get mipLevelCount(){var e;return this.descriptor&&(e=this.descriptor.mipLevelCount)!==null&&e!==void 0?e:1}get dimension(){var e;return this.descriptor&&(e=this.descriptor.dimension)!==null&&e!==void 0?e:"2d"}getMipLevelSize(e){if(e>=this.mipLevelCount)return[0,0,0];const r=[this.width,this.height,this.depthOrArrayLayers];for(let n=0;n<r.length;++n)r[n]=Math.max(1,r[n]>>e);return r}get texelByteSize(){const e=this.format,r=cw[e];return r?r.isDepthStencil?4:r.bytesPerBlock:0}get bytesPerRow(){return this.width*this.texelByteSize}get isDepthStencil(){const e=this.format,r=cw[e];return!!r&&r.isDepthStencil}getGpuSize(){const e=this.format,r=cw[e],n=this.width;if(!e||n<=0||!r)return-1;const i=this.height,o=this.depthOrArrayLayers,s=this.dimension;return n/r.blockWidth*(s==="1d"?1:i/r.blockHeight)*r.bytesPerBlock*o}getPixel(e,r,n=0,i=0){const o=this.texelByteSize,s=this.bytesPerRow,a=this.height,l=this.data[i];return Ase(new Uint8Array(l),e,r,n,i,a,s,o,this.format)}setPixel(e,r,n,i,o){const s=this.texelByteSize,a=this.bytesPerRow,l=this.height,c=this.data[i];(function(u,g,_,b,P,E,T,O,L,N){const D=b*(T>>=P)*(E>>=P)+_*T+g*O;switch(L){case"r8unorm":return void Cn(u,D,"8unorm",1,N);case"r8snorm":return void Cn(u,D,"8snorm",1,N);case"r8uint":return void Cn(u,D,"8uint",1,N);case"r8sint":return void Cn(u,D,"8sint",1,N);case"rg8unorm":return void Cn(u,D,"8unorm",2,N);case"rg8snorm":return void Cn(u,D,"8snorm",2,N);case"rg8uint":return void Cn(u,D,"8uint",2,N);case"rg8sint":return void Cn(u,D,"8sint",2,N);case"rgba8unorm-srgb":case"rgba8unorm":case"bgra8unorm-srgb":case"bgra8unorm":return void Cn(u,D,"8unorm",4,N);case"rgba8snorm":return void Cn(u,D,"8snorm",4,N);case"rgba8uint":return void Cn(u,D,"8uint",4,N);case"rgba8sint":return void Cn(u,D,"8sint",4,N);case"r16uint":return void Cn(u,D,"16uint",1,N);case"r16sint":return void Cn(u,D,"16sint",1,N);case"r16float":return void Cn(u,D,"16float",1,N);case"rg16uint":return void Cn(u,D,"16uint",2,N);case"rg16sint":return void Cn(u,D,"16sint",2,N);case"rg16float":return void Cn(u,D,"16float",2,N);case"rgba16uint":return void Cn(u,D,"16uint",4,N);case"rgba16sint":return void Cn(u,D,"16sint",4,N);case"rgba16float":return void Cn(u,D,"16float",4,N);case"r32uint":return void Cn(u,D,"32uint",1,N);case"r32sint":return void Cn(u,D,"32sint",1,N);case"depth16unorm":case"depth24plus":case"depth24plus-stencil8":case"depth32float":case"depth32float-stencil8":case"r32float":return void Cn(u,D,"32float",1,N);case"rg32uint":return void Cn(u,D,"32uint",2,N);case"rg32sint":return void Cn(u,D,"32sint",2,N);case"rg32float":return void Cn(u,D,"32float",2,N);case"rgba32uint":return void Cn(u,D,"32uint",4,N);case"rgba32sint":return void Cn(u,D,"32sint",4,N);case"rgba32float":return void Cn(u,D,"32float",4,N);case"rg11b10ufloat":console.error("TODO: rg11b10ufloat not supported for writing")}})(new Uint8Array(c),e,r,n,i,l,a,s,this.format,o)}}(t=>{t[t.token=0]="token",t[t.keyword=1]="keyword",t[t.reserved=2]="reserved"})(et||(et={}));class rt{constructor(e,r,n){this.name=e,this.type=r,this.rule=n}toString(){return this.name}}class ke{}st=ke,ke.none=new rt("",et.reserved,""),ke.eof=new rt("EOF",et.token,""),ke.reserved={asm:new rt("asm",et.reserved,"asm"),bf16:new rt("bf16",et.reserved,"bf16"),do:new rt("do",et.reserved,"do"),enum:new rt("enum",et.reserved,"enum"),f16:new rt("f16",et.reserved,"f16"),f64:new rt("f64",et.reserved,"f64"),handle:new rt("handle",et.reserved,"handle"),i8:new rt("i8",et.reserved,"i8"),i16:new rt("i16",et.reserved,"i16"),i64:new rt("i64",et.reserved,"i64"),mat:new rt("mat",et.reserved,"mat"),premerge:new rt("premerge",et.reserved,"premerge"),regardless:new rt("regardless",et.reserved,"regardless"),typedef:new rt("typedef",et.reserved,"typedef"),u8:new rt("u8",et.reserved,"u8"),u16:new rt("u16",et.reserved,"u16"),u64:new rt("u64",et.reserved,"u64"),unless:new rt("unless",et.reserved,"unless"),using:new rt("using",et.reserved,"using"),vec:new rt("vec",et.reserved,"vec"),void:new rt("void",et.reserved,"void")},ke.keywords={array:new rt("array",et.keyword,"array"),atomic:new rt("atomic",et.keyword,"atomic"),bool:new rt("bool",et.keyword,"bool"),f32:new rt("f32",et.keyword,"f32"),i32:new rt("i32",et.keyword,"i32"),mat2x2:new rt("mat2x2",et.keyword,"mat2x2"),mat2x3:new rt("mat2x3",et.keyword,"mat2x3"),mat2x4:new rt("mat2x4",et.keyword,"mat2x4"),mat3x2:new rt("mat3x2",et.keyword,"mat3x2"),mat3x3:new rt("mat3x3",et.keyword,"mat3x3"),mat3x4:new rt("mat3x4",et.keyword,"mat3x4"),mat4x2:new rt("mat4x2",et.keyword,"mat4x2"),mat4x3:new rt("mat4x3",et.keyword,"mat4x3"),mat4x4:new rt("mat4x4",et.keyword,"mat4x4"),ptr:new rt("ptr",et.keyword,"ptr"),sampler:new rt("sampler",et.keyword,"sampler"),sampler_comparison:new rt("sampler_comparison",et.keyword,"sampler_comparison"),struct:new rt("struct",et.keyword,"struct"),texture_1d:new rt("texture_1d",et.keyword,"texture_1d"),texture_2d:new rt("texture_2d",et.keyword,"texture_2d"),texture_2d_array:new rt("texture_2d_array",et.keyword,"texture_2d_array"),texture_3d:new rt("texture_3d",et.keyword,"texture_3d"),texture_cube:new rt("texture_cube",et.keyword,"texture_cube"),texture_cube_array:new rt("texture_cube_array",et.keyword,"texture_cube_array"),texture_multisampled_2d:new rt("texture_multisampled_2d",et.keyword,"texture_multisampled_2d"),texture_storage_1d:new rt("texture_storage_1d",et.keyword,"texture_storage_1d"),texture_storage_2d:new rt("texture_storage_2d",et.keyword,"texture_storage_2d"),texture_storage_2d_array:new rt("texture_storage_2d_array",et.keyword,"texture_storage_2d_array"),texture_storage_3d:new rt("texture_storage_3d",et.keyword,"texture_storage_3d"),texture_depth_2d:new rt("texture_depth_2d",et.keyword,"texture_depth_2d"),texture_depth_2d_array:new rt("texture_depth_2d_array",et.keyword,"texture_depth_2d_array"),texture_depth_cube:new rt("texture_depth_cube",et.keyword,"texture_depth_cube"),texture_depth_cube_array:new rt("texture_depth_cube_array",et.keyword,"texture_depth_cube_array"),texture_depth_multisampled_2d:new rt("texture_depth_multisampled_2d",et.keyword,"texture_depth_multisampled_2d"),texture_external:new rt("texture_external",et.keyword,"texture_external"),u32:new rt("u32",et.keyword,"u32"),vec2:new rt("vec2",et.keyword,"vec2"),vec3:new rt("vec3",et.keyword,"vec3"),vec4:new rt("vec4",et.keyword,"vec4"),bitcast:new rt("bitcast",et.keyword,"bitcast"),block:new rt("block",et.keyword,"block"),break:new rt("break",et.keyword,"break"),case:new rt("case",et.keyword,"case"),continue:new rt("continue",et.keyword,"continue"),continuing:new rt("continuing",et.keyword,"continuing"),default:new rt("default",et.keyword,"default"),diagnostic:new rt("diagnostic",et.keyword,"diagnostic"),discard:new rt("discard",et.keyword,"discard"),else:new rt("else",et.keyword,"else"),enable:new rt("enable",et.keyword,"enable"),fallthrough:new rt("fallthrough",et.keyword,"fallthrough"),false:new rt("false",et.keyword,"false"),fn:new rt("fn",et.keyword,"fn"),for:new rt("for",et.keyword,"for"),function:new rt("function",et.keyword,"function"),if:new rt("if",et.keyword,"if"),let:new rt("let",et.keyword,"let"),const:new rt("const",et.keyword,"const"),loop:new rt("loop",et.keyword,"loop"),while:new rt("while",et.keyword,"while"),private:new rt("private",et.keyword,"private"),read:new rt("read",et.keyword,"read"),read_write:new rt("read_write",et.keyword,"read_write"),return:new rt("return",et.keyword,"return"),requires:new rt("requires",et.keyword,"requires"),storage:new rt("storage",et.keyword,"storage"),switch:new rt("switch",et.keyword,"switch"),true:new rt("true",et.keyword,"true"),alias:new rt("alias",et.keyword,"alias"),type:new rt("type",et.keyword,"type"),uniform:new rt("uniform",et.keyword,"uniform"),var:new rt("var",et.keyword,"var"),override:new rt("override",et.keyword,"override"),workgroup:new rt("workgroup",et.keyword,"workgroup"),write:new rt("write",et.keyword,"write"),r8unorm:new rt("r8unorm",et.keyword,"r8unorm"),r8snorm:new rt("r8snorm",et.keyword,"r8snorm"),r8uint:new rt("r8uint",et.keyword,"r8uint"),r8sint:new rt("r8sint",et.keyword,"r8sint"),r16uint:new rt("r16uint",et.keyword,"r16uint"),r16sint:new rt("r16sint",et.keyword,"r16sint"),r16float:new rt("r16float",et.keyword,"r16float"),rg8unorm:new rt("rg8unorm",et.keyword,"rg8unorm"),rg8snorm:new rt("rg8snorm",et.keyword,"rg8snorm"),rg8uint:new rt("rg8uint",et.keyword,"rg8uint"),rg8sint:new rt("rg8sint",et.keyword,"rg8sint"),r32uint:new rt("r32uint",et.keyword,"r32uint"),r32sint:new rt("r32sint",et.keyword,"r32sint"),r32float:new rt("r32float",et.keyword,"r32float"),rg16uint:new rt("rg16uint",et.keyword,"rg16uint"),rg16sint:new rt("rg16sint",et.keyword,"rg16sint"),rg16float:new rt("rg16float",et.keyword,"rg16float"),rgba8unorm:new rt("rgba8unorm",et.keyword,"rgba8unorm"),rgba8unorm_srgb:new rt("rgba8unorm_srgb",et.keyword,"rgba8unorm_srgb"),rgba8snorm:new rt("rgba8snorm",et.keyword,"rgba8snorm"),rgba8uint:new rt("rgba8uint",et.keyword,"rgba8uint"),rgba8sint:new rt("rgba8sint",et.keyword,"rgba8sint"),bgra8unorm:new rt("bgra8unorm",et.keyword,"bgra8unorm"),bgra8unorm_srgb:new rt("bgra8unorm_srgb",et.keyword,"bgra8unorm_srgb"),rgb10a2unorm:new rt("rgb10a2unorm",et.keyword,"rgb10a2unorm"),rg11b10float:new rt("rg11b10float",et.keyword,"rg11b10float"),rg32uint:new rt("rg32uint",et.keyword,"rg32uint"),rg32sint:new rt("rg32sint",et.keyword,"rg32sint"),rg32float:new rt("rg32float",et.keyword,"rg32float"),rgba16uint:new rt("rgba16uint",et.keyword,"rgba16uint"),rgba16sint:new rt("rgba16sint",et.keyword,"rgba16sint"),rgba16float:new rt("rgba16float",et.keyword,"rgba16float"),rgba32uint:new rt("rgba32uint",et.keyword,"rgba32uint"),rgba32sint:new rt("rgba32sint",et.keyword,"rgba32sint"),rgba32float:new rt("rgba32float",et.keyword,"rgba32float"),static_assert:new rt("static_assert",et.keyword,"static_assert")},ke.tokens={decimal_float_literal:new rt("decimal_float_literal",et.token,/((-?[0-9]*\.[0-9]+|-?[0-9]+\.[0-9]*)((e|E)(\+|-)?[0-9]+)?[fh]?)|(-?[0-9]+(e|E)(\+|-)?[0-9]+[fh]?)|(-?[0-9]+[fh])/),hex_float_literal:new rt("hex_float_literal",et.token,/-?0x((([0-9a-fA-F]*\.[0-9a-fA-F]+|[0-9a-fA-F]+\.[0-9a-fA-F]*)((p|P)(\+|-)?[0-9]+[fh]?)?)|([0-9a-fA-F]+(p|P)(\+|-)?[0-9]+[fh]?))/),int_literal:new rt("int_literal",et.token,/-?0x[0-9a-fA-F]+|0i?|-?[1-9][0-9]*i?/),uint_literal:new rt("uint_literal",et.token,/0x[0-9a-fA-F]+u|0u|[1-9][0-9]*u/),name:new rt("name",et.token,/([_\p{XID_Start}][\p{XID_Continue}]+)|([\p{XID_Start}])/u),ident:new rt("ident",et.token,/[_a-zA-Z][0-9a-zA-Z_]*/),and:new rt("and",et.token,"&"),and_and:new rt("and_and",et.token,"&&"),arrow:new rt("arrow ",et.token,"->"),attr:new rt("attr",et.token,"@"),forward_slash:new rt("forward_slash",et.token,"/"),bang:new rt("bang",et.token,"!"),bracket_left:new rt("bracket_left",et.token,"["),bracket_right:new rt("bracket_right",et.token,"]"),brace_left:new rt("brace_left",et.token,"{"),brace_right:new rt("brace_right",et.token,"}"),colon:new rt("colon",et.token,":"),comma:new rt("comma",et.token,","),equal:new rt("equal",et.token,"="),equal_equal:new rt("equal_equal",et.token,"=="),not_equal:new rt("not_equal",et.token,"!="),greater_than:new rt("greater_than",et.token,">"),greater_than_equal:new rt("greater_than_equal",et.token,">="),shift_right:new rt("shift_right",et.token,">>"),less_than:new rt("less_than",et.token,"<"),less_than_equal:new rt("less_than_equal",et.token,"<="),shift_left:new rt("shift_left",et.token,"<<"),modulo:new rt("modulo",et.token,"%"),minus:new rt("minus",et.token,"-"),minus_minus:new rt("minus_minus",et.token,"--"),period:new rt("period",et.token,"."),plus:new rt("plus",et.token,"+"),plus_plus:new rt("plus_plus",et.token,"++"),or:new rt("or",et.token,"|"),or_or:new rt("or_or",et.token,"||"),paren_left:new rt("paren_left",et.token,"("),paren_right:new rt("paren_right",et.token,")"),semicolon:new rt("semicolon",et.token,";"),star:new rt("star",et.token,"*"),tilde:new rt("tilde",et.token,"~"),underscore:new rt("underscore",et.token,"_"),xor:new rt("xor",et.token,"^"),plus_equal:new rt("plus_equal",et.token,"+="),minus_equal:new rt("minus_equal",et.token,"-="),times_equal:new rt("times_equal",et.token,"*="),division_equal:new rt("division_equal",et.token,"/="),modulo_equal:new rt("modulo_equal",et.token,"%="),and_equal:new rt("and_equal",et.token,"&="),or_equal:new rt("or_equal",et.token,"|="),xor_equal:new rt("xor_equal",et.token,"^="),shift_right_equal:new rt("shift_right_equal",et.token,">>="),shift_left_equal:new rt("shift_left_equal",et.token,"<<=")},ke.simpleTokens={"@":st.tokens.attr,"{":st.tokens.brace_left,"}":st.tokens.brace_right,":":st.tokens.colon,",":st.tokens.comma,"(":st.tokens.paren_left,")":st.tokens.paren_right,";":st.tokens.semicolon},ke.literalTokens={"&":st.tokens.and,"&&":st.tokens.and_and,"->":st.tokens.arrow,"/":st.tokens.forward_slash,"!":st.tokens.bang,"[":st.tokens.bracket_left,"]":st.tokens.bracket_right,"=":st.tokens.equal,"==":st.tokens.equal_equal,"!=":st.tokens.not_equal,">":st.tokens.greater_than,">=":st.tokens.greater_than_equal,">>":st.tokens.shift_right,"<":st.tokens.less_than,"<=":st.tokens.less_than_equal,"<<":st.tokens.shift_left,"%":st.tokens.modulo,"-":st.tokens.minus,"--":st.tokens.minus_minus,".":st.tokens.period,"+":st.tokens.plus,"++":st.tokens.plus_plus,"|":st.tokens.or,"||":st.tokens.or_or,"*":st.tokens.star,"~":st.tokens.tilde,_:st.tokens.underscore,"^":st.tokens.xor,"+=":st.tokens.plus_equal,"-=":st.tokens.minus_equal,"*=":st.tokens.times_equal,"/=":st.tokens.division_equal,"%=":st.tokens.modulo_equal,"&=":st.tokens.and_equal,"|=":st.tokens.or_equal,"^=":st.tokens.xor_equal,">>=":st.tokens.shift_right_equal,"<<=":st.tokens.shift_left_equal},ke.regexTokens={decimal_float_literal:st.tokens.decimal_float_literal,hex_float_literal:st.tokens.hex_float_literal,int_literal:st.tokens.int_literal,uint_literal:st.tokens.uint_literal,ident:st.tokens.ident},ke.storage_class=[st.keywords.function,st.keywords.private,st.keywords.workgroup,st.keywords.uniform,st.keywords.storage],ke.access_mode=[st.keywords.read,st.keywords.write,st.keywords.read_write],ke.sampler_type=[st.keywords.sampler,st.keywords.sampler_comparison],ke.sampled_texture_type=[st.keywords.texture_1d,st.keywords.texture_2d,st.keywords.texture_2d_array,st.keywords.texture_3d,st.keywords.texture_cube,st.keywords.texture_cube_array],ke.multisampled_texture_type=[st.keywords.texture_multisampled_2d],ke.storage_texture_type=[st.keywords.texture_storage_1d,st.keywords.texture_storage_2d,st.keywords.texture_storage_2d_array,st.keywords.texture_storage_3d],ke.depth_texture_type=[st.keywords.texture_depth_2d,st.keywords.texture_depth_2d_array,st.keywords.texture_depth_cube,st.keywords.texture_depth_cube_array,st.keywords.texture_depth_multisampled_2d],ke.texture_external_type=[st.keywords.texture_external],ke.any_texture_type=[...st.sampled_texture_type,...st.multisampled_texture_type,...st.storage_texture_type,...st.depth_texture_type,...st.texture_external_type],ke.texel_format=[st.keywords.r8unorm,st.keywords.r8snorm,st.keywords.r8uint,st.keywords.r8sint,st.keywords.r16uint,st.keywords.r16sint,st.keywords.r16float,st.keywords.rg8unorm,st.keywords.rg8snorm,st.keywords.rg8uint,st.keywords.rg8sint,st.keywords.r32uint,st.keywords.r32sint,st.keywords.r32float,st.keywords.rg16uint,st.keywords.rg16sint,st.keywords.rg16float,st.keywords.rgba8unorm,st.keywords.rgba8unorm_srgb,st.keywords.rgba8snorm,st.keywords.rgba8uint,st.keywords.rgba8sint,st.keywords.bgra8unorm,st.keywords.bgra8unorm_srgb,st.keywords.rgb10a2unorm,st.keywords.rg11b10float,st.keywords.rg32uint,st.keywords.rg32sint,st.keywords.rg32float,st.keywords.rgba16uint,st.keywords.rgba16sint,st.keywords.rgba16float,st.keywords.rgba32uint,st.keywords.rgba32sint,st.keywords.rgba32float],ke.const_literal=[st.tokens.int_literal,st.tokens.uint_literal,st.tokens.decimal_float_literal,st.tokens.hex_float_literal,st.keywords.true,st.keywords.false],ke.literal_or_ident=[st.tokens.ident,st.tokens.int_literal,st.tokens.uint_literal,st.tokens.decimal_float_literal,st.tokens.hex_float_literal,st.tokens.name],ke.element_count_expression=[st.tokens.int_literal,st.tokens.uint_literal,st.tokens.ident],ke.template_types=[st.keywords.vec2,st.keywords.vec3,st.keywords.vec4,st.keywords.mat2x2,st.keywords.mat2x3,st.keywords.mat2x4,st.keywords.mat3x2,st.keywords.mat3x3,st.keywords.mat3x4,st.keywords.mat4x2,st.keywords.mat4x3,st.keywords.mat4x4,st.keywords.atomic,st.keywords.bitcast,...st.any_texture_type],ke.attribute_name=[st.tokens.ident,st.keywords.block,st.keywords.diagnostic],ke.assignment_operators=[st.tokens.equal,st.tokens.plus_equal,st.tokens.minus_equal,st.tokens.times_equal,st.tokens.division_equal,st.tokens.modulo_equal,st.tokens.and_equal,st.tokens.or_equal,st.tokens.xor_equal,st.tokens.shift_right_equal,st.tokens.shift_left_equal],ke.increment_operators=[st.tokens.plus_plus,st.tokens.minus_minus];class aR{constructor(e,r,n,i,o){this.type=e,this.lexeme=r,this.line=n,this.start=i,this.end=o}toString(){return this.lexeme}isTemplateType(){return ke.template_types.indexOf(this.type)!=-1}isArrayType(){return this.type==ke.keywords.array}isArrayOrTemplateType(){return this.isArrayType()||this.isTemplateType()}}class _se{constructor(e){this._tokens=[],this._start=0,this._current=0,this._line=1,this._source=e??""}scanTokens(){for(;!this._isAtEnd();)if(this._start=this._current,!this.scanToken())throw`Invalid syntax at line ${this._line}`;return this._tokens.push(new aR(ke.eof,"",this._line,this._current,this._current)),this._tokens}scanToken(){let e=this._advance();if(e==`
`)return this._line++,!0;if(this._isWhitespace(e))return!0;if(e=="/"){if(this._peekAhead()=="/"){for(;e!=`
`;){if(this._isAtEnd())return!0;e=this._advance()}return this._line++,!0}if(this._peekAhead()=="*"){this._advance();let s=1;for(;s>0;){if(this._isAtEnd())return!0;if(e=this._advance(),e==`
`)this._line++;else if(e=="*"){if(this._peekAhead()=="/"&&(this._advance(),s--,s==0))return!0}else e=="/"&&this._peekAhead()=="*"&&(this._advance(),s++)}return!0}}const r=ke.simpleTokens[e];if(r)return this._addToken(r),!0;let n=ke.none;const i=this._isAlpha(e),o=e==="_";if(this._isAlphaNumeric(e)){let s=this._peekAhead();for(;this._isAlphaNumeric(s);)e+=this._advance(),s=this._peekAhead()}if(i){const s=ke.keywords[e];if(s)return this._addToken(s),!0}if(i||o)return this._addToken(ke.tokens.ident),!0;for(;;){let s=this._findType(e);const a=this._peekAhead();if(e=="-"&&this._tokens.length>0){if(a=="=")return this._current++,e+=a,this._addToken(ke.tokens.minus_equal),!0;if(a=="-")return this._current++,e+=a,this._addToken(ke.tokens.minus_minus),!0;const l=this._tokens.length-1;if((ke.literal_or_ident.indexOf(this._tokens[l].type)!=-1||this._tokens[l].type==ke.tokens.paren_right)&&a!=">")return this._addToken(s),!0}if(e==">"&&(a==">"||a=="=")){let l=!1,c=this._tokens.length-1;for(let u=0;u<5&&c>=0&&ke.assignment_operators.indexOf(this._tokens[c].type)===-1;++u,--c)if(this._tokens[c].type===ke.tokens.less_than){c>0&&this._tokens[c-1].isArrayOrTemplateType()&&(l=!0);break}if(l)return this._addToken(s),!0}if(s===ke.none){let l=e,c=0;const u=2;for(let g=0;g<u;++g)if(l+=this._peekAhead(g),s=this._findType(l),s!==ke.none){c=g;break}if(s===ke.none)return n!==ke.none&&(this._current--,this._addToken(n),!0);e=l,this._current+=c+1}if(n=s,this._isAtEnd())break;e+=this._advance()}return n!==ke.none&&(this._addToken(n),!0)}_findType(e){for(const n in ke.regexTokens){const i=ke.regexTokens[n];if(this._match(e,i.rule))return i}return ke.literalTokens[e]||ke.none}_match(e,r){const n=r.exec(e);return n&&n.index==0&&n[0]==e}_isAtEnd(){return this._current>=this._source.length}_isAlpha(e){return!this._isNumeric(e)&&!this._isWhitespace(e)&&e!=="_"&&e!=="."&&e!=="("&&e!==")"&&e!=="["&&e!=="]"&&e!=="{"&&e!=="}"&&e!==","&&e!==";"&&e!==":"&&e!=="="&&e!=="!"&&e!=="<"&&e!==">"&&e!=="+"&&e!=="-"&&e!=="*"&&e!=="/"&&e!=="%"&&e!=="&"&&e!=="|"&&e!=="^"&&e!=="~"&&e!=="@"&&e!=="#"&&e!=="?"&&e!=="'"&&e!=="`"&&e!=='"'&&e!=="\\"&&e!==`
`&&e!=="\r"&&e!=="	"&&e!=="\0"}_isNumeric(e){return e>="0"&&e<="9"}_isAlphaNumeric(e){return this._isAlpha(e)||this._isNumeric(e)||e==="_"}_isWhitespace(e){return e==" "||e=="	"||e=="\r"}_advance(e=0){let r=this._source[this._current];return e=e||0,e++,this._current+=e,r}_peekAhead(e=0){return e=e||0,this._current+e>=this._source.length?"\0":this._source[this._current+e]}_addToken(e){const r=this._source.substring(this._start,this._current);this._tokens.push(new aR(e,r,this._line,this._start,this._current))}}function Ft(t){return Array.isArray(t)||(t==null?void 0:t.buffer)instanceof ArrayBuffer}const cy=new Float32Array(1),wse=new Uint32Array(cy.buffer),xse=new Uint32Array(cy.buffer),uy=new Int32Array(1),Sse=new Float32Array(uy.buffer),Ese=new Uint32Array(uy.buffer),fy=new Uint32Array(1),Tse=new Float32Array(fy.buffer),Pse=new Int32Array(fy.buffer);function lR(t,e,r){if(e===r)return t;if(e==="f32"){if(r==="i32"||r==="x32")return cy[0]=t,wse[0];if(r==="u32")return cy[0]=t,xse[0]}else if(e==="i32"||e==="x32"){if(r==="f32")return uy[0]=t,Sse[0];if(r==="u32")return uy[0]=t,Ese[0]}else if(e==="u32"){if(r==="f32")return fy[0]=t,Tse[0];if(r==="i32"||r==="x32")return fy[0]=t,Pse[0]}return console.error(`Unsupported cast from ${e} to ${r}`),t}let Cse=class{constructor(e){this.resources=null,this.inUse=!1,this.info=null,this.node=e}},Bv=class{constructor(e,r){this.align=e,this.size=r}},cg=class Qp{constructor(){this.uniforms=[],this.storage=[],this.textures=[],this.samplers=[],this.aliases=[],this.overrides=[],this.structs=[],this.entry=new use,this.functions=[],this._types=new Map,this._functions=new Map}_isStorageTexture(e){return e.name=="texture_storage_1d"||e.name=="texture_storage_2d"||e.name=="texture_storage_2d_array"||e.name=="texture_storage_3d"}updateAST(e){for(const r of e)r instanceof Og&&this._functions.set(r.name,new Cse(r));for(const r of e)if(r instanceof Hu){const n=this.getTypeInfo(r,null);n instanceof Jf&&this.structs.push(n)}for(const r of e)if(r instanceof VP)this.aliases.push(this._getAliasInfo(r));else{if(r instanceof zP){const n=r,i=this._getAttributeNum(n.attributes,"id",0),o=n.type!=null?this.getTypeInfo(n.type,n.attributes):null;this.overrides.push(new ase(n.name,o,n.attributes,i));continue}if(this._isUniformVar(r)){const n=r,i=this._getAttributeNum(n.attributes,"group",0),o=this._getAttributeNum(n.attributes,"binding",0),s=this.getTypeInfo(n.type,n.attributes),a=new Dv(n.name,s,i,o,n.attributes,Kf.Uniform,n.access);a.access||(a.access="read"),this.uniforms.push(a);continue}if(this._isStorageVar(r)){const n=r,i=this._getAttributeNum(n.attributes,"group",0),o=this._getAttributeNum(n.attributes,"binding",0),s=this.getTypeInfo(n.type,n.attributes),a=this._isStorageTexture(s),l=new Dv(n.name,s,i,o,n.attributes,a?Kf.StorageTexture:Kf.Storage,n.access);l.access||(l.access="read"),this.storage.push(l);continue}if(this._isTextureVar(r)){const n=r,i=this._getAttributeNum(n.attributes,"group",0),o=this._getAttributeNum(n.attributes,"binding",0),s=this.getTypeInfo(n.type,n.attributes),a=this._isStorageTexture(s),l=new Dv(n.name,s,i,o,n.attributes,a?Kf.StorageTexture:Kf.Texture,n.access);l.access||(l.access="read"),a?this.storage.push(l):this.textures.push(l);continue}if(this._isSamplerVar(r)){const n=r,i=this._getAttributeNum(n.attributes,"group",0),o=this._getAttributeNum(n.attributes,"binding",0),s=this.getTypeInfo(n.type,n.attributes),a=new Dv(n.name,s,i,o,n.attributes,Kf.Sampler,n.access);this.samplers.push(a);continue}}for(const r of e)if(r instanceof Og){const n=this._getAttribute(r,"vertex"),i=this._getAttribute(r,"fragment"),o=this._getAttribute(r,"compute"),s=n||i||o,a=new cse(r.name,s==null?void 0:s.name,r.attributes);a.attributes=r.attributes,a.startLine=r.startLine,a.endLine=r.endLine,this.functions.push(a),this._functions.get(r.name).info=a,s&&(this._functions.get(r.name).inUse=!0,a.inUse=!0,a.resources=this._findResources(r,!!s),a.inputs=this._getInputs(r.args),a.outputs=this._getOutputs(r.returnType),this.entry[s.name].push(a)),a.arguments=r.args.map(l=>new lse(l.name,this.getTypeInfo(l.type,l.attributes),l.attributes)),a.returnType=r.returnType?this.getTypeInfo(r.returnType,r.attributes):null;continue}for(const r of this._functions.values())r.info&&(r.info.inUse=r.inUse,this._addCalls(r.node,r.info.calls));for(const r of this._functions.values())r.node.search(n=>{var i,o,s;if(n instanceof y$){if(n.value)if(Ft(n.value))for(const a of n.value)for(const l of this.overrides)a===l.name&&((i=r.info)===null||i===void 0||i.overrides.push(l));else for(const a of this.overrides)n.value===a.name&&((o=r.info)===null||o===void 0||o.overrides.push(a))}else if(n instanceof za)for(const a of this.overrides)n.name===a.name&&((s=r.info)===null||s===void 0||s.overrides.push(a))});for(const r of this.uniforms)this._markStructsInUse(r.type);for(const r of this.storage)this._markStructsInUse(r.type)}getFunctionInfo(e){for(const r of this.functions)if(r.name==e)return r;return null}getStructInfo(e){for(const r of this.structs)if(r.name==e)return r;return null}getOverrideInfo(e){for(const r of this.overrides)if(r.name==e)return r;return null}_markStructsInUse(e){if(e)if(e.isStruct){if(e.inUse=!0,e.members)for(const r of e.members)this._markStructsInUse(r.type)}else if(e.isArray)this._markStructsInUse(e.format);else if(e.isTemplate)e.format&&this._markStructsInUse(e.format);else{const r=this._getAlias(e.name);r&&this._markStructsInUse(r)}}_addCalls(e,r){var n;for(const i of e.calls){const o=(n=this._functions.get(i.name))===null||n===void 0?void 0:n.info;o&&r.add(o)}}findResource(e,r,n){if(n){for(const i of this.entry.compute)if(i.name===n){for(const o of i.resources)if(o.group==e&&o.binding==r)return o}for(const i of this.entry.vertex)if(i.name===n){for(const o of i.resources)if(o.group==e&&o.binding==r)return o}for(const i of this.entry.fragment)if(i.name===n){for(const o of i.resources)if(o.group==e&&o.binding==r)return o}}for(const i of this.uniforms)if(i.group==e&&i.binding==r)return i;for(const i of this.storage)if(i.group==e&&i.binding==r)return i;for(const i of this.textures)if(i.group==e&&i.binding==r)return i;for(const i of this.samplers)if(i.group==e&&i.binding==r)return i;return null}_findResource(e){for(const r of this.uniforms)if(r.name==e)return r;for(const r of this.storage)if(r.name==e)return r;for(const r of this.textures)if(r.name==e)return r;for(const r of this.samplers)if(r.name==e)return r;return null}_markStructsFromAST(e){const r=this.getTypeInfo(e,null);this._markStructsInUse(r)}_findResources(e,r){const n=[],i=this,o=[];return e.search(s=>{if(s instanceof ay)o.push({});else if(s instanceof ly)o.pop();else if(s instanceof Yu){const a=s;r&&a.type!==null&&this._markStructsFromAST(a.type),o.length>0&&(o[o.length-1][a.name]=a)}else if(s instanceof iu){const a=s;r&&a.type!==null&&this._markStructsFromAST(a.type)}else if(s instanceof ag){const a=s;r&&a.type!==null&&this._markStructsFromAST(a.type),o.length>0&&(o[o.length-1][a.name]=a)}else if(s instanceof za){const a=s;if(o.length>0&&o[o.length-1][a.name])return;const l=i._findResource(a.name);l&&n.push(l)}else if(s instanceof HP){const a=s,l=i._functions.get(a.name);l&&(r&&(l.inUse=!0),e.calls.add(l.node),l.resources===null&&(l.resources=i._findResources(l.node,r)),n.push(...l.resources))}else if(s instanceof WP){const a=s,l=i._functions.get(a.name);l&&(r&&(l.inUse=!0),e.calls.add(l.node),l.resources===null&&(l.resources=i._findResources(l.node,r)),n.push(...l.resources))}}),[...new Map(n.map(s=>[s.name,s])).values()]}getBindGroups(){const e=[];function r(n,i){n>=e.length&&(e.length=n+1),e[n]===void 0&&(e[n]=[]),i>=e[n].length&&(e[n].length=i+1)}for(const n of this.uniforms)r(n.group,n.binding),e[n.group][n.binding]=n;for(const n of this.storage)r(n.group,n.binding),e[n.group][n.binding]=n;for(const n of this.textures)r(n.group,n.binding),e[n.group][n.binding]=n;for(const n of this.samplers)r(n.group,n.binding),e[n.group][n.binding]=n;return e}_getOutputs(e,r=void 0){if(r===void 0&&(r=[]),e instanceof Hu)this._getStructOutputs(e,r);else{const n=this._getOutputInfo(e);n!==null&&r.push(n)}return r}_getStructOutputs(e,r){for(const n of e.members)if(n.type instanceof Hu)this._getStructOutputs(n.type,r);else{const i=this._getAttribute(n,"location")||this._getAttribute(n,"builtin");if(i!==null){const o=this.getTypeInfo(n.type,n.type.attributes),s=this._parseInt(i.value),a=new rR(n.name,o,i.name,s);r.push(a)}}}_getOutputInfo(e){const r=this._getAttribute(e,"location")||this._getAttribute(e,"builtin");if(r!==null){const n=this.getTypeInfo(e,e.attributes),i=this._parseInt(r.value);return new rR("",n,r.name,i)}return null}_getInputs(e,r=void 0){r===void 0&&(r=[]);for(const n of e)if(n.type instanceof Hu)this._getStructInputs(n.type,r);else{const i=this._getInputInfo(n);i!==null&&r.push(i)}return r}_getStructInputs(e,r){for(const n of e.members)if(n.type instanceof Hu)this._getStructInputs(n.type,r);else{const i=this._getInputInfo(n);i!==null&&r.push(i)}}_getInputInfo(e){const r=this._getAttribute(e,"location")||this._getAttribute(e,"builtin");if(r!==null){const n=this._getAttribute(e,"interpolation"),i=this.getTypeInfo(e.type,e.attributes),o=this._parseInt(r.value),s=new sse(e.name,i,r.name,o);return n!==null&&(s.interpolation=this._parseString(n.value)),s}return null}_parseString(e){return e instanceof Array&&(e=e[0]),e}_parseInt(e){e instanceof Array&&(e=e[0]);const r=parseInt(e);return isNaN(r)?e:r}_getAlias(e){for(const r of this.aliases)if(r.name==e)return r.type;return null}_getAliasInfo(e){return new ose(e.name,this.getTypeInfo(e.type,null))}getTypeInfoByName(e){for(const r of this.structs)if(r.name==e)return r;for(const r of this.aliases)if(r.name==e)return r.type;return null}getTypeInfo(e,r=null){if(this._types.has(e))return this._types.get(e);if(e instanceof T1){const i=e.type?this.getTypeInfo(e.type,e.attributes):null,o=new j4(e.name,i,r);return this._types.set(e,o),this._updateTypeInfo(o),o}if(e instanceof lg){const i=e,o=i.format?this.getTypeInfo(i.format,i.attributes):null,s=new sh(i.name,r);return s.format=o,s.count=i.count,this._types.set(e,s),this._updateTypeInfo(s),s}if(e instanceof Hu){const i=e,o=new Jf(i.name,r);o.startLine=i.startLine,o.endLine=i.endLine;for(const s of i.members){const a=this.getTypeInfo(s.type,s.attributes);o.members.push(new tR(s.name,a,s.attributes))}return this._types.set(e,o),this._updateTypeInfo(o),o}if(e instanceof Gp){const i=e,o=i.format instanceof wt,s=i.format?o?this.getTypeInfo(i.format,null):new El(i.format,null):null,a=new xd(i.name,s,r,i.access);return this._types.set(e,a),this._updateTypeInfo(a),a}if(e instanceof it){const i=e,o=i.format?this.getTypeInfo(i.format,null):null,s=new xd(i.name,o,r,i.access);return this._types.set(e,s),this._updateTypeInfo(s),s}const n=new El(e.name,r);return this._types.set(e,n),this._updateTypeInfo(n),n}_updateTypeInfo(e){var r,n,i;const o=this._getTypeSize(e);if(e.size=(r=o==null?void 0:o.size)!==null&&r!==void 0?r:0,e instanceof sh&&e.format){const s=this._getTypeSize(e.format);e.stride=Math.max((n=s==null?void 0:s.size)!==null&&n!==void 0?n:0,(i=s==null?void 0:s.align)!==null&&i!==void 0?i:0),this._updateTypeInfo(e.format)}e instanceof j4&&this._updateTypeInfo(e.format),e instanceof Jf&&this._updateStructInfo(e)}_updateStructInfo(e){var r;let n=0,i=0,o=0,s=0;for(let a=0,l=e.members.length;a<l;++a){const c=e.members[a],u=this._getTypeSize(c);if(!u)continue;(r=this._getAlias(c.type.name))!==null&&r!==void 0||c.type;const g=u.align,_=u.size;n=this._roundUp(g,n+i),i=_,o=n,s=Math.max(s,g),c.offset=n,c.size=_,this._updateTypeInfo(c.type)}e.size=this._roundUp(s,o+i),e.align=s}_getTypeSize(e){var r,n;if(e==null)return null;const i=this._getAttributeNum(e.attributes,"size",0),o=this._getAttributeNum(e.attributes,"align",0);if(e instanceof tR&&(e=e.type),e instanceof El){const s=this._getAlias(e.name);s!==null&&(e=s)}{const s=Qp._typeInfo[e.name];if(s!==void 0){const a=((r=e.format)===null||r===void 0?void 0:r.name)==="f16"?2:1;return new Bv(Math.max(o,s.align/a),Math.max(i,s.size/a))}}{const s=Qp._typeInfo[e.name.substring(0,e.name.length-1)];if(s){const a=e.name[e.name.length-1]==="h"?2:1;return new Bv(Math.max(o,s.align/a),Math.max(i,s.size/a))}}if(e instanceof sh){let s=e,a=8,l=8;const c=this._getTypeSize(s.format);return c!==null&&(l=c.size,a=c.align),l=s.count*this._getAttributeNum((n=e==null?void 0:e.attributes)!==null&&n!==void 0?n:null,"stride",this._roundUp(a,l)),i&&(l=i),new Bv(Math.max(o,a),Math.max(i,l))}if(e instanceof Jf){let s=0,a=0,l=0,c=0,u=0;for(const g of e.members){const _=this._getTypeSize(g.type);_!==null&&(s=Math.max(_.align,s),l=this._roundUp(_.align,l+c),c=_.size,u=l)}return a=this._roundUp(s,u+c),new Bv(Math.max(o,s),Math.max(i,a))}return null}_isUniformVar(e){return e instanceof Yu&&e.storage=="uniform"}_isStorageVar(e){return e instanceof Yu&&e.storage=="storage"}_isTextureVar(e){return e instanceof Yu&&e.type!==null&&Qp._textureTypes.indexOf(e.type.name)!=-1}_isSamplerVar(e){return e instanceof Yu&&e.type!==null&&Qp._samplerTypes.indexOf(e.type.name)!=-1}_getAttribute(e,r){const n=e;if(!n||!n.attributes)return null;const i=n.attributes;for(let o of i)if(o.name==r)return o;return null}_getAttributeNum(e,r,n){if(e===null)return n;for(let i of e)if(i.name==r){let o=i!==null&&i.value!==null?i.value:n;return o instanceof Array&&(o=o[0]),typeof o=="number"?o:typeof o=="string"?parseInt(o):n}return n}_roundUp(e,r){return Math.ceil(r/e)*e}};cg._typeInfo={f16:{align:2,size:2},i32:{align:4,size:4},u32:{align:4,size:4},f32:{align:4,size:4},atomic:{align:4,size:4},vec2:{align:8,size:8},vec3:{align:16,size:12},vec4:{align:16,size:16},mat2x2:{align:8,size:16},mat3x2:{align:8,size:24},mat4x2:{align:8,size:32},mat2x3:{align:16,size:32},mat3x3:{align:16,size:48},mat4x3:{align:16,size:64},mat2x4:{align:16,size:32},mat3x4:{align:16,size:48},mat4x4:{align:16,size:64}},cg._textureTypes=ke.any_texture_type.map(t=>t.name),cg._samplerTypes=ke.sampler_type.map(t=>t.name);let qP=0,kse=class _${constructor(e,r,n){this.id=qP++,this.name=e,this.value=r,this.node=n}clone(){return new _$(this.name,this.value,this.node)}},Ose=class w${constructor(e){this.id=qP++,this.name=e.name,this.node=e}clone(){return new w$(this.node)}},Rse=class x${constructor(e){this.parent=null,this.variables=new Map,this.functions=new Map,this.currentFunctionName="",this.id=qP++,e&&(this.parent=e,this.currentFunctionName=e.currentFunctionName)}getVariable(e){var r;return this.variables.has(e)?(r=this.variables.get(e))!==null&&r!==void 0?r:null:this.parent?this.parent.getVariable(e):null}getFunction(e){var r;return this.functions.has(e)?(r=this.functions.get(e))!==null&&r!==void 0?r:null:this.parent?this.parent.getFunction(e):null}createVariable(e,r,n){this.variables.set(e,new kse(e,r,n??null))}setVariable(e,r,n){const i=this.getVariable(e);i!==null?i.value=r:this.createVariable(e,r,n)}getVariableValue(e){var r;const n=this.getVariable(e);return(r=n==null?void 0:n.value)!==null&&r!==void 0?r:null}clone(){return new x$(this)}},Ise=class{evalExpression(e,r){return null}getTypeInfo(e){return null}getVariableName(e,r){return""}},Nse=class{constructor(e){this.exec=e}getTypeInfo(e){return this.exec.getTypeInfo(e)}All(e,r){const n=this.exec.evalExpression(e.args[0],r);let i=!0;if(n instanceof Me)return n.data.forEach(o=>{o||(i=!1)}),new Je(i?1:0,this.getTypeInfo("bool"));throw new Error(`All() expects a vector argument. Line ${e.line}`)}Any(e,r){const n=this.exec.evalExpression(e.args[0],r);if(n instanceof Me){const i=n.data.some(o=>o);return new Je(i?1:0,this.getTypeInfo("bool"))}throw new Error(`Any() expects a vector argument. Line ${e.line}`)}Select(e,r){const n=this.exec.evalExpression(e.args[2],r);if(!(n instanceof Je))throw new Error(`Select() expects a bool condition. Line ${e.line}`);return n.value?this.exec.evalExpression(e.args[1],r):this.exec.evalExpression(e.args[0],r)}ArrayLength(e,r){let n=e.args[0];n instanceof eo&&(n=n.right);const i=this.exec.evalExpression(n,r);if(i instanceof Do&&i.typeInfo.size===0){const o=i.typeInfo,s=i.buffer.byteLength/o.stride;return new Je(s,this.getTypeInfo("u32"))}return new Je(i.typeInfo.size,this.getTypeInfo("u32"))}Abs(e,r){const n=this.exec.evalExpression(e.args[0],r);if(n instanceof Me)return new Me(n.data.map(o=>Math.abs(o)),n.typeInfo);const i=n;return new Je(Math.abs(i.value),i.typeInfo)}Acos(e,r){const n=this.exec.evalExpression(e.args[0],r);if(n instanceof Me)return new Me(n.data.map(o=>Math.acos(o)),n.typeInfo);const i=n;return new Je(Math.acos(i.value),n.typeInfo)}Acosh(e,r){const n=this.exec.evalExpression(e.args[0],r);if(n instanceof Me)return new Me(n.data.map(o=>Math.acosh(o)),n.typeInfo);const i=n;return new Je(Math.acosh(i.value),n.typeInfo)}Asin(e,r){const n=this.exec.evalExpression(e.args[0],r);if(n instanceof Me)return new Me(n.data.map(o=>Math.asin(o)),n.typeInfo);const i=n;return new Je(Math.asin(i.value),n.typeInfo)}Asinh(e,r){const n=this.exec.evalExpression(e.args[0],r);if(n instanceof Me)return new Me(n.data.map(o=>Math.asinh(o)),n.typeInfo);const i=n;return new Je(Math.asinh(i.value),n.typeInfo)}Atan(e,r){const n=this.exec.evalExpression(e.args[0],r);if(n instanceof Me)return new Me(n.data.map(o=>Math.atan(o)),n.typeInfo);const i=n;return new Je(Math.atan(i.value),n.typeInfo)}Atanh(e,r){const n=this.exec.evalExpression(e.args[0],r);if(n instanceof Me)return new Me(n.data.map(o=>Math.atanh(o)),n.typeInfo);const i=n;return new Je(Math.atanh(i.value),n.typeInfo)}Atan2(e,r){const n=this.exec.evalExpression(e.args[0],r),i=this.exec.evalExpression(e.args[1],r);if(n instanceof Me&&i instanceof Me)return new Me(n.data.map((a,l)=>Math.atan2(a,i.data[l])),n.typeInfo);const o=n,s=i;return new Je(Math.atan2(o.value,s.value),n.typeInfo)}Ceil(e,r){const n=this.exec.evalExpression(e.args[0],r);if(n instanceof Me)return new Me(n.data.map(o=>Math.ceil(o)),n.typeInfo);const i=n;return new Je(Math.ceil(i.value),n.typeInfo)}_clamp(e,r,n){return Math.min(Math.max(e,r),n)}Clamp(e,r){const n=this.exec.evalExpression(e.args[0],r),i=this.exec.evalExpression(e.args[1],r),o=this.exec.evalExpression(e.args[2],r);if(n instanceof Me&&i instanceof Me&&o instanceof Me)return new Me(n.data.map((c,u)=>this._clamp(c,i.data[u],o.data[u])),n.typeInfo);const s=n,a=i,l=o;return new Je(this._clamp(s.value,a.value,l.value),n.typeInfo)}Cos(e,r){const n=this.exec.evalExpression(e.args[0],r);if(n instanceof Me)return new Me(n.data.map(o=>Math.cos(o)),n.typeInfo);const i=n;return new Je(Math.cos(i.value),n.typeInfo)}Cosh(e,r){const n=this.exec.evalExpression(e.args[0],r);if(n instanceof Me)return new Me(n.data.map(o=>Math.cosh(o)),n.typeInfo);const i=n;return new Je(Math.cos(i.value),n.typeInfo)}CountLeadingZeros(e,r){const n=this.exec.evalExpression(e.args[0],r);if(n instanceof Me)return new Me(n.data.map(o=>Math.clz32(o)),n.typeInfo);const i=n;return new Je(Math.clz32(i.value),n.typeInfo)}_countOneBits(e){let r=0;for(;e!==0;)1&e&&r++,e>>=1;return r}CountOneBits(e,r){const n=this.exec.evalExpression(e.args[0],r);if(n instanceof Me)return new Me(n.data.map(o=>this._countOneBits(o)),n.typeInfo);const i=n;return new Je(this._countOneBits(i.value),n.typeInfo)}_countTrailingZeros(e){if(e===0)return 32;let r=0;for(;!(1&e);)e>>=1,r++;return r}CountTrailingZeros(e,r){const n=this.exec.evalExpression(e.args[0],r);if(n instanceof Me)return new Me(n.data.map(o=>this._countTrailingZeros(o)),n.typeInfo);const i=n;return new Je(this._countTrailingZeros(i.value),n.typeInfo)}Cross(e,r){const n=this.exec.evalExpression(e.args[0],r),i=this.exec.evalExpression(e.args[1],r);if(n instanceof Me&&i instanceof Me){if(n.data.length!==3||i.data.length!==3)return console.error(`Cross() expects 3D vectors. Line ${e.line}`),null;const o=n.data,s=i.data;return new Me([o[1]*s[2]-s[1]*o[2],o[2]*s[0]-s[2]*o[0],o[0]*s[1]-s[0]*o[1]],n.typeInfo)}return console.error(`Cross() expects vector arguments. Line ${e.line}`),null}Degrees(e,r){const n=this.exec.evalExpression(e.args[0],r),i=180/Math.PI;return n instanceof Me?new Me(n.data.map(o=>o*i),n.typeInfo):new Je(n.value*i,this.getTypeInfo("f32"))}Determinant(e,r){const n=this.exec.evalExpression(e.args[0],r);if(n instanceof Rr){const i=n.data,o=n.typeInfo.getTypeName(),s=o.endsWith("h")?this.getTypeInfo("f16"):this.getTypeInfo("f32");if(o==="mat2x2"||o==="mat2x2f"||o==="mat2x2h")return new Je(i[0]*i[3]-i[1]*i[2],s);if(o==="mat2x3"||o==="mat2x3f"||o==="mat2x3h")return new Je(i[0]*(i[4]*i[8]-i[5]*i[7])-i[1]*(i[3]*i[8]-i[5]*i[6])+i[2]*(i[3]*i[7]-i[4]*i[6]),s);if(o==="mat2x4"||o==="mat2x4f"||o==="mat2x4h")console.error(`TODO: Determinant for ${o}`);else if(o==="mat3x2"||o==="mat3x2f"||o==="mat3x2h")console.error(`TODO: Determinant for ${o}`);else{if(o==="mat3x3"||o==="mat3x3f"||o==="mat3x3h")return new Je(i[0]*(i[4]*i[8]-i[5]*i[7])-i[1]*(i[3]*i[8]-i[5]*i[6])+i[2]*(i[3]*i[7]-i[4]*i[6]),s);o==="mat3x4"||o==="mat3x4f"||o==="mat3x4h"||o==="mat4x2"||o==="mat4x2f"||o==="mat4x2h"||o==="mat4x3"||o==="mat4x3f"||o==="mat4x3h"?console.error(`TODO: Determinant for ${o}`):o!=="mat4x4"&&o!=="mat4x4f"&&o!=="mat4x4h"||console.error(`TODO: Determinant for ${o}`)}}return console.error(`Determinant expects a matrix argument. Line ${e.line}`),null}Distance(e,r){const n=this.exec.evalExpression(e.args[0],r),i=this.exec.evalExpression(e.args[1],r);if(n instanceof Me&&i instanceof Me){let a=0;for(let l=0;l<n.data.length;++l)a+=(n.data[l]-i.data[l])*(n.data[l]-i.data[l]);return new Je(Math.sqrt(a),this.getTypeInfo("f32"))}const o=n,s=i;return new Je(Math.abs(o.value-s.value),n.typeInfo)}_dot(e,r){let n=0;for(let i=0;i<e.length;++i)n+=r[i]*e[i];return n}Dot(e,r){const n=this.exec.evalExpression(e.args[0],r),i=this.exec.evalExpression(e.args[1],r);return n instanceof Me&&i instanceof Me?new Je(this._dot(n.data,i.data),this.getTypeInfo("f32")):(console.error(`Dot() expects vector arguments. Line ${e.line}`),null)}Dot4U8Packed(e,r){return console.error(`TODO: dot4U8Packed. Line ${e.line}`),null}Dot4I8Packed(e,r){return console.error(`TODO: dot4I8Packed. Line ${e.line}`),null}Exp(e,r){const n=this.exec.evalExpression(e.args[0],r);if(n instanceof Me)return new Me(n.data.map(o=>Math.exp(o)),n.typeInfo);const i=n;return new Je(Math.exp(i.value),n.typeInfo)}Exp2(e,r){const n=this.exec.evalExpression(e.args[0],r);if(n instanceof Me)return new Me(n.data.map(o=>Math.pow(2,o)),n.typeInfo);const i=n;return new Je(Math.pow(2,i.value),n.typeInfo)}ExtractBits(e,r){const n=this.exec.evalExpression(e.args[0],r),i=this.exec.evalExpression(e.args[1],r),o=this.exec.evalExpression(e.args[2],r);if(i.typeInfo.name!=="u32"&&i.typeInfo.name!=="x32")return console.error(`ExtractBits() expects an i32 offset argument. Line ${e.line}`),null;if(o.typeInfo.name!=="u32"&&o.typeInfo.name!=="x32")return console.error(`ExtractBits() expects an i32 count argument. Line ${e.line}`),null;const s=i.value,a=o.value;if(n instanceof Me)return new Me(n.data.map(c=>c>>s&(1<<a)-1),n.typeInfo);if(n.typeInfo.name!=="i32"&&n.typeInfo.name!=="x32")return console.error(`ExtractBits() expects an i32 argument. Line ${e.line}`),null;const l=n.value;return new Je(l>>s&(1<<a)-1,this.getTypeInfo("i32"))}FaceForward(e,r){const n=this.exec.evalExpression(e.args[0],r),i=this.exec.evalExpression(e.args[1],r),o=this.exec.evalExpression(e.args[2],r);if(n instanceof Me&&i instanceof Me&&o instanceof Me){const s=this._dot(i.data,o.data);return new Me(s<0?Array.from(n.data):n.data.map(a=>-a),n.typeInfo)}return console.error(`FaceForward() expects vector arguments. Line ${e.line}`),null}_firstLeadingBit(e){return e===0?-1:31-Math.clz32(e)}FirstLeadingBit(e,r){const n=this.exec.evalExpression(e.args[0],r);if(n instanceof Me)return new Me(n.data.map(o=>this._firstLeadingBit(o)),n.typeInfo);const i=n;return new Je(this._firstLeadingBit(i.value),n.typeInfo)}_firstTrailingBit(e){return e===0?-1:Math.log2(e&-e)}FirstTrailingBit(e,r){const n=this.exec.evalExpression(e.args[0],r);if(n instanceof Me)return new Me(n.data.map(o=>this._firstTrailingBit(o)),n.typeInfo);const i=n;return new Je(this._firstTrailingBit(i.value),n.typeInfo)}Floor(e,r){const n=this.exec.evalExpression(e.args[0],r);if(n instanceof Me)return new Me(n.data.map(o=>Math.floor(o)),n.typeInfo);const i=n;return new Je(Math.floor(i.value),n.typeInfo)}Fma(e,r){const n=this.exec.evalExpression(e.args[0],r),i=this.exec.evalExpression(e.args[1],r),o=this.exec.evalExpression(e.args[2],r);if(n instanceof Me&&i instanceof Me&&o instanceof Me)return n.data.length!==i.data.length||n.data.length!==o.data.length?(console.error(`Fma() expects vectors of the same length. Line ${e.line}`),null):new Me(n.data.map((c,u)=>c*i.data[u]+o.data[u]),n.typeInfo);const s=n,a=i,l=o;return new Je(s.value*a.value+l.value,s.typeInfo)}Fract(e,r){const n=this.exec.evalExpression(e.args[0],r);if(n instanceof Me)return new Me(n.data.map(o=>o-Math.floor(o)),n.typeInfo);const i=n;return new Je(i.value-Math.floor(i.value),n.typeInfo)}Frexp(e,r){return console.error(`TODO: frexp. Line ${e.line}`),null}InsertBits(e,r){const n=this.exec.evalExpression(e.args[0],r),i=this.exec.evalExpression(e.args[1],r),o=this.exec.evalExpression(e.args[2],r),s=this.exec.evalExpression(e.args[3],r);if(o.typeInfo.name!=="u32"&&o.typeInfo.name!=="x32")return console.error(`InsertBits() expects an i32 offset argument. Line ${e.line}`),null;const a=o.value,l=(1<<s.value)-1<<a,c=~l;if(n instanceof Me&&i instanceof Me)return new Me(n.data.map((_,b)=>_&c|i.data[b]<<a&l),n.typeInfo);const u=n.value,g=i.value;return new Je(u&c|g<<a&l,n.typeInfo)}InverseSqrt(e,r){const n=this.exec.evalExpression(e.args[0],r);if(n instanceof Me)return new Me(n.data.map(o=>1/Math.sqrt(o)),n.typeInfo);const i=n;return new Je(1/Math.sqrt(i.value),n.typeInfo)}Ldexp(e,r){return console.error(`TODO: ldexp. Line ${e.line}`),null}Length(e,r){const n=this.exec.evalExpression(e.args[0],r);if(n instanceof Me){let o=0;return n.data.forEach(s=>{o+=s*s}),new Je(Math.sqrt(o),this.getTypeInfo("f32"))}const i=n;return new Je(Math.abs(i.value),n.typeInfo)}Log(e,r){const n=this.exec.evalExpression(e.args[0],r);if(n instanceof Me)return new Me(n.data.map(o=>Math.log(o)),n.typeInfo);const i=n;return new Je(Math.log(i.value),n.typeInfo)}Log2(e,r){const n=this.exec.evalExpression(e.args[0],r);if(n instanceof Me)return new Me(n.data.map(o=>Math.log2(o)),n.typeInfo);const i=n;return new Je(Math.log2(i.value),n.typeInfo)}Max(e,r){const n=this.exec.evalExpression(e.args[0],r),i=this.exec.evalExpression(e.args[1],r);if(n instanceof Me&&i instanceof Me)return new Me(n.data.map((a,l)=>Math.max(a,i.data[l])),n.typeInfo);const o=n,s=i;return new Je(Math.max(o.value,s.value),n.typeInfo)}Min(e,r){const n=this.exec.evalExpression(e.args[0],r),i=this.exec.evalExpression(e.args[1],r);if(n instanceof Me&&i instanceof Me)return new Me(n.data.map((a,l)=>Math.min(a,i.data[l])),n.typeInfo);const o=n,s=i;return new Je(Math.min(o.value,s.value),n.typeInfo)}Mix(e,r){const n=this.exec.evalExpression(e.args[0],r),i=this.exec.evalExpression(e.args[1],r),o=this.exec.evalExpression(e.args[2],r);if(n instanceof Me&&i instanceof Me&&o instanceof Me)return new Me(n.data.map((l,c)=>n.data[c]*(1-o.data[c])+i.data[c]*o.data[c]),n.typeInfo);const s=i,a=o;return new Je(n.value*(1-a.value)+s.value*a.value,n.typeInfo)}Modf(e,r){const n=this.exec.evalExpression(e.args[0],r),i=this.exec.evalExpression(e.args[1],r);if(n instanceof Me&&i instanceof Me)return new Me(n.data.map((s,a)=>s%i.data[a]),n.typeInfo);const o=i;return new Je(n.value%o.value,n.typeInfo)}Normalize(e,r){const n=this.exec.evalExpression(e.args[0],r);if(n instanceof Me){const i=this.Length(e,r).value;return new Me(n.data.map(o=>o/i),n.typeInfo)}return console.error(`Normalize() expects a vector argument. Line ${e.line}`),null}Pow(e,r){const n=this.exec.evalExpression(e.args[0],r),i=this.exec.evalExpression(e.args[1],r);if(n instanceof Me&&i instanceof Me)return new Me(n.data.map((a,l)=>Math.pow(a,i.data[l])),n.typeInfo);const o=n,s=i;return new Je(Math.pow(o.value,s.value),n.typeInfo)}QuantizeToF16(e,r){const n=this.exec.evalExpression(e.args[0],r);return n instanceof Me?new Me(n.data.map(i=>i),n.typeInfo):new Je(n.value,n.typeInfo)}Radians(e,r){const n=this.exec.evalExpression(e.args[0],r);return n instanceof Me?new Me(n.data.map(i=>i*Math.PI/180),n.typeInfo):new Je(n.value*Math.PI/180,this.getTypeInfo("f32"))}Reflect(e,r){let n=this.exec.evalExpression(e.args[0],r),i=this.exec.evalExpression(e.args[1],r);if(n instanceof Me&&i instanceof Me){const o=this._dot(n.data,i.data);return new Me(n.data.map((s,a)=>s-2*o*i.data[a]),n.typeInfo)}return console.error(`Reflect() expects vector arguments. Line ${e.line}`),null}Refract(e,r){let n=this.exec.evalExpression(e.args[0],r),i=this.exec.evalExpression(e.args[1],r),o=this.exec.evalExpression(e.args[2],r);if(n instanceof Me&&i instanceof Me&&o instanceof Je){const s=this._dot(i.data,n.data);return new Me(n.data.map((a,l)=>{const c=1-o.value*o.value*(1-s*s);if(c<0)return 0;const u=Math.sqrt(c);return o.value*a-(o.value*s+u)*i.data[l]}),n.typeInfo)}return console.error(`Refract() expects vector arguments and a scalar argument. Line ${e.line}`),null}ReverseBits(e,r){return console.error(`TODO: reverseBits. Line ${e.line}`),null}Round(e,r){const n=this.exec.evalExpression(e.args[0],r);if(n instanceof Me)return new Me(n.data.map(o=>Math.round(o)),n.typeInfo);const i=n;return new Je(Math.round(i.value),n.typeInfo)}Saturate(e,r){const n=this.exec.evalExpression(e.args[0],r);if(n instanceof Me)return new Me(n.data.map(o=>Math.min(Math.max(o,0),1)),n.typeInfo);const i=n;return new Je(Math.min(Math.max(i.value,0),1),n.typeInfo)}Sign(e,r){const n=this.exec.evalExpression(e.args[0],r);if(n instanceof Me)return new Me(n.data.map(o=>Math.sign(o)),n.typeInfo);const i=n;return new Je(Math.sign(i.value),n.typeInfo)}Sin(e,r){const n=this.exec.evalExpression(e.args[0],r);if(n instanceof Me)return new Me(n.data.map(o=>Math.sin(o)),n.typeInfo);const i=n;return new Je(Math.sin(i.value),n.typeInfo)}Sinh(e,r){const n=this.exec.evalExpression(e.args[0],r);if(n instanceof Me)return new Me(n.data.map(o=>Math.sinh(o)),n.typeInfo);const i=n;return new Je(Math.sinh(i.value),n.typeInfo)}_smoothstep(e,r,n){const i=Math.min(Math.max((n-e)/(r-e),0),1);return i*i*(3-2*i)}SmoothStep(e,r){const n=this.exec.evalExpression(e.args[0],r),i=this.exec.evalExpression(e.args[1],r),o=this.exec.evalExpression(e.args[2],r);if(o instanceof Me&&n instanceof Me&&i instanceof Me)return new Me(o.data.map((c,u)=>this._smoothstep(n.data[u],i.data[u],c)),o.typeInfo);const s=n,a=i,l=o;return new Je(this._smoothstep(s.value,a.value,l.value),o.typeInfo)}Sqrt(e,r){const n=this.exec.evalExpression(e.args[0],r);if(n instanceof Me)return new Me(n.data.map(o=>Math.sqrt(o)),n.typeInfo);const i=n;return new Je(Math.sqrt(i.value),n.typeInfo)}Step(e,r){const n=this.exec.evalExpression(e.args[0],r),i=this.exec.evalExpression(e.args[1],r);if(i instanceof Me&&n instanceof Me)return new Me(i.data.map((s,a)=>s<n.data[a]?0:1),i.typeInfo);const o=n;return new Je(i.value<o.value?0:1,o.typeInfo)}Tan(e,r){const n=this.exec.evalExpression(e.args[0],r);if(n instanceof Me)return new Me(n.data.map(o=>Math.tan(o)),n.typeInfo);const i=n;return new Je(Math.tan(i.value),n.typeInfo)}Tanh(e,r){const n=this.exec.evalExpression(e.args[0],r);if(n instanceof Me)return new Me(n.data.map(o=>Math.tanh(o)),n.typeInfo);const i=n;return new Je(Math.tanh(i.value),n.typeInfo)}_getTransposeType(e){const r=e.getTypeName();return r==="mat2x2f"||r==="mat2x2h"?e:r==="mat2x3f"?this.getTypeInfo("mat3x2f"):r==="mat2x3h"?this.getTypeInfo("mat3x2h"):r==="mat2x4f"?this.getTypeInfo("mat4x2f"):r==="mat2x4h"?this.getTypeInfo("mat4x2h"):r==="mat3x2f"?this.getTypeInfo("mat2x3f"):r==="mat3x2h"?this.getTypeInfo("mat2x3h"):r==="mat3x3f"||r==="mat3x3h"?e:r==="mat3x4f"?this.getTypeInfo("mat4x3f"):r==="mat3x4h"?this.getTypeInfo("mat4x3h"):r==="mat4x2f"?this.getTypeInfo("mat2x4f"):r==="mat4x2h"?this.getTypeInfo("mat2x4h"):r==="mat4x3f"?this.getTypeInfo("mat3x4f"):r==="mat4x3h"?this.getTypeInfo("mat3x4h"):(r==="mat4x4f"||r==="mat4x4h"||console.error(`Invalid matrix type ${r}`),e)}Transpose(e,r){const n=this.exec.evalExpression(e.args[0],r);if(!(n instanceof Rr))return console.error(`Transpose() expects a matrix argument. Line ${e.line}`),null;const i=this._getTransposeType(n.typeInfo);if(n.typeInfo.name==="mat2x2"||n.typeInfo.name==="mat2x2f"||n.typeInfo.name==="mat2x2h"){const o=n.data;return new Rr([o[0],o[2],o[1],o[3]],i)}if(n.typeInfo.name==="mat2x3"||n.typeInfo.name==="mat2x3f"||n.typeInfo.name==="mat2x3h"){const o=n.data;return new Rr([o[0],o[3],o[6],o[1],o[4],o[7]],i)}if(n.typeInfo.name==="mat2x4"||n.typeInfo.name==="mat2x4f"||n.typeInfo.name==="mat2x4h"){const o=n.data;return new Rr([o[0],o[4],o[8],o[12],o[1],o[5],o[9],o[13]],i)}if(n.typeInfo.name==="mat3x2"||n.typeInfo.name==="mat3x2f"||n.typeInfo.name==="mat3x2h"){const o=n.data;return new Rr([o[0],o[3],o[1],o[4],o[2],o[5]],i)}if(n.typeInfo.name==="mat3x3"||n.typeInfo.name==="mat3x3f"||n.typeInfo.name==="mat3x3h"){const o=n.data;return new Rr([o[0],o[3],o[6],o[1],o[4],o[7],o[2],o[5],o[8]],i)}if(n.typeInfo.name==="mat3x4"||n.typeInfo.name==="mat3x4f"||n.typeInfo.name==="mat3x4h"){const o=n.data;return new Rr([o[0],o[4],o[8],o[12],o[1],o[5],o[9],o[13],o[2],o[6],o[10],o[14]],i)}if(n.typeInfo.name==="mat4x2"||n.typeInfo.name==="mat4x2f"||n.typeInfo.name==="mat4x2h"){const o=n.data;return new Rr([o[0],o[4],o[1],o[5],o[2],o[6]],i)}if(n.typeInfo.name==="mat4x3"||n.typeInfo.name==="mat4x3f"||n.typeInfo.name==="mat4x3h"){const o=n.data;return new Rr([o[0],o[4],o[8],o[1],o[5],o[9],o[2],o[6],o[10]],i)}if(n.typeInfo.name==="mat4x4"||n.typeInfo.name==="mat4x4f"||n.typeInfo.name==="mat4x4h"){const o=n.data;return new Rr([o[0],o[4],o[8],o[12],o[1],o[5],o[9],o[13],o[2],o[6],o[10],o[14],o[3],o[7],o[11],o[15]],i)}return console.error(`Invalid matrix type ${n.typeInfo.name}`),null}Trunc(e,r){const n=this.exec.evalExpression(e.args[0],r);if(n instanceof Me)return new Me(n.data.map(o=>Math.trunc(o)),n.typeInfo);const i=n;return new Je(Math.trunc(i.value),n.typeInfo)}Dpdx(e,r){return console.error(`TODO: dpdx. Line ${e.line}`),null}DpdxCoarse(e,r){return console.error(`TODO: dpdxCoarse. Line ${e.line}`),null}DpdxFine(e,r){return console.error("TODO: dpdxFine"),null}Dpdy(e,r){return console.error("TODO: dpdy"),null}DpdyCoarse(e,r){return console.error("TODO: dpdyCoarse"),null}DpdyFine(e,r){return console.error("TODO: dpdyFine"),null}Fwidth(e,r){return console.error("TODO: fwidth"),null}FwidthCoarse(e,r){return console.error("TODO: fwidthCoarse"),null}FwidthFine(e,r){return console.error("TODO: fwidthFine"),null}TextureDimensions(e,r){const n=e.args[0],i=e.args.length>1?this.exec.evalExpression(e.args[1],r).value:0;if(n instanceof za){const o=n.name,s=r.getVariableValue(o);if(s instanceof qu){if(i<0||i>=s.mipLevelCount)return console.error(`Invalid mip level for textureDimensions. Line ${e.line}`),null;const a=s.getMipLevelSize(i),l=s.dimension;return l==="1d"?new Je(a[0],this.getTypeInfo("u32")):l==="3d"?new Me(a,this.getTypeInfo("vec3u")):l==="2d"?new Me(a.slice(0,2),this.getTypeInfo("vec2u")):(console.error(`Invalid texture dimension ${l} not found. Line ${e.line}`),null)}return console.error(`Texture ${o} not found. Line ${e.line}`),null}return console.error(`Invalid texture argument for textureDimensions. Line ${e.line}`),null}TextureGather(e,r){return console.error("TODO: textureGather"),null}TextureGatherCompare(e,r){return console.error("TODO: textureGatherCompare"),null}TextureLoad(e,r){const n=e.args[0],i=this.exec.evalExpression(e.args[1],r),o=e.args.length>2?this.exec.evalExpression(e.args[2],r).value:0;if(!(i instanceof Me)||i.data.length!==2)return console.error(`Invalid UV argument for textureLoad. Line ${e.line}`),null;if(n instanceof za){const s=n.name,a=r.getVariableValue(s);if(a instanceof qu){const l=Math.floor(i.data[0]),c=Math.floor(i.data[1]);if(l<0||l>=a.width||c<0||c>=a.height)return console.error(`Texture ${s} out of bounds. Line ${e.line}`),null;const u=a.getPixel(l,c,0,o);return u===null?(console.error(`Invalid texture format for textureLoad. Line ${e.line}`),null):new Me(u,this.getTypeInfo("vec4f"))}return console.error(`Texture ${s} not found. Line ${e.line}`),null}return console.error(`Invalid texture argument for textureLoad. Line ${e.line}`),null}TextureNumLayers(e,r){const n=e.args[0];if(n instanceof za){const i=n.name,o=r.getVariableValue(i);return o instanceof qu?new Je(o.depthOrArrayLayers,this.getTypeInfo("u32")):(console.error(`Texture ${i} not found. Line ${e.line}`),null)}return console.error(`Invalid texture argument for textureNumLayers. Line ${e.line}`),null}TextureNumLevels(e,r){const n=e.args[0];if(n instanceof za){const i=n.name,o=r.getVariableValue(i);return o instanceof qu?new Je(o.mipLevelCount,this.getTypeInfo("u32")):(console.error(`Texture ${i} not found. Line ${e.line}`),null)}return console.error(`Invalid texture argument for textureNumLevels. Line ${e.line}`),null}TextureNumSamples(e,r){const n=e.args[0];if(n instanceof za){const i=n.name,o=r.getVariableValue(i);return o instanceof qu?new Je(o.sampleCount,this.getTypeInfo("u32")):(console.error(`Texture ${i} not found. Line ${e.line}`),null)}return console.error(`Invalid texture argument for textureNumSamples. Line ${e.line}`),null}TextureSample(e,r){return console.error("TODO: textureSample"),null}TextureSampleBias(e,r){return console.error("TODO: textureSampleBias"),null}TextureSampleCompare(e,r){return console.error("TODO: textureSampleCompare"),null}TextureSampleCompareLevel(e,r){return console.error("TODO: textureSampleCompareLevel"),null}TextureSampleGrad(e,r){return console.error("TODO: textureSampleGrad"),null}TextureSampleLevel(e,r){return console.error("TODO: textureSampleLevel"),null}TextureSampleBaseClampToEdge(e,r){return console.error("TODO: textureSampleBaseClampToEdge"),null}TextureStore(e,r){const n=e.args[0],i=this.exec.evalExpression(e.args[1],r),o=e.args.length===4?this.exec.evalExpression(e.args[2],r).value:0,s=e.args.length===4?this.exec.evalExpression(e.args[3],r).data:this.exec.evalExpression(e.args[2],r).data;if(s.length!==4)return console.error(`Invalid value argument for textureStore. Line ${e.line}`),null;if(!(i instanceof Me)||i.data.length!==2)return console.error(`Invalid UV argument for textureStore. Line ${e.line}`),null;if(n instanceof za){const a=n.name,l=r.getVariableValue(a);if(l instanceof qu){const c=l.getMipLevelSize(0),u=Math.floor(i.data[0]),g=Math.floor(i.data[1]);return u<0||u>=c[0]||g<0||g>=c[1]?(console.error(`Texture ${a} out of bounds. Line ${e.line}`),null):(l.setPixel(u,g,0,o,Array.from(s)),null)}return console.error(`Texture ${a} not found. Line ${e.line}`),null}return console.error(`Invalid texture argument for textureStore. Line ${e.line}`),null}AtomicLoad(e,r){let n=e.args[0];n instanceof eo&&(n=n.right);const i=this.exec.getVariableName(n,r);return r.getVariable(i).value.getSubData(this.exec,n.postfix,r)}AtomicStore(e,r){let n=e.args[0];n instanceof eo&&(n=n.right);const i=this.exec.getVariableName(n,r),o=r.getVariable(i);let s=e.args[1];const a=this.exec.evalExpression(s,r),l=o.value.getSubData(this.exec,n.postfix,r);return l instanceof Je&&a instanceof Je&&(l.value=a.value),o.value instanceof Do&&o.value.setDataValue(this.exec,l,n.postfix,r),null}AtomicAdd(e,r){let n=e.args[0];n instanceof eo&&(n=n.right);const i=this.exec.getVariableName(n,r),o=r.getVariable(i);let s=e.args[1];const a=this.exec.evalExpression(s,r),l=o.value.getSubData(this.exec,n.postfix,r),c=new Je(l.value,l.typeInfo);return l instanceof Je&&a instanceof Je&&(l.value+=a.value),o.value instanceof Do&&o.value.setDataValue(this.exec,l,n.postfix,r),c}AtomicSub(e,r){let n=e.args[0];n instanceof eo&&(n=n.right);const i=this.exec.getVariableName(n,r),o=r.getVariable(i);let s=e.args[1];const a=this.exec.evalExpression(s,r),l=o.value.getSubData(this.exec,n.postfix,r),c=new Je(l.value,l.typeInfo);return l instanceof Je&&a instanceof Je&&(l.value-=a.value),o.value instanceof Do&&o.value.setDataValue(this.exec,l,n.postfix,r),c}AtomicMax(e,r){let n=e.args[0];n instanceof eo&&(n=n.right);const i=this.exec.getVariableName(n,r),o=r.getVariable(i);let s=e.args[1];const a=this.exec.evalExpression(s,r),l=o.value.getSubData(this.exec,n.postfix,r),c=new Je(l.value,l.typeInfo);return l instanceof Je&&a instanceof Je&&(l.value=Math.max(l.value,a.value)),o.value instanceof Do&&o.value.setDataValue(this.exec,l,n.postfix,r),c}AtomicMin(e,r){let n=e.args[0];n instanceof eo&&(n=n.right);const i=this.exec.getVariableName(n,r),o=r.getVariable(i);let s=e.args[1];const a=this.exec.evalExpression(s,r),l=o.value.getSubData(this.exec,n.postfix,r),c=new Je(l.value,l.typeInfo);return l instanceof Je&&a instanceof Je&&(l.value=Math.min(l.value,a.value)),o.value instanceof Do&&o.value.setDataValue(this.exec,l,n.postfix,r),c}AtomicAnd(e,r){let n=e.args[0];n instanceof eo&&(n=n.right);const i=this.exec.getVariableName(n,r),o=r.getVariable(i);let s=e.args[1];const a=this.exec.evalExpression(s,r),l=o.value.getSubData(this.exec,n.postfix,r),c=new Je(l.value,l.typeInfo);return l instanceof Je&&a instanceof Je&&(l.value=l.value&a.value),o.value instanceof Do&&o.value.setDataValue(this.exec,l,n.postfix,r),c}AtomicOr(e,r){let n=e.args[0];n instanceof eo&&(n=n.right);const i=this.exec.getVariableName(n,r),o=r.getVariable(i);let s=e.args[1];const a=this.exec.evalExpression(s,r),l=o.value.getSubData(this.exec,n.postfix,r),c=new Je(l.value,l.typeInfo);return l instanceof Je&&a instanceof Je&&(l.value=l.value|a.value),o.value instanceof Do&&o.value.setDataValue(this.exec,l,n.postfix,r),c}AtomicXor(e,r){let n=e.args[0];n instanceof eo&&(n=n.right);const i=this.exec.getVariableName(n,r),o=r.getVariable(i);let s=e.args[1];const a=this.exec.evalExpression(s,r),l=o.value.getSubData(this.exec,n.postfix,r),c=new Je(l.value,l.typeInfo);return l instanceof Je&&a instanceof Je&&(l.value=l.value^a.value),o.value instanceof Do&&o.value.setDataValue(this.exec,l,n.postfix,r),c}AtomicExchange(e,r){let n=e.args[0];n instanceof eo&&(n=n.right);const i=this.exec.getVariableName(n,r),o=r.getVariable(i);let s=e.args[1];const a=this.exec.evalExpression(s,r),l=o.value.getSubData(this.exec,n.postfix,r),c=new Je(l.value,l.typeInfo);return l instanceof Je&&a instanceof Je&&(l.value=a.value),o.value instanceof Do&&o.value.setDataValue(this.exec,l,n.postfix,r),c}AtomicCompareExchangeWeak(e,r){return console.error("TODO: atomicCompareExchangeWeak"),null}Pack4x8snorm(e,r){return console.error("TODO: pack4x8snorm"),null}Pack4x8unorm(e,r){return console.error("TODO: pack4x8unorm"),null}Pack4xI8(e,r){return console.error("TODO: pack4xI8"),null}Pack4xU8(e,r){return console.error("TODO: pack4xU8"),null}Pack4x8Clamp(e,r){return console.error("TODO: pack4x8Clamp"),null}Pack4xU8Clamp(e,r){return console.error("TODO: pack4xU8Clamp"),null}Pack2x16snorm(e,r){return console.error("TODO: pack2x16snorm"),null}Pack2x16unorm(e,r){return console.error("TODO: pack2x16unorm"),null}Pack2x16float(e,r){return console.error("TODO: pack2x16float"),null}Unpack4x8snorm(e,r){return console.error("TODO: unpack4x8snorm"),null}Unpack4x8unorm(e,r){return console.error("TODO: unpack4x8unorm"),null}Unpack4xI8(e,r){return console.error("TODO: unpack4xI8"),null}Unpack4xU8(e,r){return console.error("TODO: unpack4xU8"),null}Unpack2x16snorm(e,r){return console.error("TODO: unpack2x16snorm"),null}Unpack2x16unorm(e,r){return console.error("TODO: unpack2x16unorm"),null}Unpack2x16float(e,r){return console.error("TODO: unpack2x16float"),null}StorageBarrier(e,r){return null}TextureBarrier(e,r){return null}WorkgroupBarrier(e,r){return null}WorkgroupUniformLoad(e,r){return null}SubgroupAdd(e,r){return console.error("TODO: subgroupAdd"),null}SubgroupExclusiveAdd(e,r){return console.error("TODO: subgroupExclusiveAdd"),null}SubgroupInclusiveAdd(e,r){return console.error("TODO: subgroupInclusiveAdd"),null}SubgroupAll(e,r){return console.error("TODO: subgroupAll"),null}SubgroupAnd(e,r){return console.error("TODO: subgroupAnd"),null}SubgroupAny(e,r){return console.error("TODO: subgroupAny"),null}SubgroupBallot(e,r){return console.error("TODO: subgroupBallot"),null}SubgroupBroadcast(e,r){return console.error("TODO: subgroupBroadcast"),null}SubgroupBroadcastFirst(e,r){return console.error("TODO: subgroupBroadcastFirst"),null}SubgroupElect(e,r){return console.error("TODO: subgroupElect"),null}SubgroupMax(e,r){return console.error("TODO: subgroupMax"),null}SubgroupMin(e,r){return console.error("TODO: subgroupMin"),null}SubgroupMul(e,r){return console.error("TODO: subgroupMul"),null}SubgroupExclusiveMul(e,r){return console.error("TODO: subgroupExclusiveMul"),null}SubgroupInclusiveMul(e,r){return console.error("TODO: subgroupInclusiveMul"),null}SubgroupOr(e,r){return console.error("TODO: subgroupOr"),null}SubgroupShuffle(e,r){return console.error("TODO: subgroupShuffle"),null}SubgroupShuffleDown(e,r){return console.error("TODO: subgroupShuffleDown"),null}SubgroupShuffleUp(e,r){return console.error("TODO: subgroupShuffleUp"),null}SubgroupShuffleXor(e,r){return console.error("TODO: subgroupShuffleXor"),null}SubgroupXor(e,r){return console.error("TODO: subgroupXor"),null}QuadBroadcast(e,r){return console.error("TODO: quadBroadcast"),null}QuadSwapDiagonal(e,r){return console.error("TODO: quadSwapDiagonal"),null}QuadSwapX(e,r){return console.error("TODO: quadSwapX"),null}QuadSwapY(e,r){return console.error("TODO: quadSwapY"),null}};const uw={vec2:2,vec2f:2,vec2i:2,vec2u:2,vec2b:2,vec2h:2,vec3:3,vec3f:3,vec3i:3,vec3u:3,vec3b:3,vec3h:3,vec4:4,vec4f:4,vec4i:4,vec4u:4,vec4b:4,vec4h:4},zs={mat2x2:[2,2,4],mat2x2f:[2,2,4],mat2x2h:[2,2,4],mat2x3:[2,3,6],mat2x3f:[2,3,6],mat2x3h:[2,3,6],mat2x4:[2,4,8],mat2x4f:[2,4,8],mat2x4h:[2,4,8],mat3x2:[3,2,6],mat3x2f:[3,2,6],mat3x2h:[3,2,6],mat3x3:[3,3,9],mat3x3f:[3,3,9],mat3x3h:[3,3,9],mat3x4:[3,4,12],mat3x4f:[3,4,12],mat3x4h:[3,4,12],mat4x2:[4,2,8],mat4x2f:[4,2,8],mat4x2h:[4,2,8],mat4x3:[4,3,12],mat4x3f:[4,3,12],mat4x3h:[4,3,12],mat4x4:[4,4,16],mat4x4f:[4,4,16],mat4x4h:[4,4,16]};let k1=class yl extends Ise{constructor(e,r){var n;super(),this.ast=e??[],this.reflection=new cg,this.reflection.updateAST(this.ast),this.context=(n=r==null?void 0:r.clone())!==null&&n!==void 0?n:new Rse,this.builtins=new Nse(this),this.typeInfo={bool:this.getTypeInfo(wt.bool),i32:this.getTypeInfo(wt.i32),u32:this.getTypeInfo(wt.u32),f32:this.getTypeInfo(wt.f32),f16:this.getTypeInfo(wt.f16),vec2f:this.getTypeInfo(it.vec2f),vec2u:this.getTypeInfo(it.vec2u),vec2i:this.getTypeInfo(it.vec2i),vec2h:this.getTypeInfo(it.vec2h),vec3f:this.getTypeInfo(it.vec3f),vec3u:this.getTypeInfo(it.vec3u),vec3i:this.getTypeInfo(it.vec3i),vec3h:this.getTypeInfo(it.vec3h),vec4f:this.getTypeInfo(it.vec4f),vec4u:this.getTypeInfo(it.vec4u),vec4i:this.getTypeInfo(it.vec4i),vec4h:this.getTypeInfo(it.vec4h),mat2x2f:this.getTypeInfo(it.mat2x2f),mat2x3f:this.getTypeInfo(it.mat2x3f),mat2x4f:this.getTypeInfo(it.mat2x4f),mat3x2f:this.getTypeInfo(it.mat3x2f),mat3x3f:this.getTypeInfo(it.mat3x3f),mat3x4f:this.getTypeInfo(it.mat3x4f),mat4x2f:this.getTypeInfo(it.mat4x2f),mat4x3f:this.getTypeInfo(it.mat4x3f),mat4x4f:this.getTypeInfo(it.mat4x4f)}}getVariableValue(e){var r,n;const i=(n=(r=this.context.getVariable(e))===null||r===void 0?void 0:r.value)!==null&&n!==void 0?n:null;if(i===null)return null;if(i instanceof Je)return i.value;if(i instanceof Me||i instanceof Rr)return Array.from(i.data);if(i instanceof Do&&i.typeInfo instanceof sh){if(i.typeInfo.format.name==="u32")return Array.from(new Uint32Array(i.buffer,i.offset,i.typeInfo.count));if(i.typeInfo.format.name==="i32")return Array.from(new Int32Array(i.buffer,i.offset,i.typeInfo.count));if(i.typeInfo.format.name==="f32")return Array.from(new Float32Array(i.buffer,i.offset,i.typeInfo.count))}return console.error(`Unsupported return variable type ${i.typeInfo.name}`),null}execute(e){(e=e??{}).constants&&this._setOverrides(e.constants,this.context),this._execStatements(this.ast,this.context)}dispatchWorkgroups(e,r,n,i){const o=this.context.clone();(i=i??{}).constants&&this._setOverrides(i.constants,o),this._execStatements(this.ast,o);const s=o.getFunction(e);if(!s)return void console.error(`Function ${e} not found`);if(typeof r=="number")r=[r,1,1];else{if(r.length===0)return void console.error("Invalid dispatch count");r.length===1?r=[r[0],1,1]:r.length===2?r=[r[0],r[1],1]:r.length>3&&(r=[r[0],r[1],r[2]])}const a=r[0],l=r[1],c=r[2],u=this.getTypeInfo("vec3u");o.setVariable("@num_workgroups",new Me(r,u));const g=this.reflection.getFunctionInfo(e);g===null&&console.error(`Function ${e} not found in reflection data`);for(const _ in n)for(const b in n[_]){const P=n[_][b];o.variables.forEach(E=>{var T;const O=E.node;if(O!=null&&O.attributes){let L=null,N=null;for(const D of O.attributes)D.name==="binding"?L=D.value:D.name==="group"&&(N=D.value);if(b==L&&_==N){let D=!1;for(const B of g.resources)if(B.name===E.name&&B.group===parseInt(_)&&B.binding===parseInt(b)){D=!0;break}if(D)if(P.texture!==void 0&&P.descriptor!==void 0){const B=new qu(P.texture,this.getTypeInfo(O.type),P.descriptor,(T=P.texture.view)!==null&&T!==void 0?T:null);E.value=B}else P.uniform!==void 0?E.value=new Do(P.uniform,this.getTypeInfo(O.type)):E.value=new Do(P,this.getTypeInfo(O.type))}}})}for(let _=0;_<c;++_)for(let b=0;b<l;++b)for(let P=0;P<a;++P)o.setVariable("@workgroup_id",new Me([P,b,_],this.getTypeInfo("vec3u"))),this._dispatchWorkgroup(s,[P,b,_],o)}execStatement(e,r){if(e instanceof c$)return this.evalExpression(e.value,r);if(e instanceof f$){if(e.condition){const n=this.evalExpression(e.condition,r);if(!(n instanceof Je))throw new Error("Invalid break-if condition");if(!n.value)return null}return yl._breakObj}if(e instanceof h$)return yl._continueObj;if(e instanceof ag)this._let(e,r);else if(e instanceof Yu)this._var(e,r);else if(e instanceof S1)this._const(e,r);else if(e instanceof Og)this._function(e,r);else{if(e instanceof l$)return this._if(e,r);if(e instanceof a$)return this._switch(e,r);if(e instanceof n$)return this._for(e,r);if(e instanceof r$)return this._while(e,r);if(e instanceof s$)return this._loop(e,r);if(e instanceof U4){const n=r.clone();return n.currentFunctionName=r.currentFunctionName,this._execStatements(e.body,n)}if(e instanceof o$)this._assign(e,r);else if(e instanceof i$)this._increment(e,r);else{if(e instanceof Hu)return null;if(e instanceof zP){const n=e.name;r.getVariable(n)===null&&r.setVariable(n,new Je(0,this.getTypeInfo("u32")))}else if(e instanceof WP)this._call(e,r);else{if(e instanceof u$||e instanceof VP)return null;console.error("Invalid statement type.",e,`Line ${e.line}`)}}}return null}evalExpression(e,r){return e instanceof hc?this._evalBinaryOp(e,r):e instanceof go?this._evalLiteral(e,r):e instanceof za?this._evalVariable(e,r):e instanceof HP?this._evalCall(e,r):e instanceof iu?this._evalCreate(e,r):e instanceof d$?this._evalConst(e,r):e instanceof A$?this._evalBitcast(e,r):e instanceof eo?this._evalUnaryOp(e,r):(console.error("Invalid expression type",e,`Line ${e.line}`),null)}getTypeInfo(e){var r;if(e instanceof wt){const i=this.reflection.getTypeInfo(e);if(i!==null)return i}let n=(r=this.typeInfo[e])!==null&&r!==void 0?r:null;return n!==null||(n=this.reflection.getTypeInfoByName(e)),n}_setOverrides(e,r){for(const n in e){const i=e[n],o=this.reflection.getOverrideInfo(n);o!==null?(o.type===null&&(o.type=this.getTypeInfo("u32")),o.type.name==="u32"||o.type.name==="i32"||o.type.name==="f32"||o.type.name==="f16"?r.setVariable(n,new Je(i,o.type)):o.type.name==="bool"?r.setVariable(n,new Je(i?1:0,o.type)):o.type.name==="vec2"||o.type.name==="vec3"||o.type.name==="vec4"||o.type.name==="vec2f"||o.type.name==="vec3f"||o.type.name==="vec4f"||o.type.name==="vec2i"||o.type.name==="vec3i"||o.type.name==="vec4i"||o.type.name==="vec2u"||o.type.name==="vec3u"||o.type.name==="vec4u"||o.type.name==="vec2h"||o.type.name==="vec3h"||o.type.name==="vec4h"?r.setVariable(n,new Me(i,o.type)):console.error(`Invalid constant type for ${n}`)):console.error(`Override ${n} does not exist in the shader.`)}}_dispatchWorkgroup(e,r,n){const i=[1,1,1];for(const u of e.node.attributes)if(u.name==="workgroup_size"){if(u.value.length>0){const g=n.getVariableValue(u.value[0]);i[0]=g instanceof Je?g.value:parseInt(u.value[0])}if(u.value.length>1){const g=n.getVariableValue(u.value[1]);i[1]=g instanceof Je?g.value:parseInt(u.value[1])}if(u.value.length>2){const g=n.getVariableValue(u.value[2]);i[2]=g instanceof Je?g.value:parseInt(u.value[2])}}const o=this.getTypeInfo("vec3u"),s=this.getTypeInfo("u32");n.setVariable("@workgroup_size",new Me(i,o));const a=i[0],l=i[1],c=i[2];for(let u=0,g=0;u<c;++u)for(let _=0;_<l;++_)for(let b=0;b<a;++b,++g){const P=[b,_,u],E=[b+r[0]*i[0],_+r[1]*i[1],u+r[2]*i[2]];n.setVariable("@local_invocation_id",new Me(P,o)),n.setVariable("@global_invocation_id",new Me(E,o)),n.setVariable("@local_invocation_index",new Je(g,s)),this._dispatchExec(e,n)}}_dispatchExec(e,r){for(const n of e.node.args)for(const i of n.attributes)if(i.name==="builtin"){const o=`@${i.value}`,s=r.getVariable(o);s!==void 0&&r.variables.set(n.name,s)}this._execStatements(e.node.body,r)}getVariableName(e,r){for(;e instanceof eo;)e=e.right;return e instanceof za?e.name:(console.error("Unknown variable type",e,"Line",e.line),null)}_execStatements(e,r){for(const n of e){if(n instanceof Array){const o=r.clone(),s=this._execStatements(n,o);if(s)return s;continue}const i=this.execStatement(n,r);if(i)return i}return null}_call(e,r){const n=r.clone();n.currentFunctionName=e.name;const i=r.getFunction(e.name);if(i){for(let o=0;o<i.node.args.length;++o){const s=i.node.args[o],a=this.evalExpression(e.args[o],n);n.setVariable(s.name,a,s)}this._execStatements(i.node.body,n)}else e.isBuiltin?this._callBuiltinFunction(e,n):this.getTypeInfo(e.name)&&this._evalCreate(e,r)}_increment(e,r){const n=this.getVariableName(e.variable,r),i=r.getVariable(n);i?e.operator==="++"?i.value instanceof Je?i.value.value++:console.error(`Variable ${n} is not a scalar. Line ${e.line}`):e.operator==="--"?i.value instanceof Je?i.value.value--:console.error(`Variable ${n} is not a scalar. Line ${e.line}`):console.error(`Unknown increment operator ${e.operator}. Line ${e.line}`):console.error(`Variable ${n} not found. Line ${e.line}`)}_getVariableData(e,r){if(e instanceof za){const n=this.getVariableName(e,r),i=r.getVariable(n);return i===null?(console.error(`Variable ${n} not found. Line ${e.line}`),null):i.value.getSubData(this,e.postfix,r)}if(e instanceof eo){if(e.operator==="*"){const n=this._getVariableData(e.right,r);return n instanceof mA?n.reference.getSubData(this,e.postfix,r):(console.error(`Variable ${e.right} is not a pointer. Line ${e.line}`),null)}if(e.operator==="&"){const n=this._getVariableData(e.right,r);return new mA(n)}}return null}_assign(e,r){let n=null,i="<var>",o=null;if(e.variable instanceof eo){const l=this._getVariableData(e.variable,r),c=this.evalExpression(e.value,r),u=e.operator;if(u==="="){if(l instanceof Je||l instanceof Me||l instanceof Rr){if(c instanceof Je||c instanceof Me||c instanceof Rr&&l.data.length===c.data.length)return void l.data.set(c.data);console.error(`Invalid assignment. Line ${e.line}`)}else if(l instanceof Do&&c instanceof Do&&l.buffer.byteLength-l.offset>=c.buffer.byteLength-c.offset)return void(l.buffer.byteLength%4==0?new Uint32Array(l.buffer,l.offset,l.typeInfo.size/4).set(new Uint32Array(c.buffer,c.offset,c.typeInfo.size/4)):new Uint8Array(l.buffer,l.offset,l.typeInfo.size).set(new Uint8Array(c.buffer,c.offset,c.typeInfo.size)));return console.error(`Invalid assignment. Line ${e.line}`),null}if(u==="+=")return l instanceof Je||l instanceof Me||l instanceof Rr?c instanceof Je||c instanceof Me||c instanceof Rr?void l.data.set(c.data.map((g,_)=>l.data[_]+g)):void console.error(`Invalid assignment . Line ${e.line}`):void console.error(`Invalid assignment. Line ${e.line}`);if(u==="-=")return(l instanceof Je||l instanceof Me||l instanceof Rr)&&(c instanceof Je||c instanceof Me||c instanceof Rr)?void l.data.set(c.data.map((g,_)=>l.data[_]-g)):void console.error(`Invalid assignment. Line ${e.line}`)}if(e.variable instanceof eo){if(e.variable.operator==="*"){i=this.getVariableName(e.variable.right,r);const l=r.getVariable(i);if(!(l&&l.value instanceof mA))return void console.error(`Variable ${i} is not a pointer. Line ${e.line}`);n=l.value.reference;let c=e.variable.postfix;if(!c){let u=e.variable.right;for(;u instanceof eo;){if(u.postfix){c=u.postfix;break}u=u.right}}c&&(n=n.getSubData(this,c,r))}}else{o=e.variable.postfix,i=this.getVariableName(e.variable,r);const l=r.getVariable(i);if(l===null)return void console.error(`Variable ${i} not found. Line ${e.line}`);n=l.value}if(n instanceof mA&&(n=n.reference),n===null)return void console.error(`Variable ${i} not found. Line ${e.line}`);const s=this.evalExpression(e.value,r),a=e.operator;if(a!=="="){const l=n.getSubData(this,o,r);if(l instanceof Me&&s instanceof Je){const c=l.data,u=s.value;if(a==="+=")for(let g=0;g<c.length;++g)c[g]+=u;else if(a==="-=")for(let g=0;g<c.length;++g)c[g]-=u;else if(a==="*=")for(let g=0;g<c.length;++g)c[g]*=u;else if(a==="/=")for(let g=0;g<c.length;++g)c[g]/=u;else if(a==="%=")for(let g=0;g<c.length;++g)c[g]%=u;else if(a==="&=")for(let g=0;g<c.length;++g)c[g]&=u;else if(a==="|=")for(let g=0;g<c.length;++g)c[g]|=u;else if(a==="^=")for(let g=0;g<c.length;++g)c[g]^=u;else if(a==="<<=")for(let g=0;g<c.length;++g)c[g]<<=u;else if(a===">>=")for(let g=0;g<c.length;++g)c[g]>>=u;else console.error(`Invalid operator ${a}. Line ${e.line}`)}else if(l instanceof Me&&s instanceof Me){const c=l.data,u=s.data;if(c.length!==u.length)return void console.error(`Vector length mismatch. Line ${e.line}`);if(a==="+=")for(let g=0;g<c.length;++g)c[g]+=u[g];else if(a==="-=")for(let g=0;g<c.length;++g)c[g]-=u[g];else if(a==="*=")for(let g=0;g<c.length;++g)c[g]*=u[g];else if(a==="/=")for(let g=0;g<c.length;++g)c[g]/=u[g];else if(a==="%=")for(let g=0;g<c.length;++g)c[g]%=u[g];else if(a==="&=")for(let g=0;g<c.length;++g)c[g]&=u[g];else if(a==="|=")for(let g=0;g<c.length;++g)c[g]|=u[g];else if(a==="^=")for(let g=0;g<c.length;++g)c[g]^=u[g];else if(a==="<<=")for(let g=0;g<c.length;++g)c[g]<<=u[g];else if(a===">>=")for(let g=0;g<c.length;++g)c[g]>>=u[g];else console.error(`Invalid operator ${a}. Line ${e.line}`)}else{if(!(l instanceof Je&&s instanceof Je))return void console.error(`Invalid type for ${e.operator} operator. Line ${e.line}`);a==="+="?l.value+=s.value:a==="-="?l.value-=s.value:a==="*="?l.value*=s.value:a==="/="?l.value/=s.value:a==="%="?l.value%=s.value:a==="&="?l.value&=s.value:a==="|="?l.value|=s.value:a==="^="?l.value^=s.value:a==="<<="?l.value<<=s.value:a===">>="?l.value>>=s.value:console.error(`Invalid operator ${a}. Line ${e.line}`)}return void(n instanceof Do&&n.setDataValue(this,l,o,r))}if(n instanceof Do)n.setDataValue(this,s,o,r);else if(o){if(!(n instanceof Me||n instanceof Rr))return void console.error(`Variable ${i} is not a vector or matrix. Line ${e.line}`);if(o instanceof c0){const l=this.evalExpression(o.index,r).value;if(n instanceof Me){if(!(s instanceof Je))return void console.error(`Invalid assignment to ${i}. Line ${e.line}`);n.data[l]=s.value}else{if(!(n instanceof Rr))return void console.error(`Invalid assignment to ${i}. Line ${e.line}`);{const c=this.evalExpression(o.index,r).value;if(c<0)return void console.error(`Invalid assignment to ${i}. Line ${e.line}`);if(!(s instanceof Me))return void console.error(`Invalid assignment to ${i}. Line ${e.line}`);{const u=n.typeInfo.getTypeName();if(u==="mat2x2"||u==="mat2x2f"||u==="mat2x2h"){if(!(c<2&&s.data.length===2))return void console.error(`Invalid assignment to ${i}. Line ${e.line}`);n.data[2*c]=s.data[0],n.data[2*c+1]=s.data[1]}else if(u==="mat2x3"||u==="mat2x3f"||u==="mat2x3h"){if(!(c<2&&s.data.length===3))return void console.error(`Invalid assignment to ${i}. Line ${e.line}`);n.data[3*c]=s.data[0],n.data[3*c+1]=s.data[1],n.data[3*c+2]=s.data[2]}else if(u==="mat2x4"||u==="mat2x4f"||u==="mat2x4h"){if(!(c<2&&s.data.length===4))return void console.error(`Invalid assignment to ${i}. Line ${e.line}`);n.data[4*c]=s.data[0],n.data[4*c+1]=s.data[1],n.data[4*c+2]=s.data[2],n.data[4*c+3]=s.data[3]}else if(u==="mat3x2"||u==="mat3x2f"||u==="mat3x2h"){if(!(c<3&&s.data.length===2))return void console.error(`Invalid assignment to ${i}. Line ${e.line}`);n.data[2*c]=s.data[0],n.data[2*c+1]=s.data[1]}else if(u==="mat3x3"||u==="mat3x3f"||u==="mat3x3h"){if(!(c<3&&s.data.length===3))return void console.error(`Invalid assignment to ${i}. Line ${e.line}`);n.data[3*c]=s.data[0],n.data[3*c+1]=s.data[1],n.data[3*c+2]=s.data[2]}else if(u==="mat3x4"||u==="mat3x4f"||u==="mat3x4h"){if(!(c<3&&s.data.length===4))return void console.error(`Invalid assignment to ${i}. Line ${e.line}`);n.data[4*c]=s.data[0],n.data[4*c+1]=s.data[1],n.data[4*c+2]=s.data[2],n.data[4*c+3]=s.data[3]}else if(u==="mat4x2"||u==="mat4x2f"||u==="mat4x2h"){if(!(c<4&&s.data.length===2))return void console.error(`Invalid assignment to ${i}. Line ${e.line}`);n.data[2*c]=s.data[0],n.data[2*c+1]=s.data[1]}else if(u==="mat4x3"||u==="mat4x3f"||u==="mat4x3h"){if(!(c<4&&s.data.length===3))return void console.error(`Invalid assignment to ${i}. Line ${e.line}`);n.data[3*c]=s.data[0],n.data[3*c+1]=s.data[1],n.data[3*c+2]=s.data[2]}else{if(u!=="mat4x4"&&u!=="mat4x4f"&&u!=="mat4x4h")return void console.error(`Invalid assignment to ${i}. Line ${e.line}`);if(!(c<4&&s.data.length===4))return void console.error(`Invalid assignment to ${i}. Line ${e.line}`);n.data[4*c]=s.data[0],n.data[4*c+1]=s.data[1],n.data[4*c+2]=s.data[2],n.data[4*c+3]=s.data[3]}}}}}else if(o instanceof Sd){const l=o.value;if(!(n instanceof Me))return void console.error(`Invalid assignment to ${l}. Variable ${i} is not a vector. Line ${e.line}`);if(s instanceof Je){if(l.length>1)return void console.error(`Invalid assignment to ${l} for variable ${i}. Line ${e.line}`);if(l==="x")n.data[0]=s.value;else if(l==="y"){if(n.data.length<2)return void console.error(`Invalid assignment to ${l} for variable ${i}. Line ${e.line}`);n.data[1]=s.value}else if(l==="z"){if(n.data.length<3)return void console.error(`Invalid assignment to ${l} for variable ${i}. Line ${e.line}`);n.data[2]=s.value}else if(l==="w"){if(n.data.length<4)return void console.error(`Invalid assignment to ${l} for variable ${i}. Line ${e.line}`);n.data[3]=s.value}}else{if(!(s instanceof Me))return void console.error(`Invalid assignment to ${i}. Line ${e.line}`);if(l.length!==s.data.length)return void console.error(`Invalid assignment to ${l} for variable ${i}. Line ${e.line}`);for(let c=0;c<l.length;++c){const u=l[c];if(u==="x"||u==="r")n.data[0]=s.data[c];else if(u==="y"||u==="g"){if(s.data.length<2)return void console.error(`Invalid assignment to ${u} for variable ${i}. Line ${e.line}`);n.data[1]=s.data[c]}else if(u==="z"||u==="b"){if(s.data.length<3)return void console.error(`Invalid assignment to ${u} for variable ${i}. Line ${e.line}`);n.data[2]=s.data[c]}else{if(u!=="w"&&u!=="a")return void console.error(`Invalid assignment to ${u} for variable ${i}. Line ${e.line}`);if(s.data.length<4)return void console.error(`Invalid assignment to ${u} for variable ${i}. Line ${e.line}`);n.data[3]=s.data[c]}}}}}else n instanceof Je&&s instanceof Je?n.value=s.value:n instanceof Me&&s instanceof Me||n instanceof Rr&&s instanceof Rr?n.data.set(s.data):console.error(`Invalid assignment to ${i}. Line ${e.line}`)}_function(e,r){const n=new Ose(e);r.functions.set(e.name,n)}_const(e,r){let n=null;e.value!==null&&(n=this.evalExpression(e.value,r)),r.createVariable(e.name,n,e)}_let(e,r){let n=null;if(e.value!==null){if(n=this.evalExpression(e.value,r),n===null)return void console.error(`Invalid value for variable ${e.name}. Line ${e.line}`);e.value instanceof eo||(n=n.clone())}else{const i=e.type.name;if(i==="f32"||i==="i32"||i==="u32"||i==="bool"||i==="f16"||i==="vec2"||i==="vec3"||i==="vec4"||i==="vec2f"||i==="vec3f"||i==="vec4f"||i==="vec2i"||i==="vec3i"||i==="vec4i"||i==="vec2u"||i==="vec3u"||i==="vec4u"||i==="vec2h"||i==="vec3h"||i==="vec4h"||i==="vec2b"||i==="vec3b"||i==="vec4b"||i==="mat2x2"||i==="mat2x3"||i==="mat2x4"||i==="mat3x2"||i==="mat3x3"||i==="mat3x4"||i==="mat4x2"||i==="mat4x3"||i==="mat4x4"||i==="mat2x2f"||i==="mat2x3f"||i==="mat2x4f"||i==="mat3x2f"||i==="mat3x3f"||i==="mat3x4f"||i==="mat4x2f"||i==="mat4x3f"||i==="mat4x4f"||i==="mat2x2h"||i==="mat2x3h"||i==="mat2x4h"||i==="mat3x2h"||i==="mat3x3h"||i==="mat3x4h"||i==="mat4x2h"||i==="mat4x3h"||i==="mat4x4h"||i==="array"){const o=new iu(e.type,[]);n=this._evalCreate(o,r)}}r.createVariable(e.name,n,e)}_var(e,r){let n=null;if(e.value!==null){if(n=this.evalExpression(e.value,r),n===null)return void console.error(`Invalid value for variable ${e.name}. Line ${e.line}`);e.value instanceof eo||(n=n.clone())}else{if(e.type===null)return void console.error(`Variable ${e.name} has no type. Line ${e.line}`);const i=e.type.name;if(i==="f32"||i==="i32"||i==="u32"||i==="bool"||i==="f16"||i==="vec2"||i==="vec3"||i==="vec4"||i==="vec2f"||i==="vec3f"||i==="vec4f"||i==="vec2i"||i==="vec3i"||i==="vec4i"||i==="vec2u"||i==="vec3u"||i==="vec4u"||i==="vec2h"||i==="vec3h"||i==="vec4h"||i==="vec2b"||i==="vec3b"||i==="vec4b"||i==="mat2x2"||i==="mat2x3"||i==="mat2x4"||i==="mat3x2"||i==="mat3x3"||i==="mat3x4"||i==="mat4x2"||i==="mat4x3"||i==="mat4x4"||i==="mat2x2f"||i==="mat2x3f"||i==="mat2x4f"||i==="mat3x2f"||i==="mat3x3f"||i==="mat3x4f"||i==="mat4x2f"||i==="mat4x3f"||i==="mat4x4f"||i==="mat2x2h"||i==="mat2x3h"||i==="mat2x4h"||i==="mat3x2h"||i==="mat3x3h"||i==="mat3x4h"||i==="mat4x2h"||i==="mat4x3h"||i==="mat4x4h"||e.type instanceof lg||e.type instanceof Hu||e.type instanceof it){const o=new iu(e.type,[]);n=this._evalCreate(o,r)}}r.createVariable(e.name,n,e)}_switch(e,r){r=r.clone();const n=this.evalExpression(e.condition,r);if(!(n instanceof Je))return console.error(`Invalid if condition. Line ${e.line}`),null;let i=null;for(const o of e.cases)if(o instanceof m$)for(const s of o.selectors){if(s instanceof P1){i=o;continue}const a=this.evalExpression(s,r);if(!(a instanceof Je))return console.error(`Invalid case selector. Line ${e.line}`),null;if(a.value===n.value)return this._execStatements(o.body,r)}else o instanceof v$&&(i=o);return i?this._execStatements(i.body,r):null}_if(e,r){r=r.clone();const n=this.evalExpression(e.condition,r);if(!(n instanceof Je))return console.error(`Invalid if condition. Line ${e.line}`),null;if(n.value)return this._execStatements(e.body,r);for(const i of e.elseif){const o=this.evalExpression(i.condition,r);if(!(o instanceof Je))return console.error(`Invalid if condition. Line ${e.line}`),null;if(o.value)return this._execStatements(i.body,r)}return e.else?this._execStatements(e.else,r):null}_getScalarValue(e){return e instanceof Je?e.value:(console.error("Expected scalar value.",e),0)}_for(e,r){for(r=r.clone(),this.execStatement(e.init,r);this._getScalarValue(this.evalExpression(e.condition,r));){const n=this._execStatements(e.body,r);if(n===yl._breakObj)break;if(n!==null&&n!==yl._continueObj)return n;this.execStatement(e.increment,r)}return null}_loop(e,r){for(r=r.clone();;){const n=this._execStatements(e.body,r);if(n===yl._breakObj)break;if(n===yl._continueObj){if(e.continuing&&this._execStatements(e.continuing.body,r)===yl._breakObj)break}else if(n!==null)return n}return null}_while(e,r){for(r=r.clone();this._getScalarValue(this.evalExpression(e.condition,r));){const n=this._execStatements(e.body,r);if(n===yl._breakObj)break;if(n!==yl._continueObj&&n!==null)return n}return null}_evalBitcast(e,r){const n=this.evalExpression(e.value,r),i=e.type;if(n instanceof Je){const o=lR(n.value,n.typeInfo.name,i.name);return new Je(o,this.getTypeInfo(i))}if(n instanceof Me){const o=n.typeInfo.getTypeName();let s="";if(o.endsWith("f"))s="f32";else if(o.endsWith("i"))s="i32";else if(o.endsWith("u"))s="u32";else if(o.endsWith("b"))s="bool";else{if(!o.endsWith("h"))return console.error(`Unknown vector type ${o}. Line ${e.line}`),null;s="f16"}const a=i.getTypeName();let l="";if(a.endsWith("f"))l="f32";else if(a.endsWith("i"))l="i32";else if(a.endsWith("u"))l="u32";else if(a.endsWith("b"))l="bool";else{if(!a.endsWith("h"))return console.error(`Unknown vector type ${l}. Line ${e.line}`),null;l="f16"}const c=(function(u,g,_){if(g===_)return u;const b=new Array(u.length);for(let P=0;P<u.length;P++)b[P]=lR(u[P],g,_);return b})(Array.from(n.data),s,l);return new Me(c,this.getTypeInfo(i))}return console.error(`TODO: bitcast for ${n.typeInfo.name}. Line ${e.line}`),null}_evalConst(e,r){return r.getVariableValue(e.name).clone().getSubData(this,e.postfix,r)}_evalCreate(e,r){var n;if(e instanceof iu){if(e.type===null)return $4.void;switch(e.type.getTypeName()){case"bool":case"i32":case"u32":case"f32":case"f16":return this._callConstructorValue(e,r);case"vec2":case"vec3":case"vec4":case"vec2f":case"vec3f":case"vec4f":case"vec2h":case"vec3h":case"vec4h":case"vec2i":case"vec3i":case"vec4i":case"vec2u":case"vec3u":case"vec4u":case"vec2b":case"vec3b":case"vec4b":return this._callConstructorVec(e,r);case"mat2x2":case"mat2x2f":case"mat2x2h":case"mat2x3":case"mat2x3f":case"mat2x3h":case"mat2x4":case"mat2x4f":case"mat2x4h":case"mat3x2":case"mat3x2f":case"mat3x2h":case"mat3x3":case"mat3x3f":case"mat3x3h":case"mat3x4":case"mat3x4f":case"mat3x4h":case"mat4x2":case"mat4x2f":case"mat4x2h":case"mat4x3":case"mat4x3f":case"mat4x3h":case"mat4x4":case"mat4x4f":case"mat4x4h":return this._callConstructorMatrix(e,r)}}const i=e instanceof iu?e.type.name:e.name,o=e instanceof iu?this.getTypeInfo(e.type):this.getTypeInfo(e.name);if(o===null)return console.error(`Unknown type ${i}. Line ${e.line}`),null;if(o.size===0)return null;const s=new Do(new ArrayBuffer(o.size),o,0);if(o instanceof Jf){if(e.args)for(let a=0;a<e.args.length;++a){const l=o.members[a],c=e.args[a],u=this.evalExpression(c,r);s.setData(this,u,l.type,l.offset,r)}}else if(o instanceof sh){let a=0;if(e.args)for(let l=0;l<e.args.length;++l){const c=e.args[l],u=this.evalExpression(c,r);o.format===null&&(((n=u.typeInfo)===null||n===void 0?void 0:n.name)==="x32"?o.format=this.getTypeInfo("i32"):o.format=u.typeInfo),s.setData(this,u,o.format,a,r),a+=o.stride}}else console.error(`Unknown type "${i}". Line ${e.line}`);return e instanceof iu?s.getSubData(this,e.postfix,r):s}_evalLiteral(e,r){const n=this.getTypeInfo(e.type),i=n.name;return i==="x32"||i==="u32"||i==="f32"||i==="f16"||i==="i32"||i==="bool"?new Je(e.scalarValue,n):i==="vec2"||i==="vec3"||i==="vec4"||i==="vec2f"||i==="vec3f"||i==="vec4f"||i==="vec2h"||i==="vec3h"||i==="vec4h"||i==="vec2i"||i==="vec3i"||i==="vec4i"||i==="vec2u"||i==="vec3u"||i==="vec4u"?this._callConstructorVec(e,r):i==="mat2x2"||i==="mat2x3"||i==="mat2x4"||i==="mat3x2"||i==="mat3x3"||i==="mat3x4"||i==="mat4x2"||i==="mat4x3"||i==="mat4x4"||i==="mat2x2f"||i==="mat2x3f"||i==="mat2x4f"||i==="mat3x2f"||i==="mat3x3f"||i==="mat3x4f"||i==="mat4x2f"||i==="mat4x3f"||i==="mat4x4f"||i==="mat2x2h"||i==="mat2x3h"||i==="mat2x4h"||i==="mat3x2h"||i==="mat3x3h"||i==="mat3x4h"||i==="mat4x2h"||i==="mat4x3h"||i==="mat4x4h"?this._callConstructorMatrix(e,r):e.value}_evalVariable(e,r){const n=r.getVariableValue(e.name);return n===null?n:n.getSubData(this,e.postfix,r)}_maxFormatTypeInfo(e){let r=e[0];if(r.name==="f32")return r;for(let n=1;n<e.length;++n){const i=yl._priority.get(r.name);yl._priority.get(e[n].name)<i&&(r=e[n])}return r.name==="x32"?this.getTypeInfo("i32"):r}_evalUnaryOp(e,r){const n=this.evalExpression(e.right,r);if(e.operator==="&")return new mA(n);if(e.operator==="*")return n instanceof mA?n.reference.getSubData(this,e.postfix,r):(console.error(`Invalid dereference. Line ${e.line}`),null);const i=n instanceof Je?n.value:n instanceof Me?Array.from(n.data):null;switch(e.operator){case"+":{if(Ft(i)){const a=i.map((l,c)=>+l);return new Me(a,n.typeInfo)}const o=i,s=this._maxFormatTypeInfo([n.typeInfo,n.typeInfo]);return new Je(+o,s)}case"-":{if(Ft(i)){const a=i.map((l,c)=>-l);return new Me(a,n.typeInfo)}const o=i,s=this._maxFormatTypeInfo([n.typeInfo,n.typeInfo]);return new Je(-o,s)}case"!":{if(Ft(i)){const a=i.map((l,c)=>l?0:1);return new Me(a,n.typeInfo)}const o=i,s=this._maxFormatTypeInfo([n.typeInfo,n.typeInfo]);return new Je(o?0:1,s)}case"~":{if(Ft(i)){const a=i.map((l,c)=>~l);return new Me(a,n.typeInfo)}const o=i,s=this._maxFormatTypeInfo([n.typeInfo,n.typeInfo]);return new Je(~o,s)}}return console.error(`Invalid unary operator ${e.operator}. Line ${e.line}`),null}_evalBinaryOp(e,r){const n=this.evalExpression(e.left,r),i=this.evalExpression(e.right,r),o=n instanceof Je?n.value:n instanceof Me||n instanceof Rr?Array.from(n.data):null,s=i instanceof Je?i.value:i instanceof Me||i instanceof Rr?Array.from(i.data):null;switch(e.operator){case"+":{if(Ft(o)&&Ft(s)){const u=o,g=s;if(u.length!==g.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const _=u.map((b,P)=>b+g[P]);return new Me(_,n.typeInfo)}if(Ft(o)){const u=s,g=o.map((_,b)=>_+u);return new Me(g,n.typeInfo)}if(Ft(s)){const u=o,g=s.map((_,b)=>u+_);return new Me(g,i.typeInfo)}const a=o,l=s,c=this._maxFormatTypeInfo([n.typeInfo,i.typeInfo]);return new Je(a+l,c)}case"-":{if(Ft(o)&&Ft(s)){const u=o,g=s;if(u.length!==g.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const _=u.map((b,P)=>b-g[P]);return new Me(_,n.typeInfo)}if(Ft(o)){const u=s,g=o.map((_,b)=>_-u);return new Me(g,n.typeInfo)}if(Ft(s)){const u=o,g=s.map((_,b)=>u-_);return new Me(g,i.typeInfo)}const a=o,l=s,c=this._maxFormatTypeInfo([n.typeInfo,i.typeInfo]);return new Je(a-l,c)}case"*":{if(Ft(o)&&Ft(s)){const u=o,g=s;if(n instanceof Rr&&i instanceof Rr){const _=(function(T,O,L,N){if(zs[O.name]===void 0||zs[N.name]===void 0)return null;const D=zs[O.name][0],B=zs[O.name][1],z=zs[N.name][0];if(D!==zs[N.name][1])return null;const X=new Array(z*B);for(let Z=0;Z<B;Z++)for(let G=0;G<z;G++){let de=0;for(let H=0;H<D;H++)de+=T[H*B+Z]*L[G*D+H];X[Z*z+G]=de}return X})(u,n.typeInfo,g,i.typeInfo);if(_===null)return console.error(`Matrix multiplication failed. Line ${e.line}.`),null;const b=zs[i.typeInfo.name][0],P=zs[n.typeInfo.name][1],E=this.getTypeInfo(`mat${b}x${P}f`);return new Rr(_,E)}if(n instanceof Rr&&i instanceof Me){const _=(function(b,P,E,T){if(zs[P.name]===void 0||uw[T.name]===void 0)return null;const O=zs[P.name][0],L=zs[P.name][1];if(O!==E.length)return null;const N=new Array(L);for(let D=0;D<L;D++){let B=0;for(let z=0;z<O;z++)B+=b[z*L+D]*E[z];N[D]=B}return N})(u,n.typeInfo,g,i.typeInfo);return _===null?(console.error(`Matrix vector multiplication failed. Line ${e.line}.`),null):new Me(_,i.typeInfo)}if(n instanceof Me&&i instanceof Rr){const _=(function(b,P,E,T){if(uw[P.name]===void 0||zs[T.name]===void 0)return null;const O=zs[T.name][0],L=zs[T.name][1];if(L!==b.length)return null;const N=[];for(let D=0;D<O;D++){let B=0;for(let z=0;z<L;z++)B+=b[z]*E[z*O+D];N[D]=B}return N})(u,n.typeInfo,g,i.typeInfo);return _===null?(console.error(`Matrix vector multiplication failed. Line ${e.line}.`),null):new Me(_,n.typeInfo)}{if(u.length!==g.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const _=u.map((b,P)=>b*g[P]);return new Me(_,n.typeInfo)}}if(Ft(o)){const u=s,g=o.map((_,b)=>_*u);return n instanceof Rr?new Rr(g,n.typeInfo):new Me(g,n.typeInfo)}if(Ft(s)){const u=o,g=s.map((_,b)=>u*_);return i instanceof Rr?new Rr(g,i.typeInfo):new Me(g,i.typeInfo)}const a=o,l=s,c=this._maxFormatTypeInfo([n.typeInfo,i.typeInfo]);return new Je(a*l,c)}case"%":{if(Ft(o)&&Ft(s)){const u=o,g=s;if(u.length!==g.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const _=u.map((b,P)=>b%g[P]);return new Me(_,n.typeInfo)}if(Ft(o)){const u=s,g=o.map((_,b)=>_%u);return new Me(g,n.typeInfo)}if(Ft(s)){const u=o,g=s.map((_,b)=>u%_);return new Me(g,i.typeInfo)}const a=o,l=s,c=this._maxFormatTypeInfo([n.typeInfo,i.typeInfo]);return new Je(a%l,c)}case"/":{if(Ft(o)&&Ft(s)){const u=o,g=s;if(u.length!==g.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const _=u.map((b,P)=>b/g[P]);return new Me(_,n.typeInfo)}if(Ft(o)){const u=s,g=o.map((_,b)=>_/u);return new Me(g,n.typeInfo)}if(Ft(s)){const u=o,g=s.map((_,b)=>u/_);return new Me(g,i.typeInfo)}const a=o,l=s,c=this._maxFormatTypeInfo([n.typeInfo,i.typeInfo]);return new Je(a/l,c)}case"&":{if(Ft(o)&&Ft(s)){const u=o,g=s;if(u.length!==g.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const _=u.map((b,P)=>b&g[P]);return new Me(_,n.typeInfo)}if(Ft(o)){const u=s,g=o.map((_,b)=>_&u);return new Me(g,n.typeInfo)}if(Ft(s)){const u=o,g=s.map((_,b)=>u&_);return new Me(g,i.typeInfo)}const a=o,l=s,c=this._maxFormatTypeInfo([n.typeInfo,i.typeInfo]);return new Je(a&l,c)}case"|":{if(Ft(o)&&Ft(s)){const u=o,g=s;if(u.length!==g.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const _=u.map((b,P)=>b|g[P]);return new Me(_,n.typeInfo)}if(Ft(o)){const u=s,g=o.map((_,b)=>_|u);return new Me(g,n.typeInfo)}if(Ft(s)){const u=o,g=s.map((_,b)=>u|_);return new Me(g,i.typeInfo)}const a=o,l=s,c=this._maxFormatTypeInfo([n.typeInfo,i.typeInfo]);return new Je(a|l,c)}case"^":{if(Ft(o)&&Ft(s)){const u=o,g=s;if(u.length!==g.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const _=u.map((b,P)=>b^g[P]);return new Me(_,n.typeInfo)}if(Ft(o)){const u=s,g=o.map((_,b)=>_^u);return new Me(g,n.typeInfo)}if(Ft(s)){const u=o,g=s.map((_,b)=>u^_);return new Me(g,i.typeInfo)}const a=o,l=s,c=this._maxFormatTypeInfo([n.typeInfo,i.typeInfo]);return new Je(a^l,c)}case"<<":{if(Ft(o)&&Ft(s)){const u=o,g=s;if(u.length!==g.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const _=u.map((b,P)=>b<<g[P]);return new Me(_,n.typeInfo)}if(Ft(o)){const u=s,g=o.map((_,b)=>_<<u);return new Me(g,n.typeInfo)}if(Ft(s)){const u=o,g=s.map((_,b)=>u<<_);return new Me(g,i.typeInfo)}const a=o,l=s,c=this._maxFormatTypeInfo([n.typeInfo,i.typeInfo]);return new Je(a<<l,c)}case">>":{if(Ft(o)&&Ft(s)){const u=o,g=s;if(u.length!==g.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const _=u.map((b,P)=>b>>g[P]);return new Me(_,n.typeInfo)}if(Ft(o)){const u=s,g=o.map((_,b)=>_>>u);return new Me(g,n.typeInfo)}if(Ft(s)){const u=o,g=s.map((_,b)=>u>>_);return new Me(g,i.typeInfo)}const a=o,l=s,c=this._maxFormatTypeInfo([n.typeInfo,i.typeInfo]);return new Je(a>>l,c)}case">":if(Ft(o)&&Ft(s)){const a=o,l=s;if(a.length!==l.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const c=a.map((u,g)=>u>l[g]?1:0);return new Me(c,n.typeInfo)}if(Ft(o)){const a=s,l=o.map((c,u)=>c>a?1:0);return new Me(l,n.typeInfo)}if(Ft(s)){const a=o,l=s.map((c,u)=>a>c?1:0);return new Me(l,i.typeInfo)}return new Je(o>s?1:0,this.getTypeInfo("bool"));case"<":if(Ft(o)&&Ft(s)){const a=o,l=s;if(a.length!==l.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const c=a.map((u,g)=>u<l[g]?1:0);return new Me(c,n.typeInfo)}if(Ft(o)){const a=s,l=o.map((c,u)=>c<a?1:0);return new Me(l,n.typeInfo)}if(Ft(s)){const a=o,l=s.map((c,u)=>a<c?1:0);return new Me(l,i.typeInfo)}return new Je(o<s?1:0,this.getTypeInfo("bool"));case"==":if(Ft(o)&&Ft(s)){const a=o,l=s;if(a.length!==l.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const c=a.map((u,g)=>u===l[g]?1:0);return new Me(c,n.typeInfo)}if(Ft(o)){const a=s,l=o.map((c,u)=>c==a?1:0);return new Me(l,n.typeInfo)}if(Ft(s)){const a=o,l=s.map((c,u)=>a==c?1:0);return new Me(l,i.typeInfo)}return new Je(o===s?1:0,this.getTypeInfo("bool"));case"!=":if(Ft(o)&&Ft(s)){const a=o,l=s;if(a.length!==l.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const c=a.map((u,g)=>u!==l[g]?1:0);return new Me(c,n.typeInfo)}if(Ft(o)){const a=s,l=o.map((c,u)=>c!==a?1:0);return new Me(l,n.typeInfo)}if(Ft(s)){const a=o,l=s.map((c,u)=>a!==c?1:0);return new Me(l,i.typeInfo)}return new Je(o!==s?1:0,this.getTypeInfo("bool"));case">=":if(Ft(o)&&Ft(s)){const a=o,l=s;if(a.length!==l.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const c=a.map((u,g)=>u>=l[g]?1:0);return new Me(c,n.typeInfo)}if(Ft(o)){const a=s,l=o.map((c,u)=>c>=a?1:0);return new Me(l,n.typeInfo)}if(Ft(s)){const a=o,l=s.map((c,u)=>a>=c?1:0);return new Me(l,i.typeInfo)}return new Je(o>=s?1:0,this.getTypeInfo("bool"));case"<=":if(Ft(o)&&Ft(s)){const a=o,l=s;if(a.length!==l.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const c=a.map((u,g)=>u<=l[g]?1:0);return new Me(c,n.typeInfo)}if(Ft(o)){const a=s,l=o.map((c,u)=>c<=a?1:0);return new Me(l,n.typeInfo)}if(Ft(s)){const a=o,l=s.map((c,u)=>a<=c?1:0);return new Me(l,i.typeInfo)}return new Je(o<=s?1:0,this.getTypeInfo("bool"));case"&&":if(Ft(o)&&Ft(s)){const a=o,l=s;if(a.length!==l.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const c=a.map((u,g)=>u&&l[g]?1:0);return new Me(c,n.typeInfo)}if(Ft(o)){const a=s,l=o.map((c,u)=>c&&a?1:0);return new Me(l,n.typeInfo)}if(Ft(s)){const a=o,l=s.map((c,u)=>a&&c?1:0);return new Me(l,i.typeInfo)}return new Je(o&&s?1:0,this.getTypeInfo("bool"));case"||":if(Ft(o)&&Ft(s)){const a=o,l=s;if(a.length!==l.length)return console.error(`Vector length mismatch. Line ${e.line}.`),null;const c=a.map((u,g)=>u||l[g]?1:0);return new Me(c,n.typeInfo)}if(Ft(o)){const a=s,l=o.map((c,u)=>c||a?1:0);return new Me(l,n.typeInfo)}if(Ft(s)){const a=o,l=s.map((c,u)=>a||c?1:0);return new Me(l,i.typeInfo)}return new Je(o||s?1:0,this.getTypeInfo("bool"))}return console.error(`Unknown operator ${e.operator}. Line ${e.line}`),null}_evalCall(e,r){if(e.cachedReturnValue!==null)return e.cachedReturnValue;const n=r.clone();n.currentFunctionName=e.name;const i=r.getFunction(e.name);if(!i)return e.isBuiltin?this._callBuiltinFunction(e,n):this.getTypeInfo(e.name)?this._evalCreate(e,r):(console.error(`Unknown function "${e.name}". Line ${e.line}`),null);for(let o=0;o<i.node.args.length;++o){const s=i.node.args[o],a=this.evalExpression(e.args[o],n);n.createVariable(s.name,a,s)}return this._execStatements(i.node.body,n)}_callBuiltinFunction(e,r){switch(e.name){case"all":return this.builtins.All(e,r);case"any":return this.builtins.Any(e,r);case"select":return this.builtins.Select(e,r);case"arrayLength":return this.builtins.ArrayLength(e,r);case"abs":return this.builtins.Abs(e,r);case"acos":return this.builtins.Acos(e,r);case"acosh":return this.builtins.Acosh(e,r);case"asin":return this.builtins.Asin(e,r);case"asinh":return this.builtins.Asinh(e,r);case"atan":return this.builtins.Atan(e,r);case"atanh":return this.builtins.Atanh(e,r);case"atan2":return this.builtins.Atan2(e,r);case"ceil":return this.builtins.Ceil(e,r);case"clamp":return this.builtins.Clamp(e,r);case"cos":return this.builtins.Cos(e,r);case"cosh":return this.builtins.Cosh(e,r);case"countLeadingZeros":return this.builtins.CountLeadingZeros(e,r);case"countOneBits":return this.builtins.CountOneBits(e,r);case"countTrailingZeros":return this.builtins.CountTrailingZeros(e,r);case"cross":return this.builtins.Cross(e,r);case"degrees":return this.builtins.Degrees(e,r);case"determinant":return this.builtins.Determinant(e,r);case"distance":return this.builtins.Distance(e,r);case"dot":return this.builtins.Dot(e,r);case"dot4U8Packed":return this.builtins.Dot4U8Packed(e,r);case"dot4I8Packed":return this.builtins.Dot4I8Packed(e,r);case"exp":return this.builtins.Exp(e,r);case"exp2":return this.builtins.Exp2(e,r);case"extractBits":return this.builtins.ExtractBits(e,r);case"faceForward":return this.builtins.FaceForward(e,r);case"firstLeadingBit":return this.builtins.FirstLeadingBit(e,r);case"firstTrailingBit":return this.builtins.FirstTrailingBit(e,r);case"floor":return this.builtins.Floor(e,r);case"fma":return this.builtins.Fma(e,r);case"fract":return this.builtins.Fract(e,r);case"frexp":return this.builtins.Frexp(e,r);case"insertBits":return this.builtins.InsertBits(e,r);case"inverseSqrt":return this.builtins.InverseSqrt(e,r);case"ldexp":return this.builtins.Ldexp(e,r);case"length":return this.builtins.Length(e,r);case"log":return this.builtins.Log(e,r);case"log2":return this.builtins.Log2(e,r);case"max":return this.builtins.Max(e,r);case"min":return this.builtins.Min(e,r);case"mix":return this.builtins.Mix(e,r);case"modf":return this.builtins.Modf(e,r);case"normalize":return this.builtins.Normalize(e,r);case"pow":return this.builtins.Pow(e,r);case"quantizeToF16":return this.builtins.QuantizeToF16(e,r);case"radians":return this.builtins.Radians(e,r);case"reflect":return this.builtins.Reflect(e,r);case"refract":return this.builtins.Refract(e,r);case"reverseBits":return this.builtins.ReverseBits(e,r);case"round":return this.builtins.Round(e,r);case"saturate":return this.builtins.Saturate(e,r);case"sign":return this.builtins.Sign(e,r);case"sin":return this.builtins.Sin(e,r);case"sinh":return this.builtins.Sinh(e,r);case"smoothstep":return this.builtins.SmoothStep(e,r);case"sqrt":return this.builtins.Sqrt(e,r);case"step":return this.builtins.Step(e,r);case"tan":return this.builtins.Tan(e,r);case"tanh":return this.builtins.Tanh(e,r);case"transpose":return this.builtins.Transpose(e,r);case"trunc":return this.builtins.Trunc(e,r);case"dpdx":return this.builtins.Dpdx(e,r);case"dpdxCoarse":return this.builtins.DpdxCoarse(e,r);case"dpdxFine":return this.builtins.DpdxFine(e,r);case"dpdy":return this.builtins.Dpdy(e,r);case"dpdyCoarse":return this.builtins.DpdyCoarse(e,r);case"dpdyFine":return this.builtins.DpdyFine(e,r);case"fwidth":return this.builtins.Fwidth(e,r);case"fwidthCoarse":return this.builtins.FwidthCoarse(e,r);case"fwidthFine":return this.builtins.FwidthFine(e,r);case"textureDimensions":return this.builtins.TextureDimensions(e,r);case"textureGather":return this.builtins.TextureGather(e,r);case"textureGatherCompare":return this.builtins.TextureGatherCompare(e,r);case"textureLoad":return this.builtins.TextureLoad(e,r);case"textureNumLayers":return this.builtins.TextureNumLayers(e,r);case"textureNumLevels":return this.builtins.TextureNumLevels(e,r);case"textureNumSamples":return this.builtins.TextureNumSamples(e,r);case"textureSample":return this.builtins.TextureSample(e,r);case"textureSampleBias":return this.builtins.TextureSampleBias(e,r);case"textureSampleCompare":return this.builtins.TextureSampleCompare(e,r);case"textureSampleCompareLevel":return this.builtins.TextureSampleCompareLevel(e,r);case"textureSampleGrad":return this.builtins.TextureSampleGrad(e,r);case"textureSampleLevel":return this.builtins.TextureSampleLevel(e,r);case"textureSampleBaseClampToEdge":return this.builtins.TextureSampleBaseClampToEdge(e,r);case"textureStore":return this.builtins.TextureStore(e,r);case"atomicLoad":return this.builtins.AtomicLoad(e,r);case"atomicStore":return this.builtins.AtomicStore(e,r);case"atomicAdd":return this.builtins.AtomicAdd(e,r);case"atomicSub":return this.builtins.AtomicSub(e,r);case"atomicMax":return this.builtins.AtomicMax(e,r);case"atomicMin":return this.builtins.AtomicMin(e,r);case"atomicAnd":return this.builtins.AtomicAnd(e,r);case"atomicOr":return this.builtins.AtomicOr(e,r);case"atomicXor":return this.builtins.AtomicXor(e,r);case"atomicExchange":return this.builtins.AtomicExchange(e,r);case"atomicCompareExchangeWeak":return this.builtins.AtomicCompareExchangeWeak(e,r);case"pack4x8snorm":return this.builtins.Pack4x8snorm(e,r);case"pack4x8unorm":return this.builtins.Pack4x8unorm(e,r);case"pack4xI8":return this.builtins.Pack4xI8(e,r);case"pack4xU8":return this.builtins.Pack4xU8(e,r);case"pack4x8Clamp":return this.builtins.Pack4x8Clamp(e,r);case"pack4xU8Clamp":return this.builtins.Pack4xU8Clamp(e,r);case"pack2x16snorm":return this.builtins.Pack2x16snorm(e,r);case"pack2x16unorm":return this.builtins.Pack2x16unorm(e,r);case"pack2x16float":return this.builtins.Pack2x16float(e,r);case"unpack4x8snorm":return this.builtins.Unpack4x8snorm(e,r);case"unpack4x8unorm":return this.builtins.Unpack4x8unorm(e,r);case"unpack4xI8":return this.builtins.Unpack4xI8(e,r);case"unpack4xU8":return this.builtins.Unpack4xU8(e,r);case"unpack2x16snorm":return this.builtins.Unpack2x16snorm(e,r);case"unpack2x16unorm":return this.builtins.Unpack2x16unorm(e,r);case"unpack2x16float":return this.builtins.Unpack2x16float(e,r);case"storageBarrier":return this.builtins.StorageBarrier(e,r);case"textureBarrier":return this.builtins.TextureBarrier(e,r);case"workgroupBarrier":return this.builtins.WorkgroupBarrier(e,r);case"workgroupUniformLoad":return this.builtins.WorkgroupUniformLoad(e,r);case"subgroupAdd":return this.builtins.SubgroupAdd(e,r);case"subgroupExclusiveAdd":return this.builtins.SubgroupExclusiveAdd(e,r);case"subgroupInclusiveAdd":return this.builtins.SubgroupInclusiveAdd(e,r);case"subgroupAll":return this.builtins.SubgroupAll(e,r);case"subgroupAnd":return this.builtins.SubgroupAnd(e,r);case"subgroupAny":return this.builtins.SubgroupAny(e,r);case"subgroupBallot":return this.builtins.SubgroupBallot(e,r);case"subgroupBroadcast":return this.builtins.SubgroupBroadcast(e,r);case"subgroupBroadcastFirst":return this.builtins.SubgroupBroadcastFirst(e,r);case"subgroupElect":return this.builtins.SubgroupElect(e,r);case"subgroupMax":return this.builtins.SubgroupMax(e,r);case"subgroupMin":return this.builtins.SubgroupMin(e,r);case"subgroupMul":return this.builtins.SubgroupMul(e,r);case"subgroupExclusiveMul":return this.builtins.SubgroupExclusiveMul(e,r);case"subgroupInclusiveMul":return this.builtins.SubgroupInclusiveMul(e,r);case"subgroupOr":return this.builtins.SubgroupOr(e,r);case"subgroupShuffle":return this.builtins.SubgroupShuffle(e,r);case"subgroupShuffleDown":return this.builtins.SubgroupShuffleDown(e,r);case"subgroupShuffleUp":return this.builtins.SubgroupShuffleUp(e,r);case"subgroupShuffleXor":return this.builtins.SubgroupShuffleXor(e,r);case"subgroupXor":return this.builtins.SubgroupXor(e,r);case"quadBroadcast":return this.builtins.QuadBroadcast(e,r);case"quadSwapDiagonal":return this.builtins.QuadSwapDiagonal(e,r);case"quadSwapX":return this.builtins.QuadSwapX(e,r);case"quadSwapY":return this.builtins.QuadSwapY(e,r)}const n=r.getFunction(e.name);if(n){const i=r.clone();for(let o=0;o<n.node.args.length;++o){const s=n.node.args[o],a=this.evalExpression(e.args[o],i);i.setVariable(s.name,a,s)}return this._execStatements(n.node.body,i)}return null}_callConstructorValue(e,r){if(!e.args||e.args.length===0)return new Je(0,this.getTypeInfo(e.type));const n=this.evalExpression(e.args[0],r);return n.typeInfo=this.getTypeInfo(e.type),n.getSubData(this,e.postfix,r).clone()}_callConstructorVec(e,r){const n=this.getTypeInfo(e.type),i=e.type.getTypeName(),o=uw[i];if(o===void 0)return console.error(`Invalid vec constructor ${i}. Line ${e.line}`),null;const s=[];if(e instanceof go)if(e.isVector){const a=e.vectorValue;for(const l of a)s.push(l)}else s.push(e.scalarValue);else if(e.args)for(const a of e.args){const l=this.evalExpression(a,r);if(l instanceof Me){const c=l.data;for(let u=0;u<c.length;++u){let g=c[u];s.push(g)}}else if(l instanceof Je){let c=l.value;s.push(c)}}if(e.type instanceof it&&e.type.format===null&&(e.type.format=it.f32),s.length===0){const a=new Array(o).fill(0);return new Me(a,n).getSubData(this,e.postfix,r)}if(s.length===1)for(;s.length<o;)s.push(s[0]);return s.length<o?(console.error(`Invalid vec constructor. Line ${e.line}`),null):new Me(s.length>o?s.slice(0,o):s,n).getSubData(this,e.postfix,r)}_callConstructorMatrix(e,r){const n=this.getTypeInfo(e.type),i=e.type.getTypeName(),o=zs[i];if(o===void 0)return console.error(`Invalid matrix constructor ${i}. Line ${e.line}`),null;const s=[];if(e instanceof go)if(e.isVector){const a=e.vectorValue;for(const l of a)s.push(l)}else s.push(e.scalarValue);else if(e.args)for(const a of e.args){const l=this.evalExpression(a,r);l instanceof Me?s.push(...l.data):l instanceof Je?s.push(l.value):l instanceof Rr&&s.push(...l.data)}if(n instanceof xd&&n.format===null&&(n.format=this.getTypeInfo("f32")),s.length===0){const a=new Array(o[2]).fill(0);return new Rr(a,n).getSubData(this,e.postfix,r)}return s.length!==o[2]?(console.error(`Invalid matrix constructor. Line ${e.line}`),null):new Rr(s,n).getSubData(this,e.postfix,r)}};k1._breakObj=new yu(new El("BREAK",null),null),k1._continueObj=new yu(new El("CONTINUE",null),null),k1._priority=new Map([["f32",0],["f16",1],["u32",2],["i32",3],["x32",3]]);let Mse=class{constructor(){this.constants=new Map,this.aliases=new Map,this.structs=new Map}},Lse=class{constructor(){this._tokens=[],this._current=0,this._currentLine=1,this._deferArrayCountEval=[],this._currentLoop=[],this._context=new Mse,this._exec=new k1,this._forwardTypeCount=0}parse(e){this._initialize(e),this._deferArrayCountEval.length=0;const r=[];for(;!this._isAtEnd();){const n=this._global_decl_or_directive();if(!n)break;r.push(n)}if(this._deferArrayCountEval.length>0){for(const n of this._deferArrayCountEval){const i=n.arrayType,o=n.countNode;if(o instanceof za){const s=o.name,a=this._context.constants.get(s);if(a)try{const l=a.constEvaluate(this._exec);i.count=l}catch{}}}this._deferArrayCountEval.length=0}if(this._forwardTypeCount>0)for(const n of r)n.search(i=>{i instanceof sR||i instanceof T1?i.type=this._forwardType(i.type):i instanceof lg?i.format=this._forwardType(i.format):i instanceof Yu||i instanceof ag||i instanceof S1?i.type=this._forwardType(i.type):i instanceof Og?i.returnType=this._forwardType(i.returnType):i instanceof oR&&(i.type=this._forwardType(i.type))});return r}_forwardType(e){if(e instanceof iR){const r=this._getType(e.name);if(r)return r}else e instanceof T1?e.type=this._forwardType(e.type):e instanceof lg&&(e.format=this._forwardType(e.format));return e}_initialize(e){if(e)if(typeof e=="string"){const r=new _se(e);this._tokens=r.scanTokens()}else this._tokens=e;else this._tokens=[];this._current=0}_updateNode(e,r){return e.line=r??this._currentLine,e}_error(e,r){return{token:e,message:r,toString:()=>`${r}`}}_isAtEnd(){return this._current>=this._tokens.length||this._peek().type==ke.eof}_match(e){if(e instanceof rt)return!!this._check(e)&&(this._advance(),!0);for(let r=0,n=e.length;r<n;++r){const i=e[r];if(this._check(i))return this._advance(),!0}return!1}_consume(e,r){if(this._check(e))return this._advance();throw this._error(this._peek(),`${r}. Line:${this._currentLine}`)}_check(e){if(this._isAtEnd())return!1;const r=this._peek();if(e instanceof Array){const n=r.type;let i=!1;for(const o of e){if(n===o)return!0;o===ke.tokens.name&&(i=!0)}if(i){const o=ke.tokens.name.rule.exec(r.lexeme);if(o&&o.index==0&&o[0]==r.lexeme)return!0}return!1}if(r.type===e)return!0;if(e===ke.tokens.name){const n=ke.tokens.name.rule.exec(r.lexeme);return n&&n.index==0&&n[0]==r.lexeme}return!1}_advance(){var e,r;return this._currentLine=(r=(e=this._peek())===null||e===void 0?void 0:e.line)!==null&&r!==void 0?r:-1,this._isAtEnd()||this._current++,this._previous()}_peek(){return this._tokens[this._current]}_previous(){return this._tokens[this._current-1]}_global_decl_or_directive(){for(;this._match(ke.tokens.semicolon)&&!this._isAtEnd(););if(this._match(ke.keywords.alias)){const r=this._type_alias();return this._consume(ke.tokens.semicolon,"Expected ';'"),this._exec.reflection.updateAST([r]),r}if(this._match(ke.keywords.diagnostic)){const r=this._diagnostic();return this._consume(ke.tokens.semicolon,"Expected ';'"),this._exec.reflection.updateAST([r]),r}if(this._match(ke.keywords.requires)){const r=this._requires_directive();return this._consume(ke.tokens.semicolon,"Expected ';'"),this._exec.reflection.updateAST([r]),r}if(this._match(ke.keywords.enable)){const r=this._enable_directive();return this._consume(ke.tokens.semicolon,"Expected ';'"),this._exec.reflection.updateAST([r]),r}const e=this._attribute();if(this._check(ke.keywords.var)){const r=this._global_variable_decl();return r!=null&&(r.attributes=e),this._consume(ke.tokens.semicolon,"Expected ';'."),this._exec.reflection.updateAST([r]),r}if(this._check(ke.keywords.override)){const r=this._override_variable_decl();return r!=null&&(r.attributes=e),this._consume(ke.tokens.semicolon,"Expected ';'."),this._exec.reflection.updateAST([r]),r}if(this._check(ke.keywords.let)){const r=this._global_let_decl();return r!=null&&(r.attributes=e),this._consume(ke.tokens.semicolon,"Expected ';'."),this._exec.reflection.updateAST([r]),r}if(this._check(ke.keywords.const)){const r=this._global_const_decl();return r!=null&&(r.attributes=e),this._consume(ke.tokens.semicolon,"Expected ';'."),this._exec.reflection.updateAST([r]),r}if(this._check(ke.keywords.struct)){const r=this._struct_decl();return r!=null&&(r.attributes=e),this._exec.reflection.updateAST([r]),r}if(this._check(ke.keywords.fn)){const r=this._function_decl();return r!=null&&(r.attributes=e),this._exec.reflection.updateAST([r]),r}return null}_function_decl(){if(!this._match(ke.keywords.fn))return null;const e=this._currentLine,r=this._consume(ke.tokens.ident,"Expected function name.").toString();this._consume(ke.tokens.paren_left,"Expected '(' for function arguments.");const n=[];if(!this._check(ke.tokens.paren_right))do{if(this._check(ke.tokens.paren_right))break;const a=this._attribute(),l=this._consume(ke.tokens.name,"Expected argument name.").toString();this._consume(ke.tokens.colon,"Expected ':' for argument type.");const c=this._attribute(),u=this._type_decl();u!=null&&(u.attributes=c,n.push(this._updateNode(new oR(l,u,a))))}while(this._match(ke.tokens.comma));this._consume(ke.tokens.paren_right,"Expected ')' after function arguments.");let i=null;if(this._match(ke.tokens.arrow)){const a=this._attribute();i=this._type_decl(),i!=null&&(i.attributes=a)}const o=this._compound_statement(),s=this._currentLine;return this._updateNode(new Og(r,n,i,o,e,s),e)}_compound_statement(){const e=[];for(this._consume(ke.tokens.brace_left,"Expected '{' for block.");!this._check(ke.tokens.brace_right);){const r=this._statement();r!==null&&e.push(r)}return this._consume(ke.tokens.brace_right,"Expected '}' for block."),e}_statement(){for(;this._match(ke.tokens.semicolon)&&!this._isAtEnd(););if(this._check(ke.tokens.attr)&&this._attribute(),this._check(ke.keywords.if))return this._if_statement();if(this._check(ke.keywords.switch))return this._switch_statement();if(this._check(ke.keywords.loop))return this._loop_statement();if(this._check(ke.keywords.for))return this._for_statement();if(this._check(ke.keywords.while))return this._while_statement();if(this._check(ke.keywords.continuing))return this._continuing_statement();if(this._check(ke.keywords.static_assert))return this._static_assert_statement();if(this._check(ke.tokens.brace_left))return this._compound_statement();let e=null;if(this._check(ke.keywords.return))e=this._return_statement();else if(this._check([ke.keywords.var,ke.keywords.let,ke.keywords.const]))e=this._variable_statement();else if(this._match(ke.keywords.discard))e=this._updateNode(new vse);else if(this._match(ke.keywords.break)){const r=this._updateNode(new f$);if(this._currentLoop.length>0){const n=this._currentLoop[this._currentLoop.length-1];r.loopId=n.id}e=r,this._check(ke.keywords.if)&&(this._advance(),r.condition=this._optional_paren_expression())}else if(this._match(ke.keywords.continue)){const r=this._updateNode(new h$);if(!(this._currentLoop.length>0))throw this._error(this._peek(),`Continue statement must be inside a loop. Line: ${r.line}`);{const n=this._currentLoop[this._currentLoop.length-1];r.loopId=n.id}e=r}else e=this._increment_decrement_statement()||this._func_call_statement()||this._assignment_statement();return e!=null&&this._consume(ke.tokens.semicolon,"Expected ';' after statement."),e}_static_assert_statement(){if(!this._match(ke.keywords.static_assert))return null;const e=this._currentLine,r=this._optional_paren_expression();return this._updateNode(new pse(r),e)}_while_statement(){if(!this._match(ke.keywords.while))return null;const e=this._updateNode(new r$(null,null));return this._currentLoop.push(e),e.condition=this._optional_paren_expression(),this._check(ke.tokens.attr)&&this._attribute(),e.body=this._compound_statement(),this._currentLoop.pop(),e}_continuing_statement(){const e=this._currentLoop.length>0?this._currentLoop[this._currentLoop.length-1].id:-1;if(!this._match(ke.keywords.continuing))return null;const r=this._currentLine,n=this._compound_statement();return this._updateNode(new U4(n,e),r)}_for_statement(){if(!this._match(ke.keywords.for))return null;this._consume(ke.tokens.paren_left,"Expected '('.");const e=this._updateNode(new n$(null,null,null,null));return this._currentLoop.push(e),e.init=this._check(ke.tokens.semicolon)?null:this._for_init(),this._consume(ke.tokens.semicolon,"Expected ';'."),e.condition=this._check(ke.tokens.semicolon)?null:this._short_circuit_or_expression(),this._consume(ke.tokens.semicolon,"Expected ';'."),e.increment=this._check(ke.tokens.paren_right)?null:this._for_increment(),this._consume(ke.tokens.paren_right,"Expected ')'."),this._check(ke.tokens.attr)&&this._attribute(),e.body=this._compound_statement(),this._currentLoop.pop(),e}_for_init(){return this._variable_statement()||this._func_call_statement()||this._assignment_statement()}_for_increment(){return this._func_call_statement()||this._increment_decrement_statement()||this._assignment_statement()}_variable_statement(){if(this._check(ke.keywords.var)){const e=this._variable_decl();if(e===null)throw this._error(this._peek(),"Variable declaration expected.");let r=null;return this._match(ke.tokens.equal)&&(r=this._short_circuit_or_expression()),this._updateNode(new Yu(e.name,e.type,e.storage,e.access,r),e.line)}if(this._match(ke.keywords.let)){const e=this._currentLine,r=this._consume(ke.tokens.name,"Expected name for let.").toString();let n=null;if(this._match(ke.tokens.colon)){const o=this._attribute();n=this._type_decl(),n!=null&&(n.attributes=o)}this._consume(ke.tokens.equal,"Expected '=' for let.");const i=this._short_circuit_or_expression();return this._updateNode(new ag(r,n,null,null,i),e)}if(this._match(ke.keywords.const)){const e=this._currentLine,r=this._consume(ke.tokens.name,"Expected name for const.").toString();let n=null;if(this._match(ke.tokens.colon)){const o=this._attribute();n=this._type_decl(),n!=null&&(n.attributes=o)}this._consume(ke.tokens.equal,"Expected '=' for const.");const i=this._short_circuit_or_expression();return n===null&&i instanceof go&&(n=i.type),this._updateNode(new S1(r,n,null,null,i),e)}return null}_increment_decrement_statement(){const e=this._current,r=this._unary_expression();if(r==null)return null;if(!this._check(ke.increment_operators))return this._current=e,null;const n=this._consume(ke.increment_operators,"Expected increment operator");return this._updateNode(new i$(n.type===ke.tokens.plus_plus?MA.increment:MA.decrement,r))}_assignment_statement(){let e=null;const r=this._currentLine;if(this._check(ke.tokens.brace_right))return null;let n=this._match(ke.tokens.underscore);if(n||(e=this._unary_expression()),!n&&e==null)return null;const i=this._consume(ke.assignment_operators,"Expected assignment operator."),o=this._short_circuit_or_expression();return this._updateNode(new o$(Kp.parse(i.lexeme),e,o),r)}_func_call_statement(){if(!this._check(ke.tokens.ident))return null;const e=this._currentLine,r=this._current,n=this._consume(ke.tokens.ident,"Expected function name."),i=this._argument_expression_list();return i===null?(this._current=r,null):this._updateNode(new WP(n.lexeme,i),e)}_loop_statement(){if(!this._match(ke.keywords.loop))return null;this._check(ke.tokens.attr)&&this._attribute(),this._consume(ke.tokens.brace_left,"Expected '{' for loop.");const e=this._updateNode(new s$([],null));this._currentLoop.push(e);let r=this._statement();for(;r!==null;){if(Array.isArray(r))for(let n of r)e.body.push(n);else e.body.push(r);if(r instanceof U4){e.continuing=r;break}r=this._statement()}return this._currentLoop.pop(),this._consume(ke.tokens.brace_right,"Expected '}' for loop."),e}_switch_statement(){if(!this._match(ke.keywords.switch))return null;const e=this._updateNode(new a$(null,[]));if(this._currentLoop.push(e),e.condition=this._optional_paren_expression(),this._check(ke.tokens.attr)&&this._attribute(),this._consume(ke.tokens.brace_left,"Expected '{' for switch."),e.cases=this._switch_body(),e.cases==null||e.cases.length==0)throw this._error(this._previous(),"Expected 'case' or 'default'.");return this._consume(ke.tokens.brace_right,"Expected '}' for switch."),this._currentLoop.pop(),e}_switch_body(){const e=[];let r=!1;for(;this._check([ke.keywords.default,ke.keywords.case]);){if(this._match(ke.keywords.case)){const n=this._case_selectors();for(const o of n)if(o instanceof P1){if(r)throw this._error(this._previous(),"Multiple default cases in switch statement.");r=!0;break}this._match(ke.tokens.colon),this._check(ke.tokens.attr)&&this._attribute(),this._consume(ke.tokens.brace_left,"Exected '{' for switch case.");const i=this._case_body();this._consume(ke.tokens.brace_right,"Exected '}' for switch case."),e.push(this._updateNode(new m$(n,i)))}if(this._match(ke.keywords.default)){if(r)throw this._error(this._previous(),"Multiple default cases in switch statement.");this._match(ke.tokens.colon),this._check(ke.tokens.attr)&&this._attribute(),this._consume(ke.tokens.brace_left,"Exected '{' for switch default.");const n=this._case_body();this._consume(ke.tokens.brace_right,"Exected '}' for switch default."),e.push(this._updateNode(new v$(n)))}}return e}_case_selectors(){const e=[];for(this._match(ke.keywords.default)?e.push(this._updateNode(new P1)):e.push(this._shift_expression());this._match(ke.tokens.comma);)this._match(ke.keywords.default)?e.push(this._updateNode(new P1)):e.push(this._shift_expression());return e}_case_body(){if(this._match(ke.keywords.fallthrough))return this._consume(ke.tokens.semicolon,"Expected ';'"),[];let e=this._statement();if(e==null)return[];e instanceof Array||(e=[e]);const r=this._case_body();return r.length==0?e:[...e,r[0]]}_if_statement(){if(!this._match(ke.keywords.if))return null;const e=this._currentLine,r=this._optional_paren_expression();this._check(ke.tokens.attr)&&this._attribute();const n=this._compound_statement();let i=[];this._match_elseif()&&(this._check(ke.tokens.attr)&&this._attribute(),i=this._elseif_statement(i));let o=null;return this._match(ke.keywords.else)&&(this._check(ke.tokens.attr)&&this._attribute(),o=this._compound_statement()),this._updateNode(new l$(r,n,i,o),e)}_match_elseif(){return this._tokens[this._current].type===ke.keywords.else&&this._tokens[this._current+1].type===ke.keywords.if&&(this._advance(),this._advance(),!0)}_elseif_statement(e=[]){const r=this._optional_paren_expression(),n=this._compound_statement();return e.push(this._updateNode(new yse(r,n))),this._match_elseif()&&(this._check(ke.tokens.attr)&&this._attribute(),this._elseif_statement(e)),e}_return_statement(){if(!this._match(ke.keywords.return))return null;const e=this._short_circuit_or_expression();return this._updateNode(new c$(e))}_short_circuit_or_expression(){let e=this._short_circuit_and_expr();for(;this._match(ke.tokens.or_or);)e=this._updateNode(new hc(this._previous().toString(),e,this._short_circuit_and_expr()));return e}_short_circuit_and_expr(){let e=this._inclusive_or_expression();for(;this._match(ke.tokens.and_and);)e=this._updateNode(new hc(this._previous().toString(),e,this._inclusive_or_expression()));return e}_inclusive_or_expression(){let e=this._exclusive_or_expression();for(;this._match(ke.tokens.or);)e=this._updateNode(new hc(this._previous().toString(),e,this._exclusive_or_expression()));return e}_exclusive_or_expression(){let e=this._and_expression();for(;this._match(ke.tokens.xor);)e=this._updateNode(new hc(this._previous().toString(),e,this._and_expression()));return e}_and_expression(){let e=this._equality_expression();for(;this._match(ke.tokens.and);)e=this._updateNode(new hc(this._previous().toString(),e,this._equality_expression()));return e}_equality_expression(){const e=this._relational_expression();return this._match([ke.tokens.equal_equal,ke.tokens.not_equal])?this._updateNode(new hc(this._previous().toString(),e,this._relational_expression())):e}_relational_expression(){let e=this._shift_expression();for(;this._match([ke.tokens.less_than,ke.tokens.greater_than,ke.tokens.less_than_equal,ke.tokens.greater_than_equal]);)e=this._updateNode(new hc(this._previous().toString(),e,this._shift_expression()));return e}_shift_expression(){let e=this._additive_expression();for(;this._match([ke.tokens.shift_left,ke.tokens.shift_right]);)e=this._updateNode(new hc(this._previous().toString(),e,this._additive_expression()));return e}_additive_expression(){let e=this._multiplicative_expression();for(;this._match([ke.tokens.plus,ke.tokens.minus]);)e=this._updateNode(new hc(this._previous().toString(),e,this._multiplicative_expression()));return e}_multiplicative_expression(){let e=this._unary_expression();for(;this._match([ke.tokens.star,ke.tokens.forward_slash,ke.tokens.modulo]);)e=this._updateNode(new hc(this._previous().toString(),e,this._unary_expression()));return e}_unary_expression(){return this._match([ke.tokens.minus,ke.tokens.bang,ke.tokens.tilde,ke.tokens.star,ke.tokens.and])?this._updateNode(new eo(this._previous().toString(),this._unary_expression())):this._singular_expression()}_singular_expression(){const e=this._primary_expression(),r=this._postfix_expression();return r&&(e.postfix=r),e}_postfix_expression(){if(this._match(ke.tokens.bracket_left)){const e=this._short_circuit_or_expression();this._consume(ke.tokens.bracket_right,"Expected ']'.");const r=this._updateNode(new c0(e)),n=this._postfix_expression();return n&&(r.postfix=n),r}if(this._match(ke.tokens.period)){const e=this._consume(ke.tokens.name,"Expected member name."),r=this._postfix_expression(),n=this._updateNode(new Sd(e.lexeme));return r&&(n.postfix=r),n}return null}_getStruct(e){return this._context.aliases.has(e)?this._context.aliases.get(e).type:this._context.structs.has(e)?this._context.structs.get(e):null}_getType(e){const r=this._getStruct(e);if(r!==null)return r;switch(e){case"void":return wt.void;case"bool":return wt.bool;case"i32":return wt.i32;case"u32":return wt.u32;case"f32":return wt.f32;case"f16":return wt.f16;case"vec2f":return it.vec2f;case"vec3f":return it.vec3f;case"vec4f":return it.vec4f;case"vec2i":return it.vec2i;case"vec3i":return it.vec3i;case"vec4i":return it.vec4i;case"vec2u":return it.vec2u;case"vec3u":return it.vec3u;case"vec4u":return it.vec4u;case"vec2h":return it.vec2h;case"vec3h":return it.vec3h;case"vec4h":return it.vec4h;case"mat2x2f":return it.mat2x2f;case"mat2x3f":return it.mat2x3f;case"mat2x4f":return it.mat2x4f;case"mat3x2f":return it.mat3x2f;case"mat3x3f":return it.mat3x3f;case"mat3x4f":return it.mat3x4f;case"mat4x2f":return it.mat4x2f;case"mat4x3f":return it.mat4x3f;case"mat4x4f":return it.mat4x4f;case"mat2x2h":return it.mat2x2h;case"mat2x3h":return it.mat2x3h;case"mat2x4h":return it.mat2x4h;case"mat3x2h":return it.mat3x2h;case"mat3x3h":return it.mat3x3h;case"mat3x4h":return it.mat3x4h;case"mat4x2h":return it.mat4x2h;case"mat4x3h":return it.mat4x3h;case"mat4x4h":return it.mat4x4h;case"mat2x2i":return it.mat2x2i;case"mat2x3i":return it.mat2x3i;case"mat2x4i":return it.mat2x4i;case"mat3x2i":return it.mat3x2i;case"mat3x3i":return it.mat3x3i;case"mat3x4i":return it.mat3x4i;case"mat4x2i":return it.mat4x2i;case"mat4x3i":return it.mat4x3i;case"mat4x4i":return it.mat4x4i;case"mat2x2u":return it.mat2x2u;case"mat2x3u":return it.mat2x3u;case"mat2x4u":return it.mat2x4u;case"mat3x2u":return it.mat3x2u;case"mat3x3u":return it.mat3x3u;case"mat3x4u":return it.mat3x4u;case"mat4x2u":return it.mat4x2u;case"mat4x3u":return it.mat4x3u;case"mat4x4u":return it.mat4x4u}return null}_validateTypeRange(e,r){if(r.name==="i32"){if(e<-2147483648||e>2147483647)throw this._error(this._previous(),`Value out of range for i32: ${e}. Line: ${this._currentLine}.`)}else if(r.name==="u32"&&(e<0||e>4294967295))throw this._error(this._previous(),`Value out of range for u32: ${e}. Line: ${this._currentLine}.`)}_primary_expression(){if(this._match(ke.tokens.ident)){const n=this._previous().toString();if(this._check(ke.tokens.paren_left)){const i=this._argument_expression_list(),o=this._getType(n);return o!==null?this._updateNode(new iu(o,i)):this._updateNode(new HP(n,i))}if(this._context.constants.has(n)){const i=this._context.constants.get(n);return this._updateNode(new d$(n,i.value))}return this._updateNode(new za(n))}if(this._match(ke.tokens.int_literal)){const n=this._previous().toString();let i=n.endsWith("i")||n.endsWith("i")?wt.i32:n.endsWith("u")||n.endsWith("U")?wt.u32:wt.x32;const o=parseInt(n);return this._validateTypeRange(o,i),this._updateNode(new go(new Je(o,this._exec.getTypeInfo(i)),i))}if(this._match(ke.tokens.uint_literal)){const n=parseInt(this._previous().toString());return this._validateTypeRange(n,wt.u32),this._updateNode(new go(new Je(n,this._exec.getTypeInfo(wt.u32)),wt.u32))}if(this._match([ke.tokens.decimal_float_literal,ke.tokens.hex_float_literal])){let n=this._previous().toString(),i=n.endsWith("h");i&&(n=n.substring(0,n.length-1));const o=parseFloat(n);this._validateTypeRange(o,i?wt.f16:wt.f32);const s=i?wt.f16:wt.f32;return this._updateNode(new go(new Je(o,this._exec.getTypeInfo(s)),s))}if(this._match([ke.keywords.true,ke.keywords.false])){let n=this._previous().toString()===ke.keywords.true.rule;return this._updateNode(new go(new Je(n?1:0,this._exec.getTypeInfo(wt.bool)),wt.bool))}if(this._check(ke.tokens.paren_left))return this._paren_expression();if(this._match(ke.keywords.bitcast)){this._consume(ke.tokens.less_than,"Expected '<'.");const n=this._type_decl();this._consume(ke.tokens.greater_than,"Expected '>'.");const i=this._paren_expression();return this._updateNode(new A$(n,i))}const e=this._type_decl(),r=this._argument_expression_list();return this._updateNode(new iu(e,r))}_argument_expression_list(){if(!this._match(ke.tokens.paren_left))return null;const e=[];do{if(this._check(ke.tokens.paren_right))break;const r=this._short_circuit_or_expression();e.push(r)}while(this._match(ke.tokens.comma));return this._consume(ke.tokens.paren_right,"Expected ')' for agument list"),e}_optional_paren_expression(){this._match(ke.tokens.paren_left);const e=this._short_circuit_or_expression();return this._match(ke.tokens.paren_right),e}_paren_expression(){this._consume(ke.tokens.paren_left,"Expected '('.");const e=this._short_circuit_or_expression();return this._consume(ke.tokens.paren_right,"Expected ')'."),e}_struct_decl(){if(!this._match(ke.keywords.struct))return null;const e=this._currentLine,r=this._consume(ke.tokens.ident,"Expected name for struct.").toString();this._consume(ke.tokens.brace_left,"Expected '{' for struct body.");const n=[];for(;!this._check(ke.tokens.brace_right);){const s=this._attribute(),a=this._consume(ke.tokens.name,"Expected variable name.").toString();this._consume(ke.tokens.colon,"Expected ':' for struct member type.");const l=this._attribute(),c=this._type_decl();c!=null&&(c.attributes=l),this._check(ke.tokens.brace_right)?this._match(ke.tokens.comma):this._consume(ke.tokens.comma,"Expected ',' for struct member."),n.push(this._updateNode(new sR(a,c,s)))}this._consume(ke.tokens.brace_right,"Expected '}' after struct body.");const i=this._currentLine,o=this._updateNode(new Hu(r,n,e,i),e);return this._context.structs.set(r,o),o}_global_variable_decl(){const e=this._variable_decl();if(!e)return null;if(this._match(ke.tokens.equal)){const r=this._const_expression();e.value=r}if(e.type!==null&&e.value instanceof go){if(e.value.type.name!=="x32"&&e.type.getTypeName()!==e.value.type.getTypeName())throw this._error(this._peek(),`Invalid cast from ${e.value.type.name} to ${e.type.name}. Line:${this._currentLine}`);e.value.isScalar&&this._validateTypeRange(e.value.scalarValue,e.type),e.value.type=e.type}else e.type===null&&e.value instanceof go&&(e.type=e.value.type.name==="x32"?wt.i32:e.value.type,e.value.isScalar&&this._validateTypeRange(e.value.scalarValue,e.type));return e}_override_variable_decl(){const e=this._override_decl();return e&&this._match(ke.tokens.equal)&&(e.value=this._const_expression()),e}_global_const_decl(){var e;if(!this._match(ke.keywords.const))return null;const r=this._consume(ke.tokens.name,"Expected variable name"),n=this._currentLine;let i=null;if(this._match(ke.tokens.colon)){const l=this._attribute();i=this._type_decl(),i!=null&&(i.attributes=l)}let o=null;this._consume(ke.tokens.equal,"const declarations require an assignment");const s=this._short_circuit_or_expression();try{let l=[wt.f32],c=s.constEvaluate(this._exec,l);c instanceof Je&&this._validateTypeRange(c.value,l[0]),l[0]instanceof it&&l[0].format===null&&c.typeInfo instanceof xd&&c.typeInfo.format!==null&&(c.typeInfo.format.name==="f16"?l[0].format=wt.f16:c.typeInfo.format.name==="f32"?l[0].format=wt.f32:c.typeInfo.format.name==="i32"?l[0].format=wt.i32:c.typeInfo.format.name==="u32"?l[0].format=wt.u32:c.typeInfo.format.name==="bool"?l[0].format=wt.bool:console.error(`TODO: impelement template format type ${c.typeInfo.format.name}`)),o=this._updateNode(new go(c,l[0])),this._exec.context.setVariable(r.toString(),c)}catch{o=s}if(i!==null&&o instanceof go){if(o.type.name!=="x32"&&i.getTypeName()!==o.type.getTypeName())throw this._error(this._peek(),`Invalid cast from ${o.type.name} to ${i.name}. Line:${this._currentLine}`);o.type=i,o.isScalar&&this._validateTypeRange(o.scalarValue,o.type)}else i===null&&o instanceof go&&(i=(e=o==null?void 0:o.type)!==null&&e!==void 0?e:wt.f32,i===wt.x32&&(i=wt.i32));const a=this._updateNode(new S1(r.toString(),i,"","",o),n);return this._context.constants.set(a.name,a),a}_global_let_decl(){if(!this._match(ke.keywords.let))return null;const e=this._currentLine,r=this._consume(ke.tokens.name,"Expected variable name");let n=null;if(this._match(ke.tokens.colon)){const o=this._attribute();n=this._type_decl(),n!=null&&(n.attributes=o)}let i=null;if(this._match(ke.tokens.equal)&&(i=this._const_expression()),n!==null&&i instanceof go){if(i.type.name!=="x32"&&n.getTypeName()!==i.type.getTypeName())throw this._error(this._peek(),`Invalid cast from ${i.type.name} to ${n.name}. Line:${this._currentLine}`);i.type=n}else n===null&&i instanceof go&&(n=i.type.name==="x32"?wt.i32:i.type);return i instanceof go&&i.isScalar&&this._validateTypeRange(i.scalarValue,n),this._updateNode(new ag(r.toString(),n,"","",i),e)}_const_expression(){return this._short_circuit_or_expression()}_variable_decl(){if(!this._match(ke.keywords.var))return null;const e=this._currentLine;let r="",n="";this._match(ke.tokens.less_than)&&(r=this._consume(ke.storage_class,"Expected storage_class.").toString(),this._match(ke.tokens.comma)&&(n=this._consume(ke.access_mode,"Expected access_mode.").toString()),this._consume(ke.tokens.greater_than,"Expected '>'."));const i=this._consume(ke.tokens.name,"Expected variable name");let o=null;if(this._match(ke.tokens.colon)){const s=this._attribute();o=this._type_decl(),o!=null&&(o.attributes=s)}return this._updateNode(new Yu(i.toString(),o,r,n,null),e)}_override_decl(){if(!this._match(ke.keywords.override))return null;const e=this._consume(ke.tokens.name,"Expected variable name");let r=null;if(this._match(ke.tokens.colon)){const n=this._attribute();r=this._type_decl(),r!=null&&(r.attributes=n)}return this._updateNode(new zP(e.toString(),r,null))}_diagnostic(){this._consume(ke.tokens.paren_left,"Expected '('");const e=this._consume(ke.tokens.ident,"Expected severity control name.");this._consume(ke.tokens.comma,"Expected ','");let r=this._consume(ke.tokens.ident,"Expected diagnostic rule name.").toString();return this._match(ke.tokens.period)&&(r+=`.${this._consume(ke.tokens.ident,"Expected diagnostic message.").toString()}`),this._consume(ke.tokens.paren_right,"Expected ')'"),this._updateNode(new u$(e.toString(),r))}_enable_directive(){const e=this._consume(ke.tokens.ident,"identity expected.");return this._updateNode(new gse(e.toString()))}_requires_directive(){const e=[this._consume(ke.tokens.ident,"identity expected.").toString()];for(;this._match(ke.tokens.comma);){const r=this._consume(ke.tokens.ident,"identity expected.");e.push(r.toString())}return this._updateNode(new mse(e))}_type_alias(){const e=this._consume(ke.tokens.ident,"identity expected.");this._consume(ke.tokens.equal,"Expected '=' for type alias.");let r=this._type_decl();if(r===null)throw this._error(this._peek(),"Expected Type for Alias.");this._context.aliases.has(r.name)&&(r=this._context.aliases.get(r.name).type);const n=this._updateNode(new VP(e.toString(),r));return this._context.aliases.set(n.name,n),n}_type_decl(){if(this._check([ke.tokens.ident,...ke.texel_format,ke.keywords.bool,ke.keywords.f32,ke.keywords.i32,ke.keywords.u32])){const n=this._advance().toString();if(this._context.structs.has(n))return this._context.structs.get(n);if(this._context.aliases.has(n))return this._context.aliases.get(n).type;if(!this._getType(n)){const i=this._updateNode(new iR(n));return this._forwardTypeCount++,i}return this._updateNode(new wt(n))}let e=this._texture_sampler_types();if(e)return e;if(this._check(ke.template_types)){let n=this._advance().toString(),i=null,o=null;return this._match(ke.tokens.less_than)&&(i=this._type_decl(),o=null,this._match(ke.tokens.comma)&&(o=this._consume(ke.access_mode,"Expected access_mode for pointer").toString()),this._consume(ke.tokens.greater_than,"Expected '>' for type.")),this._updateNode(new it(n,i,o))}if(this._match(ke.keywords.ptr)){let n=this._previous().toString();this._consume(ke.tokens.less_than,"Expected '<' for pointer.");const i=this._consume(ke.storage_class,"Expected storage_class for pointer");this._consume(ke.tokens.comma,"Expected ',' for pointer.");const o=this._type_decl();let s=null;return this._match(ke.tokens.comma)&&(s=this._consume(ke.access_mode,"Expected access_mode for pointer").toString()),this._consume(ke.tokens.greater_than,"Expected '>' for pointer."),this._updateNode(new T1(n,i.toString(),o,s))}const r=this._attribute();if(this._match(ke.keywords.array)){let n=null,i=-1;const o=this._previous();let s=null;if(this._match(ke.tokens.less_than)){n=this._type_decl(),this._context.aliases.has(n.name)&&(n=this._context.aliases.get(n.name).type);let l="";if(this._match(ke.tokens.comma)){s=this._shift_expression();try{l=s.constEvaluate(this._exec).toString(),s=null}catch{l="1"}}this._consume(ke.tokens.greater_than,"Expected '>' for array."),i=l?parseInt(l):0}const a=this._updateNode(new lg(o.toString(),r,n,i));return s&&this._deferArrayCountEval.push({arrayType:a,countNode:s}),a}return null}_texture_sampler_types(){if(this._match(ke.sampler_type))return this._updateNode(new Gp(this._previous().toString(),null,null));if(this._match(ke.depth_texture_type))return this._updateNode(new Gp(this._previous().toString(),null,null));if(this._match(ke.sampled_texture_type)||this._match(ke.multisampled_texture_type)){const e=this._previous();this._consume(ke.tokens.less_than,"Expected '<' for sampler type.");const r=this._type_decl();return this._consume(ke.tokens.greater_than,"Expected '>' for sampler type."),this._updateNode(new Gp(e.toString(),r,null))}if(this._match(ke.storage_texture_type)){const e=this._previous();this._consume(ke.tokens.less_than,"Expected '<' for sampler type.");const r=this._consume(ke.texel_format,"Invalid texel format.").toString();this._consume(ke.tokens.comma,"Expected ',' after texel format.");const n=this._consume(ke.access_mode,"Expected access mode for storage texture type.").toString();return this._consume(ke.tokens.greater_than,"Expected '>' for sampler type."),this._updateNode(new Gp(e.toString(),r,n))}return null}_attribute(){let e=[];for(;this._match(ke.tokens.attr);){const r=this._consume(ke.attribute_name,"Expected attribute name"),n=this._updateNode(new y$(r.toString(),null));if(this._match(ke.tokens.paren_left)){if(n.value=this._consume(ke.literal_or_ident,"Expected attribute value").toString(),this._check(ke.tokens.comma)){this._advance();do{const i=this._consume(ke.literal_or_ident,"Expected attribute value").toString();n.value instanceof Array||(n.value=[n.value]),n.value.push(i)}while(this._match(ke.tokens.comma))}this._consume(ke.tokens.paren_right,"Expected ')'")}e.push(n)}return e.length==0?null:e}},Dse=class extends cg{constructor(e){super(),e&&this.update(e)}update(e){const r=new Lse().parse(e);this.updateAST(r)}};function Bse(t){var o;const e={attributes:[],bindings:[]};let r;try{r=Fse(t)}catch(s){return St.error(s.message)(),e}for(const s of r.uniforms){const a=[];for(const l of((o=s.type)==null?void 0:o.members)||[])a.push({name:l.name,type:cR(l.type)});e.bindings.push({type:"uniform",name:s.name,group:s.group,location:s.binding,members:a})}for(const s of r.textures)e.bindings.push({type:"texture",name:s.name,group:s.group,location:s.binding});for(const s of r.samplers)e.bindings.push({type:"sampler",name:s.name,group:s.group,location:s.binding});const n=r.entry.vertex[0],i=(n==null?void 0:n.inputs.length)||0;for(let s=0;s<i;s++){const a=n.inputs[s];if(a.locationType==="location"){const l=cR(a.type);e.attributes.push({name:a.name,location:Number(a.location),type:l})}}return e}function cR(t){return t!=null&&t.format?`${t.name}<${t.format.name}>`:t.name}function Fse(t){try{return new Dse(t)}catch(e){if(e instanceof Error)throw e;let r="WGSL parse error";throw typeof e=="object"&&(e!=null&&e.message)&&(r+=`: ${e.message} `),typeof e=="object"&&(e!=null&&e.token)&&(r+=e.token.line||""),new Error(r,{cause:e})}}const jse={EPSILON:1e-12,debug:!1,precision:4,printTypes:!1,printDegrees:!1,printRowMajor:!0,_cartographicRadians:!1};globalThis.mathgl=globalThis.mathgl||{config:{...jse}};const Tl=globalThis.mathgl.config;function Use(t,{precision:e=Tl.precision}={}){return t=$se(t),`${parseFloat(t.toPrecision(e))}`}function u0(t){return Array.isArray(t)||ArrayBuffer.isView(t)&&!(t instanceof DataView)}function eh(t,e,r){return Wse(t,n=>Math.max(e,Math.min(r,n)))}function Ed(t,e,r){return u0(t)?t.map((n,i)=>Ed(n,e[i],r)):r*e+(1-r)*t}function Rg(t,e,r){const n=Tl.EPSILON;try{if(t===e)return!0;if(u0(t)&&u0(e)){if(t.length!==e.length)return!1;for(let i=0;i<t.length;++i)if(!Rg(t[i],e[i]))return!1;return!0}return t&&t.equals?t.equals(e):e&&e.equals?e.equals(t):typeof t=="number"&&typeof e=="number"?Math.abs(t-e)<=Tl.EPSILON*Math.max(1,Math.abs(t),Math.abs(e)):!1}finally{Tl.EPSILON=n}}function $se(t){return Math.round(t/Tl.EPSILON)*Tl.EPSILON}function zse(t){return t.clone?t.clone():new Array(t.length)}function Wse(t,e,r){if(u0(t)){const n=t;r=r||zse(n);for(let i=0;i<r.length&&i<n.length;++i){const o=typeof t=="number"?t:t[i];r[i]=e(o,i,r)}return r}return e(t)}class S$ extends Array{clone(){return new this.constructor().copy(this)}fromArray(e,r=0){for(let n=0;n<this.ELEMENTS;++n)this[n]=e[n+r];return this.check()}toArray(e=[],r=0){for(let n=0;n<this.ELEMENTS;++n)e[r+n]=this[n];return e}toObject(e){return e}from(e){return Array.isArray(e)?this.copy(e):this.fromObject(e)}to(e){return e===this?this:u0(e)?this.toArray(e):this.toObject(e)}toTarget(e){return e?this.to(e):this}toFloat32Array(){return new Float32Array(this)}toString(){return this.formatString(Tl)}formatString(e){let r="";for(let n=0;n<this.ELEMENTS;++n)r+=(n>0?", ":"")+Use(this[n],e);return`${e.printTypes?this.constructor.name:""}[${r}]`}equals(e){if(!e||this.length!==e.length)return!1;for(let r=0;r<this.ELEMENTS;++r)if(!Rg(this[r],e[r]))return!1;return!0}exactEquals(e){if(!e||this.length!==e.length)return!1;for(let r=0;r<this.ELEMENTS;++r)if(this[r]!==e[r])return!1;return!0}negate(){for(let e=0;e<this.ELEMENTS;++e)this[e]=-this[e];return this.check()}lerp(e,r,n){if(n===void 0)return this.lerp(this,e,r);for(let i=0;i<this.ELEMENTS;++i){const o=e[i],s=typeof r=="number"?r:r[i];this[i]=o+n*(s-o)}return this.check()}min(e){for(let r=0;r<this.ELEMENTS;++r)this[r]=Math.min(e[r],this[r]);return this.check()}max(e){for(let r=0;r<this.ELEMENTS;++r)this[r]=Math.max(e[r],this[r]);return this.check()}clamp(e,r){for(let n=0;n<this.ELEMENTS;++n)this[n]=Math.min(Math.max(this[n],e[n]),r[n]);return this.check()}add(...e){for(const r of e)for(let n=0;n<this.ELEMENTS;++n)this[n]+=r[n];return this.check()}subtract(...e){for(const r of e)for(let n=0;n<this.ELEMENTS;++n)this[n]-=r[n];return this.check()}scale(e){if(typeof e=="number")for(let r=0;r<this.ELEMENTS;++r)this[r]*=e;else for(let r=0;r<this.ELEMENTS&&r<e.length;++r)this[r]*=e[r];return this.check()}multiplyByScalar(e){for(let r=0;r<this.ELEMENTS;++r)this[r]*=e;return this.check()}check(){if(Tl.debug&&!this.validate())throw new Error(`math.gl: ${this.constructor.name} some fields set to invalid numbers'`);return this}validate(){let e=this.length===this.ELEMENTS;for(let r=0;r<this.ELEMENTS;++r)e=e&&Number.isFinite(this[r]);return e}sub(e){return this.subtract(e)}setScalar(e){for(let r=0;r<this.ELEMENTS;++r)this[r]=e;return this.check()}addScalar(e){for(let r=0;r<this.ELEMENTS;++r)this[r]+=e;return this.check()}subScalar(e){return this.addScalar(-e)}multiplyScalar(e){for(let r=0;r<this.ELEMENTS;++r)this[r]*=e;return this.check()}divideScalar(e){return this.multiplyByScalar(1/e)}clampScalar(e,r){for(let n=0;n<this.ELEMENTS;++n)this[n]=Math.min(Math.max(this[n],e),r);return this.check()}get elements(){return this}}function Vse(t,e){if(t.length!==e)return!1;for(let r=0;r<t.length;++r)if(!Number.isFinite(t[r]))return!1;return!0}function Ua(t){if(!Number.isFinite(t))throw new Error(`Invalid number ${JSON.stringify(t)}`);return t}function fw(t,e,r=""){if(Tl.debug&&!Vse(t,e))throw new Error(`math.gl: ${r} some fields set to invalid numbers'`);return t}function uR(t,e){if(!t)throw new Error(`math.gl assertion ${e}`)}class Hse extends S${get x(){return this[0]}set x(e){this[0]=Ua(e)}get y(){return this[1]}set y(e){this[1]=Ua(e)}len(){return Math.sqrt(this.lengthSquared())}magnitude(){return this.len()}lengthSquared(){let e=0;for(let r=0;r<this.ELEMENTS;++r)e+=this[r]*this[r];return e}magnitudeSquared(){return this.lengthSquared()}distance(e){return Math.sqrt(this.distanceSquared(e))}distanceSquared(e){let r=0;for(let n=0;n<this.ELEMENTS;++n){const i=this[n]-e[n];r+=i*i}return Ua(r)}dot(e){let r=0;for(let n=0;n<this.ELEMENTS;++n)r+=this[n]*e[n];return Ua(r)}normalize(){const e=this.magnitude();if(e!==0)for(let r=0;r<this.ELEMENTS;++r)this[r]/=e;return this.check()}multiply(...e){for(const r of e)for(let n=0;n<this.ELEMENTS;++n)this[n]*=r[n];return this.check()}divide(...e){for(const r of e)for(let n=0;n<this.ELEMENTS;++n)this[n]/=r[n];return this.check()}lengthSq(){return this.lengthSquared()}distanceTo(e){return this.distance(e)}distanceToSquared(e){return this.distanceSquared(e)}getComponent(e){return uR(e>=0&&e<this.ELEMENTS,"index is out of range"),Ua(this[e])}setComponent(e,r){return uR(e>=0&&e<this.ELEMENTS,"index is out of range"),this[e]=r,this.check()}addVectors(e,r){return this.copy(e).add(r)}subVectors(e,r){return this.copy(e).subtract(r)}multiplyVectors(e,r){return this.copy(e).multiply(r)}addScaledVector(e,r){return this.add(new this.constructor(e).multiplyScalar(r))}}const O1=1e-6;let f0=typeof Float32Array<"u"?Float32Array:Array;function qse(){const t=new f0(2);return f0!=Float32Array&&(t[0]=0,t[1]=0),t}function z4(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t}function Xse(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t}function Yse(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t}function Kse(t){const e=t[0],r=t[1];return Math.sqrt(e*e+r*r)}function Gse(t,e){return t[0]=-e[0],t[1]=-e[1],t}function E$(t,e,r,n){const i=e[0],o=e[1];return t[0]=i+n*(r[0]-i),t[1]=o+n*(r[1]-o),t}function Qse(t,e,r){const n=e[0],i=e[1];return t[0]=r[0]*n+r[4]*i+r[12],t[1]=r[1]*n+r[5]*i+r[13],t}const Zse=Xse;(function(){const t=qse();return function(e,r,n,i,o,s){let a,l;for(r||(r=2),n||(n=0),i?l=Math.min(i*r+n,e.length):l=e.length,a=n;a<l;a+=r)t[0]=e[a],t[1]=e[a+1],o(t,t,s),e[a]=t[0],e[a+1]=t[1];return e}})();function Jse(t,e,r){const n=e[0],i=e[1],o=r[3]*n+r[7]*i||1;return t[0]=(r[0]*n+r[4]*i)/o,t[1]=(r[1]*n+r[5]*i)/o,t}function T$(t,e,r){const n=e[0],i=e[1],o=e[2],s=r[3]*n+r[7]*i+r[11]*o||1;return t[0]=(r[0]*n+r[4]*i+r[8]*o)/s,t[1]=(r[1]*n+r[5]*i+r[9]*o)/s,t[2]=(r[2]*n+r[6]*i+r[10]*o)/s,t}function eae(t,e,r){const n=e[0],i=e[1];return t[0]=r[0]*n+r[2]*i,t[1]=r[1]*n+r[3]*i,t[2]=e[2],t}function tae(){const t=new f0(3);return f0!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function rae(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t}function nae(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function iae(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function oae(t,e,r){const n=e[0],i=e[1],o=e[2],s=r[0],a=r[1],l=r[2];return t[0]=i*l-o*a,t[1]=o*s-n*l,t[2]=n*a-i*s,t}function P$(t,e,r){const n=e[0],i=e[1],o=e[2];let s=r[3]*n+r[7]*i+r[11]*o+r[15];return s=s||1,t[0]=(r[0]*n+r[4]*i+r[8]*o+r[12])/s,t[1]=(r[1]*n+r[5]*i+r[9]*o+r[13])/s,t[2]=(r[2]*n+r[6]*i+r[10]*o+r[14])/s,t}function sae(t,e,r){const n=e[0],i=e[1],o=e[2];return t[0]=n*r[0]+i*r[3]+o*r[6],t[1]=n*r[1]+i*r[4]+o*r[7],t[2]=n*r[2]+i*r[5]+o*r[8],t}function aae(t,e,r){const n=r[0],i=r[1],o=r[2],s=r[3],a=e[0],l=e[1],c=e[2];let u=i*c-o*l,g=o*a-n*c,_=n*l-i*a,b=i*_-o*g,P=o*u-n*_,E=n*g-i*u;const T=s*2;return u*=T,g*=T,_*=T,b*=2,P*=2,E*=2,t[0]=a+u+b,t[1]=l+g+P,t[2]=c+_+E,t}function lae(t,e,r,n){const i=[],o=[];return i[0]=e[0]-r[0],i[1]=e[1]-r[1],i[2]=e[2]-r[2],o[0]=i[0],o[1]=i[1]*Math.cos(n)-i[2]*Math.sin(n),o[2]=i[1]*Math.sin(n)+i[2]*Math.cos(n),t[0]=o[0]+r[0],t[1]=o[1]+r[1],t[2]=o[2]+r[2],t}function cae(t,e,r,n){const i=[],o=[];return i[0]=e[0]-r[0],i[1]=e[1]-r[1],i[2]=e[2]-r[2],o[0]=i[2]*Math.sin(n)+i[0]*Math.cos(n),o[1]=i[1],o[2]=i[2]*Math.cos(n)-i[0]*Math.sin(n),t[0]=o[0]+r[0],t[1]=o[1]+r[1],t[2]=o[2]+r[2],t}function uae(t,e,r,n){const i=[],o=[];return i[0]=e[0]-r[0],i[1]=e[1]-r[1],i[2]=e[2]-r[2],o[0]=i[0]*Math.cos(n)-i[1]*Math.sin(n),o[1]=i[0]*Math.sin(n)+i[1]*Math.cos(n),o[2]=i[2],t[0]=o[0]+r[0],t[1]=o[1]+r[1],t[2]=o[2]+r[2],t}function fae(t,e){const r=t[0],n=t[1],i=t[2],o=e[0],s=e[1],a=e[2],l=Math.sqrt((r*r+n*n+i*i)*(o*o+s*s+a*a)),c=l&&iae(t,e)/l;return Math.acos(Math.min(Math.max(c,-1),1))}const hae=rae;(function(){const t=tae();return function(e,r,n,i,o,s){let a,l;for(r||(r=3),n||(n=0),i?l=Math.min(i*r+n,e.length):l=e.length,a=n;a<l;a+=r)t[0]=e[a],t[1]=e[a+1],t[2]=e[a+2],o(t,t,s),e[a]=t[0],e[a+1]=t[1],e[a+2]=t[2];return e}})();const hw=[0,0,0];let Fv;class bu extends Hse{static get ZERO(){return Fv||(Fv=new bu(0,0,0),Object.freeze(Fv)),Fv}constructor(e=0,r=0,n=0){super(-0,-0,-0),arguments.length===1&&u0(e)?this.copy(e):(Tl.debug&&(Ua(e),Ua(r),Ua(n)),this[0]=e,this[1]=r,this[2]=n)}set(e,r,n){return this[0]=e,this[1]=r,this[2]=n,this.check()}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this.check()}fromObject(e){return Tl.debug&&(Ua(e.x),Ua(e.y),Ua(e.z)),this[0]=e.x,this[1]=e.y,this[2]=e.z,this.check()}toObject(e){return e.x=this[0],e.y=this[1],e.z=this[2],e}get ELEMENTS(){return 3}get z(){return this[2]}set z(e){this[2]=Ua(e)}angle(e){return fae(this,e)}cross(e){return oae(this,this,e),this.check()}rotateX({radians:e,origin:r=hw}){return lae(this,this,r,e),this.check()}rotateY({radians:e,origin:r=hw}){return cae(this,this,r,e),this.check()}rotateZ({radians:e,origin:r=hw}){return uae(this,this,r,e),this.check()}transform(e){return this.transformAsPoint(e)}transformAsPoint(e){return P$(this,this,e),this.check()}transformAsVector(e){return T$(this,this,e),this.check()}transformByMatrix3(e){return sae(this,this,e),this.check()}transformByMatrix2(e){return eae(this,this,e),this.check()}transformByQuaternion(e){return aae(this,this,e),this.check()}}class dae extends S${toString(){let e="[";if(Tl.printRowMajor){e+="row-major:";for(let r=0;r<this.RANK;++r)for(let n=0;n<this.RANK;++n)e+=` ${this[n*this.RANK+r]}`}else{e+="column-major:";for(let r=0;r<this.ELEMENTS;++r)e+=` ${this[r]}`}return e+="]",e}getElementIndex(e,r){return r*this.RANK+e}getElement(e,r){return this[r*this.RANK+e]}setElement(e,r,n){return this[r*this.RANK+e]=Ua(n),this}getColumn(e,r=new Array(this.RANK).fill(-0)){const n=e*this.RANK;for(let i=0;i<this.RANK;++i)r[i]=this[n+i];return r}setColumn(e,r){const n=e*this.RANK;for(let i=0;i<this.RANK;++i)this[n+i]=r[i];return this}}function Aae(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function pae(t,e){if(t===e){const r=e[1],n=e[2],i=e[3],o=e[6],s=e[7],a=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=r,t[6]=e[9],t[7]=e[13],t[8]=n,t[9]=o,t[11]=e[14],t[12]=i,t[13]=s,t[14]=a}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function W4(t,e){const r=e[0],n=e[1],i=e[2],o=e[3],s=e[4],a=e[5],l=e[6],c=e[7],u=e[8],g=e[9],_=e[10],b=e[11],P=e[12],E=e[13],T=e[14],O=e[15],L=r*a-n*s,N=r*l-i*s,D=r*c-o*s,B=n*l-i*a,z=n*c-o*a,X=i*c-o*l,Z=u*E-g*P,G=u*T-_*P,de=u*O-b*P,H=g*T-_*E,ee=g*O-b*E,ae=_*O-b*T;let le=L*ae-N*ee+D*H+B*de-z*G+X*Z;return le?(le=1/le,t[0]=(a*ae-l*ee+c*H)*le,t[1]=(i*ee-n*ae-o*H)*le,t[2]=(E*X-T*z+O*B)*le,t[3]=(_*z-g*X-b*B)*le,t[4]=(l*de-s*ae-c*G)*le,t[5]=(r*ae-i*de+o*G)*le,t[6]=(T*D-P*X-O*N)*le,t[7]=(u*X-_*D+b*N)*le,t[8]=(s*ee-a*de+c*Z)*le,t[9]=(n*de-r*ee-o*Z)*le,t[10]=(P*z-E*D+O*L)*le,t[11]=(g*D-u*z-b*L)*le,t[12]=(a*G-s*H-l*Z)*le,t[13]=(r*H-n*G+i*Z)*le,t[14]=(E*N-P*B-T*L)*le,t[15]=(u*B-g*N+_*L)*le,t):null}function gae(t){const e=t[0],r=t[1],n=t[2],i=t[3],o=t[4],s=t[5],a=t[6],l=t[7],c=t[8],u=t[9],g=t[10],_=t[11],b=t[12],P=t[13],E=t[14],T=t[15],O=e*s-r*o,L=e*a-n*o,N=r*a-n*s,D=c*P-u*b,B=c*E-g*b,z=u*E-g*P,X=e*z-r*B+n*D,Z=o*z-s*B+a*D,G=c*N-u*L+g*O,de=b*N-P*L+E*O;return l*X-i*Z+T*G-_*de}function cd(t,e,r){const n=e[0],i=e[1],o=e[2],s=e[3],a=e[4],l=e[5],c=e[6],u=e[7],g=e[8],_=e[9],b=e[10],P=e[11],E=e[12],T=e[13],O=e[14],L=e[15];let N=r[0],D=r[1],B=r[2],z=r[3];return t[0]=N*n+D*a+B*g+z*E,t[1]=N*i+D*l+B*_+z*T,t[2]=N*o+D*c+B*b+z*O,t[3]=N*s+D*u+B*P+z*L,N=r[4],D=r[5],B=r[6],z=r[7],t[4]=N*n+D*a+B*g+z*E,t[5]=N*i+D*l+B*_+z*T,t[6]=N*o+D*c+B*b+z*O,t[7]=N*s+D*u+B*P+z*L,N=r[8],D=r[9],B=r[10],z=r[11],t[8]=N*n+D*a+B*g+z*E,t[9]=N*i+D*l+B*_+z*T,t[10]=N*o+D*c+B*b+z*O,t[11]=N*s+D*u+B*P+z*L,N=r[12],D=r[13],B=r[14],z=r[15],t[12]=N*n+D*a+B*g+z*E,t[13]=N*i+D*l+B*_+z*T,t[14]=N*o+D*c+B*b+z*O,t[15]=N*s+D*u+B*P+z*L,t}function hy(t,e,r){const n=r[0],i=r[1],o=r[2];let s,a,l,c,u,g,_,b,P,E,T,O;return e===t?(t[12]=e[0]*n+e[4]*i+e[8]*o+e[12],t[13]=e[1]*n+e[5]*i+e[9]*o+e[13],t[14]=e[2]*n+e[6]*i+e[10]*o+e[14],t[15]=e[3]*n+e[7]*i+e[11]*o+e[15]):(s=e[0],a=e[1],l=e[2],c=e[3],u=e[4],g=e[5],_=e[6],b=e[7],P=e[8],E=e[9],T=e[10],O=e[11],t[0]=s,t[1]=a,t[2]=l,t[3]=c,t[4]=u,t[5]=g,t[6]=_,t[7]=b,t[8]=P,t[9]=E,t[10]=T,t[11]=O,t[12]=s*n+u*i+P*o+e[12],t[13]=a*n+g*i+E*o+e[13],t[14]=l*n+_*i+T*o+e[14],t[15]=c*n+b*i+O*o+e[15]),t}function XP(t,e,r){const n=r[0],i=r[1],o=r[2];return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function mae(t,e,r,n){let i=n[0],o=n[1],s=n[2],a=Math.sqrt(i*i+o*o+s*s),l,c,u,g,_,b,P,E,T,O,L,N,D,B,z,X,Z,G,de,H,ee,ae,le,Te;return a<O1?null:(a=1/a,i*=a,o*=a,s*=a,c=Math.sin(r),l=Math.cos(r),u=1-l,g=e[0],_=e[1],b=e[2],P=e[3],E=e[4],T=e[5],O=e[6],L=e[7],N=e[8],D=e[9],B=e[10],z=e[11],X=i*i*u+l,Z=o*i*u+s*c,G=s*i*u-o*c,de=i*o*u-s*c,H=o*o*u+l,ee=s*o*u+i*c,ae=i*s*u+o*c,le=o*s*u-i*c,Te=s*s*u+l,t[0]=g*X+E*Z+N*G,t[1]=_*X+T*Z+D*G,t[2]=b*X+O*Z+B*G,t[3]=P*X+L*Z+z*G,t[4]=g*de+E*H+N*ee,t[5]=_*de+T*H+D*ee,t[6]=b*de+O*H+B*ee,t[7]=P*de+L*H+z*ee,t[8]=g*ae+E*le+N*Te,t[9]=_*ae+T*le+D*Te,t[10]=b*ae+O*le+B*Te,t[11]=P*ae+L*le+z*Te,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function C$(t,e,r){const n=Math.sin(r),i=Math.cos(r),o=e[4],s=e[5],a=e[6],l=e[7],c=e[8],u=e[9],g=e[10],_=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*i+c*n,t[5]=s*i+u*n,t[6]=a*i+g*n,t[7]=l*i+_*n,t[8]=c*i-o*n,t[9]=u*i-s*n,t[10]=g*i-a*n,t[11]=_*i-l*n,t}function vae(t,e,r){const n=Math.sin(r),i=Math.cos(r),o=e[0],s=e[1],a=e[2],l=e[3],c=e[8],u=e[9],g=e[10],_=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i-c*n,t[1]=s*i-u*n,t[2]=a*i-g*n,t[3]=l*i-_*n,t[8]=o*n+c*i,t[9]=s*n+u*i,t[10]=a*n+g*i,t[11]=l*n+_*i,t}function k$(t,e,r){const n=Math.sin(r),i=Math.cos(r),o=e[0],s=e[1],a=e[2],l=e[3],c=e[4],u=e[5],g=e[6],_=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i+c*n,t[1]=s*i+u*n,t[2]=a*i+g*n,t[3]=l*i+_*n,t[4]=c*i-o*n,t[5]=u*i-s*n,t[6]=g*i-a*n,t[7]=_*i-l*n,t}function yae(t,e){const r=e[0],n=e[1],i=e[2],o=e[3],s=r+r,a=n+n,l=i+i,c=r*s,u=n*s,g=n*a,_=i*s,b=i*a,P=i*l,E=o*s,T=o*a,O=o*l;return t[0]=1-g-P,t[1]=u+O,t[2]=_-T,t[3]=0,t[4]=u-O,t[5]=1-c-P,t[6]=b+E,t[7]=0,t[8]=_+T,t[9]=b-E,t[10]=1-c-g,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function bae(t,e,r,n,i,o,s){const a=1/(r-e),l=1/(i-n),c=1/(o-s);return t[0]=o*2*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o*2*l,t[6]=0,t[7]=0,t[8]=(r+e)*a,t[9]=(i+n)*l,t[10]=(s+o)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=s*o*2*c,t[15]=0,t}function _ae(t,e,r,n,i){const o=1/Math.tan(e/2);if(t[0]=o/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,i!=null&&i!==1/0){const s=1/(n-i);t[10]=(i+n)*s,t[14]=2*i*n*s}else t[10]=-1,t[14]=-2*n;return t}const wae=_ae;function xae(t,e,r,n,i,o,s){const a=1/(e-r),l=1/(n-i),c=1/(o-s);return t[0]=-2*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+r)*a,t[13]=(i+n)*l,t[14]=(s+o)*c,t[15]=1,t}const Sae=xae;function Eae(t,e,r,n){let i,o,s,a,l,c,u,g,_,b;const P=e[0],E=e[1],T=e[2],O=n[0],L=n[1],N=n[2],D=r[0],B=r[1],z=r[2];return Math.abs(P-D)<O1&&Math.abs(E-B)<O1&&Math.abs(T-z)<O1?Aae(t):(g=P-D,_=E-B,b=T-z,i=1/Math.sqrt(g*g+_*_+b*b),g*=i,_*=i,b*=i,o=L*b-N*_,s=N*g-O*b,a=O*_-L*g,i=Math.sqrt(o*o+s*s+a*a),i?(i=1/i,o*=i,s*=i,a*=i):(o=0,s=0,a=0),l=_*a-b*s,c=b*o-g*a,u=g*s-_*o,i=Math.sqrt(l*l+c*c+u*u),i?(i=1/i,l*=i,c*=i,u*=i):(l=0,c=0,u=0),t[0]=o,t[1]=l,t[2]=g,t[3]=0,t[4]=s,t[5]=c,t[6]=_,t[7]=0,t[8]=a,t[9]=u,t[10]=b,t[11]=0,t[12]=-(o*P+s*E+a*T),t[13]=-(l*P+c*E+u*T),t[14]=-(g*P+_*E+b*T),t[15]=1,t)}function Tae(){const t=new f0(4);return f0!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function Pae(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t}function Im(t,e,r){const n=e[0],i=e[1],o=e[2],s=e[3];return t[0]=r[0]*n+r[4]*i+r[8]*o+r[12]*s,t[1]=r[1]*n+r[5]*i+r[9]*o+r[13]*s,t[2]=r[2]*n+r[6]*i+r[10]*o+r[14]*s,t[3]=r[3]*n+r[7]*i+r[11]*o+r[15]*s,t}(function(){const t=Tae();return function(e,r,n,i,o,s){let a,l;for(r||(r=4),n||(n=0),i?l=Math.min(i*r+n,e.length):l=e.length,a=n;a<l;a+=r)t[0]=e[a],t[1]=e[a+1],t[2]=e[a+2],t[3]=e[a+3],o(t,t,s),e[a]=t[0],e[a+1]=t[1],e[a+2]=t[2],e[a+3]=t[3];return e}})();var V4;(function(t){t[t.COL0ROW0=0]="COL0ROW0",t[t.COL0ROW1=1]="COL0ROW1",t[t.COL0ROW2=2]="COL0ROW2",t[t.COL0ROW3=3]="COL0ROW3",t[t.COL1ROW0=4]="COL1ROW0",t[t.COL1ROW1=5]="COL1ROW1",t[t.COL1ROW2=6]="COL1ROW2",t[t.COL1ROW3=7]="COL1ROW3",t[t.COL2ROW0=8]="COL2ROW0",t[t.COL2ROW1=9]="COL2ROW1",t[t.COL2ROW2=10]="COL2ROW2",t[t.COL2ROW3=11]="COL2ROW3",t[t.COL3ROW0=12]="COL3ROW0",t[t.COL3ROW1=13]="COL3ROW1",t[t.COL3ROW2=14]="COL3ROW2",t[t.COL3ROW3=15]="COL3ROW3"})(V4||(V4={}));const Cae=45*Math.PI/180,kae=1,dw=.1,Aw=500,Oae=Object.freeze([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);class _u extends dae{static get IDENTITY(){return Iae()}static get ZERO(){return Rae()}get ELEMENTS(){return 16}get RANK(){return 4}get INDICES(){return V4}constructor(e){super(-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0),arguments.length===1&&Array.isArray(e)?this.copy(e):this.identity()}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this[4]=e[4],this[5]=e[5],this[6]=e[6],this[7]=e[7],this[8]=e[8],this[9]=e[9],this[10]=e[10],this[11]=e[11],this[12]=e[12],this[13]=e[13],this[14]=e[14],this[15]=e[15],this.check()}set(e,r,n,i,o,s,a,l,c,u,g,_,b,P,E,T){return this[0]=e,this[1]=r,this[2]=n,this[3]=i,this[4]=o,this[5]=s,this[6]=a,this[7]=l,this[8]=c,this[9]=u,this[10]=g,this[11]=_,this[12]=b,this[13]=P,this[14]=E,this[15]=T,this.check()}setRowMajor(e,r,n,i,o,s,a,l,c,u,g,_,b,P,E,T){return this[0]=e,this[1]=o,this[2]=c,this[3]=b,this[4]=r,this[5]=s,this[6]=u,this[7]=P,this[8]=n,this[9]=a,this[10]=g,this[11]=E,this[12]=i,this[13]=l,this[14]=_,this[15]=T,this.check()}toRowMajor(e){return e[0]=this[0],e[1]=this[4],e[2]=this[8],e[3]=this[12],e[4]=this[1],e[5]=this[5],e[6]=this[9],e[7]=this[13],e[8]=this[2],e[9]=this[6],e[10]=this[10],e[11]=this[14],e[12]=this[3],e[13]=this[7],e[14]=this[11],e[15]=this[15],e}identity(){return this.copy(Oae)}fromObject(e){return this.check()}fromQuaternion(e){return yae(this,e),this.check()}frustum(e){const{left:r,right:n,bottom:i,top:o,near:s=dw,far:a=Aw}=e;return a===1/0?Nae(this,r,n,i,o,s):bae(this,r,n,i,o,s,a),this.check()}lookAt(e){const{eye:r,center:n=[0,0,0],up:i=[0,1,0]}=e;return Eae(this,r,n,i),this.check()}ortho(e){const{left:r,right:n,bottom:i,top:o,near:s=dw,far:a=Aw}=e;return Sae(this,r,n,i,o,s,a),this.check()}orthographic(e){const{fovy:r=Cae,aspect:n=kae,focalDistance:i=1,near:o=dw,far:s=Aw}=e;fR(r);const a=r/2,l=i*Math.tan(a),c=l*n;return this.ortho({left:-c,right:c,bottom:-l,top:l,near:o,far:s})}perspective(e){const{fovy:r=45*Math.PI/180,aspect:n=1,near:i=.1,far:o=500}=e;return fR(r),wae(this,r,n,i,o),this.check()}determinant(){return gae(this)}getScale(e=[-0,-0,-0]){return e[0]=Math.sqrt(this[0]*this[0]+this[1]*this[1]+this[2]*this[2]),e[1]=Math.sqrt(this[4]*this[4]+this[5]*this[5]+this[6]*this[6]),e[2]=Math.sqrt(this[8]*this[8]+this[9]*this[9]+this[10]*this[10]),e}getTranslation(e=[-0,-0,-0]){return e[0]=this[12],e[1]=this[13],e[2]=this[14],e}getRotation(e,r){e=e||[-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0],r=r||[-0,-0,-0];const n=this.getScale(r),i=1/n[0],o=1/n[1],s=1/n[2];return e[0]=this[0]*i,e[1]=this[1]*o,e[2]=this[2]*s,e[3]=0,e[4]=this[4]*i,e[5]=this[5]*o,e[6]=this[6]*s,e[7]=0,e[8]=this[8]*i,e[9]=this[9]*o,e[10]=this[10]*s,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}getRotationMatrix3(e,r){e=e||[-0,-0,-0,-0,-0,-0,-0,-0,-0],r=r||[-0,-0,-0];const n=this.getScale(r),i=1/n[0],o=1/n[1],s=1/n[2];return e[0]=this[0]*i,e[1]=this[1]*o,e[2]=this[2]*s,e[3]=this[4]*i,e[4]=this[5]*o,e[5]=this[6]*s,e[6]=this[8]*i,e[7]=this[9]*o,e[8]=this[10]*s,e}transpose(){return pae(this,this),this.check()}invert(){return W4(this,this),this.check()}multiplyLeft(e){return cd(this,e,this),this.check()}multiplyRight(e){return cd(this,this,e),this.check()}rotateX(e){return C$(this,this,e),this.check()}rotateY(e){return vae(this,this,e),this.check()}rotateZ(e){return k$(this,this,e),this.check()}rotateXYZ(e){return this.rotateX(e[0]).rotateY(e[1]).rotateZ(e[2])}rotateAxis(e,r){return mae(this,this,e,r),this.check()}scale(e){return XP(this,this,Array.isArray(e)?e:[e,e,e]),this.check()}translate(e){return hy(this,this,e),this.check()}transform(e,r){return e.length===4?(r=Im(r||[-0,-0,-0,-0],e,this),fw(r,4),r):this.transformAsPoint(e,r)}transformAsPoint(e,r){const{length:n}=e;let i;switch(n){case 2:i=Qse(r||[-0,-0],e,this);break;case 3:i=P$(r||[-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return fw(i,e.length),i}transformAsVector(e,r){let n;switch(e.length){case 2:n=Jse(r||[-0,-0],e,this);break;case 3:n=T$(r||[-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return fw(n,e.length),n}transformPoint(e,r){return this.transformAsPoint(e,r)}transformVector(e,r){return this.transformAsPoint(e,r)}transformDirection(e,r){return this.transformAsVector(e,r)}makeRotationX(e){return this.identity().rotateX(e)}makeTranslation(e,r,n){return this.identity().translate([e,r,n])}}let jv,Uv;function Rae(){return jv||(jv=new _u([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Object.freeze(jv)),jv}function Iae(){return Uv||(Uv=new _u,Object.freeze(Uv)),Uv}function fR(t){if(t>Math.PI*2)throw Error("expected radians")}function Nae(t,e,r,n,i,o){const s=2*o/(r-e),a=2*o/(i-n),l=(r+e)/(r-e),c=(i+n)/(i-n),u=-1,g=-1,_=-2*o;return t[0]=s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=l,t[9]=c,t[10]=u,t[11]=g,t[12]=0,t[13]=0,t[14]=_,t[15]=0,t}function O$(t,e=[],r=0){const n=Math.fround(t),i=t-n;return e[r]=n,e[r+1]=i,e}function Mae(t){return t-Math.fround(t)}function Lae(t){const e=new Float32Array(32);for(let r=0;r<4;++r)for(let n=0;n<4;++n){const i=r*4+n;O$(t[n*4+r],e,i*2)}return e}const Dae=`#ifdef LUMA_FP32_TAN_PRECISION_WORKAROUND

// All these functions are for substituting tan() function from Intel GPU only
const float TWO_PI = 6.2831854820251465;
const float PI_2 = 1.5707963705062866;
const float PI_16 = 0.1963495463132858;

const float SIN_TABLE_0 = 0.19509032368659973;
const float SIN_TABLE_1 = 0.3826834261417389;
const float SIN_TABLE_2 = 0.5555702447891235;
const float SIN_TABLE_3 = 0.7071067690849304;

const float COS_TABLE_0 = 0.9807852506637573;
const float COS_TABLE_1 = 0.9238795042037964;
const float COS_TABLE_2 = 0.8314695954322815;
const float COS_TABLE_3 = 0.7071067690849304;

const float INVERSE_FACTORIAL_3 = 1.666666716337204e-01; // 1/3!
const float INVERSE_FACTORIAL_5 = 8.333333767950535e-03; // 1/5!
const float INVERSE_FACTORIAL_7 = 1.9841270113829523e-04; // 1/7!
const float INVERSE_FACTORIAL_9 = 2.75573188446287533e-06; // 1/9!

float sin_taylor_fp32(float a) {
  float r, s, t, x;

  if (a == 0.0) {
    return 0.0;
  }

  x = -a * a;
  s = a;
  r = a;

  r = r * x;
  t = r * INVERSE_FACTORIAL_3;
  s = s + t;

  r = r * x;
  t = r * INVERSE_FACTORIAL_5;
  s = s + t;

  r = r * x;
  t = r * INVERSE_FACTORIAL_7;
  s = s + t;

  r = r * x;
  t = r * INVERSE_FACTORIAL_9;
  s = s + t;

  return s;
}

void sincos_taylor_fp32(float a, out float sin_t, out float cos_t) {
  if (a == 0.0) {
    sin_t = 0.0;
    cos_t = 1.0;
  }
  sin_t = sin_taylor_fp32(a);
  cos_t = sqrt(1.0 - sin_t * sin_t);
}

float tan_taylor_fp32(float a) {
    float sin_a;
    float cos_a;

    if (a == 0.0) {
        return 0.0;
    }

    // 2pi range reduction
    float z = floor(a / TWO_PI);
    float r = a - TWO_PI * z;

    float t;
    float q = floor(r / PI_2 + 0.5);
    int j = int(q);

    if (j < -2 || j > 2) {
        return 1.0 / 0.0;
    }

    t = r - PI_2 * q;

    q = floor(t / PI_16 + 0.5);
    int k = int(q);
    int abs_k = int(abs(float(k)));

    if (abs_k > 4) {
        return 1.0 / 0.0;
    } else {
        t = t - PI_16 * q;
    }

    float u = 0.0;
    float v = 0.0;

    float sin_t, cos_t;
    float s, c;
    sincos_taylor_fp32(t, sin_t, cos_t);

    if (k == 0) {
        s = sin_t;
        c = cos_t;
    } else {
        if (abs(float(abs_k) - 1.0) < 0.5) {
            u = COS_TABLE_0;
            v = SIN_TABLE_0;
        } else if (abs(float(abs_k) - 2.0) < 0.5) {
            u = COS_TABLE_1;
            v = SIN_TABLE_1;
        } else if (abs(float(abs_k) - 3.0) < 0.5) {
            u = COS_TABLE_2;
            v = SIN_TABLE_2;
        } else if (abs(float(abs_k) - 4.0) < 0.5) {
            u = COS_TABLE_3;
            v = SIN_TABLE_3;
        }
        if (k > 0) {
            s = u * sin_t + v * cos_t;
            c = u * cos_t - v * sin_t;
        } else {
            s = u * sin_t - v * cos_t;
            c = u * cos_t + v * sin_t;
        }
    }

    if (j == 0) {
        sin_a = s;
        cos_a = c;
    } else if (j == 1) {
        sin_a = c;
        cos_a = -s;
    } else if (j == -1) {
        sin_a = -c;
        cos_a = s;
    } else {
        sin_a = -s;
        cos_a = -c;
    }
    return sin_a / cos_a;
}
#endif

float tan_fp32(float a) {
#ifdef LUMA_FP32_TAN_PRECISION_WORKAROUND
  return tan_taylor_fp32(a);
#else
  return tan(a);
#endif
}
`,Bae={name:"fp32",vs:Dae},Fae=`
uniform fp64arithmeticUniforms {
  uniform float ONE;
} fp64;

/*
About LUMA_FP64_CODE_ELIMINATION_WORKAROUND

The purpose of this workaround is to prevent shader compilers from
optimizing away necessary arithmetic operations by swapping their sequences
or transform the equation to some 'equivalent' form.

The method is to multiply an artifical variable, ONE, which will be known to
the compiler to be 1 only at runtime. The whole expression is then represented
as a polynomial with respective to ONE. In the coefficients of all terms, only one a
and one b should appear

err = (a + b) * ONE^6 - a * ONE^5 - (a + b) * ONE^4 + a * ONE^3 - b - (a + b) * ONE^2 + a * ONE
*/

// Divide float number to high and low floats to extend fraction bits
vec2 split(float a) {
  const float SPLIT = 4097.0;
  float t = a * SPLIT;
#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)
  float a_hi = t * fp64.ONE - (t - a);
  float a_lo = a * fp64.ONE - a_hi;
#else
  float a_hi = t - (t - a);
  float a_lo = a - a_hi;
#endif
  return vec2(a_hi, a_lo);
}

// Divide float number again when high float uses too many fraction bits
vec2 split2(vec2 a) {
  vec2 b = split(a.x);
  b.y += a.y;
  return b;
}

// Special sum operation when a > b
vec2 quickTwoSum(float a, float b) {
#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)
  float sum = (a + b) * fp64.ONE;
  float err = b - (sum - a) * fp64.ONE;
#else
  float sum = a + b;
  float err = b - (sum - a);
#endif
  return vec2(sum, err);
}

// General sum operation
vec2 twoSum(float a, float b) {
  float s = (a + b);
#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)
  float v = (s * fp64.ONE - a) * fp64.ONE;
  float err = (a - (s - v) * fp64.ONE) * fp64.ONE * fp64.ONE * fp64.ONE + (b - v);
#else
  float v = s - a;
  float err = (a - (s - v)) + (b - v);
#endif
  return vec2(s, err);
}

vec2 twoSub(float a, float b) {
  float s = (a - b);
#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)
  float v = (s * fp64.ONE - a) * fp64.ONE;
  float err = (a - (s - v) * fp64.ONE) * fp64.ONE * fp64.ONE * fp64.ONE - (b + v);
#else
  float v = s - a;
  float err = (a - (s - v)) - (b + v);
#endif
  return vec2(s, err);
}

vec2 twoSqr(float a) {
  float prod = a * a;
  vec2 a_fp64 = split(a);
#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)
  float err = ((a_fp64.x * a_fp64.x - prod) * fp64.ONE + 2.0 * a_fp64.x *
    a_fp64.y * fp64.ONE * fp64.ONE) + a_fp64.y * a_fp64.y * fp64.ONE * fp64.ONE * fp64.ONE;
#else
  float err = ((a_fp64.x * a_fp64.x - prod) + 2.0 * a_fp64.x * a_fp64.y) + a_fp64.y * a_fp64.y;
#endif
  return vec2(prod, err);
}

vec2 twoProd(float a, float b) {
  float prod = a * b;
  vec2 a_fp64 = split(a);
  vec2 b_fp64 = split(b);
  float err = ((a_fp64.x * b_fp64.x - prod) + a_fp64.x * b_fp64.y +
    a_fp64.y * b_fp64.x) + a_fp64.y * b_fp64.y;
  return vec2(prod, err);
}

vec2 sum_fp64(vec2 a, vec2 b) {
  vec2 s, t;
  s = twoSum(a.x, b.x);
  t = twoSum(a.y, b.y);
  s.y += t.x;
  s = quickTwoSum(s.x, s.y);
  s.y += t.y;
  s = quickTwoSum(s.x, s.y);
  return s;
}

vec2 sub_fp64(vec2 a, vec2 b) {
  vec2 s, t;
  s = twoSub(a.x, b.x);
  t = twoSub(a.y, b.y);
  s.y += t.x;
  s = quickTwoSum(s.x, s.y);
  s.y += t.y;
  s = quickTwoSum(s.x, s.y);
  return s;
}

vec2 mul_fp64(vec2 a, vec2 b) {
  vec2 prod = twoProd(a.x, b.x);
  // y component is for the error
  prod.y += a.x * b.y;
#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)
  prod = split2(prod);
#endif
  prod = quickTwoSum(prod.x, prod.y);
  prod.y += a.y * b.x;
#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)
  prod = split2(prod);
#endif
  prod = quickTwoSum(prod.x, prod.y);
  return prod;
}

vec2 div_fp64(vec2 a, vec2 b) {
  float xn = 1.0 / b.x;
#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)
  vec2 yn = mul_fp64(a, vec2(xn, 0));
#else
  vec2 yn = a * xn;
#endif
  float diff = (sub_fp64(a, mul_fp64(b, yn))).x;
  vec2 prod = twoProd(xn, diff);
  return sum_fp64(yn, prod);
}

vec2 sqrt_fp64(vec2 a) {
  if (a.x == 0.0 && a.y == 0.0) return vec2(0.0, 0.0);
  if (a.x < 0.0) return vec2(0.0 / 0.0, 0.0 / 0.0);

  float x = 1.0 / sqrt(a.x);
  float yn = a.x * x;
#if defined(LUMA_FP64_CODE_ELIMINATION_WORKAROUND)
  vec2 yn_sqr = twoSqr(yn) * fp64.ONE;
#else
  vec2 yn_sqr = twoSqr(yn);
#endif
  float diff = sub_fp64(a, yn_sqr).x;
  vec2 prod = twoProd(x * 0.5, diff);
#if defined(LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND)
  return sum_fp64(split(yn), prod);
#else
  return sum_fp64(vec2(yn, 0.0), prod);
#endif
}
`,jae={ONE:1},Uae={name:"fp64arithmetic",vs:Fae,defaultUniforms:jae,uniformTypes:{ONE:"f32"},fp64ify:O$,fp64LowPart:Mae,fp64ifyMatrix4:Lae},$ae=[0,1,1,1],zae=`uniform pickingUniforms {
  float isActive;
  float isAttribute;
  float isHighlightActive;
  float useFloatColors;
  vec3 highlightedObjectColor;
  vec4 highlightColor;
} picking;

out vec4 picking_vRGBcolor_Avalid;

// Normalize unsigned byte color to 0-1 range
vec3 picking_normalizeColor(vec3 color) {
  return picking.useFloatColors > 0.5 ? color : color / 255.0;
}

// Normalize unsigned byte color to 0-1 range
vec4 picking_normalizeColor(vec4 color) {
  return picking.useFloatColors > 0.5 ? color : color / 255.0;
}

bool picking_isColorZero(vec3 color) {
  return dot(color, vec3(1.0)) < 0.00001;
}

bool picking_isColorValid(vec3 color) {
  return dot(color, vec3(1.0)) > 0.00001;
}

// Check if this vertex is highlighted 
bool isVertexHighlighted(vec3 vertexColor) {
  vec3 highlightedObjectColor = picking_normalizeColor(picking.highlightedObjectColor);
  return
    bool(picking.isHighlightActive) && picking_isColorZero(abs(vertexColor - highlightedObjectColor));
}

// Set the current picking color
void picking_setPickingColor(vec3 pickingColor) {
  pickingColor = picking_normalizeColor(pickingColor);

  if (bool(picking.isActive)) {
    // Use alpha as the validity flag. If pickingColor is [0, 0, 0] fragment is non-pickable
    picking_vRGBcolor_Avalid.a = float(picking_isColorValid(pickingColor));

    if (!bool(picking.isAttribute)) {
      // Stores the picking color so that the fragment shader can render it during picking
      picking_vRGBcolor_Avalid.rgb = pickingColor;
    }
  } else {
    // Do the comparison with selected item color in vertex shader as it should mean fewer compares
    picking_vRGBcolor_Avalid.a = float(isVertexHighlighted(pickingColor));
  }
}

void picking_setPickingAttribute(float value) {
  if (bool(picking.isAttribute)) {
    picking_vRGBcolor_Avalid.r = value;
  }
}

void picking_setPickingAttribute(vec2 value) {
  if (bool(picking.isAttribute)) {
    picking_vRGBcolor_Avalid.rg = value;
  }
}

void picking_setPickingAttribute(vec3 value) {
  if (bool(picking.isAttribute)) {
    picking_vRGBcolor_Avalid.rgb = value;
  }
}
`,Wae=`uniform pickingUniforms {
  float isActive;
  float isAttribute;
  float isHighlightActive;
  float useFloatColors;
  vec3 highlightedObjectColor;
  vec4 highlightColor;
} picking;

in vec4 picking_vRGBcolor_Avalid;

/*
 * Returns highlight color if this item is selected.
 */
vec4 picking_filterHighlightColor(vec4 color) {
  // If we are still picking, we don't highlight
  if (picking.isActive > 0.5) {
    return color;
  }

  bool selected = bool(picking_vRGBcolor_Avalid.a);

  if (selected) {
    // Blend in highlight color based on its alpha value
    float highLightAlpha = picking.highlightColor.a;
    float blendedAlpha = highLightAlpha + color.a * (1.0 - highLightAlpha);
    float highLightRatio = highLightAlpha / blendedAlpha;

    vec3 blendedRGB = mix(color.rgb, picking.highlightColor.rgb, highLightRatio);
    return vec4(blendedRGB, blendedAlpha);
  } else {
    return color;
  }
}

/*
 * Returns picking color if picking enabled else unmodified argument.
 */
vec4 picking_filterPickingColor(vec4 color) {
  if (bool(picking.isActive)) {
    if (picking_vRGBcolor_Avalid.a == 0.0) {
      discard;
    }
    return picking_vRGBcolor_Avalid;
  }
  return color;
}

/*
 * Returns picking color if picking is enabled if not
 * highlight color if this item is selected, otherwise unmodified argument.
 */
vec4 picking_filterColor(vec4 color) {
  vec4 highlightColor = picking_filterHighlightColor(color);
  return picking_filterPickingColor(highlightColor);
}
`,hR={props:{},uniforms:{},name:"picking",uniformTypes:{isActive:"f32",isAttribute:"f32",isHighlightActive:"f32",useFloatColors:"f32",highlightedObjectColor:"vec3<f32>",highlightColor:"vec4<f32>"},defaultUniforms:{isActive:!1,isAttribute:!1,isHighlightActive:!1,useFloatColors:!0,highlightedObjectColor:[0,0,0],highlightColor:$ae},vs:zae,fs:Wae,getUniforms:Vae};function Vae(t={},e){const r={};if(t.highlightedObjectColor!==void 0)if(t.highlightedObjectColor===null)r.isHighlightActive=!1;else{r.isHighlightActive=!0;const n=t.highlightedObjectColor.slice(0,3);r.highlightedObjectColor=n}if(t.highlightColor){const n=Array.from(t.highlightColor,i=>i/255);Number.isFinite(n[3])||(n[3]=1),r.highlightColor=n}return t.isActive!==void 0&&(r.isActive=!!t.isActive,r.isAttribute=!!t.isAttribute),t.useFloatColors!==void 0&&(r.useFloatColors=!!t.useFloatColors),r}const dR=`precision highp int;

// #if (defined(SHADER_TYPE_FRAGMENT) && defined(LIGHTING_FRAGMENT)) || (defined(SHADER_TYPE_VERTEX) && defined(LIGHTING_VERTEX))
struct AmbientLight {
  vec3 color;
};

struct PointLight {
  vec3 color;
  vec3 position;
  vec3 attenuation; // 2nd order x:Constant-y:Linear-z:Exponential
};

struct DirectionalLight {
  vec3 color;
  vec3 direction;
};

uniform lightingUniforms {
  int enabled;
  int lightType;

  int directionalLightCount;
  int pointLightCount;

  vec3 ambientColor;

  vec3 lightColor0;
  vec3 lightPosition0;
  vec3 lightDirection0;
  vec3 lightAttenuation0;

  vec3 lightColor1;
  vec3 lightPosition1;
  vec3 lightDirection1;
  vec3 lightAttenuation1;

  vec3 lightColor2;
  vec3 lightPosition2;
  vec3 lightDirection2;
  vec3 lightAttenuation2;
} lighting;

PointLight lighting_getPointLight(int index) {
  switch (index) {
    case 0:
      return PointLight(lighting.lightColor0, lighting.lightPosition0, lighting.lightAttenuation0);
    case 1:
      return PointLight(lighting.lightColor1, lighting.lightPosition1, lighting.lightAttenuation1);
    case 2:
    default:  
      return PointLight(lighting.lightColor2, lighting.lightPosition2, lighting.lightAttenuation2);
  }
}

DirectionalLight lighting_getDirectionalLight(int index) {
  switch (index) {
    case 0:
      return DirectionalLight(lighting.lightColor0, lighting.lightDirection0);
    case 1:
      return DirectionalLight(lighting.lightColor1, lighting.lightDirection1);
    case 2:
    default:   
      return DirectionalLight(lighting.lightColor2, lighting.lightDirection2);
  }
} 

float getPointLightAttenuation(PointLight pointLight, float distance) {
  return pointLight.attenuation.x
       + pointLight.attenuation.y * distance
       + pointLight.attenuation.z * distance * distance;
}

// #endif
`,Hae=`// #if (defined(SHADER_TYPE_FRAGMENT) && defined(LIGHTING_FRAGMENT)) || (defined(SHADER_TYPE_VERTEX) && defined(LIGHTING_VERTEX))
struct AmbientLight {
  color: vec3<f32>,
};

struct PointLight {
  color: vec3<f32>,
  position: vec3<f32>,
  attenuation: vec3<f32>, // 2nd order x:Constant-y:Linear-z:Exponential
};

struct DirectionalLight {
  color: vec3<f32>,
  direction: vec3<f32>,
};

struct lightingUniforms {
  enabled: i32,
  pointLightCount: i32,
  directionalLightCount: i32,

  ambientColor: vec3<f32>,

  // TODO - support multiple lights by uncommenting arrays below
  lightType: i32,
  lightColor: vec3<f32>,
  lightDirection: vec3<f32>,
  lightPosition: vec3<f32>,
  lightAttenuation: vec3<f32>,

  // AmbientLight ambientLight;
  // PointLight pointLight[MAX_LIGHTS];
  // DirectionalLight directionalLight[MAX_LIGHTS];
};

// Binding 0:1 is reserved for lighting (Note: could go into separate bind group as it is stable across draw calls)
@binding(1) @group(0) var<uniform> lighting : lightingUniforms;

fn lighting_getPointLight(index: i32) -> PointLight {
  return PointLight(lighting.lightColor, lighting.lightPosition, lighting.lightAttenuation);
}

fn lighting_getDirectionalLight(index: i32) -> DirectionalLight {
  return DirectionalLight(lighting.lightColor, lighting.lightDirection);
} 

fn getPointLightAttenuation(pointLight: PointLight, distance: f32) -> f32 {
  return pointLight.attenuation.x
       + pointLight.attenuation.y * distance
       + pointLight.attenuation.z * distance * distance;
}
`,qae=5,Xae=255;var Ig;(function(t){t[t.POINT=0]="POINT",t[t.DIRECTIONAL=1]="DIRECTIONAL"})(Ig||(Ig={}));const ug={props:{},uniforms:{},name:"lighting",defines:{},uniformTypes:{enabled:"i32",lightType:"i32",directionalLightCount:"i32",pointLightCount:"i32",ambientColor:"vec3<f32>",lightColor0:"vec3<f32>",lightPosition0:"vec3<f32>",lightDirection0:"vec3<f32>",lightAttenuation0:"vec3<f32>",lightColor1:"vec3<f32>",lightPosition1:"vec3<f32>",lightDirection1:"vec3<f32>",lightAttenuation1:"vec3<f32>",lightColor2:"vec3<f32>",lightPosition2:"vec3<f32>",lightDirection2:"vec3<f32>",lightAttenuation2:"vec3<f32>"},defaultUniforms:{enabled:1,lightType:Ig.POINT,directionalLightCount:0,pointLightCount:0,ambientColor:[.1,.1,.1],lightColor0:[1,1,1],lightPosition0:[1,1,2],lightDirection0:[1,1,1],lightAttenuation0:[1,0,0],lightColor1:[1,1,1],lightPosition1:[1,1,2],lightDirection1:[1,1,1],lightAttenuation1:[1,0,0],lightColor2:[1,1,1],lightPosition2:[1,1,2],lightDirection2:[1,1,1],lightAttenuation2:[1,0,0]},source:Hae,vs:dR,fs:dR,getUniforms:Yae};function Yae(t,e={}){if(t=t&&{...t},!t)return{...ug.defaultUniforms};t.lights&&(t={...t,...Gae(t.lights),lights:void 0});const{ambientLight:r,pointLights:n,directionalLights:i}=t||{};if(!(r||n&&n.length>0||i&&i.length>0))return{...ug.defaultUniforms,enabled:0};const s={...ug.defaultUniforms,...e,...Kae({ambientLight:r,pointLights:n,directionalLights:i})};return t.enabled!==void 0&&(s.enabled=t.enabled?1:0),s}function Kae({ambientLight:t,pointLights:e=[],directionalLights:r=[]}){const n={};n.ambientColor=pw(t);let i=0;for(const o of e){n.lightType=Ig.POINT;const s=i;n[`lightColor${s}`]=pw(o),n[`lightPosition${s}`]=o.position,n[`lightAttenuation${s}`]=o.attenuation||[1,0,0],i++}for(const o of r){n.lightType=Ig.DIRECTIONAL;const s=i;n[`lightColor${s}`]=pw(o),n[`lightDirection${s}`]=o.direction,i++}return i>qae&&St.warn("MAX_LIGHTS exceeded")(),n.directionalLightCount=r.length,n.pointLightCount=e.length,n}function Gae(t){var r,n;const e={pointLights:[],directionalLights:[]};for(const i of t||[])switch(i.type){case"ambient":e.ambientLight=i;break;case"directional":(r=e.directionalLights)==null||r.push(i);break;case"point":(n=e.pointLights)==null||n.push(i);break}return e}function pw(t={}){const{color:e=[0,0,0],intensity:r=1}=t;return e.map(n=>n*r/Xae)}const R$=`uniform phongMaterialUniforms {
  uniform float ambient;
  uniform float diffuse;
  uniform float shininess;
  uniform vec3  specularColor;
} material;
`,I$=`#define MAX_LIGHTS 3

uniform phongMaterialUniforms {
  uniform float ambient;
  uniform float diffuse;
  uniform float shininess;
  uniform vec3  specularColor;
} material;

vec3 lighting_getLightColor(vec3 surfaceColor, vec3 light_direction, vec3 view_direction, vec3 normal_worldspace, vec3 color) {
  vec3 halfway_direction = normalize(light_direction + view_direction);
  float lambertian = dot(light_direction, normal_worldspace);
  float specular = 0.0;
  if (lambertian > 0.0) {
    float specular_angle = max(dot(normal_worldspace, halfway_direction), 0.0);
    specular = pow(specular_angle, material.shininess);
  }
  lambertian = max(lambertian, 0.0);
  return (lambertian * material.diffuse * surfaceColor + specular * material.specularColor) * color;
}

vec3 lighting_getLightColor(vec3 surfaceColor, vec3 cameraPosition, vec3 position_worldspace, vec3 normal_worldspace) {
  vec3 lightColor = surfaceColor;

  if (lighting.enabled == 0) {
    return lightColor;
  }

  vec3 view_direction = normalize(cameraPosition - position_worldspace);
  lightColor = material.ambient * surfaceColor * lighting.ambientColor;

  for (int i = 0; i < lighting.pointLightCount; i++) {
    PointLight pointLight = lighting_getPointLight(i);
    vec3 light_position_worldspace = pointLight.position;
    vec3 light_direction = normalize(light_position_worldspace - position_worldspace);
    float light_attenuation = getPointLightAttenuation(pointLight, distance(light_position_worldspace, position_worldspace));
    lightColor += lighting_getLightColor(surfaceColor, light_direction, view_direction, normal_worldspace, pointLight.color / light_attenuation);
  }

  int totalLights = min(MAX_LIGHTS, lighting.pointLightCount + lighting.directionalLightCount);
  for (int i = lighting.pointLightCount; i < totalLights; i++) {
    DirectionalLight directionalLight = lighting_getDirectionalLight(i);
    lightColor += lighting_getLightColor(surfaceColor, -directionalLight.direction, view_direction, normal_worldspace, directionalLight.color);
  }
  
  return lightColor;
}
`,N$=`struct phongMaterialUniforms {
  ambient: f32,
  diffuse: f32,
  shininess: f32,
  specularColor: vec3<f32>,
};

@binding(2) @group(0) var<uniform> phongMaterial : phongMaterialUniforms;

fn lighting_getLightColor(surfaceColor: vec3<f32>, light_direction: vec3<f32>, view_direction: vec3<f32>, normal_worldspace: vec3<f32>, color: vec3<f32>) -> vec3<f32> {
  let halfway_direction: vec3<f32> = normalize(light_direction + view_direction);
  var lambertian: f32 = dot(light_direction, normal_worldspace);
  var specular: f32 = 0.0;
  if (lambertian > 0.0) {
    let specular_angle = max(dot(normal_worldspace, halfway_direction), 0.0);
    specular = pow(specular_angle, phongMaterial.shininess);
  }
  lambertian = max(lambertian, 0.0);
  return (lambertian * phongMaterial.diffuse * surfaceColor + specular * phongMaterial.specularColor) * color;
}

fn lighting_getLightColor2(surfaceColor: vec3<f32>, cameraPosition: vec3<f32>, position_worldspace: vec3<f32>, normal_worldspace: vec3<f32>) -> vec3<f32> {
  var lightColor: vec3<f32> = surfaceColor;

  if (lighting.enabled == 0) {
    return lightColor;
  }

  let view_direction: vec3<f32> = normalize(cameraPosition - position_worldspace);
  lightColor = phongMaterial.ambient * surfaceColor * lighting.ambientColor;

  if (lighting.lightType == 0) {
    let pointLight: PointLight  = lighting_getPointLight(0);
    let light_position_worldspace: vec3<f32> = pointLight.position;
    let light_direction: vec3<f32> = normalize(light_position_worldspace - position_worldspace);
    lightColor += lighting_getLightColor(surfaceColor, light_direction, view_direction, normal_worldspace, pointLight.color);
  } else if (lighting.lightType == 1) {
    var directionalLight: DirectionalLight = lighting_getDirectionalLight(0);
    lightColor += lighting_getLightColor(surfaceColor, -directionalLight.direction, view_direction, normal_worldspace, directionalLight.color);
  }
  
  return lightColor;
  /*
  for (int i = 0; i < MAX_LIGHTS; i++) {
    if (i >= lighting.pointLightCount) {
      break;
    }
    PointLight pointLight = lighting.pointLight[i];
    vec3 light_position_worldspace = pointLight.position;
    vec3 light_direction = normalize(light_position_worldspace - position_worldspace);
    lightColor += lighting_getLightColor(surfaceColor, light_direction, view_direction, normal_worldspace, pointLight.color);
  }

  for (int i = 0; i < MAX_LIGHTS; i++) {
    if (i >= lighting.directionalLightCount) {
      break;
    }
    DirectionalLight directionalLight = lighting.directionalLight[i];
    lightColor += lighting_getLightColor(surfaceColor, -directionalLight.direction, view_direction, normal_worldspace, directionalLight.color);
  }
  */
}

fn lighting_getSpecularLightColor(cameraPosition: vec3<f32>, position_worldspace: vec3<f32>, normal_worldspace: vec3<f32>) -> vec3<f32>{
  var lightColor = vec3<f32>(0, 0, 0);
  let surfaceColor = vec3<f32>(0, 0, 0);

  if (lighting.enabled == 0) {
    let view_direction = normalize(cameraPosition - position_worldspace);

    switch (lighting.lightType) {
      case 0, default: {
        let pointLight: PointLight = lighting_getPointLight(0);
        let light_position_worldspace: vec3<f32> = pointLight.position;
        let light_direction: vec3<f32> = normalize(light_position_worldspace - position_worldspace);
        lightColor += lighting_getLightColor(surfaceColor, light_direction, view_direction, normal_worldspace, pointLight.color);
      }
      case 1: {
        let directionalLight: DirectionalLight = lighting_getDirectionalLight(0);
        lightColor += lighting_getLightColor(surfaceColor, -directionalLight.direction, view_direction, normal_worldspace, directionalLight.color);
      }
    }
  }
  return lightColor;
}
`,YP={props:{},name:"gouraudMaterial",vs:I$.replace("phongMaterial","gouraudMaterial"),fs:R$.replace("phongMaterial","gouraudMaterial"),source:N$.replaceAll("phongMaterial","gouraudMaterial"),defines:{LIGHTING_VERTEX:!0},dependencies:[ug],uniformTypes:{ambient:"f32",diffuse:"f32",shininess:"f32",specularColor:"vec3<f32>"},defaultUniforms:{ambient:.35,diffuse:.6,shininess:32,specularColor:[.15,.15,.15]},getUniforms(t){const e={...t};return e.specularColor&&(e.specularColor=e.specularColor.map(r=>r/255)),{...YP.defaultUniforms,...e}}},M$={name:"phongMaterial",dependencies:[ug],source:N$,vs:R$,fs:I$,defines:{LIGHTING_FRAGMENT:!0},uniformTypes:{ambient:"f32",diffuse:"f32",shininess:"f32",specularColor:"vec3<f32>"},defaultUniforms:{ambient:.35,diffuse:.6,shininess:32,specularColor:[.15,.15,.15]},getUniforms(t){const e={...t};return e.specularColor&&(e.specularColor=e.specularColor.map(r=>r/255)),{...M$.defaultUniforms,...e}}},AR=`uniform layerUniforms {
  uniform float opacity;
} layer;
`,Qae={name:"layer",vs:AR,fs:AR,getUniforms:t=>({opacity:Math.pow(t.opacity,1/2.2)}),uniformTypes:{opacity:"f32"}},Zae=`

struct ColorUniforms {
  opacity: f32,
};

var<private> color: ColorUniforms = ColorUniforms(1.0);
// TODO (kaapp) avoiding binding index collisions to handle layer opacity 
// requires some thought.
// @group(0) @binding(0) var<uniform> color: ColorUniforms;

@must_use
fn deckgl_premultiplied_alpha(fragColor: vec4<f32>) -> vec4<f32> {
    return vec4(fragColor.rgb * fragColor.a, fragColor.a); 
};
`,Jae={name:"color",dependencies:[],source:Zae,getUniforms:t=>({}),uniformTypes:{opacity:"f32"}},ele=`const SMOOTH_EDGE_RADIUS: f32 = 0.5;

struct VertexGeometry {
  position: vec4<f32>,
  worldPosition: vec3<f32>,
  worldPositionAlt: vec3<f32>,
  normal: vec3<f32>,
  uv: vec2<f32>,
  pickingColor: vec3<f32>,
};

var<private> geometry_: VertexGeometry = VertexGeometry(
  vec4<f32>(0.0, 0.0, 1.0, 0.0),
  vec3<f32>(0.0, 0.0, 0.0),
  vec3<f32>(0.0, 0.0, 0.0),
  vec3<f32>(0.0, 0.0, 0.0),
  vec2<f32>(0.0, 0.0),
  vec3<f32>(0.0, 0.0, 0.0)
);

struct FragmentGeometry {
  uv: vec2<f32>,
};

var<private> fragmentGeometry: FragmentGeometry;

fn smoothedge(edge: f32, x: f32) -> f32 {
  return smoothstep(edge - SMOOTH_EDGE_RADIUS, edge + SMOOTH_EDGE_RADIUS, x);
}
`,L$="#define SMOOTH_EDGE_RADIUS 0.5",tle=`${L$}

struct VertexGeometry {
  vec4 position;
  vec3 worldPosition;
  vec3 worldPositionAlt;
  vec3 normal;
  vec2 uv;
  vec3 pickingColor;
} geometry = VertexGeometry(
  vec4(0.0, 0.0, 1.0, 0.0),
  vec3(0.0),
  vec3(0.0),
  vec3(0.0),
  vec2(0.0),
  vec3(0.0)
);
`,rle=`${L$}

struct FragmentGeometry {
  vec2 uv;
} geometry;

float smoothedge(float edge, float x) {
  return smoothstep(edge - SMOOTH_EDGE_RADIUS, edge + SMOOTH_EDGE_RADIUS, x);
}
`,D$={name:"geometry",source:ele,vs:tle,fs:rle},nle=25;var to;(function(t){t[t.Start=1]="Start",t[t.Move=2]="Move",t[t.End=4]="End",t[t.Cancel=8]="Cancel"})(to||(to={}));var mo;(function(t){t[t.None=0]="None",t[t.Left=1]="Left",t[t.Right=2]="Right",t[t.Up=4]="Up",t[t.Down=8]="Down",t[t.Horizontal=3]="Horizontal",t[t.Vertical=12]="Vertical",t[t.All=15]="All"})(mo||(mo={}));var Xr;(function(t){t[t.Possible=1]="Possible",t[t.Began=2]="Began",t[t.Changed=4]="Changed",t[t.Ended=8]="Ended",t[t.Recognized=8]="Recognized",t[t.Cancelled=16]="Cancelled",t[t.Failed=32]="Failed"})(Xr||(Xr={}));const ile="compute",ole="auto",H4="manipulation",R1="none",q4="pan-x",X4="pan-y";function sle(t){if(t.includes(R1))return R1;const e=t.includes(q4),r=t.includes(X4);return e&&r?R1:e||r?e?q4:X4:t.includes(H4)?H4:ole}class ale{constructor(e,r){this.actions="",this.manager=e,this.set(r)}set(e){e===ile&&(e=this.compute()),this.manager.element&&(this.manager.element.style.touchAction=e,this.actions=e)}update(){this.set(this.manager.options.touchAction)}compute(){let e=[];for(const r of this.manager.recognizers)r.options.enable&&(e=e.concat(r.getTouchAction()));return sle(e.join(" "))}}function dy(t){return t.trim().split(/\s+/g)}function gw(t,e,r){if(t)for(const n of dy(e))t.addEventListener(n,r,!1)}function mw(t,e,r){if(t)for(const n of dy(e))t.removeEventListener(n,r,!1)}function pR(t){return(t.ownerDocument||t).defaultView}function lle(t,e){let r=t;for(;r;){if(r===e)return!0;r=r.parentNode}return!1}function B$(t){const e=t.length;if(e===1)return{x:Math.round(t[0].clientX),y:Math.round(t[0].clientY)};let r=0,n=0,i=0;for(;i<e;)r+=t[i].clientX,n+=t[i].clientY,i++;return{x:Math.round(r/e),y:Math.round(n/e)}}function gR(t){const e=[];let r=0;for(;r<t.pointers.length;)e[r]={clientX:Math.round(t.pointers[r].clientX),clientY:Math.round(t.pointers[r].clientY)},r++;return{timeStamp:Date.now(),pointers:e,center:B$(e),deltaX:t.deltaX,deltaY:t.deltaY}}function F$(t,e){const r=e.x-t.x,n=e.y-t.y;return Math.sqrt(r*r+n*n)}function mR(t,e){const r=e.clientX-t.clientX,n=e.clientY-t.clientY;return Math.sqrt(r*r+n*n)}function cle(t,e){const r=e.x-t.x,n=e.y-t.y;return Math.atan2(n,r)*180/Math.PI}function vR(t,e){const r=e.clientX-t.clientX,n=e.clientY-t.clientY;return Math.atan2(n,r)*180/Math.PI}function j$(t,e){return t===e?mo.None:Math.abs(t)>=Math.abs(e)?t<0?mo.Left:mo.Right:e<0?mo.Up:mo.Down}function ule(t,e){const r=e.center;let n=t.offsetDelta,i=t.prevDelta;const o=t.prevInput;return(e.eventType===to.Start||(o==null?void 0:o.eventType)===to.End)&&(i=t.prevDelta={x:(o==null?void 0:o.deltaX)||0,y:(o==null?void 0:o.deltaY)||0},n=t.offsetDelta={x:r.x,y:r.y}),{deltaX:i.x+(r.x-n.x),deltaY:i.y+(r.y-n.y)}}function U$(t,e,r){return{x:e/t||0,y:r/t||0}}function fle(t,e){return mR(e[0],e[1])/mR(t[0],t[1])}function hle(t,e){return vR(e[1],e[0])-vR(t[1],t[0])}function dle(t,e){const r=t.lastInterval||e,n=e.timeStamp-r.timeStamp;let i,o,s,a;if(e.eventType!==to.Cancel&&(n>nle||r.velocity===void 0)){const l=e.deltaX-r.deltaX,c=e.deltaY-r.deltaY,u=U$(n,l,c);o=u.x,s=u.y,i=Math.abs(u.x)>Math.abs(u.y)?u.x:u.y,a=j$(l,c),t.lastInterval=e}else i=r.velocity,o=r.velocityX,s=r.velocityY,a=r.direction;e.velocity=i,e.velocityX=o,e.velocityY=s,e.direction=a}function Ale(t,e){const{session:r}=t,{pointers:n}=e,{length:i}=n;r.firstInput||(r.firstInput=gR(e)),i>1&&!r.firstMultiple?r.firstMultiple=gR(e):i===1&&(r.firstMultiple=!1);const{firstInput:o,firstMultiple:s}=r,a=s?s.center:o.center,l=e.center=B$(n);e.timeStamp=Date.now(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=cle(a,l),e.distance=F$(a,l);const{deltaX:c,deltaY:u}=ule(r,e);e.deltaX=c,e.deltaY=u,e.offsetDirection=j$(e.deltaX,e.deltaY);const g=U$(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=g.x,e.overallVelocityY=g.y,e.overallVelocity=Math.abs(g.x)>Math.abs(g.y)?g.x:g.y,e.scale=s?fle(s.pointers,n):1,e.rotation=s?hle(s.pointers,n):0,e.maxPointers=r.prevInput?e.pointers.length>r.prevInput.maxPointers?e.pointers.length:r.prevInput.maxPointers:e.pointers.length;let _=t.element;return lle(e.srcEvent.target,_)&&(_=e.srcEvent.target),e.target=_,dle(r,e),e}function ple(t,e,r){const n=r.pointers.length,i=r.changedPointers.length,o=e&to.Start&&n-i===0,s=e&(to.End|to.Cancel)&&n-i===0;r.isFirst=!!o,r.isFinal=!!s,o&&(t.session={}),r.eventType=e;const a=Ale(t,r);t.emit("hammer.input",a),t.recognize(a),t.session.prevInput=a}let gle=class{constructor(e){this.evEl="",this.evWin="",this.evTarget="",this.domHandler=r=>{this.manager.options.enable&&this.handler(r)},this.manager=e,this.element=e.element,this.target=e.options.inputTarget||e.element}callback(e,r){ple(this.manager,e,r)}init(){gw(this.element,this.evEl,this.domHandler),gw(this.target,this.evTarget,this.domHandler),gw(pR(this.element),this.evWin,this.domHandler)}destroy(){mw(this.element,this.evEl,this.domHandler),mw(this.target,this.evTarget,this.domHandler),mw(pR(this.element),this.evWin,this.domHandler)}};const mle={pointerdown:to.Start,pointermove:to.Move,pointerup:to.End,pointercancel:to.Cancel,pointerout:to.Cancel},vle="pointerdown",yle="pointermove pointerup pointercancel";class ble extends gle{constructor(e){super(e),this.evEl=vle,this.evWin=yle,this.store=this.manager.session.pointerEvents=[],this.init()}handler(e){const{store:r}=this;let n=!1;const i=mle[e.type],o=e.pointerType,s=o==="touch";let a=r.findIndex(l=>l.pointerId===e.pointerId);i&to.Start&&(e.buttons||s)?a<0&&(r.push(e),a=r.length-1):i&(to.End|to.Cancel)&&(n=!0),!(a<0)&&(r[a]=e,this.callback(i,{pointers:r,changedPointers:[e],eventType:i,pointerType:o,srcEvent:e}),n&&r.splice(a,1))}}const _le=["","webkit","Moz","MS","ms","o"];function wle(t,e){const r=e[0].toUpperCase()+e.slice(1);for(const n of _le){const i=n?n+r:e;if(i in t)return i}}const xle=1,yR=2,bR={touchAction:"compute",enable:!0,inputTarget:null,cssProps:{userSelect:"none",userDrag:"none",touchCallout:"none",tapHighlightColor:"rgba(0,0,0,0)"}};class Sle{constructor(e,r){this.options={...bR,...r,cssProps:{...bR.cssProps,...r.cssProps},inputTarget:r.inputTarget||e},this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=new ble(this),this.touchAction=new ale(this,this.options.touchAction),this.toggleCssProps(!0)}set(e){return Object.assign(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this}stop(e){this.session.stopped=e?yR:xle}recognize(e){const{session:r}=this;if(r.stopped)return;this.session.prevented&&e.srcEvent.preventDefault();let n;const{recognizers:i}=this;let{curRecognizer:o}=r;(!o||o&&o.state&Xr.Recognized)&&(o=r.curRecognizer=null);let s=0;for(;s<i.length;)n=i[s],r.stopped!==yR&&(!o||n===o||n.canRecognizeWith(o))?n.recognize(e):n.reset(),!o&&n.state&(Xr.Began|Xr.Changed|Xr.Ended)&&(o=r.curRecognizer=n),s++}get(e){const{recognizers:r}=this;for(let n=0;n<r.length;n++)if(r[n].options.event===e)return r[n];return null}add(e){if(Array.isArray(e)){for(const n of e)this.add(n);return this}const r=this.get(e.options.event);return r&&this.remove(r),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e}remove(e){if(Array.isArray(e)){for(const n of e)this.remove(n);return this}const r=typeof e=="string"?this.get(e):e;if(r){const{recognizers:n}=this,i=n.indexOf(r);i!==-1&&(n.splice(i,1),this.touchAction.update())}return this}on(e,r){if(!e||!r)return;const{handlers:n}=this;for(const i of dy(e))n[i]=n[i]||[],n[i].push(r)}off(e,r){if(!e)return;const{handlers:n}=this;for(const i of dy(e))r?n[i]&&n[i].splice(n[i].indexOf(r),1):delete n[i]}emit(e,r){const n=this.handlers[e]&&this.handlers[e].slice();if(!n||!n.length)return;const i=r;i.type=e,i.preventDefault=function(){r.srcEvent.preventDefault()};let o=0;for(;o<n.length;)n[o](i),o++}destroy(){this.toggleCssProps(!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}toggleCssProps(e){const{element:r}=this;if(r){for(const[n,i]of Object.entries(this.options.cssProps)){const o=wle(r.style,n);e?(this.oldCssProps[o]=r.style[o],r.style[o]=i):r.style[o]=this.oldCssProps[o]||""}e||(this.oldCssProps={})}}}let Ele=1;function Tle(){return Ele++}function _R(t){return t&Xr.Cancelled?"cancel":t&Xr.Ended?"end":t&Xr.Changed?"move":t&Xr.Began?"start":""}class $${constructor(e){this.options=e,this.id=Tle(),this.state=Xr.Possible,this.simultaneous={},this.requireFail=[]}set(e){return Object.assign(this.options,e),this.manager.touchAction.update(),this}recognizeWith(e){if(Array.isArray(e)){for(const i of e)this.recognizeWith(i);return this}let r;if(typeof e=="string"){if(r=this.manager.get(e),!r)throw new Error(`Cannot find recognizer ${e}`)}else r=e;const{simultaneous:n}=this;return n[r.id]||(n[r.id]=r,r.recognizeWith(this)),this}dropRecognizeWith(e){if(Array.isArray(e)){for(const n of e)this.dropRecognizeWith(n);return this}let r;return typeof e=="string"?r=this.manager.get(e):r=e,r&&delete this.simultaneous[r.id],this}requireFailure(e){if(Array.isArray(e)){for(const i of e)this.requireFailure(i);return this}let r;if(typeof e=="string"){if(r=this.manager.get(e),!r)throw new Error(`Cannot find recognizer ${e}`)}else r=e;const{requireFail:n}=this;return n.indexOf(r)===-1&&(n.push(r),r.requireFailure(this)),this}dropRequireFailure(e){if(Array.isArray(e)){for(const n of e)this.dropRequireFailure(n);return this}let r;if(typeof e=="string"?r=this.manager.get(e):r=e,r){const n=this.requireFail.indexOf(r);n>-1&&this.requireFail.splice(n,1)}return this}hasRequireFailures(){return!!this.requireFail.find(e=>e.options.enable)}canRecognizeWith(e){return!!this.simultaneous[e.id]}emit(e){if(!e)return;const{state:r}=this;r<Xr.Ended&&this.manager.emit(this.options.event+_R(r),e),this.manager.emit(this.options.event,e),e.additionalEvent&&this.manager.emit(e.additionalEvent,e),r>=Xr.Ended&&this.manager.emit(this.options.event+_R(r),e)}tryEmit(e){this.canEmit()?this.emit(e):this.state=Xr.Failed}canEmit(){let e=0;for(;e<this.requireFail.length;){if(!(this.requireFail[e].state&(Xr.Failed|Xr.Possible)))return!1;e++}return!0}recognize(e){const r={...e};if(!this.options.enable){this.reset(),this.state=Xr.Failed;return}this.state&(Xr.Recognized|Xr.Cancelled|Xr.Failed)&&(this.state=Xr.Possible),this.state=this.process(r),this.state&(Xr.Began|Xr.Changed|Xr.Ended|Xr.Cancelled)&&this.tryEmit(r)}getEventNames(){return[this.options.event]}reset(){}}class z$ extends $${attrTest(e){const r=this.options.pointers;return r===0||e.pointers.length===r}process(e){const{state:r}=this,{eventType:n}=e,i=r&(Xr.Began|Xr.Changed),o=this.attrTest(e);return i&&(n&to.Cancel||!o)?r|Xr.Cancelled:i||o?n&to.End?r|Xr.Ended:r&Xr.Began?r|Xr.Changed:Xr.Began:Xr.Failed}}class wR extends $${constructor(e={}){super({enable:!0,event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10,...e}),this.pTime=null,this.pCenter=null,this._timer=null,this._input=null,this.count=0}getTouchAction(){return[H4]}process(e){const{options:r}=this,n=e.pointers.length===r.pointers,i=e.distance<r.threshold,o=e.deltaTime<r.time;if(this.reset(),e.eventType&to.Start&&this.count===0)return this.failTimeout();if(i&&o&&n){if(e.eventType!==to.End)return this.failTimeout();const s=this.pTime?e.timeStamp-this.pTime<r.interval:!0,a=!this.pCenter||F$(this.pCenter,e.center)<r.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,!a||!s?this.count=1:this.count+=1,this._input=e,this.count%r.taps===0)return this.hasRequireFailures()?(this._timer=setTimeout(()=>{this.state=Xr.Recognized,this.tryEmit(this._input)},r.interval),Xr.Began):Xr.Recognized}return Xr.Failed}failTimeout(){return this._timer=setTimeout(()=>{this.state=Xr.Failed},this.options.interval),Xr.Failed}reset(){clearTimeout(this._timer)}emit(e){this.state===Xr.Recognized&&(e.tapCount=this.count,this.manager.emit(this.options.event,e))}}const Ple=["","start","move","end","cancel","up","down","left","right"];class xR extends z${constructor(e={}){super({enable:!0,pointers:1,event:"pan",threshold:10,direction:mo.All,...e}),this.pX=null,this.pY=null}getTouchAction(){const{options:{direction:e}}=this,r=[];return e&mo.Horizontal&&r.push(X4),e&mo.Vertical&&r.push(q4),r}getEventNames(){return Ple.map(e=>this.options.event+e)}directionTest(e){const{options:r}=this;let n=!0,{distance:i}=e,{direction:o}=e;const s=e.deltaX,a=e.deltaY;return o&r.direction||(r.direction&mo.Horizontal?(o=s===0?mo.None:s<0?mo.Left:mo.Right,n=s!==this.pX,i=Math.abs(e.deltaX)):(o=a===0?mo.None:a<0?mo.Up:mo.Down,n=a!==this.pY,i=Math.abs(e.deltaY))),e.direction=o,n&&i>r.threshold&&!!(o&r.direction)}attrTest(e){return super.attrTest(e)&&(!!(this.state&Xr.Began)||!(this.state&Xr.Began)&&this.directionTest(e))}emit(e){this.pX=e.deltaX,this.pY=e.deltaY;const r=mo[e.direction].toLowerCase();r&&(e.additionalEvent=this.options.event+r),super.emit(e)}}const Cle=["","start","move","end","cancel","in","out"];class kle extends z${constructor(e={}){super({enable:!0,event:"pinch",threshold:0,pointers:2,...e})}getTouchAction(){return[R1]}getEventNames(){return Cle.map(e=>this.options.event+e)}attrTest(e){return super.attrTest(e)&&(Math.abs(e.scale-1)>this.options.threshold||!!(this.state&Xr.Began))}emit(e){if(e.scale!==1){const r=e.scale<1?"in":"out";e.additionalEvent=this.options.event+r}super.emit(e)}}class rb{constructor(e,r,n){this.element=e,this.callback=r,this.options=n}}const Ole=typeof navigator<"u"&&navigator.userAgent?navigator.userAgent.toLowerCase():"",Rle=Ole.indexOf("firefox")!==-1,SR=4.000244140625,Ile=40,Nle=.25;class Mle extends rb{constructor(e,r,n){super(e,r,{enable:!0,...n}),this.handleEvent=i=>{if(!this.options.enable)return;let o=i.deltaY;globalThis.WheelEvent&&(Rle&&i.deltaMode===globalThis.WheelEvent.DOM_DELTA_PIXEL&&(o/=globalThis.devicePixelRatio),i.deltaMode===globalThis.WheelEvent.DOM_DELTA_LINE&&(o*=Ile)),o!==0&&o%SR===0&&(o=Math.floor(o/SR)),i.shiftKey&&o&&(o=o*Nle),this.callback({type:"wheel",center:{x:i.clientX,y:i.clientY},delta:-o,srcEvent:i,pointerType:"mouse",target:i.target})},e.addEventListener("wheel",this.handleEvent,{passive:!1})}destroy(){this.element.removeEventListener("wheel",this.handleEvent)}enableEventType(e,r){e==="wheel"&&(this.options.enable=r)}}const ER=["mousedown","mousemove","mouseup","mouseover","mouseout","mouseleave"];class Lle extends rb{constructor(e,r,n){super(e,r,{enable:!0,...n}),this.handleEvent=o=>{this.handleOverEvent(o),this.handleOutEvent(o),this.handleEnterEvent(o),this.handleLeaveEvent(o),this.handleMoveEvent(o)},this.pressed=!1;const{enable:i}=this.options;this.enableMoveEvent=i,this.enableLeaveEvent=i,this.enableEnterEvent=i,this.enableOutEvent=i,this.enableOverEvent=i,ER.forEach(o=>e.addEventListener(o,this.handleEvent))}destroy(){ER.forEach(e=>this.element.removeEventListener(e,this.handleEvent))}enableEventType(e,r){switch(e){case"pointermove":this.enableMoveEvent=r;break;case"pointerover":this.enableOverEvent=r;break;case"pointerout":this.enableOutEvent=r;break;case"pointerenter":this.enableEnterEvent=r;break;case"pointerleave":this.enableLeaveEvent=r;break}}handleOverEvent(e){this.enableOverEvent&&e.type==="mouseover"&&this._emit("pointerover",e)}handleOutEvent(e){this.enableOutEvent&&e.type==="mouseout"&&this._emit("pointerout",e)}handleEnterEvent(e){this.enableEnterEvent&&e.type==="mouseenter"&&this._emit("pointerenter",e)}handleLeaveEvent(e){this.enableLeaveEvent&&e.type==="mouseleave"&&this._emit("pointerleave",e)}handleMoveEvent(e){if(this.enableMoveEvent)switch(e.type){case"mousedown":e.button>=0&&(this.pressed=!0);break;case"mousemove":e.buttons===0&&(this.pressed=!1),this.pressed||this._emit("pointermove",e);break;case"mouseup":this.pressed=!1;break}}_emit(e,r){this.callback({type:e,center:{x:r.clientX,y:r.clientY},srcEvent:r,pointerType:"mouse",target:r.target})}}const TR=["keydown","keyup"];class Dle extends rb{constructor(e,r,n){super(e,r,{enable:!0,tabIndex:0,...n}),this.handleEvent=i=>{const o=i.target||i.srcElement;o.tagName==="INPUT"&&o.type==="text"||o.tagName==="TEXTAREA"||(this.enableDownEvent&&i.type==="keydown"&&this.callback({type:"keydown",srcEvent:i,key:i.key,target:i.target}),this.enableUpEvent&&i.type==="keyup"&&this.callback({type:"keyup",srcEvent:i,key:i.key,target:i.target}))},this.enableDownEvent=this.options.enable,this.enableUpEvent=this.options.enable,e.tabIndex=this.options.tabIndex,e.style.outline="none",TR.forEach(i=>e.addEventListener(i,this.handleEvent))}destroy(){TR.forEach(e=>this.element.removeEventListener(e,this.handleEvent))}enableEventType(e,r){e==="keydown"&&(this.enableDownEvent=r),e==="keyup"&&(this.enableUpEvent=r)}}class Ble extends rb{constructor(e,r,n){super(e,r,n),this.handleEvent=i=>{this.options.enable&&this.callback({type:"contextmenu",center:{x:i.clientX,y:i.clientY},srcEvent:i,pointerType:"mouse",target:i.target})},e.addEventListener("contextmenu",this.handleEvent)}destroy(){this.element.removeEventListener("contextmenu",this.handleEvent)}enableEventType(e,r){e==="contextmenu"&&(this.options.enable=r)}}const PR=1,Y4=2,CR=4,Fle={pointerdown:PR,pointermove:Y4,pointerup:CR,mousedown:PR,mousemove:Y4,mouseup:CR},jle=0,Ule=1,$le=2,zle=1,Wle=2,Vle=4;function Hle(t){const e=Fle[t.srcEvent.type];if(!e)return null;const{buttons:r,button:n}=t.srcEvent;let i=!1,o=!1,s=!1;return e===Y4?(i=!!(r&zle),o=!!(r&Vle),s=!!(r&Wle)):(i=n===jle,o=n===Ule,s=n===$le),{leftButton:i,middleButton:o,rightButton:s}}function qle(t,e){const r=t.center;if(!r)return null;const n=e.getBoundingClientRect(),i=n.width/e.offsetWidth||1,o=n.height/e.offsetHeight||1,s={x:(r.x-n.left-e.clientLeft)/i,y:(r.y-n.top-e.clientTop)/o};return{center:r,offsetCenter:s}}const Xle={srcElement:"root",priority:0};class Yle{constructor(e,r){this.handleEvent=n=>{if(this.isEmpty())return;const i=this._normalizeEvent(n);let o=n.srcEvent.target;for(;o&&o!==i.rootElement;){if(this._emit(i,o),i.handled)return;o=o.parentNode}this._emit(i,"root")},this.eventManager=e,this.recognizerName=r,this.handlers=[],this.handlersByElement=new Map,this._active=!1}isEmpty(){return!this._active}add(e,r,n,i=!1,o=!1){const{handlers:s,handlersByElement:a}=this,l={...Xle,...n};let c=a.get(l.srcElement);c||(c=[],a.set(l.srcElement,c));const u={type:e,handler:r,srcElement:l.srcElement,priority:l.priority};i&&(u.once=!0),o&&(u.passive=!0),s.push(u),this._active=this._active||!u.passive;let g=c.length-1;for(;g>=0&&!(c[g].priority>=u.priority);)g--;c.splice(g+1,0,u)}remove(e,r){const{handlers:n,handlersByElement:i}=this;for(let o=n.length-1;o>=0;o--){const s=n[o];if(s.type===e&&s.handler===r){n.splice(o,1);const a=i.get(s.srcElement);a.splice(a.indexOf(s),1),a.length===0&&i.delete(s.srcElement)}}this._active=n.some(o=>!o.passive)}_emit(e,r){const n=this.handlersByElement.get(r);if(n){let i=!1;const o=()=>{e.handled=!0},s=()=>{e.handled=!0,i=!0},a=[];for(let l=0;l<n.length;l++){const{type:c,handler:u,once:g}=n[l];if(u({...e,type:c,stopPropagation:o,stopImmediatePropagation:s}),g&&a.push(n[l]),i)break}for(let l=0;l<a.length;l++){const{type:c,handler:u}=a[l];this.remove(c,u)}}}_normalizeEvent(e){const r=this.eventManager.getElement();return{...e,...Hle(e),...qle(e,r),preventDefault:()=>{e.srcEvent.preventDefault()},stopImmediatePropagation:null,stopPropagation:null,handled:!1,rootElement:r}}}function Kle(t){if("recognizer"in t)return t;let e;const r=Array.isArray(t)?[...t]:[t];if(typeof r[0]=="function"){const n=r.shift(),i=r.shift()||{};e=new n(i)}else e=r.shift();return{recognizer:e,recognizeWith:typeof r[0]=="string"?[r[0]]:r[0],requireFailure:typeof r[1]=="string"?[r[1]]:r[1]}}class Gle{constructor(e=null,r={}){if(this._onBasicInput=n=>{this.manager.emit(n.srcEvent.type,n)},this._onOtherEvent=n=>{this.manager.emit(n.type,n)},this.options={recognizers:[],events:{},touchAction:"compute",tabIndex:0,cssProps:{},...r},this.events=new Map,this.element=e,!!e){this.manager=new Sle(e,this.options);for(const n of this.options.recognizers){const{recognizer:i,recognizeWith:o,requireFailure:s}=Kle(n);this.manager.add(i),o&&i.recognizeWith(o),s&&i.requireFailure(s)}this.manager.on("hammer.input",this._onBasicInput),this.wheelInput=new Mle(e,this._onOtherEvent,{enable:!1}),this.moveInput=new Lle(e,this._onOtherEvent,{enable:!1}),this.keyInput=new Dle(e,this._onOtherEvent,{enable:!1,tabIndex:r.tabIndex}),this.contextmenuInput=new Ble(e,this._onOtherEvent,{enable:!1}),this.on(this.options.events)}}getElement(){return this.element}destroy(){this.element&&(this.wheelInput.destroy(),this.moveInput.destroy(),this.keyInput.destroy(),this.contextmenuInput.destroy(),this.manager.destroy())}on(e,r,n){this._addEventHandler(e,r,n,!1)}once(e,r,n){this._addEventHandler(e,r,n,!0)}watch(e,r,n){this._addEventHandler(e,r,n,!1,!0)}off(e,r){this._removeEventHandler(e,r)}_toggleRecognizer(e,r){var o,s,a,l;const{manager:n}=this;if(!n)return;const i=n.get(e);i&&(i.set({enable:r}),n.touchAction.update()),(o=this.wheelInput)==null||o.enableEventType(e,r),(s=this.moveInput)==null||s.enableEventType(e,r),(a=this.keyInput)==null||a.enableEventType(e,r),(l=this.contextmenuInput)==null||l.enableEventType(e,r)}_addEventHandler(e,r,n,i,o){if(typeof e!="string"){n=r;for(const[c,u]of Object.entries(e))this._addEventHandler(c,u,n,i,o);return}const{manager:s,events:a}=this;if(!s)return;let l=a.get(e);if(!l){const c=this._getRecognizerName(e)||e;l=new Yle(this,c),a.set(e,l),s&&s.on(e,l.handleEvent)}l.add(e,r,n,i,o),l.isEmpty()||this._toggleRecognizer(l.recognizerName,!0)}_removeEventHandler(e,r){if(typeof e!="string"){for(const[o,s]of Object.entries(e))this._removeEventHandler(o,s);return}const{events:n}=this,i=n.get(e);if(i&&(i.remove(e,r),i.isEmpty())){const{recognizerName:o}=i;let s=!1;for(const a of n.values())if(a.recognizerName===o&&!a.isEmpty()){s=!0;break}s||this._toggleRecognizer(o,!1)}}_getRecognizerName(e){var r;return(r=this.manager.recognizers.find(n=>n.getEventNames().includes(e)))==null?void 0:r.options.event}}const gn={DEFAULT:-1,LNGLAT:1,METER_OFFSETS:2,LNGLAT_OFFSETS:3,CARTESIAN:0};Object.defineProperty(gn,"IDENTITY",{get:()=>(Mn.deprecated("COORDINATE_SYSTEM.IDENTITY","COORDINATE_SYSTEM.CARTESIAN")(),0)});const wl={WEB_MERCATOR:1,GLOBE:2,WEB_MERCATOR_AUTO_OFFSET:4,IDENTITY:0},af={common:0,meters:1,pixels:2},K4={click:"onClick",dblclick:"onClick",panstart:"onDragStart",panmove:"onDrag",panend:"onDragEnd"},kR={multipan:[xR,{threshold:10,direction:mo.Vertical,pointers:2}],pinch:[kle,{},null,["multipan"]],pan:[xR,{threshold:1},["pinch"],["multipan"]],dblclick:[wR,{event:"dblclick",taps:2}],click:[wR,{event:"click"},null,["dblclick"]]};function Qle(t,e){if(t===e)return!0;if(Array.isArray(t)){const r=t.length;if(!e||e.length!==r)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}return!1}function Nm(t){let e={},r;return n=>{for(const i in n)if(!Qle(n[i],e[i])){r=t(n),e=n;break}return r}}const OR=[0,0,0,0],Zle=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0],W$=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],Jle=[0,0,0],V$=[0,0,0],ece=Nm(nce);function H$(t,e,r=V$){r.length<3&&(r=[r[0],r[1],0]);let n=r,i,o=!0;switch(e===gn.LNGLAT_OFFSETS||e===gn.METER_OFFSETS?i=r:i=t.isGeospatial?[Math.fround(t.longitude),Math.fround(t.latitude),0]:null,t.projectionMode){case wl.WEB_MERCATOR:(e===gn.LNGLAT||e===gn.CARTESIAN)&&(i=[0,0,0],o=!1);break;case wl.WEB_MERCATOR_AUTO_OFFSET:e===gn.LNGLAT?n=i:e===gn.CARTESIAN&&(n=[Math.fround(t.center[0]),Math.fround(t.center[1]),0],i=t.unprojectPosition(n),n[0]-=r[0],n[1]-=r[1],n[2]-=r[2]);break;case wl.IDENTITY:n=t.position.map(Math.fround),n[2]=n[2]||0;break;case wl.GLOBE:o=!1,i=null;break;default:o=!1}return{geospatialOrigin:i,shaderCoordinateOrigin:n,offsetMode:o}}function tce(t,e,r){const{viewMatrixUncentered:n,projectionMatrix:i}=t;let{viewMatrix:o,viewProjectionMatrix:s}=t,a=OR,l=OR,c=t.cameraPosition;const{geospatialOrigin:u,shaderCoordinateOrigin:g,offsetMode:_}=H$(t,e,r);return _&&(l=t.projectPosition(u||g),c=[c[0]-l[0],c[1]-l[1],c[2]-l[2]],l[3]=1,a=Im([],l,s),o=n||o,s=cd([],i,o),s=cd([],s,Zle)),{viewMatrix:o,viewProjectionMatrix:s,projectionCenter:a,originCommon:l,cameraPosCommon:c,shaderCoordinateOrigin:g,geospatialOrigin:u}}function rce({viewport:t,devicePixelRatio:e=1,modelMatrix:r=null,coordinateSystem:n=gn.DEFAULT,coordinateOrigin:i=V$,autoWrapLongitude:o=!1}){n===gn.DEFAULT&&(n=t.isGeospatial?gn.LNGLAT:gn.CARTESIAN);const s=ece({viewport:t,devicePixelRatio:e,coordinateSystem:n,coordinateOrigin:i});return s.wrapLongitude=o,s.modelMatrix=r||W$,s}function nce({viewport:t,devicePixelRatio:e,coordinateSystem:r,coordinateOrigin:n}){const{projectionCenter:i,viewProjectionMatrix:o,originCommon:s,cameraPosCommon:a,shaderCoordinateOrigin:l,geospatialOrigin:c}=tce(t,r,n),u=t.getDistanceScales(),g=[t.width*e,t.height*e],_=Im([],[0,0,-t.focalDistance,1],t.projectionMatrix)[3]||1,b={coordinateSystem:r,projectionMode:t.projectionMode,coordinateOrigin:l,commonOrigin:s.slice(0,3),center:i,pseudoMeters:!!t._pseudoMeters,viewportSize:g,devicePixelRatio:e,focalDistance:_,commonUnitsPerMeter:u.unitsPerMeter,commonUnitsPerWorldUnit:u.unitsPerMeter,commonUnitsPerWorldUnit2:Jle,scale:t.scale,wrapLongitude:!1,viewProjectionMatrix:o,modelMatrix:W$,cameraPosition:a};if(c){const P=t.getDistanceScales(c);switch(r){case gn.METER_OFFSETS:b.commonUnitsPerWorldUnit=P.unitsPerMeter,b.commonUnitsPerWorldUnit2=P.unitsPerMeter2;break;case gn.LNGLAT:case gn.LNGLAT_OFFSETS:t._pseudoMeters||(b.commonUnitsPerMeter=P.unitsPerMeter),b.commonUnitsPerWorldUnit=P.unitsPerDegree,b.commonUnitsPerWorldUnit2=P.unitsPerDegree2;break;case gn.CARTESIAN:b.commonUnitsPerWorldUnit=[1,1,P.unitsPerMeter[2]],b.commonUnitsPerWorldUnit2=[0,0,P.unitsPerMeter2[2]];break}}return b}const ice=Object.keys(gn).map(t=>`const COORDINATE_SYSTEM_${t}: i32 = ${gn[t]};`).join(""),oce=Object.keys(wl).map(t=>`const PROJECTION_MODE_${t}: i32 = ${wl[t]};`).join(""),sce=Object.keys(af).map(t=>`const UNIT_${t.toUpperCase()}: i32 = ${af[t]};`).join(""),ace=`${ice}
${oce}
${sce}

const TILE_SIZE: f32 = 512.0;
const PI: f32 = 3.1415926536;
const WORLD_SCALE: f32 = TILE_SIZE / (PI * 2.0);
const ZERO_64_LOW: vec3<f32> = vec3<f32>(0.0, 0.0, 0.0);
const EARTH_RADIUS: f32 = 6370972.0; // meters
const GLOBE_RADIUS: f32 = 256.0;

// -----------------------------------------------------------------------------
// Uniform block (converted from GLSL uniform block)
// -----------------------------------------------------------------------------
struct ProjectUniforms {
  wrapLongitude: i32,
  coordinateSystem: i32,
  commonUnitsPerMeter: vec3<f32>,
  projectionMode: i32,
  scale: f32,
  commonUnitsPerWorldUnit: vec3<f32>,
  commonUnitsPerWorldUnit2: vec3<f32>,
  center: vec4<f32>,
  modelMatrix: mat4x4<f32>,
  viewProjectionMatrix: mat4x4<f32>,
  viewportSize: vec2<f32>,
  devicePixelRatio: f32,
  focalDistance: f32,
  cameraPosition: vec3<f32>,
  coordinateOrigin: vec3<f32>,
  commonOrigin: vec3<f32>,
  pseudoMeters: i32,
};

@group(0) @binding(0)
var<uniform> project: ProjectUniforms;

// -----------------------------------------------------------------------------
// Geometry data
// (In your GLSL code, "geometry" was assumed to be available globally. In WGSL,
// you might supply this via vertex attributes or a uniform. Here we define a
// uniform struct for demonstration.)
// -----------------------------------------------------------------------------

// Structure to carry additional geometry data used by deck.gl filters.
struct Geometry {
  worldPosition: vec3<f32>,
  worldPositionAlt: vec3<f32>,
  position: vec4<f32>,
  normal: vec3<f32>,
  uv: vec2<f32>,
  pickingColor: vec3<f32>,
};

// @group(0) @binding(1)
var<private> geometry: Geometry;
`,lce=`${ace}

// -----------------------------------------------------------------------------
// Functions
// -----------------------------------------------------------------------------

// Returns an adjustment factor for commonUnitsPerMeter
fn _project_size_at_latitude(lat: f32) -> f32 {
  let y = clamp(lat, -89.9, 89.9);
  return 1.0 / cos(radians(y));
}

// Overloaded version: scales a value in meters at a given latitude.
fn _project_size_at_latitude_m(meters: f32, lat: f32) -> f32 {
  return meters * project.commonUnitsPerMeter.z * _project_size_at_latitude(lat);
}

// Computes a non-linear scale factor based on geometry.
// (Note: This function relies on "geometry" being provided.)
fn project_size() -> f32 {
  if (project.projectionMode == PROJECTION_MODE_WEB_MERCATOR &&
      project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT &&
      project.pseudoMeters == 0) {
    if (geometry.position.w == 0.0) {
      return _project_size_at_latitude(geometry.worldPosition.y);
    }
    let y: f32 = geometry.position.y / TILE_SIZE * 2.0 - 1.0;
    let y2 = y * y;
    let y4 = y2 * y2;
    let y6 = y4 * y2;
    return 1.0 + 4.9348 * y2 + 4.0587 * y4 + 1.5642 * y6;
  }
  return 1.0;
}

// Overloads to scale offsets (meters to world units)
fn project_size_float(meters: f32) -> f32 {
  return meters * project.commonUnitsPerMeter.z * project_size();
}

fn project_size_vec2(meters: vec2<f32>) -> vec2<f32> {
  return meters * project.commonUnitsPerMeter.xy * project_size();
}

fn project_size_vec3(meters: vec3<f32>) -> vec3<f32> {
  return meters * project.commonUnitsPerMeter * project_size();
}

fn project_size_vec4(meters: vec4<f32>) -> vec4<f32> {
  return vec4<f32>(meters.xyz * project.commonUnitsPerMeter, meters.w);
}

// Returns a rotation matrix aligning the zaxis with the given up vector.
fn project_get_orientation_matrix(up: vec3<f32>) -> mat3x3<f32> {
  let uz = normalize(up);
  let ux = select(
    vec3<f32>(1.0, 0.0, 0.0),
    normalize(vec3<f32>(uz.y, -uz.x, 0.0)),
    abs(uz.z) == 1.0
  );
  let uy = cross(uz, ux);
  return mat3x3<f32>(ux, uy, uz);
}

// Since WGSL does not support "out" parameters, we return a struct.
struct RotationResult {
  needsRotation: bool,
  transform: mat3x3<f32>,
};

fn project_needs_rotation(commonPosition: vec3<f32>) -> RotationResult {
  if (project.projectionMode == PROJECTION_MODE_GLOBE) {
    return RotationResult(true, project_get_orientation_matrix(commonPosition));
  } else {
    return RotationResult(false, mat3x3<f32>());  // identity alternative if needed
  };
}

// Projects a normal vector from the current coordinate system to world space.
fn project_normal(vector: vec3<f32>) -> vec3<f32> {
  let normal_modelspace = project.modelMatrix * vec4<f32>(vector, 0.0);
  var n = normalize(normal_modelspace.xyz * project.commonUnitsPerMeter);
  let rotResult = project_needs_rotation(geometry.position.xyz);
  if (rotResult.needsRotation) {
    n = rotResult.transform * n;
  }
  return n;
}

// Applies a scale offset based on y-offset (dy)
fn project_offset_(offset: vec4<f32>) -> vec4<f32> {
  let dy: f32 = offset.y;
  let commonUnitsPerWorldUnit = project.commonUnitsPerWorldUnit + project.commonUnitsPerWorldUnit2 * dy;
  return vec4<f32>(offset.xyz * commonUnitsPerWorldUnit, offset.w);
}

// Projects lng/lat coordinates to a unit tile [0,1]
fn project_mercator_(lnglat: vec2<f32>) -> vec2<f32> {
  var x = lnglat.x;
  if (project.wrapLongitude != 0) {
    x = ((x + 180.0) % 360.0) - 180.0;
  }
  let y = clamp(lnglat.y, -89.9, 89.9);
  return vec2<f32>(
    radians(x) + PI,
    PI + log(tan(PI * 0.25 + radians(y) * 0.5))
  ) * WORLD_SCALE;
}

// Projects lng/lat/z coordinates for a globe projection.
fn project_globe_(lnglatz: vec3<f32>) -> vec3<f32> {
  let lambda = radians(lnglatz.x);
  let phi = radians(lnglatz.y);
  let cosPhi = cos(phi);
  let D = (lnglatz.z / EARTH_RADIUS + 1.0) * GLOBE_RADIUS;
  return vec3<f32>(
    sin(lambda) * cosPhi,
    -cos(lambda) * cosPhi,
    sin(phi)
  ) * D;
}

// Projects positions (with an optional 64-bit low part) from the input
// coordinate system to the common space.
fn project_position_vec4_f64(position: vec4<f32>, position64Low: vec3<f32>) -> vec4<f32> {
  var position_world = project.modelMatrix * position;

  // Work around for a Mac+NVIDIA bug:
  if (project.projectionMode == PROJECTION_MODE_WEB_MERCATOR) {
    if (project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT) {
      return vec4<f32>(
        project_mercator_(position_world.xy),
        _project_size_at_latitude_m(position_world.z, position_world.y),
        position_world.w
      );
    }
    if (project.coordinateSystem == COORDINATE_SYSTEM_CARTESIAN) {
      position_world = vec4f(position_world.xyz + project.coordinateOrigin, position_world.w);
    }
  }
  if (project.projectionMode == PROJECTION_MODE_GLOBE) {
    if (project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT) {
      return vec4<f32>(
        project_globe_(position_world.xyz),
        position_world.w
      );
    }
  }
  if (project.projectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET) {
    if (project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT) {
      if (abs(position_world.y - project.coordinateOrigin.y) > 0.25) {
        return vec4<f32>(
          project_mercator_(position_world.xy) - project.commonOrigin.xy,
          project_size_float(position_world.z),
          position_world.w
        );
      }
    }
  }
  if (project.projectionMode == PROJECTION_MODE_IDENTITY ||
      (project.projectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET &&
       (project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT ||
        project.coordinateSystem == COORDINATE_SYSTEM_CARTESIAN))) {
    position_world = vec4f(position_world.xyz - project.coordinateOrigin, position_world.w);
  }

  return project_offset_(position_world) +
         project_offset_(project.modelMatrix * vec4<f32>(position64Low, 0.0));
}

// Overloaded versions for different input types.
fn project_position_vec4_f32(position: vec4<f32>) -> vec4<f32> {
  return project_position_vec4_f64(position, ZERO_64_LOW);
}

fn project_position_vec3_f64(position: vec3<f32>, position64Low: vec3<f32>) -> vec3<f32> {
  let projected_position = project_position_vec4_f64(vec4<f32>(position, 1.0), position64Low);
  return projected_position.xyz;
}

fn project_position_vec3_f32(position: vec3<f32>) -> vec3<f32> {
  let projected_position = project_position_vec4_f64(vec4<f32>(position, 1.0), ZERO_64_LOW);
  return projected_position.xyz;
}

fn project_position_vec2_f32(position: vec2<f32>) -> vec2<f32> {
  let projected_position = project_position_vec4_f64(vec4<f32>(position, 0.0, 1.0), ZERO_64_LOW);
  return projected_position.xy;
}

// Transforms a common space position to clip space.
fn project_common_position_to_clipspace_with_projection(position: vec4<f32>, viewProjectionMatrix: mat4x4<f32>, center: vec4<f32>) -> vec4<f32> {
  return viewProjectionMatrix * position + center;
}

// Uses the project viewProjectionMatrix and center.
fn project_common_position_to_clipspace(position: vec4<f32>) -> vec4<f32> {
  return project_common_position_to_clipspace_with_projection(position, project.viewProjectionMatrix, project.center);
}

// Returns a clip space offset corresponding to a given number of screen pixels.
fn project_pixel_size_to_clipspace(pixels: vec2<f32>) -> vec2<f32> {
  let offset = pixels / project.viewportSize * project.devicePixelRatio * 2.0;
  return offset * project.focalDistance;
}

fn project_meter_size_to_pixel(meters: f32) -> f32 {
  return project_size_float(meters) * project.scale;
}

fn project_unit_size_to_pixel(size: f32, unit: i32) -> f32 {
  if (unit == UNIT_METERS) {
    return project_meter_size_to_pixel(size);
  } else if (unit == UNIT_COMMON) {
    return size * project.scale;
  }
  // UNIT_PIXELS: no scaling applied.
  return size;
}

fn project_pixel_size_float(pixels: f32) -> f32 {
  return pixels / project.scale;
}

fn project_pixel_size_vec2(pixels: vec2<f32>) -> vec2<f32> {
  return pixels / project.scale;
}
`,cce=Object.keys(gn).map(t=>`const int COORDINATE_SYSTEM_${t} = ${gn[t]};`).join(""),uce=Object.keys(wl).map(t=>`const int PROJECTION_MODE_${t} = ${wl[t]};`).join(""),fce=Object.keys(af).map(t=>`const int UNIT_${t.toUpperCase()} = ${af[t]};`).join(""),hce=`${cce}
${uce}
${fce}
uniform projectUniforms {
bool wrapLongitude;
int coordinateSystem;
vec3 commonUnitsPerMeter;
int projectionMode;
float scale;
vec3 commonUnitsPerWorldUnit;
vec3 commonUnitsPerWorldUnit2;
vec4 center;
mat4 modelMatrix;
mat4 viewProjectionMatrix;
vec2 viewportSize;
float devicePixelRatio;
float focalDistance;
vec3 cameraPosition;
vec3 coordinateOrigin;
vec3 commonOrigin;
bool pseudoMeters;
} project;
const float TILE_SIZE = 512.0;
const float PI = 3.1415926536;
const float WORLD_SCALE = TILE_SIZE / (PI * 2.0);
const vec3 ZERO_64_LOW = vec3(0.0);
const float EARTH_RADIUS = 6370972.0;
const float GLOBE_RADIUS = 256.0;
float project_size_at_latitude(float lat) {
float y = clamp(lat, -89.9, 89.9);
return 1.0 / cos(radians(y));
}
float project_size() {
if (project.projectionMode == PROJECTION_MODE_WEB_MERCATOR &&
project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT &&
project.pseudoMeters == false) {
if (geometry.position.w == 0.0) {
return project_size_at_latitude(geometry.worldPosition.y);
}
float y = geometry.position.y / TILE_SIZE * 2.0 - 1.0;
float y2 = y * y;
float y4 = y2 * y2;
float y6 = y4 * y2;
return 1.0 + 4.9348 * y2 + 4.0587 * y4 + 1.5642 * y6;
}
return 1.0;
}
float project_size_at_latitude(float meters, float lat) {
return meters * project.commonUnitsPerMeter.z * project_size_at_latitude(lat);
}
float project_size(float meters) {
return meters * project.commonUnitsPerMeter.z * project_size();
}
vec2 project_size(vec2 meters) {
return meters * project.commonUnitsPerMeter.xy * project_size();
}
vec3 project_size(vec3 meters) {
return meters * project.commonUnitsPerMeter * project_size();
}
vec4 project_size(vec4 meters) {
return vec4(meters.xyz * project.commonUnitsPerMeter, meters.w);
}
mat3 project_get_orientation_matrix(vec3 up) {
vec3 uz = normalize(up);
vec3 ux = abs(uz.z) == 1.0 ? vec3(1.0, 0.0, 0.0) : normalize(vec3(uz.y, -uz.x, 0));
vec3 uy = cross(uz, ux);
return mat3(ux, uy, uz);
}
bool project_needs_rotation(vec3 commonPosition, out mat3 transform) {
if (project.projectionMode == PROJECTION_MODE_GLOBE) {
transform = project_get_orientation_matrix(commonPosition);
return true;
}
return false;
}
vec3 project_normal(vec3 vector) {
vec4 normal_modelspace = project.modelMatrix * vec4(vector, 0.0);
vec3 n = normalize(normal_modelspace.xyz * project.commonUnitsPerMeter);
mat3 rotation;
if (project_needs_rotation(geometry.position.xyz, rotation)) {
n = rotation * n;
}
return n;
}
vec4 project_offset_(vec4 offset) {
float dy = offset.y;
vec3 commonUnitsPerWorldUnit = project.commonUnitsPerWorldUnit + project.commonUnitsPerWorldUnit2 * dy;
return vec4(offset.xyz * commonUnitsPerWorldUnit, offset.w);
}
vec2 project_mercator_(vec2 lnglat) {
float x = lnglat.x;
if (project.wrapLongitude) {
x = mod(x + 180., 360.0) - 180.;
}
float y = clamp(lnglat.y, -89.9, 89.9);
return vec2(
radians(x) + PI,
PI + log(tan_fp32(PI * 0.25 + radians(y) * 0.5))
) * WORLD_SCALE;
}
vec3 project_globe_(vec3 lnglatz) {
float lambda = radians(lnglatz.x);
float phi = radians(lnglatz.y);
float cosPhi = cos(phi);
float D = (lnglatz.z / EARTH_RADIUS + 1.0) * GLOBE_RADIUS;
return vec3(
sin(lambda) * cosPhi,
-cos(lambda) * cosPhi,
sin(phi)
) * D;
}
vec4 project_position(vec4 position, vec3 position64Low) {
vec4 position_world = project.modelMatrix * position;
if (project.projectionMode == PROJECTION_MODE_WEB_MERCATOR) {
if (project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT) {
return vec4(
project_mercator_(position_world.xy),
project_size_at_latitude(position_world.z, position_world.y),
position_world.w
);
}
if (project.coordinateSystem == COORDINATE_SYSTEM_CARTESIAN) {
position_world.xyz += project.coordinateOrigin;
}
}
if (project.projectionMode == PROJECTION_MODE_GLOBE) {
if (project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT) {
return vec4(
project_globe_(position_world.xyz),
position_world.w
);
}
}
if (project.projectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET) {
if (project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT) {
if (abs(position_world.y - project.coordinateOrigin.y) > 0.25) {
return vec4(
project_mercator_(position_world.xy) - project.commonOrigin.xy,
project_size(position_world.z),
position_world.w
);
}
}
}
if (project.projectionMode == PROJECTION_MODE_IDENTITY ||
(project.projectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET &&
(project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT ||
project.coordinateSystem == COORDINATE_SYSTEM_CARTESIAN))) {
position_world.xyz -= project.coordinateOrigin;
}
return project_offset_(position_world) + project_offset_(project.modelMatrix * vec4(position64Low, 0.0));
}
vec4 project_position(vec4 position) {
return project_position(position, ZERO_64_LOW);
}
vec3 project_position(vec3 position, vec3 position64Low) {
vec4 projected_position = project_position(vec4(position, 1.0), position64Low);
return projected_position.xyz;
}
vec3 project_position(vec3 position) {
vec4 projected_position = project_position(vec4(position, 1.0), ZERO_64_LOW);
return projected_position.xyz;
}
vec2 project_position(vec2 position) {
vec4 projected_position = project_position(vec4(position, 0.0, 1.0), ZERO_64_LOW);
return projected_position.xy;
}
vec4 project_common_position_to_clipspace(vec4 position, mat4 viewProjectionMatrix, vec4 center) {
return viewProjectionMatrix * position + center;
}
vec4 project_common_position_to_clipspace(vec4 position) {
return project_common_position_to_clipspace(position, project.viewProjectionMatrix, project.center);
}
vec2 project_pixel_size_to_clipspace(vec2 pixels) {
vec2 offset = pixels / project.viewportSize * project.devicePixelRatio * 2.0;
return offset * project.focalDistance;
}
float project_size_to_pixel(float meters) {
return project_size(meters) * project.scale;
}
float project_size_to_pixel(float size, int unit) {
if (unit == UNIT_METERS) return project_size_to_pixel(size);
if (unit == UNIT_COMMON) return size * project.scale;
return size;
}
float project_pixel_size(float pixels) {
return pixels / project.scale;
}
vec2 project_pixel_size(vec2 pixels) {
return pixels / project.scale;
}
`,dce={};function Ace(t=dce){return"viewport"in t?rce(t):{}}const KP={name:"project",dependencies:[Bae,D$],source:lce,vs:hce,getUniforms:Ace,uniformTypes:{wrapLongitude:"f32",coordinateSystem:"i32",commonUnitsPerMeter:"vec3<f32>",projectionMode:"i32",scale:"f32",commonUnitsPerWorldUnit:"vec3<f32>",commonUnitsPerWorldUnit2:"vec3<f32>",center:"vec4<f32>",modelMatrix:"mat4x4<f32>",viewProjectionMatrix:"mat4x4<f32>",viewportSize:"vec2<f32>",devicePixelRatio:"f32",focalDistance:"f32",cameraPosition:"vec3<f32>",coordinateOrigin:"vec3<f32>",commonOrigin:"vec3<f32>",pseudoMeters:"f32"}},pce=`// Define a structure to hold both the clip-space position and the common position.
struct ProjectResult {
  clipPosition: vec4<f32>,
  commonPosition: vec4<f32>,
};

// This function mimics the GLSL version with the 'out' parameter by returning both values.
fn project_position_to_clipspace_and_commonspace(
    position: vec3<f32>,
    position64Low: vec3<f32>,
    offset: vec3<f32>
) -> ProjectResult {
  // Compute the projected position.
  let projectedPosition: vec3<f32> = project_position_vec3_f64(position, position64Low);

  // Start with the provided offset.
  var finalOffset: vec3<f32> = offset;

  // Get whether a rotation is needed and the rotation matrix.
  let rotationResult = project_needs_rotation(projectedPosition);

  // If rotation is needed, update the offset.
  if (rotationResult.needsRotation) {
    finalOffset = rotationResult.transform * offset;
  }

  // Compute the common position.
  let commonPosition: vec4<f32> = vec4<f32>(projectedPosition + finalOffset, 1.0);

  // Convert to clip-space.
  let clipPosition: vec4<f32> = project_common_position_to_clipspace(commonPosition);

  return ProjectResult(clipPosition, commonPosition);
}

// A convenience overload that returns only the clip-space position.
fn project_position_to_clipspace(
    position: vec3<f32>,
    position64Low: vec3<f32>,
    offset: vec3<f32>
) -> vec4<f32> {
  return project_position_to_clipspace_and_commonspace(position, position64Low, offset).clipPosition;
}
`,gce=`vec4 project_position_to_clipspace(
  vec3 position, vec3 position64Low, vec3 offset, out vec4 commonPosition
) {
  vec3 projectedPosition = project_position(position, position64Low);
  mat3 rotation;
  if (project_needs_rotation(projectedPosition, rotation)) {
    // offset is specified as ENU
    // when in globe projection, rotate offset so that the ground alighs with the surface of the globe
    offset = rotation * offset;
  }
  commonPosition = vec4(projectedPosition + offset, 1.0);
  return project_common_position_to_clipspace(commonPosition);
}

vec4 project_position_to_clipspace(
  vec3 position, vec3 position64Low, vec3 offset
) {
  vec4 commonPosition;
  return project_position_to_clipspace(position, position64Low, offset, commonPosition);
}
`,nb={name:"project32",dependencies:[KP],source:pce,vs:gce};function mce(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function XA(t,e){const r=Im([],e,t);return Pae(r,r,1/r[3]),r}function RR(t,e){const r=t%e;return r<0?e+r:r}function vce(t,e,r){return r*e+(1-r)*t}function G4(t,e,r){return t<e?e:t>r?r:t}function yce(t){return Math.log(t)*Math.LOG2E}const GP=Math.log2||yce;function lf(t,e){if(!t)throw new Error(e||"@math.gl/web-mercator: assertion failed.")}const gc=Math.PI,q$=gc/4,Pl=gc/180,Q4=180/gc,h0=512,Ay=4003e4,$v=85.051129,bce=1.5;function IR(t){return Math.pow(2,t)}function X$(t){return GP(t)}function d0(t){const[e,r]=t;lf(Number.isFinite(e)),lf(Number.isFinite(r)&&r>=-90&&r<=90,"invalid latitude");const n=e*Pl,i=r*Pl,o=h0*(n+gc)/(2*gc),s=h0*(gc+Math.log(Math.tan(q$+i*.5)))/(2*gc);return[o,s]}function Td(t){const[e,r]=t,n=e/h0*(2*gc)-gc,i=2*(Math.atan(Math.exp(r/h0*(2*gc)-gc))-q$);return[n*Q4,i*Q4]}function _ce(t){const{latitude:e}=t;lf(Number.isFinite(e));const r=Math.cos(e*Pl);return X$(Ay*r)-9}function vw(t){const e=Math.cos(t*Pl);return h0/Ay/e}function Z4(t){const{latitude:e,longitude:r,highPrecision:n=!1}=t;lf(Number.isFinite(e)&&Number.isFinite(r));const i=h0,o=Math.cos(e*Pl),s=i/360,a=s/o,l=i/Ay/o,c={unitsPerMeter:[l,l,l],metersPerUnit:[1/l,1/l,1/l],unitsPerDegree:[s,a,l],degreesPerUnit:[1/s,1/a,1/l]};if(n){const u=Pl*Math.tan(e*Pl)/o,g=s*u/2,_=i/Ay*u,b=_/a*l;c.unitsPerDegree2=[0,g,_],c.unitsPerMeter2=[b,0,b]}return c}function Y$(t,e){const[r,n,i]=t,[o,s,a]=e,{unitsPerMeter:l,unitsPerMeter2:c}=Z4({longitude:r,latitude:n,highPrecision:!0}),u=d0(t);u[0]+=o*(l[0]+c[0]*s),u[1]+=s*(l[1]+c[1]*s);const g=Td(u),_=(i||0)+(a||0);return Number.isFinite(i)||Number.isFinite(a)?[g[0],g[1],_]:g}function wce(t){const{height:e,pitch:r,bearing:n,altitude:i,scale:o,center:s}=t,a=mce();hy(a,a,[0,0,-i]),C$(a,a,-r*Pl),k$(a,a,n*Pl);const l=o/e;return XP(a,a,[l,l,l]),s&&hy(a,a,nae([],s)),a}function xce(t){const{width:e,height:r,altitude:n,pitch:i=0,offset:o,center:s,scale:a,nearZMultiplier:l=1,farZMultiplier:c=1}=t;let{fovy:u=py(bce)}=t;n!==void 0&&(u=py(n));const g=u*Pl,_=i*Pl,b=K$(u);let P=b;s&&(P+=s[2]*a/Math.cos(_)/r);const E=g*(.5+(o?o[1]:0)/r),T=Math.sin(E)*P/Math.sin(G4(Math.PI/2-_-E,.01,Math.PI-.01)),O=Math.sin(_)*T+P,L=P*10,N=Math.min(O*c,L);return{fov:g,aspect:e/r,focalDistance:b,near:l,far:N}}function py(t){return 2*Math.atan(.5/t)*Q4}function K$(t){return .5/Math.tan(.5*t*Pl)}function G$(t,e){const[r,n,i=0]=t;return lf(Number.isFinite(r)&&Number.isFinite(n)&&Number.isFinite(i)),XA(e,[r,n,i,1])}function QP(t,e,r=0){const[n,i,o]=t;if(lf(Number.isFinite(n)&&Number.isFinite(i),"invalid pixel coordinate"),Number.isFinite(o))return XA(e,[n,i,o,1]);const s=XA(e,[n,i,0,1]),a=XA(e,[n,i,1,1]),l=s[2],c=a[2],u=l===c?0:((r||0)-l)/(c-l);return E$([],s,a,u)}function Sce(t){const{width:e,height:r,bounds:n,minExtent:i=0,maxZoom:o=24,offset:s=[0,0]}=t,[[a,l],[c,u]]=n,g=Ece(t.padding),_=d0([a,G4(u,-$v,$v)]),b=d0([c,G4(l,-$v,$v)]),P=[Math.max(Math.abs(b[0]-_[0]),i),Math.max(Math.abs(b[1]-_[1]),i)],E=[e-g.left-g.right-Math.abs(s[0])*2,r-g.top-g.bottom-Math.abs(s[1])*2];lf(E[0]>0&&E[1]>0);const T=E[0]/P[0],O=E[1]/P[1],L=(g.right-g.left)/2/T,N=(g.top-g.bottom)/2/O,D=[(b[0]+_[0])/2+L,(b[1]+_[1])/2+N],B=Td(D),z=Math.min(o,GP(Math.abs(Math.min(T,O))));return lf(Number.isFinite(z)),{longitude:B[0],latitude:B[1],zoom:z}}function Ece(t=0){return typeof t=="number"?{top:t,bottom:t,left:t,right:t}:(lf(Number.isFinite(t.top)&&Number.isFinite(t.bottom)&&Number.isFinite(t.left)&&Number.isFinite(t.right)),t)}const NR=Math.PI/180;function Tce(t,e=0){const{width:r,height:n,unproject:i}=t,o={targetZ:e},s=i([0,n],o),a=i([r,n],o);let l,c;const u=t.fovy?.5*t.fovy*NR:Math.atan(.5/t.altitude),g=(90-t.pitch)*NR;return u>g-.01?(l=MR(t,0,e),c=MR(t,r,e)):(l=i([0,0],o),c=i([r,0],o)),[s,a,c,l]}function MR(t,e,r){const{pixelUnprojectionMatrix:n}=t,i=XA(n,[e,0,1,1]),o=XA(n,[e,t.height,1,1]),a=(r*t.distanceScales.unitsPerMeter[2]-i[2])/(o[2]-i[2]),l=E$([],i,o,a),c=Td(l);return c.push(r),c}const LR=512;function Pce(t){const{width:e,height:r,pitch:n=0}=t;let{longitude:i,latitude:o,zoom:s,bearing:a=0}=t;(i<-180||i>180)&&(i=RR(i+180,360)-180),(a<-180||a>180)&&(a=RR(a+180,360)-180);const l=GP(r/LR);if(s<=l)s=l,o=0;else{const c=r/2/Math.pow(2,s),u=Td([0,c])[1];if(o<u)o=u;else{const g=Td([0,LR-c])[1];o>g&&(o=g)}}return{width:e,height:r,longitude:i,latitude:o,zoom:s,pitch:n,bearing:a}}const Q$=.01,Cce=["longitude","latitude","zoom"],Z$={curve:1.414,speed:1.2};function kce(t,e,r,n){const{startZoom:i,startCenterXY:o,uDelta:s,w0:a,u1:l,S:c,rho:u,rho2:g,r0:_}=J$(t,e,n);if(l<Q$){const D={};for(const B of Cce){const z=t[B],X=e[B];D[B]=vce(z,X,r)}return D}const b=r*c,P=Math.cosh(_)/Math.cosh(_+u*b),E=a*((Math.cosh(_)*Math.tanh(_+u*b)-Math.sinh(_))/g)/l,T=1/P,O=i+X$(T),L=Yse([],s,E);z4(L,L,o);const N=Td(L);return{longitude:N[0],latitude:N[1],zoom:O}}function Oce(t,e,r){const n={...Z$,...r},{screenSpeed:i,speed:o,maxDuration:s}=n,{S:a,rho:l}=J$(t,e,n),c=1e3*a;let u;return Number.isFinite(i)?u=c/(i/l):u=c/o,Number.isFinite(s)&&u>s?0:u}function J$(t,e,r){r=Object.assign({},Z$,r);const n=r.curve,i=t.zoom,o=[t.longitude,t.latitude],s=IR(i),a=e.zoom,l=[e.longitude,e.latitude],c=IR(a-i),u=d0(o),g=d0(l),_=Zse([],g,u),b=Math.max(t.width,t.height),P=b/c,E=Kse(_)*s,T=Math.max(E,Q$),O=n*n,L=(P*P-b*b+O*O*T*T)/(2*b*O*T),N=(P*P-b*b-O*O*T*T)/(2*P*O*T),D=Math.log(Math.sqrt(L*L+1)-L),B=Math.log(Math.sqrt(N*N+1)-N),z=(B-D)/n;return{startZoom:i,startCenterXY:u,uDelta:_,w0:b,u1:E,S:z,rho:n,rho2:O,r0:D,r1:B}}const ez=`
uniform shadowUniforms {
  bool drawShadowMap;
  bool useShadowMap;
  vec4 color;
  highp int lightId;
  float lightCount;
  mat4 viewProjectionMatrix0;
  mat4 viewProjectionMatrix1;
  vec4 projectCenter0;
  vec4 projectCenter1;
} shadow;
`,Rce=`
const int max_lights = 2;

out vec3 shadow_vPosition[max_lights];

vec4 shadow_setVertexPosition(vec4 position_commonspace) {
  mat4 viewProjectionMatrices[max_lights];
  viewProjectionMatrices[0] = shadow.viewProjectionMatrix0;
  viewProjectionMatrices[1] = shadow.viewProjectionMatrix1;
  vec4 projectCenters[max_lights];
  projectCenters[0] = shadow.projectCenter0;
  projectCenters[1] = shadow.projectCenter1;

  if (shadow.drawShadowMap) {
    return project_common_position_to_clipspace(position_commonspace, viewProjectionMatrices[shadow.lightId], projectCenters[shadow.lightId]);
  }
  if (shadow.useShadowMap) {
    for (int i = 0; i < max_lights; i++) {
      if(i < int(shadow.lightCount)) {
        vec4 shadowMap_position = project_common_position_to_clipspace(position_commonspace, viewProjectionMatrices[i], projectCenters[i]);
        shadow_vPosition[i] = (shadowMap_position.xyz / shadowMap_position.w + 1.0) / 2.0;
      }
    }
  }
  return gl_Position;
}
`,Ice=`
${ez}
${Rce}
`,Nce=`
const int max_lights = 2;
uniform sampler2D shadow_uShadowMap0;
uniform sampler2D shadow_uShadowMap1;

in vec3 shadow_vPosition[max_lights];

const vec4 bitPackShift = vec4(1.0, 255.0, 65025.0, 16581375.0);
const vec4 bitUnpackShift = 1.0 / bitPackShift;
const vec4 bitMask = vec4(1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0,  0.0);

float shadow_getShadowWeight(vec3 position, sampler2D shadowMap) {
  vec4 rgbaDepth = texture(shadowMap, position.xy);

  float z = dot(rgbaDepth, bitUnpackShift);
  return smoothstep(0.001, 0.01, position.z - z);
}

vec4 shadow_filterShadowColor(vec4 color) {
  if (shadow.drawShadowMap) {
    vec4 rgbaDepth = fract(gl_FragCoord.z * bitPackShift);
    rgbaDepth -= rgbaDepth.gbaa * bitMask;
    return rgbaDepth;
  }
  if (shadow.useShadowMap) {
    float shadowAlpha = 0.0;
    shadowAlpha += shadow_getShadowWeight(shadow_vPosition[0], shadow_uShadowMap0);
    if(shadow.lightCount > 1.0) {
      shadowAlpha += shadow_getShadowWeight(shadow_vPosition[1], shadow_uShadowMap1);
    }
    shadowAlpha *= shadow.color.a / shadow.lightCount;
    float blendedAlpha = shadowAlpha + color.a * (1.0 - shadowAlpha);

    return vec4(
      mix(color.rgb, shadow.color.rgb, shadowAlpha / blendedAlpha),
      blendedAlpha
    );
  }
  return color;
}
`,Mce=`
${ez}
${Nce}
`,Lce=Nm(Uce),Dce=Nm($ce),Bce=[0,0,0,1],Fce=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0];function jce(t,e){const[r,n,i]=t,o=QP([r,n,i],e);return Number.isFinite(i)?o:[o[0],o[1],0]}function Uce({viewport:t,center:e}){return new _u(t.viewProjectionMatrix).invert().transform(e)}function $ce({viewport:t,shadowMatrices:e}){const r=[],n=t.pixelUnprojectionMatrix,i=t.isGeospatial?void 0:1,o=[[0,0,i],[t.width,0,i],[0,t.height,i],[t.width,t.height,i],[0,0,-1],[t.width,0,-1],[0,t.height,-1],[t.width,t.height,-1]].map(s=>jce(s,n));for(const s of e){const a=s.clone().translate(new bu(t.center).negate()),l=o.map(u=>a.transform(u)),c=new _u().ortho({left:Math.min(...l.map(u=>u[0])),right:Math.max(...l.map(u=>u[0])),bottom:Math.min(...l.map(u=>u[1])),top:Math.max(...l.map(u=>u[1])),near:Math.min(...l.map(u=>-u[2])),far:Math.max(...l.map(u=>-u[2]))});r.push(c.multiplyRight(s))}return r}function zce(t){const{shadowEnabled:e=!0,project:r}=t;if(!e||!r||!t.shadowMatrices||!t.shadowMatrices.length)return{drawShadowMap:!1,useShadowMap:!1,shadow_uShadowMap0:t.dummyShadowMap,shadow_uShadowMap1:t.dummyShadowMap};const n=KP.getUniforms(r),i=Lce({viewport:r.viewport,center:n.center}),o=[],s=Dce({shadowMatrices:t.shadowMatrices,viewport:r.viewport}).slice();for(let l=0;l<t.shadowMatrices.length;l++){const c=s[l],u=c.clone().translate(new bu(r.viewport.center).negate());n.coordinateSystem===gn.LNGLAT&&n.projectionMode===wl.WEB_MERCATOR?(s[l]=u,o[l]=i):(s[l]=c.clone().multiplyRight(Fce),o[l]=u.transform(i))}const a={drawShadowMap:!!t.drawToShadowMap,useShadowMap:t.shadowMaps?t.shadowMaps.length>0:!1,color:t.shadowColor||Bce,lightId:t.shadowLightId||0,lightCount:t.shadowMatrices.length,shadow_uShadowMap0:t.dummyShadowMap,shadow_uShadowMap1:t.dummyShadowMap};for(let l=0;l<s.length;l++)a[`viewProjectionMatrix${l}`]=s[l],a[`projectCenter${l}`]=o[l];for(let l=0;l<2;l++)a[`shadow_uShadowMap${l}`]=t.shadowMaps&&t.shadowMaps[l]||t.dummyShadowMap;return a}const DR={name:"shadow",dependencies:[KP],vs:Ice,fs:Mce,inject:{"vs:DECKGL_FILTER_GL_POSITION":`
    position = shadow_setVertexPosition(geometry.position);
    `,"fs:DECKGL_FILTER_COLOR":`
    color = shadow_filterShadowColor(color);
    `},getUniforms:zce,uniformTypes:{drawShadowMap:"f32",useShadowMap:"f32",color:"vec4<f32>",lightId:"i32",lightCount:"f32",viewProjectionMatrix0:"mat4x4<f32>",viewProjectionMatrix1:"mat4x4<f32>",projectCenter0:"vec4<f32>",projectCenter1:"vec4<f32>"}},ib={...hR,defaultUniforms:{...hR.defaultUniforms,useFloatColors:!1},inject:{"vs:DECKGL_FILTER_GL_POSITION":`
    // for picking depth values
    picking_setPickingAttribute(position.z / position.w);
  `,"vs:DECKGL_FILTER_COLOR":`
  picking_setPickingColor(geometry.pickingColor);
  `,"fs:DECKGL_FILTER_COLOR":{order:99,injection:`
  // use highlight color if this fragment belongs to the selected object.
  color = picking_filterHighlightColor(color);

  // use picking color if rendering to picking FBO.
  color = picking_filterPickingColor(color);
    `}}},Wce=[D$],Vce=["vs:DECKGL_FILTER_SIZE(inout vec3 size, VertexGeometry geometry)","vs:DECKGL_FILTER_GL_POSITION(inout vec4 position, VertexGeometry geometry)","vs:DECKGL_FILTER_COLOR(inout vec4 color, VertexGeometry geometry)","fs:DECKGL_FILTER_COLOR(inout vec4 color, FragmentGeometry geometry)"],Hce=[];function qce(t){const e=ey.getDefaultShaderAssembler();for(const n of Wce)e.addDefaultModule(n);e._hookFunctions.length=0;const r=t==="glsl"?Vce:Hce;for(const n of r)e.addShaderHook(n);return e}const Xce=[255,255,255],Yce=1;let Kce=0;class Gce{constructor(e={}){this.type="ambient";const{color:r=Xce}=e,{intensity:n=Yce}=e;this.id=e.id||`ambient-${Kce++}`,this.color=r,this.intensity=n}}const Qce=[255,255,255],Zce=1,Jce=[0,0,-1];let eue=0;class BR{constructor(e={}){this.type="directional";const{color:r=Qce}=e,{intensity:n=Zce}=e,{direction:i=Jce}=e,{_shadow:o=!1}=e;this.id=e.id||`directional-${eue++}`,this.color=r,this.intensity=n,this.type="directional",this.direction=new bu(i).normalize().toArray(),this.shadow=o}getProjectedLight(e){return this}}class tue{constructor(e,r={id:"pass"}){const{id:n}=r;this.id=n,this.device=e,this.props={...r}}setProps(e){Object.assign(this.props,e)}render(e){}cleanup(){}}class ZP extends tue{constructor(){super(...arguments),this._lastRenderIndex=-1}render(e){const[r,n]=this.device.canvasContext.getDrawingBufferSize(),i=e.clearCanvas??!0,o=e.clearColor??(i?[0,0,0,0]:!1),s=i?1:!1,a=i?0:!1,l=e.colorMask??15,c={viewport:[0,0,r,n]};e.colorMask&&(c.colorMask=l),e.scissorRect&&(c.scissorRect=e.scissorRect);const u=this.device.beginRenderPass({framebuffer:e.target,parameters:c,clearColor:o,clearDepth:s,clearStencil:a});try{return this._drawLayers(u,e)}finally{u.end(),this.device.submit()}}_drawLayers(e,r){const{target:n,shaderModuleProps:i,viewports:o,views:s,onViewportActive:a,clearStack:l=!0}=r;r.pass=r.pass||"unknown",l&&(this._lastRenderIndex=-1);const c=[];for(const u of o){const g=s&&s[u.id];a==null||a(u);const _=this._getDrawLayerParams(u,r),b=u.subViewports||[u];for(const P of b){const E=this._drawLayersInViewport(e,{target:n,shaderModuleProps:i,viewport:P,view:g,pass:r.pass,layers:r.layers},_);c.push(E)}}return c}_getDrawLayerParams(e,{layers:r,pass:n,isPicking:i=!1,layerFilter:o,cullRect:s,effects:a,shaderModuleProps:l},c=!1){var P;const u=[],g=tz(this._lastRenderIndex+1),_={layer:r[0],viewport:e,isPicking:i,renderPass:n,cullRect:s},b={};for(let E=0;E<r.length;E++){const T=r[E],O=this._shouldDrawLayer(T,_,o,b),L={shouldDrawLayer:O};O&&!c&&(L.shouldDrawLayer=!0,L.layerRenderIndex=g(T,O),L.shaderModuleProps=this._getShaderModuleProps(T,a,n,l),L.layerParameters={...(P=T.context.deck)==null?void 0:P.props.parameters,...this.getLayerParameters(T,E,e)}),u[E]=L}return u}_drawLayersInViewport(e,{layers:r,shaderModuleProps:n,pass:i,target:o,viewport:s,view:a},l){const c=rue(this.device,{shaderModuleProps:n,target:o,viewport:s});if(a){const{clear:g,clearColor:_,clearDepth:b,clearStencil:P}=a.props;if(g){let E=[0,0,0,0],T=1,O=0;Array.isArray(_)?E=[..._.slice(0,3),_[3]||255].map(N=>N/255):_===!1&&(E=!1),b!==void 0&&(T=b),P!==void 0&&(O=P),this.device.beginRenderPass({framebuffer:o,parameters:{viewport:c,scissorRect:c},clearColor:E,clearDepth:T,clearStencil:O}).end()}}const u={totalCount:r.length,visibleCount:0,compositeCount:0,pickableCount:0};e.setParameters({viewport:c});for(let g=0;g<r.length;g++){const _=r[g],b=l[g],{shouldDrawLayer:P}=b;if(P&&_.props.pickable&&u.pickableCount++,_.isComposite&&u.compositeCount++,_.isDrawable&&b.shouldDrawLayer){const{layerRenderIndex:E,shaderModuleProps:T,layerParameters:O}=b;u.visibleCount++,this._lastRenderIndex=Math.max(this._lastRenderIndex,E),T.project&&(T.project.viewport=s),_.context.renderPass=e;try{_._drawLayer({renderPass:e,shaderModuleProps:T,uniforms:{layerIndex:E},parameters:O})}catch(L){_.raiseError(L,`drawing ${_} to ${i}`)}}}return u}shouldDrawLayer(e){return!0}getShaderModuleProps(e,r,n){return null}getLayerParameters(e,r,n){return e.props.parameters}_shouldDrawLayer(e,r,n,i){if(!(e.props.visible&&this.shouldDrawLayer(e)))return!1;r.layer=e;let s=e.parent;for(;s;){if(!s.props.visible||!s.filterSubLayer(r))return!1;r.layer=s,s=s.parent}if(n){const a=r.layer.id;if(a in i||(i[a]=n(r)),!i[a])return!1}return e.activateViewport(r.viewport),!0}_getShaderModuleProps(e,r,n,i){var l,c;const o=this.device.canvasContext.cssToDeviceRatio(),s=((l=e.internalState)==null?void 0:l.propsInTransition)||e.props,a={layer:s,picking:{isActive:!1},project:{viewport:e.context.viewport,devicePixelRatio:o,modelMatrix:s.modelMatrix,coordinateSystem:s.coordinateSystem,coordinateOrigin:s.coordinateOrigin,autoWrapLongitude:e.wrapLongitude}};if(r)for(const u of r)FR(a,(c=u.getShaderModuleProps)==null?void 0:c.call(u,e,a));return FR(a,this.getShaderModuleProps(e,r,a),i)}}function tz(t=0,e={}){const r={},n=(i,o)=>{const s=i.props._offset,a=i.id,l=i.parent&&i.parent.id;let c;if(l&&!(l in e)&&n(i.parent,!1),l in r){const u=r[l]=r[l]||tz(e[l],e);c=u(i,o),r[a]=u}else Number.isFinite(s)?(c=s+(e[l]||0),r[a]=null):c=t;return o&&c>=t&&(t=c+1),e[a]=c,c};return n}function rue(t,{shaderModuleProps:e,target:r,viewport:n}){var l;const i=((l=e==null?void 0:e.project)==null?void 0:l.devicePixelRatio)??t.canvasContext.cssToDeviceRatio(),[,o]=t.canvasContext.getDrawingBufferSize(),s=r?r.height:o,a=n;return[a.x*i,s-(a.y+a.height)*i,a.width*i,a.height*i]}function FR(t,...e){for(const r of e)if(r)for(const n in r)t[n]?Object.assign(t[n],r[n]):t[n]=r[n];return t}class nue extends ZP{constructor(e,r){super(e,r);const n=e.createTexture({format:"rgba8unorm",width:1,height:1,sampler:{minFilter:"linear",magFilter:"linear",addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"}}),i=e.createTexture({format:"depth16unorm",width:1,height:1});this.fbo=e.createFramebuffer({id:"shadowmap",width:1,height:1,colorAttachments:[n],depthStencilAttachment:i})}delete(){this.fbo&&(this.fbo.destroy(),this.fbo=null)}getShadowMap(){return this.fbo.colorAttachments[0].texture}render(e){const r=this.fbo,n=this.device.canvasContext.cssToDeviceRatio(),i=e.viewports[0],o=i.width*n,s=i.height*n,a=[1,1,1,1];(o!==r.width||s!==r.height)&&r.resize({width:o,height:s}),super.render({...e,clearColor:a,target:r,pass:"shadow"})}getLayerParameters(e,r,n){return{...e.props.parameters,blend:!1,depthWriteEnabled:!0,depthCompare:"less-equal"}}shouldDrawLayer(e){return e.props.shadowEnabled!==!1}getShaderModuleProps(e,r,n){return{shadow:{project:n.project,drawToShadowMap:!0}}}}const iue={color:[255,255,255],intensity:1},jR=[{color:[255,255,255],intensity:1,direction:[-1,3,-1]},{color:[255,255,255],intensity:.9,direction:[1,-8,-2.5]}],oue=[0,0,0,200/255];class rz{constructor(e={}){this.id="lighting-effect",this.shadowColor=oue,this.shadow=!1,this.directionalLights=[],this.pointLights=[],this.shadowPasses=[],this.dummyShadowMap=null,this.setProps(e)}setup(e){this.context=e;const{device:r,deck:n}=e;this.shadow&&!this.dummyShadowMap&&(this._createShadowPasses(r),n._addDefaultShaderModule(DR),this.dummyShadowMap=r.createTexture({width:1,height:1}))}setProps(e){this.ambientLight=void 0,this.directionalLights=[],this.pointLights=[];for(const r in e){const n=e[r];switch(n.type){case"ambient":this.ambientLight=n;break;case"directional":this.directionalLights.push(n);break;case"point":this.pointLights.push(n);break}}this._applyDefaultLights(),this.shadow=this.directionalLights.some(r=>r.shadow),this.context&&this.setup(this.context),this.props=e}preRender({layers:e,layerFilter:r,viewports:n,onViewportActive:i,views:o}){if(this.shadow){this.shadowMatrices=this._calculateMatrices();for(let s=0;s<this.shadowPasses.length;s++)this.shadowPasses[s].render({layers:e,layerFilter:r,viewports:n,onViewportActive:i,views:o,shaderModuleProps:{shadow:{shadowLightId:s,dummyShadowMap:this.dummyShadowMap,shadowMatrices:this.shadowMatrices}}})}}getShaderModuleProps(e,r){const n=this.shadow?{project:r.project,shadowMaps:this.shadowPasses.map(s=>s.getShadowMap()),dummyShadowMap:this.dummyShadowMap,shadowColor:this.shadowColor,shadowMatrices:this.shadowMatrices}:{},i={enabled:!0,ambientLight:this.ambientLight,directionalLights:this.directionalLights.map(s=>s.getProjectedLight({layer:e})),pointLights:this.pointLights.map(s=>s.getProjectedLight({layer:e}))},o=e.props.material;return{shadow:n,lighting:i,phongMaterial:o,gouraudMaterial:o}}cleanup(e){for(const r of this.shadowPasses)r.delete();this.shadowPasses.length=0,this.dummyShadowMap&&(this.dummyShadowMap.destroy(),this.dummyShadowMap=null,e.deck._removeDefaultShaderModule(DR))}_calculateMatrices(){const e=[];for(const r of this.directionalLights){const n=new _u().lookAt({eye:new bu(r.direction).negate()});e.push(n)}return e}_createShadowPasses(e){for(let r=0;r<this.directionalLights.length;r++){const n=new nue(e);this.shadowPasses[r]=n}}_applyDefaultLights(){const{ambientLight:e,pointLights:r,directionalLights:n}=this;!e&&r.length===0&&n.length===0&&(this.ambientLight=new Gce(iue),this.directionalLights.push(new BR(jR[0]),new BR(jR[1])))}}class sue{constructor(e={}){this._pool=[],this.opts={overAlloc:2,poolSize:100},this.setOptions(e)}setOptions(e){Object.assign(this.opts,e)}allocate(e,r,{size:n=1,type:i,padding:o=0,copy:s=!1,initialize:a=!1,maxCount:l}){const c=i||e&&e.constructor||Float32Array,u=r*n+o;if(ArrayBuffer.isView(e)){if(u<=e.length)return e;if(u*e.BYTES_PER_ELEMENT<=e.buffer.byteLength)return new c(e.buffer,0,u)}let g=1/0;l&&(g=l*n+o);const _=this._allocate(c,u,a,g);return e&&s?_.set(e):a||_.fill(0,0,4),this._release(e),_}release(e){this._release(e)}_allocate(e,r,n,i){let o=Math.max(Math.ceil(r*this.opts.overAlloc),1);o>i&&(o=i);const s=this._pool,a=e.BYTES_PER_ELEMENT*o,l=s.findIndex(c=>c.byteLength>=a);if(l>=0){const c=new e(s.splice(l,1)[0],0,o);return n&&c.fill(0),c}return new e(o)}_release(e){if(!ArrayBuffer.isView(e))return;const r=this._pool,{buffer:n}=e,{byteLength:i}=n,o=r.findIndex(s=>s.byteLength>=i);o<0?r.push(n):(o>0||r.length<this.opts.poolSize)&&r.splice(o,0,n),r.length>this.opts.poolSize&&r.shift()}}const A0=new sue;function Zp(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function aue(t){return[t[12],t[13],t[14]]}function lue(t){return{left:vA(t[3]+t[0],t[7]+t[4],t[11]+t[8],t[15]+t[12]),right:vA(t[3]-t[0],t[7]-t[4],t[11]-t[8],t[15]-t[12]),bottom:vA(t[3]+t[1],t[7]+t[5],t[11]+t[9],t[15]+t[13]),top:vA(t[3]-t[1],t[7]-t[5],t[11]-t[9],t[15]-t[13]),near:vA(t[3]+t[2],t[7]+t[6],t[11]+t[10],t[15]+t[14]),far:vA(t[3]-t[2],t[7]-t[6],t[11]-t[10],t[15]-t[14])}}const UR=new bu;function vA(t,e,r,n){UR.set(t,e,r);const i=UR.len();return{distance:n/i,normal:new bu(-t/i,-e/i,-r/i)}}function cue(t){return t-Math.fround(t)}let Ip;function yw(t,e){const{size:r=1,startIndex:n=0}=e,i=e.endIndex!==void 0?e.endIndex:t.length,o=(i-n)/r;Ip=A0.allocate(Ip,o,{type:Float32Array,size:r*2});let s=n,a=0;for(;s<i;){for(let l=0;l<r;l++){const c=t[s++];Ip[a+l]=c,Ip[a+l+r]=cue(c)}a+=r*2}return Ip.subarray(0,o*r*2)}function uue(t){let e=null,r=!1;for(const n of t)n&&(e?(r||(e=[[e[0][0],e[0][1]],[e[1][0],e[1][1]]],r=!0),e[0][0]=Math.min(e[0][0],n[0][0]),e[0][1]=Math.min(e[0][1],n[0][1]),e[1][0]=Math.max(e[1][0],n[1][0]),e[1][1]=Math.max(e[1][1],n[1][1])):e=n);return e}const fue=Math.PI/180,hue=Zp(),$R=[0,0,0],due={unitsPerMeter:[1,1,1],metersPerUnit:[1,1,1]};function Aue({width:t,height:e,orthographic:r,fovyRadians:n,focalDistance:i,padding:o,near:s,far:a}){const l=t/e,c=r?new _u().orthographic({fovy:n,aspect:l,focalDistance:i,near:s,far:a}):new _u().perspective({fovy:n,aspect:l,near:s,far:a});if(o){const{left:u=0,right:g=0,top:_=0,bottom:b=0}=o,P=eh((u+t-g)/2,0,t)-t/2,E=eh((_+e-b)/2,0,e)-e/2;c[8]-=P*2/t,c[9]+=E*2/e}return c}class Mm{constructor(e={}){this._frustumPlanes={},this.id=e.id||this.constructor.displayName||"viewport",this.x=e.x||0,this.y=e.y||0,this.width=e.width||1,this.height=e.height||1,this.zoom=e.zoom||0,this.padding=e.padding,this.distanceScales=e.distanceScales||due,this.focalDistance=e.focalDistance||1,this.position=e.position||$R,this.modelMatrix=e.modelMatrix||null;const{longitude:r,latitude:n}=e;this.isGeospatial=Number.isFinite(n)&&Number.isFinite(r),this._initProps(e),this._initMatrices(e),this.equals=this.equals.bind(this),this.project=this.project.bind(this),this.unproject=this.unproject.bind(this),this.projectPosition=this.projectPosition.bind(this),this.unprojectPosition=this.unprojectPosition.bind(this),this.projectFlat=this.projectFlat.bind(this),this.unprojectFlat=this.unprojectFlat.bind(this)}get subViewports(){return null}get metersPerPixel(){return this.distanceScales.metersPerUnit[2]/this.scale}get projectionMode(){return this.isGeospatial?this.zoom<12?wl.WEB_MERCATOR:wl.WEB_MERCATOR_AUTO_OFFSET:wl.IDENTITY}equals(e){return e instanceof Mm?this===e?!0:e.width===this.width&&e.height===this.height&&e.scale===this.scale&&Rg(e.projectionMatrix,this.projectionMatrix)&&Rg(e.viewMatrix,this.viewMatrix):!1}project(e,{topLeft:r=!0}={}){const n=this.projectPosition(e),i=G$(n,this.pixelProjectionMatrix),[o,s]=i,a=r?s:this.height-s;return e.length===2?[o,a]:[o,a,i[2]]}unproject(e,{topLeft:r=!0,targetZ:n}={}){const[i,o,s]=e,a=r?o:this.height-o,l=n&&n*this.distanceScales.unitsPerMeter[2],c=QP([i,a,s],this.pixelUnprojectionMatrix,l),[u,g,_]=this.unprojectPosition(c);return Number.isFinite(s)?[u,g,_]:Number.isFinite(n)?[u,g,n]:[u,g]}projectPosition(e){const[r,n]=this.projectFlat(e),i=(e[2]||0)*this.distanceScales.unitsPerMeter[2];return[r,n,i]}unprojectPosition(e){const[r,n]=this.unprojectFlat(e),i=(e[2]||0)*this.distanceScales.metersPerUnit[2];return[r,n,i]}projectFlat(e){if(this.isGeospatial){const r=d0(e);return r[1]=eh(r[1],-318,830),r}return e}unprojectFlat(e){return this.isGeospatial?Td(e):e}getBounds(e={}){const r={targetZ:e.z||0},n=this.unproject([0,0],r),i=this.unproject([this.width,0],r),o=this.unproject([0,this.height],r),s=this.unproject([this.width,this.height],r);return[Math.min(n[0],i[0],o[0],s[0]),Math.min(n[1],i[1],o[1],s[1]),Math.max(n[0],i[0],o[0],s[0]),Math.max(n[1],i[1],o[1],s[1])]}getDistanceScales(e){return e&&this.isGeospatial?Z4({longitude:e[0],latitude:e[1],highPrecision:!0}):this.distanceScales}containsPixel({x:e,y:r,width:n=1,height:i=1}){return e<this.x+this.width&&this.x<e+n&&r<this.y+this.height&&this.y<r+i}getFrustumPlanes(){return this._frustumPlanes.near?this._frustumPlanes:(Object.assign(this._frustumPlanes,lue(this.viewProjectionMatrix)),this._frustumPlanes)}panByPosition(e,r){return null}_initProps(e){const r=e.longitude,n=e.latitude;this.isGeospatial&&(Number.isFinite(e.zoom)||(this.zoom=_ce({latitude:n})+Math.log2(this.focalDistance)),this.distanceScales=e.distanceScales||Z4({latitude:n,longitude:r}));const i=Math.pow(2,this.zoom);this.scale=i;const{position:o,modelMatrix:s}=e;let a=$R;if(o&&(a=s?new _u(s).transformAsVector(o,[]):o),this.isGeospatial){const l=this.projectPosition([r,n,0]);this.center=new bu(a).scale(this.distanceScales.unitsPerMeter).add(l)}else this.center=this.projectPosition(a)}_initMatrices(e){const{viewMatrix:r=hue,projectionMatrix:n=null,orthographic:i=!1,fovyRadians:o,fovy:s=75,near:a=.1,far:l=1e3,padding:c=null,focalDistance:u=1}=e;this.viewMatrixUncentered=r,this.viewMatrix=new _u().multiplyRight(r).translate(new bu(this.center).negate()),this.projectionMatrix=n||Aue({width:this.width,height:this.height,orthographic:i,fovyRadians:o||s*fue,focalDistance:u,padding:c,near:a,far:l});const g=Zp();cd(g,g,this.projectionMatrix),cd(g,g,this.viewMatrix),this.viewProjectionMatrix=g,this.viewMatrixInverse=W4([],this.viewMatrix)||this.viewMatrix,this.cameraPosition=aue(this.viewMatrixInverse);const _=Zp(),b=Zp();XP(_,_,[this.width/2,-this.height/2,1]),hy(_,_,[1,-1,0]),cd(b,_,this.viewProjectionMatrix),this.pixelProjectionMatrix=b,this.pixelUnprojectionMatrix=W4(Zp(),this.pixelProjectionMatrix),this.pixelUnprojectionMatrix||Mn.warn("Pixel project matrix not invertible")()}}Mm.displayName="Viewport";class p0 extends Mm{constructor(e={}){const{latitude:r=0,longitude:n=0,zoom:i=0,pitch:o=0,bearing:s=0,nearZMultiplier:a=.1,farZMultiplier:l=1.01,nearZ:c,farZ:u,orthographic:g=!1,projectionMatrix:_,repeat:b=!1,worldOffset:P=0,position:E,padding:T,legacyMeterSizes:O=!1}=e;let{width:L,height:N,altitude:D=1.5}=e;const B=Math.pow(2,i);L=L||1,N=N||1;let z,X=null;if(_)D=_[5]/2,z=py(D);else{e.fovy?(z=e.fovy,D=K$(z)):z=py(D);let G;if(T){const{top:de=0,bottom:H=0}=T;G=[0,eh((de+N-H)/2,0,N)-N/2]}X=xce({width:L,height:N,scale:B,center:E&&[0,0,E[2]*vw(r)],offset:G,pitch:o,fovy:z,nearZMultiplier:a,farZMultiplier:l}),Number.isFinite(c)&&(X.near=c),Number.isFinite(u)&&(X.far=u)}let Z=wce({height:N,pitch:o,bearing:s,scale:B,altitude:D});P&&(Z=new _u().translate([512*P,0,0]).multiplyLeft(Z)),super({...e,width:L,height:N,viewMatrix:Z,longitude:n,latitude:r,zoom:i,...X,fovy:z,focalDistance:D}),this.latitude=r,this.longitude=n,this.zoom=i,this.pitch=o,this.bearing=s,this.altitude=D,this.fovy=z,this.orthographic=g,this._subViewports=b?[]:null,this._pseudoMeters=O,Object.freeze(this)}get subViewports(){if(this._subViewports&&!this._subViewports.length){const e=this.getBounds(),r=Math.floor((e[0]+180)/360),n=Math.ceil((e[2]-180)/360);for(let i=r;i<=n;i++){const o=i?new p0({...this,worldOffset:i}):this;this._subViewports.push(o)}}return this._subViewports}projectPosition(e){if(this._pseudoMeters)return super.projectPosition(e);const[r,n]=this.projectFlat(e),i=(e[2]||0)*vw(e[1]);return[r,n,i]}unprojectPosition(e){if(this._pseudoMeters)return super.unprojectPosition(e);const[r,n]=this.unprojectFlat(e),i=(e[2]||0)/vw(n);return[r,n,i]}addMetersToLngLat(e,r){return Y$(e,r)}panByPosition(e,r){const n=QP(r,this.pixelUnprojectionMatrix),i=this.projectFlat(e),o=z4([],i,Gse([],n)),s=z4([],this.center,o),[a,l]=this.unprojectFlat(s);return{longitude:a,latitude:l}}getBounds(e={}){const r=Tce(this,e.z||0);return[Math.min(r[0][0],r[1][0],r[2][0],r[3][0]),Math.min(r[0][1],r[1][1],r[2][1],r[3][1]),Math.max(r[0][0],r[1][0],r[2][0],r[3][0]),Math.max(r[0][1],r[1][1],r[2][1],r[3][1])]}fitBounds(e,r={}){const{width:n,height:i}=this,{longitude:o,latitude:s,zoom:a}=Sce({width:n,height:i,bounds:e,...r});return new p0({width:n,height:i,longitude:o,latitude:s,zoom:a})}}p0.displayName="WebMercatorViewport";const zR=[0,0,0];function bw(t,e,r=!1){const n=e.projectPosition(t);if(r&&e instanceof p0){const[i,o,s=0]=t,a=e.getDistanceScales([i,o]);n[2]=s*a.unitsPerMeter[2]}return n}function pue(t){const{viewport:e,modelMatrix:r,coordinateOrigin:n}=t;let{coordinateSystem:i,fromCoordinateSystem:o,fromCoordinateOrigin:s}=t;return i===gn.DEFAULT&&(i=e.isGeospatial?gn.LNGLAT:gn.CARTESIAN),o===void 0&&(o=i),s===void 0&&(s=n),{viewport:e,coordinateSystem:i,coordinateOrigin:n,modelMatrix:r,fromCoordinateSystem:o,fromCoordinateOrigin:s}}function nz(t,{viewport:e,modelMatrix:r,coordinateSystem:n,coordinateOrigin:i,offsetMode:o}){let[s,a,l=0]=t;switch(r&&([s,a,l]=Im([],[s,a,l,1],r)),n){case gn.LNGLAT:return bw([s,a,l],e,o);case gn.LNGLAT_OFFSETS:return bw([s+i[0],a+i[1],l+(i[2]||0)],e,o);case gn.METER_OFFSETS:return bw(Y$(i,[s,a,l]),e,o);case gn.CARTESIAN:default:return e.isGeospatial?[s+i[0],a+i[1],l+i[2]]:e.projectPosition([s,a,l])}}function gue(t,e){const{viewport:r,coordinateSystem:n,coordinateOrigin:i,modelMatrix:o,fromCoordinateSystem:s,fromCoordinateOrigin:a}=pue(e),{autoOffset:l=!0}=e,{geospatialOrigin:c=zR,shaderCoordinateOrigin:u=zR,offsetMode:g=!1}=l?H$(r,n,i):{},_=nz(t,{viewport:r,modelMatrix:o,coordinateSystem:s,coordinateOrigin:a,offsetMode:g});if(g){const b=r.projectPosition(c||u);hae(_,_,b)}return _}let mue=1,vue=1;class iz{constructor(){Ae(this,"time",0);Ae(this,"channels",new Map);Ae(this,"animations",new Map);Ae(this,"playing",!1);Ae(this,"lastEngineTime",-1)}addChannel(e){const{delay:r=0,duration:n=Number.POSITIVE_INFINITY,rate:i=1,repeat:o=1}=e,s=mue++,a={time:0,delay:r,duration:n,rate:i,repeat:o};return this._setChannelTime(a,this.time),this.channels.set(s,a),s}removeChannel(e){this.channels.delete(e);for(const[r,n]of this.animations)n.channel===e&&this.detachAnimation(r)}isFinished(e){const r=this.channels.get(e);return r===void 0?!1:this.time>=r.delay+r.duration*r.repeat}getTime(e){if(e===void 0)return this.time;const r=this.channels.get(e);return r===void 0?-1:r.time}setTime(e){this.time=Math.max(0,e);const r=this.channels.values();for(const i of r)this._setChannelTime(i,this.time);const n=this.animations.values();for(const i of n){const{animation:o,channel:s}=i;o.setTime(this.getTime(s))}}play(){this.playing=!0}pause(){this.playing=!1,this.lastEngineTime=-1}reset(){this.setTime(0)}attachAnimation(e,r){const n=vue++;return this.animations.set(n,{animation:e,channel:r}),e.setTime(this.getTime(r)),n}detachAnimation(e){this.animations.delete(e)}update(e){this.playing&&(this.lastEngineTime===-1&&(this.lastEngineTime=e),this.setTime(this.time+(e-this.lastEngineTime)),this.lastEngineTime=e)}_setChannelTime(e,r){const n=r-e.delay,i=e.duration*e.repeat;n>=i?e.time=e.duration*e.rate:(e.time=Math.max(0,n)%e.duration,e.time*=e.rate)}}function yue(t){return typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame(t):setTimeout(t,1e3/60)}function bue(t){return typeof window<"u"&&window.cancelAnimationFrame?window.cancelAnimationFrame(t):clearTimeout(t)}let _ue=0;const B2=class B2{constructor(e){Ae(this,"device",null);Ae(this,"canvas",null);Ae(this,"props");Ae(this,"animationProps",null);Ae(this,"timeline",null);Ae(this,"stats");Ae(this,"cpuTime");Ae(this,"gpuTime");Ae(this,"frameRate");Ae(this,"display");Ae(this,"needsRedraw","initialized");Ae(this,"_initialized",!1);Ae(this,"_running",!1);Ae(this,"_animationFrameId",null);Ae(this,"_nextFramePromise",null);Ae(this,"_resolveNextFrame",null);Ae(this,"_cpuStartTime",0);Ae(this,"_error",null);if(this.props={...B2.defaultAnimationLoopProps,...e},e=this.props,!e.device)throw new Error("No device provided");this.stats=e.stats||new J2({id:"animation-loop-stats"}),this.cpuTime=this.stats.get("CPU Time"),this.gpuTime=this.stats.get("GPU Time"),this.frameRate=this.stats.get("Frame Rate"),this.setProps({autoResizeViewport:e.autoResizeViewport}),this.start=this.start.bind(this),this.stop=this.stop.bind(this),this._onMousemove=this._onMousemove.bind(this),this._onMouseleave=this._onMouseleave.bind(this)}destroy(){this.stop(),this._setDisplay(null)}delete(){this.destroy()}reportError(e){this.props.onError(e),this._error=e}setNeedsRedraw(e){return this.needsRedraw=this.needsRedraw||e,this}setProps(e){return"autoResizeViewport"in e&&(this.props.autoResizeViewport=e.autoResizeViewport||!1),this}async start(){if(this._running)return this;this._running=!0;try{let e;return this._initialized||(this._initialized=!0,await this._initDevice(),this._initialize(),await this.props.onInitialize(this._getAnimationProps())),this._running?(e!==!1&&(this._cancelAnimationFrame(),this._requestAnimationFrame()),this):null}catch(e){const r=e instanceof Error?e:new Error("Unknown error");throw this.props.onError(r),r}}stop(){return this._running&&(this.animationProps&&!this._error&&this.props.onFinalize(this.animationProps),this._cancelAnimationFrame(),this._nextFramePromise=null,this._resolveNextFrame=null,this._running=!1),this}redraw(){var e;return(e=this.device)!=null&&e.isLost||this._error?this:(this._beginFrameTimers(),this._setupFrame(),this._updateAnimationProps(),this._renderFrame(this._getAnimationProps()),this._clearNeedsRedraw(),this._resolveNextFrame&&(this._resolveNextFrame(this),this._nextFramePromise=null,this._resolveNextFrame=null),this._endFrameTimers(),this)}attachTimeline(e){return this.timeline=e,this.timeline}detachTimeline(){this.timeline=null}waitForRender(){return this.setNeedsRedraw("waitForRender"),this._nextFramePromise||(this._nextFramePromise=new Promise(e=>{this._resolveNextFrame=e})),this._nextFramePromise}async toDataURL(){if(this.setNeedsRedraw("toDataURL"),await this.waitForRender(),this.canvas instanceof HTMLCanvasElement)return this.canvas.toDataURL();throw new Error("OffscreenCanvas")}_initialize(){this._startEventHandling(),this._initializeAnimationProps(),this._updateAnimationProps(),this._resizeViewport()}_setDisplay(e){this.display&&(this.display.destroy(),this.display.animationLoop=null),e&&(e.animationLoop=this),this.display=e}_requestAnimationFrame(){this._running&&(this._animationFrameId=yue(this._animationFrame.bind(this)))}_cancelAnimationFrame(){this._animationFrameId!==null&&(bue(this._animationFrameId),this._animationFrameId=null)}_animationFrame(){this._running&&(this.redraw(),this._requestAnimationFrame())}_renderFrame(e){var r;if(this.display){this.display._renderFrame(e);return}this.props.onRender(this._getAnimationProps()),(r=this.device)==null||r.submit()}_clearNeedsRedraw(){this.needsRedraw=!1}_setupFrame(){this._resizeViewport()}_initializeAnimationProps(){var i;const e=(i=this.device)==null?void 0:i.getDefaultCanvasContext();if(!this.device||!e)throw new Error("loop");const r=e==null?void 0:e.canvas,n=e.props.useDevicePixels;this.animationProps={animationLoop:this,device:this.device,canvasContext:e,canvas:r,useDevicePixels:n,timeline:this.timeline,needsRedraw:!1,width:1,height:1,aspect:1,time:0,startTime:Date.now(),engineTime:0,tick:0,tock:0,_mousePosition:null}}_getAnimationProps(){if(!this.animationProps)throw new Error("animationProps");return this.animationProps}_updateAnimationProps(){if(!this.animationProps)return;const{width:e,height:r,aspect:n}=this._getSizeAndAspect();(e!==this.animationProps.width||r!==this.animationProps.height)&&this.setNeedsRedraw("drawing buffer resized"),n!==this.animationProps.aspect&&this.setNeedsRedraw("drawing buffer aspect changed"),this.animationProps.width=e,this.animationProps.height=r,this.animationProps.aspect=n,this.animationProps.needsRedraw=this.needsRedraw,this.animationProps.engineTime=Date.now()-this.animationProps.startTime,this.timeline&&this.timeline.update(this.animationProps.engineTime),this.animationProps.tick=Math.floor(this.animationProps.time/1e3*60),this.animationProps.tock++,this.animationProps.time=this.timeline?this.timeline.getTime():this.animationProps.engineTime}async _initDevice(){if(this.device=await this.props.device,!this.device)throw new Error("No device provided");this.canvas=this.device.getDefaultCanvasContext().canvas||null}_createInfoDiv(){if(this.canvas&&this.props.onAddHTML){const e=document.createElement("div");document.body.appendChild(e),e.style.position="relative";const r=document.createElement("div");r.style.position="absolute",r.style.left="10px",r.style.bottom="10px",r.style.width="300px",r.style.background="white",this.canvas instanceof HTMLCanvasElement&&e.appendChild(this.canvas),e.appendChild(r);const n=this.props.onAddHTML(r);n&&(r.innerHTML=n)}}_getSizeAndAspect(){var o,s;if(!this.device)return{width:1,height:1,aspect:1};const[e,r]=((o=this.device)==null?void 0:o.getDefaultCanvasContext().getDevicePixelSize())||[1,1];let n=1;const i=(s=this.device)==null?void 0:s.getDefaultCanvasContext().canvas;return i&&i.clientHeight?n=i.clientWidth/i.clientHeight:e>0&&r>0&&(n=e/r),{width:e,height:r,aspect:n}}_resizeViewport(){this.props.autoResizeViewport&&this.device.gl&&this.device.gl.viewport(0,0,this.device.gl.drawingBufferWidth,this.device.gl.drawingBufferHeight)}_beginFrameTimers(){this.frameRate.timeEnd(),this.frameRate.timeStart(),this.cpuTime.timeStart()}_endFrameTimers(){this.cpuTime.timeEnd()}_startEventHandling(){this.canvas&&(this.canvas.addEventListener("mousemove",this._onMousemove.bind(this)),this.canvas.addEventListener("mouseleave",this._onMouseleave.bind(this)))}_onMousemove(e){e instanceof MouseEvent&&(this._getAnimationProps()._mousePosition=[e.offsetX,e.offsetY])}_onMouseleave(e){this._getAnimationProps()._mousePosition=null}};Ae(B2,"defaultAnimationLoopProps",{device:null,onAddHTML:()=>"",onInitialize:async()=>null,onRender:()=>{},onFinalize:()=>{},onError:e=>console.error(e),stats:I4.stats.get(`animation-loop-${_ue++}`),autoResizeViewport:!1});let J4=B2;const _w={};function Lm(t="id"){_w[t]=_w[t]||1;const e=_w[t]++;return`${t}-${e}`}class WR{constructor(e){Ae(this,"id");Ae(this,"userData",{});Ae(this,"topology");Ae(this,"bufferLayout",[]);Ae(this,"vertexCount");Ae(this,"indices");Ae(this,"attributes");if(this.id=e.id||Lm("geometry"),this.topology=e.topology,this.indices=e.indices||null,this.attributes=e.attributes,this.vertexCount=e.vertexCount,this.bufferLayout=e.bufferLayout||[],this.indices&&!(this.indices.usage&ci.INDEX))throw new Error("Index buffer must have INDEX usage")}destroy(){var e;(e=this.indices)==null||e.destroy();for(const r of Object.values(this.attributes))r.destroy()}getVertexCount(){return this.vertexCount}getAttributes(){return this.attributes}getIndexes(){return this.indices||null}_calculateVertexCount(e){return e.byteLength/12}}function wue(t,e){if(e instanceof WR)return e;const r=xue(t,e),{attributes:n,bufferLayout:i}=Sue(t,e);return new WR({topology:e.topology||"triangle-list",bufferLayout:i,vertexCount:e.vertexCount,indices:r,attributes:n})}function xue(t,e){if(!e.indices)return;const r=e.indices.value;return t.createBuffer({usage:ci.INDEX,data:r})}function Sue(t,e){const r=[],n={};for(const[o,s]of Object.entries(e.attributes)){let a=o;switch(o){case"POSITION":a="positions";break;case"NORMAL":a="normals";break;case"TEXCOORD_0":a="texCoords";break;case"COLOR_0":a="colors";break}if(s){n[a]=t.createBuffer({data:s.value,id:`${o}-buffer`});const{value:l,size:c,normalized:u}=s;r.push({name:a,format:aoe(l,c,u)})}}const i=e._calculateVertexCount(e.attributes,e.indices);return{attributes:n,bufferLayout:r,vertexCount:i}}const F2=class F2{constructor(e){Ae(this,"device");Ae(this,"cachingEnabled");Ae(this,"destroyPolicy");Ae(this,"debug");Ae(this,"_hashCounter",0);Ae(this,"_hashes",{});Ae(this,"_renderPipelineCache",{});Ae(this,"_computePipelineCache",{});this.device=e,this.cachingEnabled=e.props._cachePipelines,this.destroyPolicy=e.props._cacheDestroyPolicy,this.debug=e.props.debugFactories}static getDefaultPipelineFactory(e){return e._lumaData.defaultPipelineFactory=e._lumaData.defaultPipelineFactory||new F2(e),e._lumaData.defaultPipelineFactory}get[Symbol.toStringTag](){return"PipelineFactory"}toString(){return`PipelineFactory(${this.device.id})`}createRenderPipeline(e){var s;if(!this.cachingEnabled)return this.device.createRenderPipeline(e);const r={...ld.defaultProps,...e},n=this._renderPipelineCache,i=this._hashRenderPipeline(r);let o=(s=n[i])==null?void 0:s.pipeline;return o?(n[i].useCount++,this.debug&&St.log(3,`${this}: ${n[i].pipeline} reused, count=${n[i].useCount}, (id=${e.id})`)()):(o=this.device.createRenderPipeline({...r,id:r.id?`${r.id}-cached`:Lm("unnamed-cached")}),o.hash=i,n[i]={pipeline:o,useCount:1},this.debug&&St.log(3,`${this}: ${o} created, count=${n[i].useCount}`)()),o}createComputePipeline(e){var s;if(!this.cachingEnabled)return this.device.createComputePipeline(e);const r={...oy.defaultProps,...e},n=this._computePipelineCache,i=this._hashComputePipeline(r);let o=(s=n[i])==null?void 0:s.pipeline;return o?(n[i].useCount++,this.debug&&St.log(3,`${this}: ${n[i].pipeline} reused, count=${n[i].useCount}, (id=${e.id})`)()):(o=this.device.createComputePipeline({...r,id:r.id?`${r.id}-cached`:void 0}),o.hash=i,n[i]={pipeline:o,useCount:1},this.debug&&St.log(3,`${this}: ${o} created, count=${n[i].useCount}`)()),o}release(e){if(!this.cachingEnabled){e.destroy();return}const r=this._getCache(e),n=e.hash;r[n].useCount--,r[n].useCount===0?(this._destroyPipeline(e),this.debug&&St.log(3,`${this}: ${e} released and destroyed`)()):r[n].useCount<0?(St.error(`${this}: ${e} released, useCount < 0, resetting`)(),r[n].useCount=0):this.debug&&St.log(3,`${this}: ${e} released, count=${r[n].useCount}`)()}_destroyPipeline(e){const r=this._getCache(e);switch(this.destroyPolicy){case"never":return!1;case"unused":return delete r[e.hash],e.destroy(),!0}}_getCache(e){let r;if(e instanceof oy&&(r=this._computePipelineCache),e instanceof ld&&(r=this._renderPipelineCache),!r)throw new Error(`${this}`);if(!r[e.hash])throw new Error(`${this}: ${e} matched incorrect entry`);return r}_hashComputePipeline(e){const{type:r}=this.device,n=this._getHash(e.shader.source);return`${r}/C/${n}`}_hashRenderPipeline(e){const r=e.vs?this._getHash(e.vs.source):0,n=e.fs?this._getHash(e.fs.source):0,i="-",o=this._getHash(JSON.stringify(e.bufferLayout)),{type:s}=this.device;switch(s){case"webgl":return`${s}/R/${r}/${n}V${i}BL${o}`;case"webgpu":default:const a=this._getHash(JSON.stringify(e.parameters));return`${s}/R/${r}/${n}V${i}T${e.topology}P${a}BL${o}`}}_getHash(e){return this._hashes[e]===void 0&&(this._hashes[e]=this._hashCounter++),this._hashes[e]}};Ae(F2,"defaultProps",{...ld.defaultProps});let eE=F2;const j2=class j2{constructor(e){Ae(this,"device");Ae(this,"cachingEnabled");Ae(this,"destroyPolicy");Ae(this,"debug");Ae(this,"_cache",{});this.device=e,this.cachingEnabled=e.props._cacheShaders,this.destroyPolicy=e.props._cacheDestroyPolicy,this.debug=!0}static getDefaultShaderFactory(e){var r;return(r=e._lumaData).defaultShaderFactory||(r.defaultShaderFactory=new j2(e)),e._lumaData.defaultShaderFactory}get[Symbol.toStringTag](){return"ShaderFactory"}toString(){return`${this[Symbol.toStringTag]}(${this.device.id})`}createShader(e){if(!this.cachingEnabled)return this.device.createShader(e);const r=this._hashShader(e);let n=this._cache[r];if(n)n.useCount++,this.debug&&St.log(3,`${this}: Reusing shader ${n.shader.id} count=${n.useCount}`)();else{const i=this.device.createShader({...e,id:e.id?`${e.id}-cached`:void 0});this._cache[r]=n={shader:i,useCount:1},this.debug&&St.log(3,`${this}: Created new shader ${i.id}`)()}return n.shader}release(e){if(!this.cachingEnabled){e.destroy();return}const r=this._hashShader(e),n=this._cache[r];if(n)if(n.useCount--,n.useCount===0)this.destroyPolicy==="unused"&&(delete this._cache[r],n.shader.destroy(),this.debug&&St.log(3,`${this}: Releasing shader ${e.id}, destroyed`)());else{if(n.useCount<0)throw new Error(`ShaderFactory: Shader ${e.id} released too many times`);this.debug&&St.log(3,`${this}: Releasing shader ${e.id} count=${n.useCount}`)()}}_hashShader(e){return`${e.stage}:${e.source}`}};Ae(j2,"defaultProps",{...ny.defaultProps});let tE=j2;function Eue(t,e){var i;const r={},n="Values";if(t.attributes.length===0&&!((i=t.varyings)!=null&&i.length))return{"No attributes or varyings":{[n]:"N/A"}};for(const o of t.attributes)if(o){const s=`${o.location} ${o.name}: ${o.type}`;r[`in ${s}`]={[n]:o.stepMode||"vertex"}}for(const o of t.varyings||[]){const s=`${o.location} ${o.name}`;r[`out ${s}`]={[n]:JSON.stringify(o)}}return r}let Mo=null,Vh=null;function Tue(t,{id:e,minimap:r,opaque:n,top:i="0",left:o="0",rgbaScale:s=1}){Mo||(Mo=document.createElement("canvas"),Mo.id=e,Mo.title=e,Mo.style.zIndex="100",Mo.style.position="absolute",Mo.style.top=i,Mo.style.left=o,Mo.style.border="blue 5px solid",Mo.style.transform="scaleY(-1)",document.body.appendChild(Mo),Vh=Mo.getContext("2d")),(Mo.width!==t.width||Mo.height!==t.height)&&(Mo.width=t.width/2,Mo.height=t.height/2,Mo.style.width="400px",Mo.style.height="400px");const a=t.device.readPixelsToArrayWebGL(t),l=Vh==null?void 0:Vh.createImageData(t.width,t.height);if(l){for(let u=0;u<a.length;u+=4)l.data[0+u+0]=a[u+0]*s,l.data[0+u+1]=a[u+1]*s,l.data[0+u+2]=a[u+2]*s,l.data[0+u+3]=n?255:a[u+3]*s;Vh==null||Vh.putImageData(l,0,0)}}function rE(t,e,r){if(t===e)return!0;if(!r||!t||!e)return!1;if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!rE(t[n],e[n],r-1))return!1;return!0}if(Array.isArray(e))return!1;if(typeof t=="object"&&typeof e=="object"){const n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(const o of n)if(!e.hasOwnProperty(o)||!rE(t[o],e[o],r-1))return!1;return!0}return!1}class ww{constructor(e){Ae(this,"bufferLayouts");this.bufferLayouts=e}getBufferLayout(e){return this.bufferLayouts.find(r=>r.name===e)||null}getAttributeNamesForBuffer(e){var r;return e.attributes?(r=e.attributes)==null?void 0:r.map(n=>n.attribute):[e.name]}mergeBufferLayouts(e,r){const n=[...e];for(const i of r){const o=n.findIndex(s=>s.name===i.name);o<0?n.push(i):n[o]=i}return n}getBufferIndex(e){const r=this.bufferLayouts.findIndex(n=>n.name===e);return r===-1&&St.warn(`BufferLayout: Missing buffer for "${e}".`)(),r}}function Pue(t,e){const r=Object.fromEntries(t.attributes.map(i=>[i.name,i.location])),n=e.slice();return n.sort((i,o)=>{const s=i.attributes?i.attributes.map(u=>u.attribute):[i.name],a=o.attributes?o.attributes.map(u=>u.attribute):[o.name],l=Math.min(...s.map(u=>r[u])),c=Math.min(...a.map(u=>r[u]));return l-c}),n}function Cue(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function kue(t){return Array.isArray(t)?t.length===0||typeof t[0]=="number":!1}function Oue(t){return Cue(t)||kue(t)}function Rue(t){return Oue(t)||typeof t=="number"||typeof t=="boolean"}function Iue(t){const e={bindings:{},uniforms:{}};return Object.keys(t).forEach(r=>{const n=t[r];Rue(n)?e.uniforms[r]=n:e.bindings[r]=n}),e}class Nue{constructor(e,r){Ae(this,"options",{disableWarnings:!1});Ae(this,"modules");Ae(this,"moduleUniforms");Ae(this,"moduleBindings");Object.assign(this.options,r);const n=DP(Object.values(e).filter(i=>i.dependencies));for(const i of n)e[i.name]=i;St.log(1,"Creating ShaderInputs with modules",Object.keys(e))(),this.modules=e,this.moduleUniforms={},this.moduleBindings={};for(const[i,o]of Object.entries(e))this._addModule(o),o.name&&i!==o.name&&!this.options.disableWarnings&&St.warn(`Module name: ${i} vs ${o.name}`)()}destroy(){}setProps(e){var r;for(const n of Object.keys(e)){const i=n,o=e[i]||{},s=this.modules[i];if(!s){this.options.disableWarnings||St.warn(`Module ${n} not found`)();continue}const a=this.moduleUniforms[i],l=this.moduleBindings[i],c=((r=s.getUniforms)==null?void 0:r.call(s,o,a))||o,{uniforms:u,bindings:g}=Iue(c);this.moduleUniforms[i]={...a,...u},this.moduleBindings[i]={...l,...g}}}getModules(){return Object.values(this.modules)}getUniformValues(){return this.moduleUniforms}getBindingValues(){const e={};for(const r of Object.values(this.moduleBindings))Object.assign(e,r);return e}getDebugTable(){var r;const e={};for(const[n,i]of Object.entries(this.moduleUniforms))for(const[o,s]of Object.entries(i))e[`${n}.${o}`]={type:(r=this.modules[n].uniformTypes)==null?void 0:r[o],value:String(s)};return e}_addModule(e){const r=e.name;this.moduleUniforms[r]=e.defaultUniforms||{},this.moduleBindings[r]={}}}let Mue="";async function Lue(t,e){const r=new Image;return r.crossOrigin="anonymous",r.src=t.startsWith("http")?t:Mue+t,await r.decode(),e?await createImageBitmap(r,e):await createImageBitmap(r)}const Due=["+X","-X","+Y","-Y","+Z","-Z"],Bue=["+X","-X","+Y","-Y","+Z","-Z"],U2=class U2{constructor(e,r){Ae(this,"device");Ae(this,"id");Ae(this,"props");Ae(this,"texture");Ae(this,"sampler");Ae(this,"view");Ae(this,"ready");Ae(this,"isReady",!1);Ae(this,"destroyed",!1);Ae(this,"resolveReady",()=>{});Ae(this,"rejectReady",()=>{});this.device=e;const n=Lm("async-texture");this.props={...U2.defaultProps,id:n,...r},this.id=this.props.id,r={...r},typeof(r==null?void 0:r.data)=="string"&&r.dimension==="2d"&&(r.data=Lue(r.data)),r.mipmaps&&(r.mipLevels="auto"),this.ready=new Promise((i,o)=>{this.resolveReady=()=>{this.isReady=!0,i()},this.rejectReady=o}),this.initAsync(r)}get[Symbol.toStringTag](){return"AsyncTexture"}toString(){return`AsyncTexture:"${this.id}"(${this.isReady?"ready":"loading"})`}async initAsync(e){const r=e.data,n=await oz(r).then(void 0,this.rejectReady);if(this.destroyed)return;const i=this.props.width&&this.props.height?{width:this.props.width,height:this.props.height}:this.getTextureDataSize(n);if(!i)throw new Error("Texture size could not be determined");const o={...i,...e,data:void 0,mipLevels:1},s=this.device.getMipLevelCount(o.width,o.height);if(o.mipLevels=this.props.mipLevels==="auto"?s:Math.min(s,this.props.mipLevels),this.texture=this.device.createTexture(o),this.sampler=this.texture.sampler,this.view=this.texture.view,e.data)switch(this.props.dimension){case"1d":this._setTexture1DData(this.texture,n);break;case"2d":this._setTexture2DData(n);break;case"3d":this._setTexture3DData(this.texture,n);break;case"2d-array":this._setTextureArrayData(this.texture,n);break;case"cube":this._setTextureCubeData(this.texture,n);break;case"cube-array":this._setTextureCubeArrayData(this.texture,n);break}this.props.mipmaps&&this.generateMipmaps(),St.info(1,`${this} loaded`),this.resolveReady()}destroy(){this.texture&&(this.texture.destroy(),this.texture=null),this.destroyed=!0}generateMipmaps(){this.texture.generateMipmapsWebGL()}setSampler(e={}){this.texture.setSampler(e instanceof l0?e:this.device.createSampler(e))}resize(e){if(!this.isReady)throw new Error("Cannot resize texture before it is ready");if(e.width===this.texture.width&&e.height===this.texture.height)return!1;if(this.texture){const r=this.texture;this.texture=r.clone(e),r.destroy()}return!0}isTextureLevelData(e){const r=e==null?void 0:e.data;return ArrayBuffer.isView(r)}getTextureDataSize(e){if(!e||ArrayBuffer.isView(e))return null;if(Array.isArray(e))return this.getTextureDataSize(e[0]);if(this.device.isExternalImage(e))return this.device.getExternalImageSize(e);if(e&&typeof e=="object"&&e.constructor===Object){const n=Object.values(e)[0];return{width:n.width,height:n.height}}throw new Error("texture size deduction failed")}getCubeFaceDepth(e){switch(e){case"+X":return 0;case"-X":return 1;case"+Y":return 2;case"-Y":return 3;case"+Z":return 4;case"-Z":return 5;default:throw new Error(e)}}setTextureData(e){}_setTexture1DData(e,r){throw new Error("setTexture1DData not supported in WebGL.")}_setTexture2DData(e,r=0){if(!this.texture)throw new Error("Texture not initialized");const n=this._normalizeTextureData(e);n.length>1&&this.props.mipmaps!==!1&&St.warn(`Texture ${this.id} mipmap and multiple LODs.`)();for(let i=0;i<n.length;i++){const o=n[i];this.device.isExternalImage(o)?this.texture.copyExternalImage({image:o,depth:r,mipLevel:i,flipY:!0}):this.texture.copyImageData({data:o.data,mipLevel:i})}}_setTexture3DData(e,r){var n;if(((n=this.texture)==null?void 0:n.props.dimension)!=="3d")throw new Error(this.id);for(let i=0;i<r.length;i++)this._setTexture2DData(r[i],i)}_setTextureCubeData(e,r){var n;if(((n=this.texture)==null?void 0:n.props.dimension)!=="cube")throw new Error(this.id);for(const[i,o]of Object.entries(r)){const s=Bue.indexOf(i);this._setTexture2DData(o,s)}}_setTextureArrayData(e,r){var n;if(((n=this.texture)==null?void 0:n.props.dimension)!=="2d-array")throw new Error(this.id);for(let i=0;i<r.length;i++)this._setTexture2DData(r[i],i)}_setTextureCubeArrayData(e,r){throw new Error("setTextureCubeArrayData not supported in WebGL2.")}_setTextureCubeFaceData(e,r,n,i=0){Array.isArray(r)&&r.length>1&&this.props.mipmaps!==!1&&St.warn(`${this.id} has mipmap and multiple LODs.`)();const o=Due.indexOf(n);this._setTexture2DData(r,o)}_normalizeTextureData(e){const r=this.texture;let n;return ArrayBuffer.isView(e)?n=[{data:e,width:r.width,height:r.height}]:Array.isArray(e)?n=e:n=[e],n}};Ae(U2,"defaultProps",{...Va.defaultProps,data:null,mipmaps:!1});let fg=U2;async function oz(t){if(t=await t,Array.isArray(t))return await Promise.all(t.map(oz));if(t&&typeof t=="object"&&t.constructor===Object){const e=t,r=await Promise.all(Object.values(e)),n=Object.keys(e),i={};for(let o=0;o<n.length;o++)i[n[o]]=r[o];return i}return t}const Hh=2,Fue=1e4,$2=class $2{constructor(e,r){Ae(this,"device");Ae(this,"id");Ae(this,"source");Ae(this,"vs");Ae(this,"fs");Ae(this,"pipelineFactory");Ae(this,"shaderFactory");Ae(this,"userData",{});Ae(this,"parameters");Ae(this,"topology");Ae(this,"bufferLayout");Ae(this,"isInstanced");Ae(this,"instanceCount",0);Ae(this,"vertexCount");Ae(this,"indexBuffer",null);Ae(this,"bufferAttributes",{});Ae(this,"constantAttributes",{});Ae(this,"bindings",{});Ae(this,"vertexArray");Ae(this,"transformFeedback",null);Ae(this,"pipeline");Ae(this,"shaderInputs");Ae(this,"_uniformStore");Ae(this,"_attributeInfos",{});Ae(this,"_gpuGeometry",null);Ae(this,"props");Ae(this,"_pipelineNeedsUpdate","newly created");Ae(this,"_needsRedraw","initializing");Ae(this,"_destroyed",!1);Ae(this,"_lastDrawTimestamp",-1);Ae(this,"_lastLogTime",0);Ae(this,"_logOpen",!1);Ae(this,"_drawCount",0);var l,c,u,g;this.props={...$2.defaultProps,...r},r=this.props,this.id=r.id||Lm("model"),this.device=e,Object.assign(this.userData,r.userData);const n=Object.fromEntries(((l=this.props.modules)==null?void 0:l.map(_=>[_.name,_]))||[]),i=r.shaderInputs||new Nue(n,{disableWarnings:this.props.disableWarnings});this.setShaderInputs(i);const o=Uue(e),s=(((c=this.props.modules)==null?void 0:c.length)>0?this.props.modules:(u=this.shaderInputs)==null?void 0:u.getModules())||[];if(this.device.type==="webgpu"&&this.props.source){const{source:_,getUniforms:b}=this.props.shaderAssembler.assembleWGSLShader({platformInfo:o,...this.props,modules:s});this.source=_,this._getModuleUniforms=b,(g=this.props).shaderLayout||(g.shaderLayout=Bse(this.source))}else{const{vs:_,fs:b,getUniforms:P}=this.props.shaderAssembler.assembleGLSLShaderPair({platformInfo:o,...this.props,modules:s});this.vs=_,this.fs=b,this._getModuleUniforms=P}this.vertexCount=this.props.vertexCount,this.instanceCount=this.props.instanceCount,this.topology=this.props.topology,this.bufferLayout=this.props.bufferLayout,this.parameters=this.props.parameters,r.geometry&&this.setGeometry(r.geometry),this.pipelineFactory=r.pipelineFactory||eE.getDefaultPipelineFactory(this.device),this.shaderFactory=r.shaderFactory||tE.getDefaultShaderFactory(this.device),this.pipeline=this._updatePipeline(),this.vertexArray=e.createVertexArray({shaderLayout:this.pipeline.shaderLayout,bufferLayout:this.pipeline.bufferLayout}),this._gpuGeometry&&this._setGeometryAttributes(this._gpuGeometry),"isInstanced"in r&&(this.isInstanced=r.isInstanced),r.instanceCount&&this.setInstanceCount(r.instanceCount),r.vertexCount&&this.setVertexCount(r.vertexCount),r.indexBuffer&&this.setIndexBuffer(r.indexBuffer),r.attributes&&this.setAttributes(r.attributes),r.constantAttributes&&this.setConstantAttributes(r.constantAttributes),r.bindings&&this.setBindings(r.bindings),r.transformFeedback&&(this.transformFeedback=r.transformFeedback),Object.seal(this)}get[Symbol.toStringTag](){return"Model"}toString(){return`Model(${this.id})`}destroy(){var e;this._destroyed||(this.pipelineFactory.release(this.pipeline),this.shaderFactory.release(this.pipeline.vs),this.pipeline.fs&&this.shaderFactory.release(this.pipeline.fs),this._uniformStore.destroy(),(e=this._gpuGeometry)==null||e.destroy(),this._destroyed=!0)}needsRedraw(){this._getBindingsUpdateTimestamp()>this._lastDrawTimestamp&&this.setNeedsRedraw("contents of bound textures or buffers updated");const e=this._needsRedraw;return this._needsRedraw=!1,e}setNeedsRedraw(e){this._needsRedraw||(this._needsRedraw=e)}predraw(){this.updateShaderInputs(),this.pipeline=this._updatePipeline()}draw(e){const r=this._areBindingsLoading();if(r)return St.info(Hh,`>>> DRAWING ABORTED ${this.id}: ${r} not loaded`)(),!1;try{e.pushDebugGroup(`${this}.predraw(${e})`),this.predraw()}finally{e.popDebugGroup()}let n;try{e.pushDebugGroup(`${this}.draw(${e})`),this._logDrawCallStart(),this.pipeline=this._updatePipeline();const i=this._getBindings();this.pipeline.setBindings(i,{disableWarnings:this.props.disableWarnings});const{indexBuffer:o}=this.vertexArray,s=o?o.byteLength/(o.indexType==="uint32"?4:2):void 0;n=this.pipeline.draw({renderPass:e,vertexArray:this.vertexArray,isInstanced:this.isInstanced,vertexCount:this.vertexCount,instanceCount:this.instanceCount,indexCount:s,transformFeedback:this.transformFeedback||void 0,parameters:this.parameters,topology:this.topology})}finally{e.popDebugGroup(),this._logDrawCallEnd()}return this._logFramebuffer(e),n?(this._lastDrawTimestamp=this.device.timestamp,this._needsRedraw=!1):this._needsRedraw="waiting for resource initialization",n}setGeometry(e){var n;(n=this._gpuGeometry)==null||n.destroy();const r=e&&wue(this.device,e);if(r){this.setTopology(r.topology||"triangle-list");const i=new ww(this.bufferLayout);this.bufferLayout=i.mergeBufferLayouts(r.bufferLayout,this.bufferLayout),this.vertexArray&&this._setGeometryAttributes(r)}this._gpuGeometry=r}setTopology(e){e!==this.topology&&(this.topology=e,this._setPipelineNeedsUpdate("topology"))}setBufferLayout(e){const r=new ww(this.bufferLayout);this.bufferLayout=this._gpuGeometry?r.mergeBufferLayouts(e,this._gpuGeometry.bufferLayout):e,this._setPipelineNeedsUpdate("bufferLayout"),this.pipeline=this._updatePipeline(),this.vertexArray=this.device.createVertexArray({shaderLayout:this.pipeline.shaderLayout,bufferLayout:this.pipeline.bufferLayout}),this._gpuGeometry&&this._setGeometryAttributes(this._gpuGeometry)}setParameters(e){rE(e,this.parameters,2)||(this.parameters=e,this._setPipelineNeedsUpdate("parameters"))}setInstanceCount(e){this.instanceCount=e,this.isInstanced===void 0&&e>0&&(this.isInstanced=!0),this.setNeedsRedraw("instanceCount")}setVertexCount(e){this.vertexCount=e,this.setNeedsRedraw("vertexCount")}setShaderInputs(e){this.shaderInputs=e,this._uniformStore=new ise(this.shaderInputs.modules);for(const[r,n]of Object.entries(this.shaderInputs.modules))if(jue(n)){const i=this._uniformStore.getManagedUniformBuffer(this.device,r);this.bindings[`${r}Uniforms`]=i}this.setNeedsRedraw("shaderInputs")}updateShaderInputs(){this._uniformStore.setUniforms(this.shaderInputs.getUniformValues()),this.setBindings(this.shaderInputs.getBindingValues()),this.setNeedsRedraw("shaderInputs")}setBindings(e){Object.assign(this.bindings,e),this.setNeedsRedraw("bindings")}setTransformFeedback(e){this.transformFeedback=e,this.setNeedsRedraw("transformFeedback")}setIndexBuffer(e){this.vertexArray.setIndexBuffer(e),this.setNeedsRedraw("indexBuffer")}setAttributes(e,r){const n=(r==null?void 0:r.disableWarnings)??this.props.disableWarnings;e.indices&&St.warn(`Model:${this.id} setAttributes() - indexBuffer should be set using setIndexBuffer()`)(),this.bufferLayout=Pue(this.pipeline.shaderLayout,this.bufferLayout);const i=new ww(this.bufferLayout);for(const[o,s]of Object.entries(e)){const a=i.getBufferLayout(o);if(!a){n||St.warn(`Model(${this.id}): Missing layout for buffer "${o}".`)();continue}const l=i.getAttributeNamesForBuffer(a);let c=!1;for(const u of l){const g=this._attributeInfos[u];if(g){const _=this.device.type==="webgpu"?i.getBufferIndex(g.bufferName):g.location;this.vertexArray.setBuffer(_,s),c=!0}}!c&&!n&&St.warn(`Model(${this.id}): Ignoring buffer "${s.id}" for unknown attribute "${o}"`)()}this.setNeedsRedraw("attributes")}setConstantAttributes(e,r){for(const[n,i]of Object.entries(e)){const o=this._attributeInfos[n];o?this.vertexArray.setConstantWebGL(o.location,i):((r==null?void 0:r.disableWarnings)??this.props.disableWarnings)||St.warn(`Model "${this.id}: Ignoring constant supplied for unknown attribute "${n}"`)()}this.setNeedsRedraw("constants")}_areBindingsLoading(){for(const e of Object.values(this.bindings))if(e instanceof fg&&!e.isReady)return e.id;return!1}_getBindings(){const e={};for(const[r,n]of Object.entries(this.bindings))n instanceof fg?n.isReady&&(e[r]=n.texture):e[r]=n;return e}_getBindingsUpdateTimestamp(){let e=0;for(const r of Object.values(this.bindings))r instanceof ry?e=Math.max(e,r.texture.updateTimestamp):r instanceof ci||r instanceof Va?e=Math.max(e,r.updateTimestamp):r instanceof fg?e=r.texture?Math.max(e,r.texture.updateTimestamp):1/0:r instanceof l0||(e=Math.max(e,r.buffer.updateTimestamp));return e}_setGeometryAttributes(e){const r={...e.attributes};for(const[n]of Object.entries(r))!this.pipeline.shaderLayout.attributes.find(i=>i.name===n)&&n!=="positions"&&delete r[n];this.vertexCount=e.vertexCount,this.setIndexBuffer(e.indices||null),this.setAttributes(e.attributes,{disableWarnings:!0}),this.setAttributes(r,{disableWarnings:this.props.disableWarnings}),this.setNeedsRedraw("geometry attributes")}_setPipelineNeedsUpdate(e){this._pipelineNeedsUpdate||(this._pipelineNeedsUpdate=e),this.setNeedsRedraw(e)}_updatePipeline(){if(this._pipelineNeedsUpdate){let e=null,r=null;this.pipeline&&(St.log(1,`Model ${this.id}: Recreating pipeline because "${this._pipelineNeedsUpdate}".`)(),e=this.pipeline.vs,r=this.pipeline.fs),this._pipelineNeedsUpdate=!1;const n=this.shaderFactory.createShader({id:`${this.id}-vertex`,stage:"vertex",source:this.source||this.vs,debugShaders:this.props.debugShaders});let i=null;this.source?i=n:this.fs&&(i=this.shaderFactory.createShader({id:`${this.id}-fragment`,stage:"fragment",source:this.source||this.fs,debugShaders:this.props.debugShaders})),this.pipeline=this.pipelineFactory.createRenderPipeline({...this.props,bufferLayout:this.bufferLayout,topology:this.topology,parameters:this.parameters,bindings:this._getBindings(),vs:n,fs:i}),this._attributeInfos=GU(this.pipeline.shaderLayout,this.bufferLayout),e&&this.shaderFactory.release(e),r&&this.shaderFactory.release(r)}return this.pipeline}_logDrawCallStart(){const e=St.level>3?0:Fue;St.level<2||Date.now()-this._lastLogTime<e||(this._lastLogTime=Date.now(),this._logOpen=!0,St.group(Hh,`>>> DRAWING MODEL ${this.id}`,{collapsed:St.level<=2})())}_logDrawCallEnd(){if(this._logOpen){const e=Eue(this.pipeline.shaderLayout,this.id);St.table(Hh,e)();const r=this.shaderInputs.getDebugTable();St.table(Hh,r)();const n=this._getAttributeDebugTable();St.table(Hh,this._attributeInfos)(),St.table(Hh,n)(),St.groupEnd(Hh)(),this._logOpen=!1}}_logFramebuffer(e){const r=this.device.props.debugFramebuffers;if(this._drawCount++,!r)return;const n=e.props.framebuffer;n&&Tue(n,{id:n.id,minimap:!0})}_getAttributeDebugTable(){const e={};for(const[r,n]of Object.entries(this._attributeInfos)){const i=this.vertexArray.attributes[n.location];e[n.location]={name:r,type:n.shaderType,values:i?this._getBufferOrConstantValues(i,n.bufferDataType):"null"}}if(this.vertexArray.indexBuffer){const{indexBuffer:r}=this.vertexArray,n=r.indexType==="uint32"?new Uint32Array(r.debugData):new Uint16Array(r.debugData);e.indices={name:"indices",type:r.indexType,values:n.toString()}}return e}_getBufferOrConstantValues(e,r){const n=FP(r);return(e instanceof ci?new n(e.debugData):e).toString()}};Ae($2,"defaultProps",{...ld.defaultProps,source:void 0,vs:null,fs:null,id:"unnamed",handle:void 0,userData:{},defines:{},modules:[],geometry:null,indexBuffer:null,attributes:{},constantAttributes:{},varyings:[],isInstanced:void 0,instanceCount:0,vertexCount:0,shaderInputs:void 0,pipelineFactory:void 0,shaderFactory:void 0,transformFeedback:void 0,shaderAssembler:ey.getDefaultShaderAssembler(),debugShaders:void 0,disableWarnings:void 0});let yc=$2;function jue(t){return!!(t.uniformTypes&&!$ue(t.uniformTypes))}function Uue(t){return{type:t.type,shaderLanguage:t.info.shadingLanguage,shaderLanguageVersion:t.info.shadingLanguageVersion,gpu:t.info.gpu,features:t.features}}function $ue(t){for(const e in t)return!1;return!0}const Tg=class Tg{constructor(e,r=Tg.defaultProps){Ae(this,"device");Ae(this,"model");Ae(this,"transformFeedback");if(!Tg.isSupported(e))throw new Error("BufferTransform not yet implemented on WebGPU");this.device=e,this.model=new yc(this.device,{id:r.id||"buffer-transform-model",fs:r.fs||Jie(),topology:r.topology||"point-list",varyings:r.outputs||r.varyings,...r}),this.transformFeedback=this.device.createTransformFeedback({layout:this.model.pipeline.shaderLayout,buffers:r.feedbackBuffers}),this.model.setTransformFeedback(this.transformFeedback),Object.seal(this)}static isSupported(e){var r;return((r=e==null?void 0:e.info)==null?void 0:r.type)==="webgl"}destroy(){this.model&&this.model.destroy()}delete(){this.destroy()}run(e){e!=null&&e.inputBuffers&&this.model.setAttributes(e.inputBuffers),e!=null&&e.outputBuffers&&this.transformFeedback.setBuffers(e.outputBuffers);const r=this.device.beginRenderPass(e);this.model.draw(r),r.end()}getBuffer(e){return this.transformFeedback.getBuffer(e)}readAsync(e){const r=this.getBuffer(e);if(!r)throw new Error("BufferTransform#getBuffer");if(r instanceof ci)return r.readAsync();const{buffer:n,byteOffset:i=0,byteLength:o=n.byteLength}=r;return n.readAsync(i,o)}};Ae(Tg,"defaultProps",{...yc.defaultProps,outputs:void 0,feedbackBuffers:void 0});let Ng=Tg;class Mg{constructor(e){Ae(this,"id");Ae(this,"topology");Ae(this,"vertexCount");Ae(this,"indices");Ae(this,"attributes");Ae(this,"userData",{});const{attributes:r={},indices:n=null,vertexCount:i=null}=e;this.id=e.id||Lm("geometry"),this.topology=e.topology,n&&(this.indices=ArrayBuffer.isView(n)?{value:n,size:1}:n),this.attributes={};for(const[o,s]of Object.entries(r)){const a=ArrayBuffer.isView(s)?{value:s}:s;if(!ArrayBuffer.isView(a.value))throw new Error(`${this._print(o)}: must be typed array or object with value as typed array`);if((o==="POSITION"||o==="positions")&&!a.size&&(a.size=3),o==="indices"){if(this.indices)throw new Error("Multiple indices detected");this.indices=a}else this.attributes[o]=a}this.indices&&this.indices.isIndexed!==void 0&&(this.indices=Object.assign({},this.indices),delete this.indices.isIndexed),this.vertexCount=i||this._calculateVertexCount(this.attributes,this.indices)}getVertexCount(){return this.vertexCount}getAttributes(){return this.indices?{indices:this.indices,...this.attributes}:this.attributes}_print(e){return`Geometry ${this.id} attribute ${e}`}_setAttributes(e,r){return this}_calculateVertexCount(e,r){if(r)return r.value.length;let n=1/0;for(const i of Object.values(e)){const{value:o,size:s,constant:a}=i;!a&&o&&s!==void 0&&s>=1&&(n=Math.min(n,o.length/s))}return n}}const zue={blendColorOperation:"add",blendColorSrcFactor:"one",blendColorDstFactor:"zero",blendAlphaOperation:"add",blendAlphaSrcFactor:"constant",blendAlphaDstFactor:"zero"};class sz extends ZP{constructor(){super(...arguments),this._colorEncoderState=null}render(e){return"pickingFBO"in e?this._drawPickingBuffer(e):super.render(e)}_drawPickingBuffer({layers:e,layerFilter:r,views:n,viewports:i,onViewportActive:o,pickingFBO:s,deviceRect:{x:a,y:l,width:c,height:u},cullRect:g,effects:_,pass:b="picking",pickZ:P,shaderModuleProps:E}){this.pickZ=P;const T=this._resetColorEncoder(P),O=[a,l,c,u],L=super.render({target:s,layers:e,layerFilter:r,views:n,viewports:i,onViewportActive:o,cullRect:g,effects:_==null?void 0:_.filter(D=>D.useInPicking),pass:b,isPicking:!0,shaderModuleProps:E,clearColor:[0,0,0,0],colorMask:15,scissorRect:O});return this._colorEncoderState=null,{decodePickingColor:T&&Vue.bind(null,T),stats:L}}shouldDrawLayer(e){const{pickable:r,operation:n}=e.props;return r&&n.includes("draw")||n.includes("terrain")||n.includes("mask")}getShaderModuleProps(e,r,n){return{picking:{isActive:1,isAttribute:this.pickZ},lighting:{enabled:!1}}}getLayerParameters(e,r,n){const i={...e.props.parameters},{pickable:o,operation:s}=e.props;return!this._colorEncoderState||s.includes("terrain")?i.blend=!1:o&&s.includes("draw")&&(Object.assign(i,zue),i.blend=!0,i.blendColor=Wue(this._colorEncoderState,e,n)),i}_resetColorEncoder(e){return this._colorEncoderState=e?null:{byLayer:new Map,byAlpha:[]},this._colorEncoderState}}function Wue(t,e,r){const{byLayer:n,byAlpha:i}=t;let o,s=n.get(e);return s?(s.viewports.push(r),o=s.a):(o=n.size+1,o<=255?(s={a:o,layer:e,viewports:[r]},n.set(e,s),i[o]=s):(Mn.warn("Too many pickable layers, only picking the first 255")(),o=0)),[0,0,0,o/255]}function Vue(t,e){const r=t.byAlpha[e[3]];return r&&{pickedLayer:r.layer,pickedViewports:r.viewports,pickedObjectIndex:r.layer.decodePickingColor(e)}}const RA={NO_STATE:"Awaiting state",MATCHED:"Matched. State transferred from previous layer",INITIALIZED:"Initialized",AWAITING_GC:"Discarded. Awaiting garbage collection",AWAITING_FINALIZATION:"No longer matched. Awaiting garbage collection",FINALIZED:"Finalized! Awaiting garbage collection"},gy=Symbol.for("component"),ah=Symbol.for("propTypes"),xw=Symbol.for("deprecatedProps"),YA=Symbol.for("asyncPropDefaults"),Pd=Symbol.for("asyncPropOriginal"),th=Symbol.for("asyncPropResolved");function JP(t,e=()=>!0){return Array.isArray(t)?az(t,e,[]):e(t)?[t]:[]}function az(t,e,r){let n=-1;for(;++n<t.length;){const i=t[n];Array.isArray(i)?az(i,e,r):e(i)&&r.push(i)}return r}function Hue({target:t,source:e,start:r=0,count:n=1}){const i=e.length,o=n*i;let s=0;for(let a=r;s<i;s++)t[a++]=e[s];for(;s<o;)s<o-s?(t.copyWithin(r+s,r,r+s),s*=2):(t.copyWithin(r+s,r,r+o-s),s=o);return t}class que{constructor(e,r,n){this._loadCount=0,this._subscribers=new Set,this.id=e,this.context=n,this.setData(r)}subscribe(e){this._subscribers.add(e)}unsubscribe(e){this._subscribers.delete(e)}inUse(){return this._subscribers.size>0}delete(){}getData(){return this.isLoaded?this._error?Promise.reject(this._error):this._content:this._loader.then(()=>this.getData())}setData(e,r){if(e===this._data&&!r)return;this._data=e;const n=++this._loadCount;let i=e;typeof e=="string"&&(i=E4(e)),i instanceof Promise?(this.isLoaded=!1,this._loader=i.then(o=>{this._loadCount===n&&(this.isLoaded=!0,this._error=void 0,this._content=o)}).catch(o=>{this._loadCount===n&&(this.isLoaded=!0,this._error=o||!0)})):(this.isLoaded=!0,this._error=void 0,this._content=e);for(const o of this._subscribers)o.onChange(this.getData())}}class Xue{constructor(e){var r;this.protocol=e.protocol||"resource://",this._context={device:e.device,gl:(r=e.device)==null?void 0:r.gl,resourceManager:this},this._resources={},this._consumers={},this._pruneRequest=null}contains(e){return e.startsWith(this.protocol)?!0:e in this._resources}add({resourceId:e,data:r,forceUpdate:n=!1,persistent:i=!0}){let o=this._resources[e];o?o.setData(r,n):(o=new que(e,r,this._context),this._resources[e]=o),o.persistent=i}remove(e){const r=this._resources[e];r&&(r.delete(),delete this._resources[e])}unsubscribe({consumerId:e}){const r=this._consumers[e];if(r){for(const n in r){const i=r[n],o=this._resources[i.resourceId];o&&o.unsubscribe(i)}delete this._consumers[e],this.prune()}}subscribe({resourceId:e,onChange:r,consumerId:n,requestId:i="default"}){const{_resources:o,protocol:s}=this;e.startsWith(s)&&(e=e.replace(s,""),o[e]||this.add({resourceId:e,data:null,persistent:!1}));const a=o[e];if(this._track(n,i,a,r),a)return a.getData()}prune(){this._pruneRequest||(this._pruneRequest=setTimeout(()=>this._prune(),0))}finalize(){for(const e in this._resources)this._resources[e].delete()}_track(e,r,n,i){const o=this._consumers,s=o[e]=o[e]||{};let a=s[r];const l=a&&a.resourceId&&this._resources[a.resourceId];l&&(l.unsubscribe(a),this.prune()),n&&(a?(a.onChange=i,a.resourceId=n.id):a={onChange:i,resourceId:n.id},s[r]=a,n.subscribe(a))}_prune(){this._pruneRequest=null;for(const e of Object.keys(this._resources)){const r=this._resources[e];!r.persistent&&!r.inUse()&&(r.delete(),delete this._resources[e])}}}const Yue="layerManager.setLayers",Kue="layerManager.activateViewport";class Gue{constructor(e,r){var a;this._lastRenderedLayers=[],this._needsRedraw=!1,this._needsUpdate=!1,this._nextLayers=null,this._debug=!1,this._defaultShaderModulesChanged=!1,this.activateViewport=l=>{Ps(Kue,this,l),l&&(this.context.viewport=l)};const{deck:n,stats:i,viewport:o,timeline:s}=r||{};this.layers=[],this.resourceManager=new Xue({device:e,protocol:"deck://"}),this.context={mousePosition:null,userData:{},layerManager:this,device:e,gl:e==null?void 0:e.gl,deck:n,shaderAssembler:qce(((a=e==null?void 0:e.info)==null?void 0:a.shadingLanguage)||"glsl"),defaultShaderModules:[Qae],renderPass:void 0,stats:i||new J2({id:"deck.gl"}),viewport:o||new Mm({id:"DEFAULT-INITIAL-VIEWPORT"}),timeline:s||new iz,resourceManager:this.resourceManager,onError:void 0},Object.seal(this)}finalize(){this.resourceManager.finalize();for(const e of this.layers)this._finalizeLayer(e)}needsRedraw(e={clearRedrawFlags:!1}){let r=this._needsRedraw;e.clearRedrawFlags&&(this._needsRedraw=!1);for(const n of this.layers){const i=n.getNeedsRedraw(e);r=r||i}return r}needsUpdate(){return this._nextLayers&&this._nextLayers!==this._lastRenderedLayers?"layers changed":this._defaultShaderModulesChanged?"shader modules changed":this._needsUpdate}setNeedsRedraw(e){this._needsRedraw=this._needsRedraw||e}setNeedsUpdate(e){this._needsUpdate=this._needsUpdate||e}getLayers({layerIds:e}={}){return e?this.layers.filter(r=>e.find(n=>r.id.indexOf(n)===0)):this.layers}setProps(e){"debug"in e&&(this._debug=e.debug),"userData"in e&&(this.context.userData=e.userData),"layers"in e&&(this._nextLayers=e.layers),"onError"in e&&(this.context.onError=e.onError)}setLayers(e,r){Ps(Yue,this,r,e),this._lastRenderedLayers=e;const n=JP(e,Boolean);for(const i of n)i.context=this.context;this._updateLayers(this.layers,n)}updateLayers(){const e=this.needsUpdate();e&&(this.setNeedsRedraw(`updating layers: ${e}`),this.setLayers(this._nextLayers||this._lastRenderedLayers,e)),this._nextLayers=null}addDefaultShaderModule(e){const{defaultShaderModules:r}=this.context;r.find(n=>n.name===e.name)||(r.push(e),this._defaultShaderModulesChanged=!0)}removeDefaultShaderModule(e){const{defaultShaderModules:r}=this.context,n=r.findIndex(i=>i.name===e.name);n>=0&&(r.splice(n,1),this._defaultShaderModulesChanged=!0)}_handleError(e,r,n){n.raiseError(r,`${e} of ${n}`)}_updateLayers(e,r){const n={};for(const s of e)n[s.id]?Mn.warn(`Multiple old layers with same id ${s.id}`)():n[s.id]=s;if(this._defaultShaderModulesChanged){for(const s of e)s.setNeedsUpdate(),s.setChangeFlags({extensionsChanged:!0});this._defaultShaderModulesChanged=!1}const i=[];this._updateSublayersRecursively(r,n,i),this._finalizeOldLayers(n);let o=!1;for(const s of i)if(s.hasUniformTransition()){o=`Uniform transition in ${s}`;break}this._needsUpdate=o,this.layers=i}_updateSublayersRecursively(e,r,n){for(const i of e){i.context=this.context;const o=r[i.id];o===null&&Mn.warn(`Multiple new layers with same id ${i.id}`)(),r[i.id]=null;let s=null;try{this._debug&&o!==i&&i.validateProps(),o?(this._transferLayerState(o,i),this._updateLayer(i)):this._initializeLayer(i),n.push(i),s=i.isComposite?i.getSubLayers():null}catch(a){this._handleError("matching",a,i)}s&&this._updateSublayersRecursively(s,r,n)}}_finalizeOldLayers(e){for(const r in e){const n=e[r];n&&this._finalizeLayer(n)}}_initializeLayer(e){try{e._initialize(),e.lifecycle=RA.INITIALIZED}catch(r){this._handleError("initialization",r,e)}}_transferLayerState(e,r){r._transferState(e),r.lifecycle=RA.MATCHED,r!==e&&(e.lifecycle=RA.AWAITING_GC)}_updateLayer(e){try{e._update()}catch(r){this._handleError("update",r,e)}}_finalizeLayer(e){this._needsRedraw=this._needsRedraw||`finalized ${e}`,e.lifecycle=RA.AWAITING_FINALIZATION;try{e._finalize(),e.lifecycle=RA.FINALIZED}catch(r){this._handleError("finalization",r,e)}}}function xl(t,e,r){if(t===e)return!0;if(!r||!t||!e)return!1;if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!xl(t[n],e[n],r-1))return!1;return!0}if(Array.isArray(e))return!1;if(typeof t=="object"&&typeof e=="object"){const n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(const o of n)if(!e.hasOwnProperty(o)||!xl(t[o],e[o],r-1))return!1;return!0}return!1}class Que{constructor(e){this.views=[],this.width=100,this.height=100,this.viewState={},this.controllers={},this.timeline=e.timeline,this._viewports=[],this._viewportMap={},this._isUpdating=!1,this._needsRedraw="First render",this._needsUpdate="Initialize",this._eventManager=e.eventManager,this._eventCallbacks={onViewStateChange:e.onViewStateChange,onInteractionStateChange:e.onInteractionStateChange},Object.seal(this),this.setProps(e)}finalize(){for(const e in this.controllers){const r=this.controllers[e];r&&r.finalize()}this.controllers={}}needsRedraw(e={clearRedrawFlags:!1}){const r=this._needsRedraw;return e.clearRedrawFlags&&(this._needsRedraw=!1),r}setNeedsUpdate(e){this._needsUpdate=this._needsUpdate||e,this._needsRedraw=this._needsRedraw||e}updateViewStates(){for(const e in this.controllers){const r=this.controllers[e];r&&r.updateTransition()}}getViewports(e){return e?this._viewports.filter(r=>r.containsPixel(e)):this._viewports}getViews(){const e={};return this.views.forEach(r=>{e[r.id]=r}),e}getView(e){return this.views.find(r=>r.id===e)}getViewState(e){const r=typeof e=="string"?this.getView(e):e,n=r&&this.viewState[r.getViewStateId()]||this.viewState;return r?r.filterViewState(n):n}getViewport(e){return this._viewportMap[e]}unproject(e,r){const n=this.getViewports(),i={x:e[0],y:e[1]};for(let o=n.length-1;o>=0;--o){const s=n[o];if(s.containsPixel(i)){const a=e.slice();return a[0]-=s.x,a[1]-=s.y,s.unproject(a,r)}}return null}setProps(e){e.views&&this._setViews(e.views),e.viewState&&this._setViewState(e.viewState),("width"in e||"height"in e)&&this._setSize(e.width,e.height),this._isUpdating||this._update()}_update(){this._isUpdating=!0,this._needsUpdate&&(this._needsUpdate=!1,this._rebuildViewports()),this._needsUpdate&&(this._needsUpdate=!1,this._rebuildViewports()),this._isUpdating=!1}_setSize(e,r){(e!==this.width||r!==this.height)&&(this.width=e,this.height=r,this.setNeedsUpdate("Size changed"))}_setViews(e){e=JP(e,Boolean),this._diffViews(e,this.views)&&this.setNeedsUpdate("views changed"),this.views=e}_setViewState(e){e?(!xl(e,this.viewState,3)&&this.setNeedsUpdate("viewState changed"),this.viewState=e):Mn.warn("missing `viewState` or `initialViewState`")()}_createController(e,r){const n=r.type;return new n({timeline:this.timeline,eventManager:this._eventManager,onViewStateChange:this._eventCallbacks.onViewStateChange,onStateChange:this._eventCallbacks.onInteractionStateChange,makeViewport:o=>{var s;return(s=this.getView(e.id))==null?void 0:s.makeViewport({viewState:o,width:this.width,height:this.height})}})}_updateController(e,r,n,i){const o=e.controller;if(o&&n){const s={...r,...o,id:e.id,x:n.x,y:n.y,width:n.width,height:n.height};return(!i||i.constructor!==o.type)&&(i=this._createController(e,s)),i&&i.setProps(s),i}return null}_rebuildViewports(){const{views:e}=this,r=this.controllers;this._viewports=[],this.controllers={};let n=!1;for(let i=e.length;i--;){const o=e[i],s=this.getViewState(o),a=o.makeViewport({viewState:s,width:this.width,height:this.height});let l=r[o.id];const c=!!o.controller;c&&!l&&(n=!0),(n||!c)&&l&&(l.finalize(),l=null),this.controllers[o.id]=this._updateController(o,s,a,l),a&&this._viewports.unshift(a)}for(const i in r){const o=r[i];o&&!this.controllers[i]&&o.finalize()}this._buildViewportMap()}_buildViewportMap(){this._viewportMap={},this._viewports.forEach(e=>{e.id&&(this._viewportMap[e.id]=this._viewportMap[e.id]||e)})}_diffViews(e,r){return e.length!==r.length?!0:e.some((n,i)=>!e[i].equals(r[i]))}}const Zue=/([0-9]+\.?[0-9]*)(%|px)/;function Uf(t){switch(typeof t){case"number":return{position:t,relative:!1};case"string":const e=Zue.exec(t);if(e&&e.length>=3){const r=e[2]==="%",n=parseFloat(e[1]);return{position:r?n/100:n,relative:r}}default:throw new Error(`Could not parse position string ${t}`)}}function $f(t,e){return t.relative?Math.round(t.position*e):t.position}class g0{constructor(e){const{id:r,x:n=0,y:i=0,width:o="100%",height:s="100%",padding:a=null}=e;this.id=r||this.constructor.displayName||"view",this.props={...e,id:this.id},this._x=Uf(n),this._y=Uf(i),this._width=Uf(o),this._height=Uf(s),this._padding=a&&{left:Uf(a.left||0),right:Uf(a.right||0),top:Uf(a.top||0),bottom:Uf(a.bottom||0)},this.equals=this.equals.bind(this),Object.seal(this)}equals(e){return this===e?!0:this.constructor===e.constructor&&xl(this.props,e.props,2)}clone(e){const r=this.constructor;return new r({...this.props,...e})}makeViewport({width:e,height:r,viewState:n}){n=this.filterViewState(n);const i=this.getDimensions({width:e,height:r});if(!i.height||!i.width)return null;const o=this.getViewportType(n);return new o({...n,...this.props,...i})}getViewStateId(){const{viewState:e}=this.props;return typeof e=="string"?e:(e==null?void 0:e.id)||this.id}filterViewState(e){if(this.props.viewState&&typeof this.props.viewState=="object"){if(!this.props.viewState.id)return this.props.viewState;const r={...e};for(const n in this.props.viewState)n!=="id"&&(r[n]=this.props.viewState[n]);return r}return e}getDimensions({width:e,height:r}){const n={x:$f(this._x,e),y:$f(this._y,r),width:$f(this._width,e),height:$f(this._height,r)};return this._padding&&(n.padding={left:$f(this._padding.left,e),top:$f(this._padding.top,r),right:$f(this._padding.right,e),bottom:$f(this._padding.bottom,r)}),n}get controller(){const e=this.props.controller;return e?e===!0?{type:this.ControllerType}:typeof e=="function"?{type:e}:{type:this.ControllerType,...e}:null}}class ob{constructor(e){this._inProgress=!1,this._handle=null,this.time=0,this.settings={duration:0},this._timeline=e}get inProgress(){return this._inProgress}start(e){var r,n;this.cancel(),this.settings=e,this._inProgress=!0,(n=(r=this.settings).onStart)==null||n.call(r,this)}end(){var e,r;this._inProgress&&(this._timeline.removeChannel(this._handle),this._handle=null,this._inProgress=!1,(r=(e=this.settings).onEnd)==null||r.call(e,this))}cancel(){var e,r;this._inProgress&&((r=(e=this.settings).onInterrupt)==null||r.call(e,this),this._timeline.removeChannel(this._handle),this._handle=null,this._inProgress=!1)}update(){var e,r;if(!this._inProgress)return!1;if(this._handle===null){const{_timeline:n,settings:i}=this;this._handle=n.addChannel({delay:n.getTime(),duration:i.duration})}return this.time=this._timeline.getTime(this._handle),this._onUpdate(),(r=(e=this.settings).onUpdate)==null||r.call(e,this),this._timeline.isFinished(this._handle)&&this.end(),!0}_onUpdate(){}}const VR=()=>{},nE={BREAK:1,SNAP_TO_END:2,IGNORE:3},Jue=t=>t,efe=nE.BREAK;class tfe{constructor(e){this._onTransitionUpdate=r=>{const{time:n,settings:{interpolator:i,startProps:o,endProps:s,duration:a,easing:l}}=r,c=l(n/a),u=i.interpolateProps(o,s,c);this.propsInTransition=this.getControllerState({...this.props,...u}).getViewportProps(),this.onViewStateChange({viewState:this.propsInTransition,oldViewState:this.props})},this.getControllerState=e.getControllerState,this.propsInTransition=null,this.transition=new ob(e.timeline),this.onViewStateChange=e.onViewStateChange||VR,this.onStateChange=e.onStateChange||VR}finalize(){this.transition.cancel()}getViewportInTransition(){return this.propsInTransition}processViewStateChange(e){let r=!1;const n=this.props;if(this.props=e,!n||this._shouldIgnoreViewportChange(n,e))return!1;if(this._isTransitionEnabled(e)){let i=n;if(this.transition.inProgress){const{interruption:o,endProps:s}=this.transition.settings;i={...n,...o===nE.SNAP_TO_END?s:this.propsInTransition||n}}this._triggerTransition(i,e),r=!0}else this.transition.cancel();return r}updateTransition(){this.transition.update()}_isTransitionEnabled(e){const{transitionDuration:r,transitionInterpolator:n}=e;return(r>0||r==="auto")&&!!n}_isUpdateDueToCurrentTransition(e){return this.transition.inProgress&&this.propsInTransition?this.transition.settings.interpolator.arePropsEqual(e,this.propsInTransition):!1}_shouldIgnoreViewportChange(e,r){return this.transition.inProgress?this.transition.settings.interruption===nE.IGNORE||this._isUpdateDueToCurrentTransition(r):this._isTransitionEnabled(r)?r.transitionInterpolator.arePropsEqual(e,r):!0}_triggerTransition(e,r){const n=this.getControllerState(e),i=this.getControllerState(r).shortestPathFrom(n),o=r.transitionInterpolator,s=o.getDuration?o.getDuration(e,r):r.transitionDuration;if(s===0)return;const a=o.initializeProps(e,i);this.propsInTransition={};const l={duration:s,easing:r.transitionEasing||Jue,interpolator:o,interruption:r.transitionInterruption||efe,startProps:a.start,endProps:a.end,onStart:r.onTransitionStart,onUpdate:this._onTransitionUpdate,onInterrupt:this._onTransitionEnd(r.onTransitionInterrupt),onEnd:this._onTransitionEnd(r.onTransitionEnd)};this.transition.start(l),this.onStateChange({inTransition:!0}),this.updateTransition()}_onTransitionEnd(e){return r=>{this.propsInTransition=null,this.onStateChange({inTransition:!1,isZooming:!1,isPanning:!1,isRotating:!1}),e==null||e(r)}}}function ts(t,e){if(!t)throw new Error(e||"deck.gl: assertion failed.")}class lz{constructor(e){const{compare:r,extract:n,required:i}=e;this._propsToCompare=r,this._propsToExtract=n||r,this._requiredProps=i}arePropsEqual(e,r){for(const n of this._propsToCompare)if(!(n in e)||!(n in r)||!Rg(e[n],r[n]))return!1;return!0}initializeProps(e,r){const n={},i={};for(const o of this._propsToExtract)(o in e||o in r)&&(n[o]=e[o],i[o]=r[o]);return this._checkRequiredProps(n),this._checkRequiredProps(i),{start:n,end:i}}getDuration(e,r){return r.transitionDuration}_checkRequiredProps(e){this._requiredProps&&this._requiredProps.forEach(r=>{const n=e[r];ts(Number.isFinite(n)||Array.isArray(n),`${r} is required for transition`)})}}const rfe=["longitude","latitude","zoom","bearing","pitch"],nfe=["longitude","latitude","zoom"];class cz extends lz{constructor(e={}){const r=Array.isArray(e)?e:e.transitionProps,n=Array.isArray(e)?{}:e;n.transitionProps=Array.isArray(r)?{compare:r,required:r}:r||{compare:rfe,required:nfe},super(n.transitionProps),this.opts=n}initializeProps(e,r){const n=super.initializeProps(e,r),{makeViewport:i,around:o}=this.opts;if(i&&o){const s=i(e),a=i(r),l=s.unproject(o);n.start.around=o,Object.assign(n.end,{around:a.project(l),aroundPosition:l,width:r.width,height:r.height})}return n}interpolateProps(e,r,n){const i={};for(const o of this._propsToExtract)i[o]=Ed(e[o]||0,r[o]||0,n);if(r.aroundPosition&&this.opts.makeViewport){const o=this.opts.makeViewport({...r,...i});Object.assign(i,o.panByPosition(r.aroundPosition,Ed(e.around,r.around,n)))}return i}}const $u={transitionDuration:0},ife=300,zv=t=>1-(1-t)*(1-t),yA={WHEEL:["wheel"],PAN:["panstart","panmove","panend"],PINCH:["pinchstart","pinchmove","pinchend"],MULTI_PAN:["multipanstart","multipanmove","multipanend"],DOUBLE_CLICK:["dblclick"],KEYBOARD:["keydown"]},qh={};class ofe{constructor(e){this.state={},this._events={},this._interactionState={isDragging:!1},this._customEvents=[],this._eventStartBlocked=null,this._panMove=!1,this.invertPan=!1,this.dragMode="rotate",this.inertia=0,this.scrollZoom=!0,this.dragPan=!0,this.dragRotate=!0,this.doubleClickZoom=!0,this.touchZoom=!0,this.touchRotate=!1,this.keyboard=!0,this.transitionManager=new tfe({...e,getControllerState:r=>new this.ControllerState(r),onViewStateChange:this._onTransition.bind(this),onStateChange:this._setInteractionState.bind(this)}),this.handleEvent=this.handleEvent.bind(this),this.eventManager=e.eventManager,this.onViewStateChange=e.onViewStateChange||(()=>{}),this.onStateChange=e.onStateChange||(()=>{}),this.makeViewport=e.makeViewport}set events(e){this.toggleEvents(this._customEvents,!1),this.toggleEvents(e,!0),this._customEvents=e,this.props&&this.setProps(this.props)}finalize(){var e;for(const r in this._events)this._events[r]&&((e=this.eventManager)==null||e.off(r,this.handleEvent));this.transitionManager.finalize()}handleEvent(e){this._controllerState=void 0;const r=this._eventStartBlocked;switch(e.type){case"panstart":return r?!1:this._onPanStart(e);case"panmove":return this._onPan(e);case"panend":return this._onPanEnd(e);case"pinchstart":return r?!1:this._onPinchStart(e);case"pinchmove":return this._onPinch(e);case"pinchend":return this._onPinchEnd(e);case"multipanstart":return r?!1:this._onMultiPanStart(e);case"multipanmove":return this._onMultiPan(e);case"multipanend":return this._onMultiPanEnd(e);case"dblclick":return this._onDoubleClick(e);case"wheel":return this._onWheel(e);case"keydown":return this._onKeyDown(e);default:return!1}}get controllerState(){return this._controllerState=this._controllerState||new this.ControllerState({makeViewport:this.makeViewport,...this.props,...this.state}),this._controllerState}getCenter(e){const{x:r,y:n}=this.props,{offsetCenter:i}=e;return[i.x-r,i.y-n]}isPointInBounds(e,r){const{width:n,height:i}=this.props;if(r&&r.handled)return!1;const o=e[0]>=0&&e[0]<=n&&e[1]>=0&&e[1]<=i;return o&&r&&r.stopPropagation(),o}isFunctionKeyPressed(e){const{srcEvent:r}=e;return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}isDragging(){return this._interactionState.isDragging||!1}blockEvents(e){const r=setTimeout(()=>{this._eventStartBlocked===r&&(this._eventStartBlocked=null)},e);this._eventStartBlocked=r}setProps(e){e.dragMode&&(this.dragMode=e.dragMode),this.props=e,"transitionInterpolator"in e||(e.transitionInterpolator=this._getTransitionProps().transitionInterpolator),this.transitionManager.processViewStateChange(e);const{inertia:r}=e;this.inertia=Number.isFinite(r)?r:r===!0?ife:0;const{scrollZoom:n=!0,dragPan:i=!0,dragRotate:o=!0,doubleClickZoom:s=!0,touchZoom:a=!0,touchRotate:l=!1,keyboard:c=!0}=e,u=!!this.onViewStateChange;this.toggleEvents(yA.WHEEL,u&&n),this.toggleEvents(yA.PAN,u),this.toggleEvents(yA.PINCH,u&&(a||l)),this.toggleEvents(yA.MULTI_PAN,u&&l),this.toggleEvents(yA.DOUBLE_CLICK,u&&s),this.toggleEvents(yA.KEYBOARD,u&&c),this.scrollZoom=n,this.dragPan=i,this.dragRotate=o,this.doubleClickZoom=s,this.touchZoom=a,this.touchRotate=l,this.keyboard=c}updateTransition(){this.transitionManager.updateTransition()}toggleEvents(e,r){this.eventManager&&e.forEach(n=>{this._events[n]!==r&&(this._events[n]=r,r?this.eventManager.on(n,this.handleEvent):this.eventManager.off(n,this.handleEvent))})}updateViewport(e,r=null,n={}){const i={...e.getViewportProps(),...r},o=this.controllerState!==e;if(this.state=e.getState(),this._setInteractionState(n),o){const s=this.controllerState&&this.controllerState.getViewportProps();this.onViewStateChange&&this.onViewStateChange({viewState:i,interactionState:this._interactionState,oldViewState:s,viewId:this.props.id})}}_onTransition(e){this.onViewStateChange({...e,interactionState:this._interactionState,viewId:this.props.id})}_setInteractionState(e){Object.assign(this._interactionState,e),this.onStateChange(this._interactionState)}_onPanStart(e){const r=this.getCenter(e);if(!this.isPointInBounds(r,e))return!1;let n=this.isFunctionKeyPressed(e)||e.rightButton||!1;(this.invertPan||this.dragMode==="pan")&&(n=!n);const i=this.controllerState[n?"panStart":"rotateStart"]({pos:r});return this._panMove=n,this.updateViewport(i,$u,{isDragging:!0}),!0}_onPan(e){return this.isDragging()?this._panMove?this._onPanMove(e):this._onPanRotate(e):!1}_onPanEnd(e){return this.isDragging()?this._panMove?this._onPanMoveEnd(e):this._onPanRotateEnd(e):!1}_onPanMove(e){if(!this.dragPan)return!1;const r=this.getCenter(e),n=this.controllerState.pan({pos:r});return this.updateViewport(n,$u,{isDragging:!0,isPanning:!0}),!0}_onPanMoveEnd(e){const{inertia:r}=this;if(this.dragPan&&r&&e.velocity){const n=this.getCenter(e),i=[n[0]+e.velocityX*r/2,n[1]+e.velocityY*r/2],o=this.controllerState.pan({pos:i}).panEnd();this.updateViewport(o,{...this._getTransitionProps(),transitionDuration:r,transitionEasing:zv},{isDragging:!1,isPanning:!0})}else{const n=this.controllerState.panEnd();this.updateViewport(n,null,{isDragging:!1,isPanning:!1})}return!0}_onPanRotate(e){if(!this.dragRotate)return!1;const r=this.getCenter(e),n=this.controllerState.rotate({pos:r});return this.updateViewport(n,$u,{isDragging:!0,isRotating:!0}),!0}_onPanRotateEnd(e){const{inertia:r}=this;if(this.dragRotate&&r&&e.velocity){const n=this.getCenter(e),i=[n[0]+e.velocityX*r/2,n[1]+e.velocityY*r/2],o=this.controllerState.rotate({pos:i}).rotateEnd();this.updateViewport(o,{...this._getTransitionProps(),transitionDuration:r,transitionEasing:zv},{isDragging:!1,isRotating:!0})}else{const n=this.controllerState.rotateEnd();this.updateViewport(n,null,{isDragging:!1,isRotating:!1})}return!0}_onWheel(e){if(!this.scrollZoom)return!1;const r=this.getCenter(e);if(!this.isPointInBounds(r,e))return!1;e.srcEvent.preventDefault();const{speed:n=.01,smooth:i=!1}=this.scrollZoom===!0?{}:this.scrollZoom,{delta:o}=e;let s=2/(1+Math.exp(-Math.abs(o*n)));o<0&&s!==0&&(s=1/s);const a=i?{...this._getTransitionProps({around:r}),transitionDuration:250}:$u,l=this.controllerState.zoom({pos:r,scale:s});return this.updateViewport(l,a,{isZooming:!0,isPanning:!0}),!0}_onMultiPanStart(e){const r=this.getCenter(e);if(!this.isPointInBounds(r,e))return!1;const n=this.controllerState.rotateStart({pos:r});return this.updateViewport(n,$u,{isDragging:!0}),!0}_onMultiPan(e){if(!this.touchRotate||!this.isDragging())return!1;const r=this.getCenter(e);r[0]-=e.deltaX;const n=this.controllerState.rotate({pos:r});return this.updateViewport(n,$u,{isDragging:!0,isRotating:!0}),!0}_onMultiPanEnd(e){if(!this.isDragging())return!1;const{inertia:r}=this;if(this.touchRotate&&r&&e.velocityY){const n=this.getCenter(e),i=[n[0],n[1]+=e.velocityY*r/2],o=this.controllerState.rotate({pos:i});this.updateViewport(o,{...this._getTransitionProps(),transitionDuration:r,transitionEasing:zv},{isDragging:!1,isRotating:!0}),this.blockEvents(r)}else{const n=this.controllerState.rotateEnd();this.updateViewport(n,null,{isDragging:!1,isRotating:!1})}return!0}_onPinchStart(e){const r=this.getCenter(e);if(!this.isPointInBounds(r,e))return!1;const n=this.controllerState.zoomStart({pos:r}).rotateStart({pos:r});return qh._startPinchRotation=e.rotation,qh._lastPinchEvent=e,this.updateViewport(n,$u,{isDragging:!0}),!0}_onPinch(e){if(!this.touchZoom&&!this.touchRotate||!this.isDragging())return!1;let r=this.controllerState;if(this.touchZoom){const{scale:n}=e,i=this.getCenter(e);r=r.zoom({pos:i,scale:n})}if(this.touchRotate){const{rotation:n}=e;r=r.rotate({deltaAngleX:qh._startPinchRotation-n})}return this.updateViewport(r,$u,{isDragging:!0,isPanning:this.touchZoom,isZooming:this.touchZoom,isRotating:this.touchRotate}),qh._lastPinchEvent=e,!0}_onPinchEnd(e){if(!this.isDragging())return!1;const{inertia:r}=this,{_lastPinchEvent:n}=qh;if(this.touchZoom&&r&&n&&e.scale!==n.scale){const i=this.getCenter(e);let o=this.controllerState.rotateEnd();const s=Math.log2(e.scale),a=(s-Math.log2(n.scale))/(e.deltaTime-n.deltaTime),l=Math.pow(2,s+a*r/2);o=o.zoom({pos:i,scale:l}).zoomEnd(),this.updateViewport(o,{...this._getTransitionProps({around:i}),transitionDuration:r,transitionEasing:zv},{isDragging:!1,isPanning:this.touchZoom,isZooming:this.touchZoom,isRotating:!1}),this.blockEvents(r)}else{const i=this.controllerState.zoomEnd().rotateEnd();this.updateViewport(i,null,{isDragging:!1,isPanning:!1,isZooming:!1,isRotating:!1})}return qh._startPinchRotation=null,qh._lastPinchEvent=null,!0}_onDoubleClick(e){if(!this.doubleClickZoom)return!1;const r=this.getCenter(e);if(!this.isPointInBounds(r,e))return!1;const n=this.isFunctionKeyPressed(e),i=this.controllerState.zoom({pos:r,scale:n?.5:2});return this.updateViewport(i,this._getTransitionProps({around:r}),{isZooming:!0,isPanning:!0}),this.blockEvents(100),!0}_onKeyDown(e){if(!this.keyboard)return!1;const r=this.isFunctionKeyPressed(e),{zoomSpeed:n,moveSpeed:i,rotateSpeedX:o,rotateSpeedY:s}=this.keyboard===!0?{}:this.keyboard,{controllerState:a}=this;let l;const c={};switch(e.srcEvent.code){case"Minus":l=r?a.zoomOut(n).zoomOut(n):a.zoomOut(n),c.isZooming=!0;break;case"Equal":l=r?a.zoomIn(n).zoomIn(n):a.zoomIn(n),c.isZooming=!0;break;case"ArrowLeft":r?(l=a.rotateLeft(o),c.isRotating=!0):(l=a.moveLeft(i),c.isPanning=!0);break;case"ArrowRight":r?(l=a.rotateRight(o),c.isRotating=!0):(l=a.moveRight(i),c.isPanning=!0);break;case"ArrowUp":r?(l=a.rotateUp(s),c.isRotating=!0):(l=a.moveUp(i),c.isPanning=!0);break;case"ArrowDown":r?(l=a.rotateDown(s),c.isRotating=!0):(l=a.moveDown(i),c.isPanning=!0);break;default:return!1}return this.updateViewport(l,this._getTransitionProps(),c),!0}_getTransitionProps(e){const{transition:r}=this;return!r||!r.transitionInterpolator?$u:e?{...r,transitionInterpolator:new cz({...e,...r.transitionInterpolator.opts,makeViewport:this.controllerState.makeViewport})}:r}}class sfe{constructor(e,r){this._viewportProps=this.applyConstraints(e),this._state=r}getViewportProps(){return this._viewportProps}getState(){return this._state}}const HR=5,afe=1.2;class lfe extends sfe{constructor(e){const{width:r,height:n,latitude:i,longitude:o,zoom:s,bearing:a=0,pitch:l=0,altitude:c=1.5,position:u=[0,0,0],maxZoom:g=20,minZoom:_=0,maxPitch:b=60,minPitch:P=0,startPanLngLat:E,startZoomLngLat:T,startRotatePos:O,startBearing:L,startPitch:N,startZoom:D,normalize:B=!0}=e;ts(Number.isFinite(o)),ts(Number.isFinite(i)),ts(Number.isFinite(s)),super({width:r,height:n,latitude:i,longitude:o,zoom:s,bearing:a,pitch:l,altitude:c,maxZoom:g,minZoom:_,maxPitch:b,minPitch:P,normalize:B,position:u},{startPanLngLat:E,startZoomLngLat:T,startRotatePos:O,startBearing:L,startPitch:N,startZoom:D}),this.makeViewport=e.makeViewport}panStart({pos:e}){return this._getUpdatedState({startPanLngLat:this._unproject(e)})}pan({pos:e,startPos:r}){const n=this.getState().startPanLngLat||this._unproject(r);if(!n)return this;const o=this.makeViewport(this.getViewportProps()).panByPosition(n,e);return this._getUpdatedState(o)}panEnd(){return this._getUpdatedState({startPanLngLat:null})}rotateStart({pos:e}){return this._getUpdatedState({startRotatePos:e,startBearing:this.getViewportProps().bearing,startPitch:this.getViewportProps().pitch})}rotate({pos:e,deltaAngleX:r=0,deltaAngleY:n=0}){const{startRotatePos:i,startBearing:o,startPitch:s}=this.getState();if(!i||o===void 0||s===void 0)return this;let a;return e?a=this._getNewRotation(e,i,s,o):a={bearing:o+r,pitch:s+n},this._getUpdatedState(a)}rotateEnd(){return this._getUpdatedState({startBearing:null,startPitch:null})}zoomStart({pos:e}){return this._getUpdatedState({startZoomLngLat:this._unproject(e),startZoom:this.getViewportProps().zoom})}zoom({pos:e,startPos:r,scale:n}){let{startZoom:i,startZoomLngLat:o}=this.getState();if(o||(i=this.getViewportProps().zoom,o=this._unproject(r)||this._unproject(e)),!o)return this;const{maxZoom:s,minZoom:a}=this.getViewportProps();let l=i+Math.log2(n);l=eh(l,a,s);const c=this.makeViewport({...this.getViewportProps(),zoom:l});return this._getUpdatedState({zoom:l,...c.panByPosition(o,e)})}zoomEnd(){return this._getUpdatedState({startZoomLngLat:null,startZoom:null})}zoomIn(e=2){return this._zoomFromCenter(e)}zoomOut(e=2){return this._zoomFromCenter(1/e)}moveLeft(e=100){return this._panFromCenter([e,0])}moveRight(e=100){return this._panFromCenter([-e,0])}moveUp(e=100){return this._panFromCenter([0,e])}moveDown(e=100){return this._panFromCenter([0,-e])}rotateLeft(e=15){return this._getUpdatedState({bearing:this.getViewportProps().bearing-e})}rotateRight(e=15){return this._getUpdatedState({bearing:this.getViewportProps().bearing+e})}rotateUp(e=10){return this._getUpdatedState({pitch:this.getViewportProps().pitch+e})}rotateDown(e=10){return this._getUpdatedState({pitch:this.getViewportProps().pitch-e})}shortestPathFrom(e){const r=e.getViewportProps(),n={...this.getViewportProps()},{bearing:i,longitude:o}=n;return Math.abs(i-r.bearing)>180&&(n.bearing=i<0?i+360:i-360),Math.abs(o-r.longitude)>180&&(n.longitude=o<0?o+360:o-360),n}applyConstraints(e){const{maxZoom:r,minZoom:n,zoom:i}=e;e.zoom=eh(i,n,r);const{maxPitch:o,minPitch:s,pitch:a}=e;e.pitch=eh(a,s,o);const{normalize:l=!0}=e;return l&&Object.assign(e,Pce(e)),e}_zoomFromCenter(e){const{width:r,height:n}=this.getViewportProps();return this.zoom({pos:[r/2,n/2],scale:e})}_panFromCenter(e){const{width:r,height:n}=this.getViewportProps();return this.pan({startPos:[r/2,n/2],pos:[r/2+e[0],n/2+e[1]]})}_getUpdatedState(e){return new this.constructor({makeViewport:this.makeViewport,...this.getViewportProps(),...this.getState(),...e})}_unproject(e){const r=this.makeViewport(this.getViewportProps());return e&&r.unproject(e)}_getNewRotation(e,r,n,i){const o=e[0]-r[0],s=e[1]-r[1],a=e[1],l=r[1],{width:c,height:u}=this.getViewportProps(),g=o/c;let _=0;s>0?Math.abs(u-l)>HR&&(_=s/(l-u)*afe):s<0&&l>HR&&(_=1-a/l),_=eh(_,-1,1);const{minPitch:b,maxPitch:P}=this.getViewportProps(),E=i+180*g;let T=n;return _>0?T=n+_*(P-n):_<0&&(T=n-_*(b-n)),{pitch:T,bearing:E}}}class cfe extends ofe{constructor(){super(...arguments),this.ControllerState=lfe,this.transition={transitionDuration:300,transitionInterpolator:new cz({transitionProps:{compare:["longitude","latitude","zoom","bearing","pitch","position"],required:["longitude","latitude","zoom"]}})},this.dragMode="pan"}setProps(e){e.position=e.position||[0,0,0];const r=this.props;super.setProps(e),(!r||r.height!==e.height)&&this.updateViewport(new this.ControllerState({makeViewport:this.makeViewport,...e,...this.state}))}}class uz extends g0{constructor(e={}){super(e)}getViewportType(){return p0}get ControllerType(){return cfe}}uz.displayName="MapView";const ufe=new rz;function ffe(t,e){const r=t.order??1/0,n=e.order??1/0;return r-n}class hfe{constructor(e){this._resolvedEffects=[],this._defaultEffects=[],this.effects=[],this._context=e,this._needsRedraw="Initial render",this._setEffects([])}addDefaultEffect(e){const r=this._defaultEffects;if(!r.find(n=>n.id===e.id)){const n=r.findIndex(i=>ffe(i,e)>0);n<0?r.push(e):r.splice(n,0,e),e.setup(this._context),this._setEffects(this.effects)}}setProps(e){"effects"in e&&(xl(e.effects,this.effects,1)||this._setEffects(e.effects))}needsRedraw(e={clearRedrawFlags:!1}){const r=this._needsRedraw;return e.clearRedrawFlags&&(this._needsRedraw=!1),r}getEffects(){return this._resolvedEffects}_setEffects(e){const r={};for(const i of this.effects)r[i.id]=i;const n=[];for(const i of e){const o=r[i.id];let s=i;o&&o!==i?o.setProps?(o.setProps(i.props),s=o):o.cleanup(this._context):o||i.setup(this._context),n.push(s),delete r[i.id]}for(const i in r)r[i].cleanup(this._context);this.effects=n,this._resolvedEffects=n.concat(this._defaultEffects),e.some(i=>i instanceof rz)||this._resolvedEffects.push(ufe),this._needsRedraw="effects changed"}finalize(){for(const e of this._resolvedEffects)e.cleanup(this._context);this.effects.length=0,this._resolvedEffects.length=0,this._defaultEffects.length=0}}class dfe extends ZP{shouldDrawLayer(e){const{operation:r}=e.props;return r.includes("draw")||r.includes("terrain")}}const Afe="deckRenderer.renderLayers";class pfe{constructor(e){this.device=e,this.layerFilter=null,this.drawPickingColors=!1,this.drawLayersPass=new dfe(e),this.pickLayersPass=new sz(e),this.renderCount=0,this._needsRedraw="Initial render",this.renderBuffers=[],this.lastPostProcessEffect=null}setProps(e){this.layerFilter!==e.layerFilter&&(this.layerFilter=e.layerFilter,this._needsRedraw="layerFilter changed"),this.drawPickingColors!==e.drawPickingColors&&(this.drawPickingColors=e.drawPickingColors,this._needsRedraw="drawPickingColors changed")}renderLayers(e){if(!e.viewports.length)return;const r=this.drawPickingColors?this.pickLayersPass:this.drawLayersPass,n={layerFilter:this.layerFilter,isPicking:this.drawPickingColors,...e};n.effects&&this._preRender(n.effects,n);const i=this.lastPostProcessEffect?this.renderBuffers[0]:n.target;this.lastPostProcessEffect&&(n.clearColor=[0,0,0,0],n.clearCanvas=!0);const o=r.render({...n,target:i});n.effects&&(this.lastPostProcessEffect&&(n.clearCanvas=e.clearCanvas===void 0?!0:e.clearCanvas),this._postRender(n.effects,n)),this.renderCount++,Ps(Afe,this,o,e)}needsRedraw(e={clearRedrawFlags:!1}){const r=this._needsRedraw;return e.clearRedrawFlags&&(this._needsRedraw=!1),r}finalize(){const{renderBuffers:e}=this;for(const r of e)r.delete();e.length=0}_preRender(e,r){this.lastPostProcessEffect=null,r.preRenderStats=r.preRenderStats||{};for(const n of e)r.preRenderStats[n.id]=n.preRender(r),n.postRender&&(this.lastPostProcessEffect=n.id);this.lastPostProcessEffect&&this._resizeRenderBuffers()}_resizeRenderBuffers(){const{renderBuffers:e}=this,r=this.device.canvasContext.getDrawingBufferSize(),[n,i]=r;e.length===0&&[0,1].map(o=>{const s=this.device.createTexture({sampler:{minFilter:"linear",magFilter:"linear"},width:n,height:i});e.push(this.device.createFramebuffer({id:`deck-renderbuffer-${o}`,colorAttachments:[s]}))});for(const o of e)o.resize(r)}_postRender(e,r){const{renderBuffers:n}=this,i={...r,inputBuffer:n[0],swapBuffer:n[1]};for(const o of e)if(o.postRender){i.target=o.id===this.lastPostProcessEffect?r.target:void 0;const s=o.postRender(i);i.inputBuffer=s,i.swapBuffer=s===n[0]?n[1]:n[0]}}}const gfe={pickedColor:null,pickedObjectIndex:-1};function qR({pickedColors:t,decodePickingColor:e,deviceX:r,deviceY:n,deviceRadius:i,deviceRect:o}){const{x:s,y:a,width:l,height:c}=o;let u=i*i,g=-1,_=0;for(let b=0;b<c;b++){const P=b+a-n,E=P*P;if(E>u)_+=4*l;else for(let T=0;T<l;T++){if(t[_+3]-1>=0){const L=T+s-r,N=L*L+E;N<=u&&(u=N,g=_)}_+=4}}if(g>=0){const b=t.slice(g,g+4),P=e(b);if(P){const E=Math.floor(g/4/l),T=g/4-E*l;return{...P,pickedColor:b,pickedX:s+T,pickedY:a+E}}Mn.error("Picked non-existent layer. Is picking buffer corrupt?")()}return gfe}function XR({pickedColors:t,decodePickingColor:e}){const r=new Map;if(t){for(let n=0;n<t.length;n+=4)if(t[n+3]-1>=0){const o=t.slice(n,n+4),s=o.join(",");if(!r.has(s)){const a=e(o);a?r.set(s,{...a,color:o}):Mn.error("Picked non-existent layer. Is picking buffer corrupt?")()}}}return Array.from(r.values())}function iE({pickInfo:t,viewports:e,pixelRatio:r,x:n,y:i,z:o}){let s=e[0];e.length>1&&(s=mfe((t==null?void 0:t.pickedViewports)||e,{x:n,y:i}));let a;if(s){const l=[n-s.x,i-s.y];o!==void 0&&(l[2]=o),a=s.unproject(l)}return{color:null,layer:null,viewport:s,index:-1,picked:!1,x:n,y:i,pixel:[n,i],coordinate:a,devicePixel:t&&"pickedX"in t?[t.pickedX,t.pickedY]:void 0,pixelRatio:r}}function YR(t){const{pickInfo:e,lastPickedInfo:r,mode:n,layers:i}=t,{pickedColor:o,pickedLayer:s,pickedObjectIndex:a}=e,l=s?[s]:[];if(n==="hover"){const g=r.index,_=r.layerId,b=s?s.props.id:null;if(b!==_||a!==g){if(b!==_){const P=i.find(E=>E.props.id===_);P&&l.unshift(P)}r.layerId=b,r.index=a,r.info=null}}const c=iE(t),u=new Map;return u.set(null,c),l.forEach(g=>{let _={...c};g===s&&(_.color=o,_.index=a,_.picked=!0),_=oE({layer:g,info:_,mode:n});const b=_.layer;g===s&&n==="hover"&&(r.info=_),u.set(b.id,_),n==="hover"&&b.updateAutoHighlight(_)}),u}function oE({layer:t,info:e,mode:r}){for(;t&&e;){const n=e.layer||null;e.sourceLayer=n,e.layer=t,e=t.getPickingInfo({info:e,mode:r,sourceLayer:n}),t=t.parent}return e}function mfe(t,e){for(let r=t.length-1;r>=0;r--){const n=t[r];if(n.containsPixel(e))return n}return t[0]}class vfe{constructor(e){this._pickable=!0,this.device=e,this.pickLayersPass=new sz(e),this.lastPickedInfo={index:-1,layerId:null,info:null}}setProps(e){"layerFilter"in e&&(this.layerFilter=e.layerFilter),"_pickable"in e&&(this._pickable=e._pickable)}finalize(){this.pickingFBO&&this.pickingFBO.destroy(),this.depthFBO&&this.depthFBO.destroy()}pickObjectAsync(e){return this._pickClosestObjectAsync(e)}pickObjectsAsync(e){return this._pickVisibleObjectsAsync(e)}pickObject(e){return this._pickClosestObject(e)}pickObjects(e){return this._pickVisibleObjects(e)}getLastPickedObject({x:e,y:r,layers:n,viewports:i},o=this.lastPickedInfo.info){const s=o&&o.layer&&o.layer.id,a=o&&o.viewport&&o.viewport.id,l=s?n.find(_=>_.id===s):null,c=a&&i.find(_=>_.id===a)||i[0],u=c&&c.unproject([e-c.x,r-c.y]);return{...o,...{x:e,y:r,viewport:c,coordinate:u,layer:l}}}_resizeBuffer(){var r,n;if(!this.pickingFBO&&(this.pickingFBO=this.device.createFramebuffer({colorAttachments:["rgba8unorm"],depthStencilAttachment:"depth16unorm"}),this.device.isTextureFormatRenderable("rgba32float"))){const i=this.device.createFramebuffer({colorAttachments:["rgba32float"],depthStencilAttachment:"depth16unorm"});this.depthFBO=i}const{canvas:e}=this.device.getDefaultCanvasContext();(r=this.pickingFBO)==null||r.resize({width:e.width,height:e.height}),(n=this.depthFBO)==null||n.resize({width:e.width,height:e.height})}_getPickable(e){if(this._pickable===!1)return null;const r=e.filter(n=>this.pickLayersPass.shouldDrawLayer(n)&&!n.isComposite);return r.length?r:null}async _pickClosestObjectAsync({layers:e,views:r,viewports:n,x:i,y:o,radius:s=0,depth:a=1,mode:l="query",unproject3D:c,onViewportActive:u,effects:g}){const _=this.device.canvasContext.cssToDeviceRatio(),b=this._getPickable(e);if(!b||n.length===0)return{result:[],emptyInfo:iE({viewports:n,x:i,y:o,pixelRatio:_})};this._resizeBuffer();const P=this.device.canvasContext.cssToDevicePixels([i,o],!0),E=[P.x+Math.floor(P.width/2),P.y+Math.floor(P.height/2)],T=Math.round(s*_),{width:O,height:L}=this.pickingFBO,N=this._getPickingRect({deviceX:E[0],deviceY:E[1],deviceRadius:T,deviceWidth:O,deviceHeight:L}),D={x:i-s,y:o-s,width:s*2+1,height:s*2+1};let B;const z=[],X=new Set;for(let Z=0;Z<a;Z++){let G;if(N){const H=this._drawAndSample({layers:b,views:r,viewports:n,onViewportActive:u,deviceRect:N,cullRect:D,effects:g,pass:`picking:${l}`});G=qR({...H,deviceX:E[0],deviceY:E[1],deviceRadius:T,deviceRect:N})}else G={pickedColor:null,pickedObjectIndex:-1};let de;if(G.pickedLayer&&c&&this.depthFBO){const{pickedColors:H}=this._drawAndSample({layers:[G.pickedLayer],views:r,viewports:n,onViewportActive:u,deviceRect:{x:G.pickedX,y:G.pickedY,width:1,height:1},cullRect:D,effects:g,pass:`picking:${l}:z`},!0);H[3]&&(de=H[0])}G.pickedLayer&&Z+1<a&&(X.add(G.pickedLayer),G.pickedLayer.disablePickingIndex(G.pickedObjectIndex)),B=YR({pickInfo:G,lastPickedInfo:this.lastPickedInfo,mode:l,layers:b,viewports:n,x:i,y:o,z:de,pixelRatio:_});for(const H of B.values())H.layer&&z.push(H);if(!G.pickedColor)break}for(const Z of X)Z.restorePickingColors();return{result:z,emptyInfo:B.get(null)}}_pickClosestObject({layers:e,views:r,viewports:n,x:i,y:o,radius:s=0,depth:a=1,mode:l="query",unproject3D:c,onViewportActive:u,effects:g}){const _=this.device.canvasContext.cssToDeviceRatio(),b=this._getPickable(e);if(!b||n.length===0)return{result:[],emptyInfo:iE({viewports:n,x:i,y:o,pixelRatio:_})};this._resizeBuffer();const P=this.device.canvasContext.cssToDevicePixels([i,o],!0),E=[P.x+Math.floor(P.width/2),P.y+Math.floor(P.height/2)],T=Math.round(s*_),{width:O,height:L}=this.pickingFBO,N=this._getPickingRect({deviceX:E[0],deviceY:E[1],deviceRadius:T,deviceWidth:O,deviceHeight:L}),D={x:i-s,y:o-s,width:s*2+1,height:s*2+1};let B;const z=[],X=new Set;for(let Z=0;Z<a;Z++){let G;if(N){const H=this._drawAndSample({layers:b,views:r,viewports:n,onViewportActive:u,deviceRect:N,cullRect:D,effects:g,pass:`picking:${l}`});G=qR({...H,deviceX:E[0],deviceY:E[1],deviceRadius:T,deviceRect:N})}else G={pickedColor:null,pickedObjectIndex:-1};let de;if(G.pickedLayer&&c&&this.depthFBO){const{pickedColors:H}=this._drawAndSample({layers:[G.pickedLayer],views:r,viewports:n,onViewportActive:u,deviceRect:{x:G.pickedX,y:G.pickedY,width:1,height:1},cullRect:D,effects:g,pass:`picking:${l}:z`},!0);H[3]&&(de=H[0])}G.pickedLayer&&Z+1<a&&(X.add(G.pickedLayer),G.pickedLayer.disablePickingIndex(G.pickedObjectIndex)),B=YR({pickInfo:G,lastPickedInfo:this.lastPickedInfo,mode:l,layers:b,viewports:n,x:i,y:o,z:de,pixelRatio:_});for(const H of B.values())H.layer&&z.push(H);if(!G.pickedColor)break}for(const Z of X)Z.restorePickingColors();return{result:z,emptyInfo:B.get(null)}}async _pickVisibleObjectsAsync({layers:e,views:r,viewports:n,x:i,y:o,width:s=1,height:a=1,mode:l="query",maxObjects:c=null,onViewportActive:u,effects:g}){const _=this._getPickable(e);if(!_||n.length===0)return[];this._resizeBuffer();const b=this.device.canvasContext.cssToDeviceRatio(),P=this.device.canvasContext.cssToDevicePixels([i,o],!0),E=P.x,T=P.y+P.height,O=this.device.canvasContext.cssToDevicePixels([i+s,o+a],!0),L=O.x+O.width,N=O.y,D={x:E,y:N,width:L-E,height:T-N},B=this._drawAndSample({layers:_,views:r,viewports:n,onViewportActive:u,deviceRect:D,cullRect:{x:i,y:o,width:s,height:a},effects:g,pass:`picking:${l}`}),z=XR(B),X=new Map,Z=[],G=Number.isFinite(c);for(let de=0;de<z.length&&!(G&&Z.length>=c);de++){const H=z[de];let ee={color:H.pickedColor,layer:null,index:H.pickedObjectIndex,picked:!0,x:i,y:o,pixelRatio:b};ee=oE({layer:H.pickedLayer,info:ee,mode:l});const ae=ee.layer.id;X.has(ae)||X.set(ae,new Set);const le=X.get(ae),Te=ee.object??ee.index;le.has(Te)||(le.add(Te),Z.push(ee))}return Z}_pickVisibleObjects({layers:e,views:r,viewports:n,x:i,y:o,width:s=1,height:a=1,mode:l="query",maxObjects:c=null,onViewportActive:u,effects:g}){const _=this._getPickable(e);if(!_||n.length===0)return[];this._resizeBuffer();const b=this.device.canvasContext.cssToDeviceRatio(),P=this.device.canvasContext.cssToDevicePixels([i,o],!0),E=P.x,T=P.y+P.height,O=this.device.canvasContext.cssToDevicePixels([i+s,o+a],!0),L=O.x+O.width,N=O.y,D={x:E,y:N,width:L-E,height:T-N},B=this._drawAndSample({layers:_,views:r,viewports:n,onViewportActive:u,deviceRect:D,cullRect:{x:i,y:o,width:s,height:a},effects:g,pass:`picking:${l}`}),z=XR(B),X=new Map,Z=[],G=Number.isFinite(c);for(let de=0;de<z.length&&!(G&&Z.length>=c);de++){const H=z[de];let ee={color:H.pickedColor,layer:null,index:H.pickedObjectIndex,picked:!0,x:i,y:o,pixelRatio:b};ee=oE({layer:H.pickedLayer,info:ee,mode:l});const ae=ee.layer.id;X.has(ae)||X.set(ae,new Set);const le=X.get(ae),Te=ee.object??ee.index;le.has(Te)||(le.add(Te),Z.push(ee))}return Z}async _drawAndSampleAsync({layers:e,views:r,viewports:n,onViewportActive:i,deviceRect:o,cullRect:s,effects:a,pass:l},c=!1){const u=c?this.depthFBO:this.pickingFBO,g={layers:e,layerFilter:this.layerFilter,views:r,viewports:n,onViewportActive:i,pickingFBO:u,deviceRect:o,cullRect:s,effects:a,pass:l,pickZ:c,preRenderStats:{},isPicking:!0};for(const L of a)L.useInPicking&&(g.preRenderStats[L.id]=L.preRender(g));const{decodePickingColor:_}=this.pickLayersPass.render(g),{x:b,y:P,width:E,height:T}=o,O=new(c?Float32Array:Uint8Array)(E*T*4);return this.device.readPixelsToArrayWebGL(u,{sourceX:b,sourceY:P,sourceWidth:E,sourceHeight:T,target:O}),{pickedColors:O,decodePickingColor:_}}_drawAndSample({layers:e,views:r,viewports:n,onViewportActive:i,deviceRect:o,cullRect:s,effects:a,pass:l},c=!1){const u=c?this.depthFBO:this.pickingFBO,g={layers:e,layerFilter:this.layerFilter,views:r,viewports:n,onViewportActive:i,pickingFBO:u,deviceRect:o,cullRect:s,effects:a,pass:l,pickZ:c,preRenderStats:{},isPicking:!0};for(const L of a)L.useInPicking&&(g.preRenderStats[L.id]=L.preRender(g));const{decodePickingColor:_}=this.pickLayersPass.render(g),{x:b,y:P,width:E,height:T}=o,O=new(c?Float32Array:Uint8Array)(E*T*4);return this.device.readPixelsToArrayWebGL(u,{sourceX:b,sourceY:P,sourceWidth:E,sourceHeight:T,target:O}),{pickedColors:O,decodePickingColor:_}}_getPickingRect({deviceX:e,deviceY:r,deviceRadius:n,deviceWidth:i,deviceHeight:o}){const s=Math.max(0,e-n),a=Math.max(0,r-n),l=Math.min(i,e+n+1)-s,c=Math.min(o,r+n+1)-a;return l<=0||c<=0?null:{x:s,y:a,width:l,height:c}}}const yfe={"top-left":{top:0,left:0},"top-right":{top:0,right:0},"bottom-left":{bottom:0,left:0},"bottom-right":{bottom:0,right:0},fill:{top:0,left:0,bottom:0,right:0}},bfe="top-left",KR="__root";class _fe{constructor({deck:e,parentElement:r}){this.defaultWidgets=[],this.widgets=[],this.resolvedWidgets=[],this.containers={},this.lastViewports={},this.deck=e,r==null||r.classList.add("deck-widget-container"),this.parentElement=r}getWidgets(){return this.resolvedWidgets}setProps(e){if(e.widgets&&!xl(e.widgets,this.widgets,1)){const r=e.widgets.filter(Boolean);this._setWidgets(r)}}finalize(){for(const e of this.getWidgets())this._removeWidget(e);this.defaultWidgets.length=0,this.resolvedWidgets.length=0;for(const e in this.containers)this.containers[e].remove()}addDefault(e){this.defaultWidgets.find(r=>r.id===e.id)||(this._addWidget(e),this.defaultWidgets.push(e),this._setWidgets(this.widgets))}onRedraw({viewports:e,layers:r}){var i,o;const n=e.reduce((s,a)=>(s[a.id]=a,s),{});for(const s of this.getWidgets()){const{viewId:a}=s;if(a){const l=n[a];l&&(s.onViewportChange&&s.onViewportChange(l),(i=s.onRedraw)==null||i.call(s,{viewports:[l],layers:r}))}else{if(s.onViewportChange)for(const l of e)s.onViewportChange(l);(o=s.onRedraw)==null||o.call(s,{viewports:e,layers:r})}}this.lastViewports=n,this._updateContainers()}onHover(e,r){var n,i;for(const o of this.getWidgets()){const{viewId:s}=o;(!s||s===((n=e.viewport)==null?void 0:n.id))&&((i=o.onHover)==null||i.call(o,e,r))}}onEvent(e,r){var i,o;const n=K4[r.type];if(n)for(const s of this.getWidgets()){const{viewId:a}=s;(!a||a===((i=e.viewport)==null?void 0:i.id))&&((o=s[n])==null||o.call(s,e,r))}}_setWidgets(e){const r={};for(const n of this.resolvedWidgets)r[n.id]=n;this.resolvedWidgets.length=0;for(const n of this.defaultWidgets)r[n.id]=null,this.resolvedWidgets.push(n);for(let n of e){const i=r[n.id];i?i.viewId!==n.viewId||i.placement!==n.placement?(this._removeWidget(i),this._addWidget(n)):n!==i&&(i.setProps(n.props),n=i):this._addWidget(n),r[n.id]=null,this.resolvedWidgets.push(n)}for(const n in r){const i=r[n];i&&this._removeWidget(i)}this.widgets=e}_addWidget(e){const{viewId:r=null,placement:n=bfe}=e;e.widgetManager=this,e.deck=this.deck,e.rootElement=e._onAdd({deck:this.deck,viewId:r}),e.rootElement&&this._getContainer(r,n).append(e.rootElement),e.updateHTML()}_removeWidget(e){var r;(r=e.onRemove)==null||r.call(e),e.rootElement&&e.rootElement.remove(),e.rootElement=void 0,e.deck=void 0,e.widgetManager=void 0}_getContainer(e,r){var s;const n=e||KR;let i=this.containers[n];i||(i=document.createElement("div"),i.style.pointerEvents="none",i.style.position="absolute",i.style.overflow="hidden",(s=this.parentElement)==null||s.append(i),this.containers[n]=i);let o=i.querySelector(`.${r}`);return o||(o=globalThis.document.createElement("div"),o.className=r,o.style.position="absolute",o.style.zIndex="2",Object.assign(o.style,yfe[r]),i.append(o)),o}_updateContainers(){const e=this.deck.width,r=this.deck.height;for(const n in this.containers){const i=this.lastViewports[n]||null,o=n===KR||i,s=this.containers[n];o?(s.style.display="block",s.style.left=`${i?i.x:0}px`,s.style.top=`${i?i.y:0}px`,s.style.width=`${i?i.width:e}px`,s.style.height=`${i?i.height:r}px`):s.style.display="none"}}}function GR(t,e){e&&Object.entries(e).map(([r,n])=>{r.startsWith("--")?t.style.setProperty(r,n):t.style[r]=n})}function wfe(t,e){e&&Object.keys(e).map(r=>{r.startsWith("--")?t.style.removeProperty(r):t.style[r]=""})}class eC{constructor(e){this.viewId=null,this.props={...this.constructor.defaultProps,...e},this.id=this.props.id}setProps(e){const r=this.props,n=this.rootElement;n&&r.className!==e.className&&(r.className&&n.classList.remove(r.className),e.className&&n.classList.add(e.className)),n&&!xl(r.style,e.style,1)&&(wfe(n,r.style),GR(n,e.style)),Object.assign(this.props,e),this.updateHTML()}updateHTML(){this.rootElement&&this.onRenderHTML(this.rootElement)}onCreateRootElement(){const e=["deck-widget",this.className,this.props.className],r=document.createElement("div");return e.filter(n=>typeof n=="string"&&n.length>0).forEach(n=>r.classList.add(n)),GR(r,this.props.style),r}_onAdd(e){return this.onAdd(e)??this.onCreateRootElement()}onAdd(e){}onRemove(){}onViewportChange(e){}onRedraw(e){}onHover(e,r){}onClick(e,r){}onDrag(e,r){}onDragStart(e,r){}onDragEnd(e,r){}}eC.defaultProps={id:"widget",style:{},className:""};const xfe={zIndex:"1",position:"absolute",pointerEvents:"none",color:"#a0a7b4",backgroundColor:"#29323c",padding:"10px",top:"0",left:"0",display:"none"};class fz extends eC{constructor(e={}){super(e),this.id="default-tooltip",this.placement="fill",this.className="deck-tooltip",this.isVisible=!1,this.setProps(e)}onCreateRootElement(){const e=document.createElement("div");return e.className=this.className,Object.assign(e.style,xfe),e}onRenderHTML(e){}onViewportChange(e){var r;this.isVisible&&e.id===((r=this.lastViewport)==null?void 0:r.id)&&!e.equals(this.lastViewport)&&this.setTooltip(null),this.lastViewport=e}onHover(e){const{deck:r}=this,n=r&&r.props.getTooltip;if(!n)return;const i=n(e);this.setTooltip(i,e.x,e.y)}setTooltip(e,r,n){const i=this.rootElement;if(i){if(typeof e=="string")i.innerText=e;else if(e)e.text&&(i.innerText=e.text),e.html&&(i.innerHTML=e.html),e.className&&(i.className=e.className);else{this.isVisible=!1,i.style.display="none";return}this.isVisible=!0,i.style.display="block",i.style.transform=`translate(${r}px, ${n}px)`,e&&typeof e=="object"&&"style"in e&&Object.assign(i.style,e.style)}}}fz.defaultProps={...eC.defaultProps};const Sfe="modulepreload",Efe=function(t){return"/Ne-Netra/"+t},QR={},KA=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){let s=function(c){return Promise.all(c.map(u=>Promise.resolve(u).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=s(r.map(c=>{if(c=Efe(c),c in QR)return;QR[c]=!0;const u=c.endsWith(".css"),g=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${g}`))return;const _=document.createElement("link");if(_.rel=u?"stylesheet":Sfe,u||(_.as="script"),_.crossOrigin="",_.href=c,l&&_.setAttribute("nonce",l),document.head.appendChild(_),u)return new Promise((b,P)=>{_.addEventListener("load",b),_.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return i.then(s=>{for(const a of s||[])a.status==="rejected"&&o(a.reason);return e().catch(o)})};var LA;(function(t){t[t.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT",t[t.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT",t[t.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT",t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t[t.ZERO=0]="ZERO",t[t.ONE=1]="ONE",t[t.SRC_COLOR=768]="SRC_COLOR",t[t.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",t[t.SRC_ALPHA=770]="SRC_ALPHA",t[t.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",t[t.DST_ALPHA=772]="DST_ALPHA",t[t.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",t[t.DST_COLOR=774]="DST_COLOR",t[t.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",t[t.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",t[t.CONSTANT_COLOR=32769]="CONSTANT_COLOR",t[t.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",t[t.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",t[t.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA",t[t.FUNC_ADD=32774]="FUNC_ADD",t[t.FUNC_SUBTRACT=32778]="FUNC_SUBTRACT",t[t.FUNC_REVERSE_SUBTRACT=32779]="FUNC_REVERSE_SUBTRACT",t[t.BLEND_EQUATION=32777]="BLEND_EQUATION",t[t.BLEND_EQUATION_RGB=32777]="BLEND_EQUATION_RGB",t[t.BLEND_EQUATION_ALPHA=34877]="BLEND_EQUATION_ALPHA",t[t.BLEND_DST_RGB=32968]="BLEND_DST_RGB",t[t.BLEND_SRC_RGB=32969]="BLEND_SRC_RGB",t[t.BLEND_DST_ALPHA=32970]="BLEND_DST_ALPHA",t[t.BLEND_SRC_ALPHA=32971]="BLEND_SRC_ALPHA",t[t.BLEND_COLOR=32773]="BLEND_COLOR",t[t.ARRAY_BUFFER_BINDING=34964]="ARRAY_BUFFER_BINDING",t[t.ELEMENT_ARRAY_BUFFER_BINDING=34965]="ELEMENT_ARRAY_BUFFER_BINDING",t[t.LINE_WIDTH=2849]="LINE_WIDTH",t[t.ALIASED_POINT_SIZE_RANGE=33901]="ALIASED_POINT_SIZE_RANGE",t[t.ALIASED_LINE_WIDTH_RANGE=33902]="ALIASED_LINE_WIDTH_RANGE",t[t.CULL_FACE_MODE=2885]="CULL_FACE_MODE",t[t.FRONT_FACE=2886]="FRONT_FACE",t[t.DEPTH_RANGE=2928]="DEPTH_RANGE",t[t.DEPTH_WRITEMASK=2930]="DEPTH_WRITEMASK",t[t.DEPTH_CLEAR_VALUE=2931]="DEPTH_CLEAR_VALUE",t[t.DEPTH_FUNC=2932]="DEPTH_FUNC",t[t.STENCIL_CLEAR_VALUE=2961]="STENCIL_CLEAR_VALUE",t[t.STENCIL_FUNC=2962]="STENCIL_FUNC",t[t.STENCIL_FAIL=2964]="STENCIL_FAIL",t[t.STENCIL_PASS_DEPTH_FAIL=2965]="STENCIL_PASS_DEPTH_FAIL",t[t.STENCIL_PASS_DEPTH_PASS=2966]="STENCIL_PASS_DEPTH_PASS",t[t.STENCIL_REF=2967]="STENCIL_REF",t[t.STENCIL_VALUE_MASK=2963]="STENCIL_VALUE_MASK",t[t.STENCIL_WRITEMASK=2968]="STENCIL_WRITEMASK",t[t.STENCIL_BACK_FUNC=34816]="STENCIL_BACK_FUNC",t[t.STENCIL_BACK_FAIL=34817]="STENCIL_BACK_FAIL",t[t.STENCIL_BACK_PASS_DEPTH_FAIL=34818]="STENCIL_BACK_PASS_DEPTH_FAIL",t[t.STENCIL_BACK_PASS_DEPTH_PASS=34819]="STENCIL_BACK_PASS_DEPTH_PASS",t[t.STENCIL_BACK_REF=36003]="STENCIL_BACK_REF",t[t.STENCIL_BACK_VALUE_MASK=36004]="STENCIL_BACK_VALUE_MASK",t[t.STENCIL_BACK_WRITEMASK=36005]="STENCIL_BACK_WRITEMASK",t[t.VIEWPORT=2978]="VIEWPORT",t[t.SCISSOR_BOX=3088]="SCISSOR_BOX",t[t.COLOR_CLEAR_VALUE=3106]="COLOR_CLEAR_VALUE",t[t.COLOR_WRITEMASK=3107]="COLOR_WRITEMASK",t[t.UNPACK_ALIGNMENT=3317]="UNPACK_ALIGNMENT",t[t.PACK_ALIGNMENT=3333]="PACK_ALIGNMENT",t[t.MAX_TEXTURE_SIZE=3379]="MAX_TEXTURE_SIZE",t[t.MAX_VIEWPORT_DIMS=3386]="MAX_VIEWPORT_DIMS",t[t.SUBPIXEL_BITS=3408]="SUBPIXEL_BITS",t[t.RED_BITS=3410]="RED_BITS",t[t.GREEN_BITS=3411]="GREEN_BITS",t[t.BLUE_BITS=3412]="BLUE_BITS",t[t.ALPHA_BITS=3413]="ALPHA_BITS",t[t.DEPTH_BITS=3414]="DEPTH_BITS",t[t.STENCIL_BITS=3415]="STENCIL_BITS",t[t.POLYGON_OFFSET_UNITS=10752]="POLYGON_OFFSET_UNITS",t[t.POLYGON_OFFSET_FACTOR=32824]="POLYGON_OFFSET_FACTOR",t[t.TEXTURE_BINDING_2D=32873]="TEXTURE_BINDING_2D",t[t.SAMPLE_BUFFERS=32936]="SAMPLE_BUFFERS",t[t.SAMPLES=32937]="SAMPLES",t[t.SAMPLE_COVERAGE_VALUE=32938]="SAMPLE_COVERAGE_VALUE",t[t.SAMPLE_COVERAGE_INVERT=32939]="SAMPLE_COVERAGE_INVERT",t[t.COMPRESSED_TEXTURE_FORMATS=34467]="COMPRESSED_TEXTURE_FORMATS",t[t.VENDOR=7936]="VENDOR",t[t.RENDERER=7937]="RENDERER",t[t.VERSION=7938]="VERSION",t[t.IMPLEMENTATION_COLOR_READ_TYPE=35738]="IMPLEMENTATION_COLOR_READ_TYPE",t[t.IMPLEMENTATION_COLOR_READ_FORMAT=35739]="IMPLEMENTATION_COLOR_READ_FORMAT",t[t.BROWSER_DEFAULT_WEBGL=37444]="BROWSER_DEFAULT_WEBGL",t[t.STATIC_DRAW=35044]="STATIC_DRAW",t[t.STREAM_DRAW=35040]="STREAM_DRAW",t[t.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.BUFFER_SIZE=34660]="BUFFER_SIZE",t[t.BUFFER_USAGE=34661]="BUFFER_USAGE",t[t.CURRENT_VERTEX_ATTRIB=34342]="CURRENT_VERTEX_ATTRIB",t[t.VERTEX_ATTRIB_ARRAY_ENABLED=34338]="VERTEX_ATTRIB_ARRAY_ENABLED",t[t.VERTEX_ATTRIB_ARRAY_SIZE=34339]="VERTEX_ATTRIB_ARRAY_SIZE",t[t.VERTEX_ATTRIB_ARRAY_STRIDE=34340]="VERTEX_ATTRIB_ARRAY_STRIDE",t[t.VERTEX_ATTRIB_ARRAY_TYPE=34341]="VERTEX_ATTRIB_ARRAY_TYPE",t[t.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922]="VERTEX_ATTRIB_ARRAY_NORMALIZED",t[t.VERTEX_ATTRIB_ARRAY_POINTER=34373]="VERTEX_ATTRIB_ARRAY_POINTER",t[t.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975]="VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",t[t.CULL_FACE=2884]="CULL_FACE",t[t.FRONT=1028]="FRONT",t[t.BACK=1029]="BACK",t[t.FRONT_AND_BACK=1032]="FRONT_AND_BACK",t[t.BLEND=3042]="BLEND",t[t.DEPTH_TEST=2929]="DEPTH_TEST",t[t.DITHER=3024]="DITHER",t[t.POLYGON_OFFSET_FILL=32823]="POLYGON_OFFSET_FILL",t[t.SAMPLE_ALPHA_TO_COVERAGE=32926]="SAMPLE_ALPHA_TO_COVERAGE",t[t.SAMPLE_COVERAGE=32928]="SAMPLE_COVERAGE",t[t.SCISSOR_TEST=3089]="SCISSOR_TEST",t[t.STENCIL_TEST=2960]="STENCIL_TEST",t[t.NO_ERROR=0]="NO_ERROR",t[t.INVALID_ENUM=1280]="INVALID_ENUM",t[t.INVALID_VALUE=1281]="INVALID_VALUE",t[t.INVALID_OPERATION=1282]="INVALID_OPERATION",t[t.OUT_OF_MEMORY=1285]="OUT_OF_MEMORY",t[t.CONTEXT_LOST_WEBGL=37442]="CONTEXT_LOST_WEBGL",t[t.CW=2304]="CW",t[t.CCW=2305]="CCW",t[t.DONT_CARE=4352]="DONT_CARE",t[t.FASTEST=4353]="FASTEST",t[t.NICEST=4354]="NICEST",t[t.GENERATE_MIPMAP_HINT=33170]="GENERATE_MIPMAP_HINT",t[t.BYTE=5120]="BYTE",t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.SHORT=5122]="SHORT",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.INT=5124]="INT",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.FLOAT=5126]="FLOAT",t[t.DOUBLE=5130]="DOUBLE",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.ALPHA=6406]="ALPHA",t[t.RGB=6407]="RGB",t[t.RGBA=6408]="RGBA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",t[t.VERTEX_SHADER=35633]="VERTEX_SHADER",t[t.COMPILE_STATUS=35713]="COMPILE_STATUS",t[t.DELETE_STATUS=35712]="DELETE_STATUS",t[t.LINK_STATUS=35714]="LINK_STATUS",t[t.VALIDATE_STATUS=35715]="VALIDATE_STATUS",t[t.ATTACHED_SHADERS=35717]="ATTACHED_SHADERS",t[t.ACTIVE_ATTRIBUTES=35721]="ACTIVE_ATTRIBUTES",t[t.ACTIVE_UNIFORMS=35718]="ACTIVE_UNIFORMS",t[t.MAX_VERTEX_ATTRIBS=34921]="MAX_VERTEX_ATTRIBS",t[t.MAX_VERTEX_UNIFORM_VECTORS=36347]="MAX_VERTEX_UNIFORM_VECTORS",t[t.MAX_VARYING_VECTORS=36348]="MAX_VARYING_VECTORS",t[t.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661]="MAX_COMBINED_TEXTURE_IMAGE_UNITS",t[t.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660]="MAX_VERTEX_TEXTURE_IMAGE_UNITS",t[t.MAX_TEXTURE_IMAGE_UNITS=34930]="MAX_TEXTURE_IMAGE_UNITS",t[t.MAX_FRAGMENT_UNIFORM_VECTORS=36349]="MAX_FRAGMENT_UNIFORM_VECTORS",t[t.SHADER_TYPE=35663]="SHADER_TYPE",t[t.SHADING_LANGUAGE_VERSION=35724]="SHADING_LANGUAGE_VERSION",t[t.CURRENT_PROGRAM=35725]="CURRENT_PROGRAM",t[t.NEVER=512]="NEVER",t[t.LESS=513]="LESS",t[t.EQUAL=514]="EQUAL",t[t.LEQUAL=515]="LEQUAL",t[t.GREATER=516]="GREATER",t[t.NOTEQUAL=517]="NOTEQUAL",t[t.GEQUAL=518]="GEQUAL",t[t.ALWAYS=519]="ALWAYS",t[t.KEEP=7680]="KEEP",t[t.REPLACE=7681]="REPLACE",t[t.INCR=7682]="INCR",t[t.DECR=7683]="DECR",t[t.INVERT=5386]="INVERT",t[t.INCR_WRAP=34055]="INCR_WRAP",t[t.DECR_WRAP=34056]="DECR_WRAP",t[t.NEAREST=9728]="NEAREST",t[t.LINEAR=9729]="LINEAR",t[t.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",t[t.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",t[t.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",t[t.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR",t[t.TEXTURE_MAG_FILTER=10240]="TEXTURE_MAG_FILTER",t[t.TEXTURE_MIN_FILTER=10241]="TEXTURE_MIN_FILTER",t[t.TEXTURE_WRAP_S=10242]="TEXTURE_WRAP_S",t[t.TEXTURE_WRAP_T=10243]="TEXTURE_WRAP_T",t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE=5890]="TEXTURE",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_BINDING_CUBE_MAP=34068]="TEXTURE_BINDING_CUBE_MAP",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t[t.MAX_CUBE_MAP_TEXTURE_SIZE=34076]="MAX_CUBE_MAP_TEXTURE_SIZE",t[t.TEXTURE0=33984]="TEXTURE0",t[t.ACTIVE_TEXTURE=34016]="ACTIVE_TEXTURE",t[t.REPEAT=10497]="REPEAT",t[t.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t[t.TEXTURE_WIDTH=4096]="TEXTURE_WIDTH",t[t.TEXTURE_HEIGHT=4097]="TEXTURE_HEIGHT",t[t.FLOAT_VEC2=35664]="FLOAT_VEC2",t[t.FLOAT_VEC3=35665]="FLOAT_VEC3",t[t.FLOAT_VEC4=35666]="FLOAT_VEC4",t[t.INT_VEC2=35667]="INT_VEC2",t[t.INT_VEC3=35668]="INT_VEC3",t[t.INT_VEC4=35669]="INT_VEC4",t[t.BOOL=35670]="BOOL",t[t.BOOL_VEC2=35671]="BOOL_VEC2",t[t.BOOL_VEC3=35672]="BOOL_VEC3",t[t.BOOL_VEC4=35673]="BOOL_VEC4",t[t.FLOAT_MAT2=35674]="FLOAT_MAT2",t[t.FLOAT_MAT3=35675]="FLOAT_MAT3",t[t.FLOAT_MAT4=35676]="FLOAT_MAT4",t[t.SAMPLER_2D=35678]="SAMPLER_2D",t[t.SAMPLER_CUBE=35680]="SAMPLER_CUBE",t[t.LOW_FLOAT=36336]="LOW_FLOAT",t[t.MEDIUM_FLOAT=36337]="MEDIUM_FLOAT",t[t.HIGH_FLOAT=36338]="HIGH_FLOAT",t[t.LOW_INT=36339]="LOW_INT",t[t.MEDIUM_INT=36340]="MEDIUM_INT",t[t.HIGH_INT=36341]="HIGH_INT",t[t.FRAMEBUFFER=36160]="FRAMEBUFFER",t[t.RENDERBUFFER=36161]="RENDERBUFFER",t[t.RGBA4=32854]="RGBA4",t[t.RGB5_A1=32855]="RGB5_A1",t[t.RGB565=36194]="RGB565",t[t.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",t[t.STENCIL_INDEX=6401]="STENCIL_INDEX",t[t.STENCIL_INDEX8=36168]="STENCIL_INDEX8",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t[t.RENDERBUFFER_WIDTH=36162]="RENDERBUFFER_WIDTH",t[t.RENDERBUFFER_HEIGHT=36163]="RENDERBUFFER_HEIGHT",t[t.RENDERBUFFER_INTERNAL_FORMAT=36164]="RENDERBUFFER_INTERNAL_FORMAT",t[t.RENDERBUFFER_RED_SIZE=36176]="RENDERBUFFER_RED_SIZE",t[t.RENDERBUFFER_GREEN_SIZE=36177]="RENDERBUFFER_GREEN_SIZE",t[t.RENDERBUFFER_BLUE_SIZE=36178]="RENDERBUFFER_BLUE_SIZE",t[t.RENDERBUFFER_ALPHA_SIZE=36179]="RENDERBUFFER_ALPHA_SIZE",t[t.RENDERBUFFER_DEPTH_SIZE=36180]="RENDERBUFFER_DEPTH_SIZE",t[t.RENDERBUFFER_STENCIL_SIZE=36181]="RENDERBUFFER_STENCIL_SIZE",t[t.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048]="FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",t[t.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049]="FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",t[t.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",t[t.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051]="FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",t[t.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",t[t.DEPTH_ATTACHMENT=36096]="DEPTH_ATTACHMENT",t[t.STENCIL_ATTACHMENT=36128]="STENCIL_ATTACHMENT",t[t.DEPTH_STENCIL_ATTACHMENT=33306]="DEPTH_STENCIL_ATTACHMENT",t[t.NONE=0]="NONE",t[t.FRAMEBUFFER_COMPLETE=36053]="FRAMEBUFFER_COMPLETE",t[t.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054]="FRAMEBUFFER_INCOMPLETE_ATTACHMENT",t[t.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055]="FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",t[t.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057]="FRAMEBUFFER_INCOMPLETE_DIMENSIONS",t[t.FRAMEBUFFER_UNSUPPORTED=36061]="FRAMEBUFFER_UNSUPPORTED",t[t.FRAMEBUFFER_BINDING=36006]="FRAMEBUFFER_BINDING",t[t.RENDERBUFFER_BINDING=36007]="RENDERBUFFER_BINDING",t[t.READ_FRAMEBUFFER=36008]="READ_FRAMEBUFFER",t[t.DRAW_FRAMEBUFFER=36009]="DRAW_FRAMEBUFFER",t[t.MAX_RENDERBUFFER_SIZE=34024]="MAX_RENDERBUFFER_SIZE",t[t.INVALID_FRAMEBUFFER_OPERATION=1286]="INVALID_FRAMEBUFFER_OPERATION",t[t.UNPACK_FLIP_Y_WEBGL=37440]="UNPACK_FLIP_Y_WEBGL",t[t.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441]="UNPACK_PREMULTIPLY_ALPHA_WEBGL",t[t.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443]="UNPACK_COLORSPACE_CONVERSION_WEBGL",t[t.READ_BUFFER=3074]="READ_BUFFER",t[t.UNPACK_ROW_LENGTH=3314]="UNPACK_ROW_LENGTH",t[t.UNPACK_SKIP_ROWS=3315]="UNPACK_SKIP_ROWS",t[t.UNPACK_SKIP_PIXELS=3316]="UNPACK_SKIP_PIXELS",t[t.PACK_ROW_LENGTH=3330]="PACK_ROW_LENGTH",t[t.PACK_SKIP_ROWS=3331]="PACK_SKIP_ROWS",t[t.PACK_SKIP_PIXELS=3332]="PACK_SKIP_PIXELS",t[t.TEXTURE_BINDING_3D=32874]="TEXTURE_BINDING_3D",t[t.UNPACK_SKIP_IMAGES=32877]="UNPACK_SKIP_IMAGES",t[t.UNPACK_IMAGE_HEIGHT=32878]="UNPACK_IMAGE_HEIGHT",t[t.MAX_3D_TEXTURE_SIZE=32883]="MAX_3D_TEXTURE_SIZE",t[t.MAX_ELEMENTS_VERTICES=33e3]="MAX_ELEMENTS_VERTICES",t[t.MAX_ELEMENTS_INDICES=33001]="MAX_ELEMENTS_INDICES",t[t.MAX_TEXTURE_LOD_BIAS=34045]="MAX_TEXTURE_LOD_BIAS",t[t.MAX_FRAGMENT_UNIFORM_COMPONENTS=35657]="MAX_FRAGMENT_UNIFORM_COMPONENTS",t[t.MAX_VERTEX_UNIFORM_COMPONENTS=35658]="MAX_VERTEX_UNIFORM_COMPONENTS",t[t.MAX_ARRAY_TEXTURE_LAYERS=35071]="MAX_ARRAY_TEXTURE_LAYERS",t[t.MIN_PROGRAM_TEXEL_OFFSET=35076]="MIN_PROGRAM_TEXEL_OFFSET",t[t.MAX_PROGRAM_TEXEL_OFFSET=35077]="MAX_PROGRAM_TEXEL_OFFSET",t[t.MAX_VARYING_COMPONENTS=35659]="MAX_VARYING_COMPONENTS",t[t.FRAGMENT_SHADER_DERIVATIVE_HINT=35723]="FRAGMENT_SHADER_DERIVATIVE_HINT",t[t.RASTERIZER_DISCARD=35977]="RASTERIZER_DISCARD",t[t.VERTEX_ARRAY_BINDING=34229]="VERTEX_ARRAY_BINDING",t[t.MAX_VERTEX_OUTPUT_COMPONENTS=37154]="MAX_VERTEX_OUTPUT_COMPONENTS",t[t.MAX_FRAGMENT_INPUT_COMPONENTS=37157]="MAX_FRAGMENT_INPUT_COMPONENTS",t[t.MAX_SERVER_WAIT_TIMEOUT=37137]="MAX_SERVER_WAIT_TIMEOUT",t[t.MAX_ELEMENT_INDEX=36203]="MAX_ELEMENT_INDEX",t[t.RED=6403]="RED",t[t.RGB8=32849]="RGB8",t[t.RGBA8=32856]="RGBA8",t[t.RGB10_A2=32857]="RGB10_A2",t[t.TEXTURE_3D=32879]="TEXTURE_3D",t[t.TEXTURE_WRAP_R=32882]="TEXTURE_WRAP_R",t[t.TEXTURE_MIN_LOD=33082]="TEXTURE_MIN_LOD",t[t.TEXTURE_MAX_LOD=33083]="TEXTURE_MAX_LOD",t[t.TEXTURE_BASE_LEVEL=33084]="TEXTURE_BASE_LEVEL",t[t.TEXTURE_MAX_LEVEL=33085]="TEXTURE_MAX_LEVEL",t[t.TEXTURE_COMPARE_MODE=34892]="TEXTURE_COMPARE_MODE",t[t.TEXTURE_COMPARE_FUNC=34893]="TEXTURE_COMPARE_FUNC",t[t.SRGB=35904]="SRGB",t[t.SRGB8=35905]="SRGB8",t[t.SRGB8_ALPHA8=35907]="SRGB8_ALPHA8",t[t.COMPARE_REF_TO_TEXTURE=34894]="COMPARE_REF_TO_TEXTURE",t[t.RGBA32F=34836]="RGBA32F",t[t.RGB32F=34837]="RGB32F",t[t.RGBA16F=34842]="RGBA16F",t[t.RGB16F=34843]="RGB16F",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_BINDING_2D_ARRAY=35869]="TEXTURE_BINDING_2D_ARRAY",t[t.R11F_G11F_B10F=35898]="R11F_G11F_B10F",t[t.RGB9_E5=35901]="RGB9_E5",t[t.RGBA32UI=36208]="RGBA32UI",t[t.RGB32UI=36209]="RGB32UI",t[t.RGBA16UI=36214]="RGBA16UI",t[t.RGB16UI=36215]="RGB16UI",t[t.RGBA8UI=36220]="RGBA8UI",t[t.RGB8UI=36221]="RGB8UI",t[t.RGBA32I=36226]="RGBA32I",t[t.RGB32I=36227]="RGB32I",t[t.RGBA16I=36232]="RGBA16I",t[t.RGB16I=36233]="RGB16I",t[t.RGBA8I=36238]="RGBA8I",t[t.RGB8I=36239]="RGB8I",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.R8=33321]="R8",t[t.RG8=33323]="RG8",t[t.R16F=33325]="R16F",t[t.R32F=33326]="R32F",t[t.RG16F=33327]="RG16F",t[t.RG32F=33328]="RG32F",t[t.R8I=33329]="R8I",t[t.R8UI=33330]="R8UI",t[t.R16I=33331]="R16I",t[t.R16UI=33332]="R16UI",t[t.R32I=33333]="R32I",t[t.R32UI=33334]="R32UI",t[t.RG8I=33335]="RG8I",t[t.RG8UI=33336]="RG8UI",t[t.RG16I=33337]="RG16I",t[t.RG16UI=33338]="RG16UI",t[t.RG32I=33339]="RG32I",t[t.RG32UI=33340]="RG32UI",t[t.R8_SNORM=36756]="R8_SNORM",t[t.RG8_SNORM=36757]="RG8_SNORM",t[t.RGB8_SNORM=36758]="RGB8_SNORM",t[t.RGBA8_SNORM=36759]="RGBA8_SNORM",t[t.RGB10_A2UI=36975]="RGB10_A2UI",t[t.TEXTURE_IMMUTABLE_FORMAT=37167]="TEXTURE_IMMUTABLE_FORMAT",t[t.TEXTURE_IMMUTABLE_LEVELS=33503]="TEXTURE_IMMUTABLE_LEVELS",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.HALF_FLOAT=5131]="HALF_FLOAT",t[t.RG=33319]="RG",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.INT_2_10_10_10_REV=36255]="INT_2_10_10_10_REV",t[t.CURRENT_QUERY=34917]="CURRENT_QUERY",t[t.QUERY_RESULT=34918]="QUERY_RESULT",t[t.QUERY_RESULT_AVAILABLE=34919]="QUERY_RESULT_AVAILABLE",t[t.ANY_SAMPLES_PASSED=35887]="ANY_SAMPLES_PASSED",t[t.ANY_SAMPLES_PASSED_CONSERVATIVE=36202]="ANY_SAMPLES_PASSED_CONSERVATIVE",t[t.MAX_DRAW_BUFFERS=34852]="MAX_DRAW_BUFFERS",t[t.DRAW_BUFFER0=34853]="DRAW_BUFFER0",t[t.DRAW_BUFFER1=34854]="DRAW_BUFFER1",t[t.DRAW_BUFFER2=34855]="DRAW_BUFFER2",t[t.DRAW_BUFFER3=34856]="DRAW_BUFFER3",t[t.DRAW_BUFFER4=34857]="DRAW_BUFFER4",t[t.DRAW_BUFFER5=34858]="DRAW_BUFFER5",t[t.DRAW_BUFFER6=34859]="DRAW_BUFFER6",t[t.DRAW_BUFFER7=34860]="DRAW_BUFFER7",t[t.DRAW_BUFFER8=34861]="DRAW_BUFFER8",t[t.DRAW_BUFFER9=34862]="DRAW_BUFFER9",t[t.DRAW_BUFFER10=34863]="DRAW_BUFFER10",t[t.DRAW_BUFFER11=34864]="DRAW_BUFFER11",t[t.DRAW_BUFFER12=34865]="DRAW_BUFFER12",t[t.DRAW_BUFFER13=34866]="DRAW_BUFFER13",t[t.DRAW_BUFFER14=34867]="DRAW_BUFFER14",t[t.DRAW_BUFFER15=34868]="DRAW_BUFFER15",t[t.MAX_COLOR_ATTACHMENTS=36063]="MAX_COLOR_ATTACHMENTS",t[t.COLOR_ATTACHMENT1=36065]="COLOR_ATTACHMENT1",t[t.COLOR_ATTACHMENT2=36066]="COLOR_ATTACHMENT2",t[t.COLOR_ATTACHMENT3=36067]="COLOR_ATTACHMENT3",t[t.COLOR_ATTACHMENT4=36068]="COLOR_ATTACHMENT4",t[t.COLOR_ATTACHMENT5=36069]="COLOR_ATTACHMENT5",t[t.COLOR_ATTACHMENT6=36070]="COLOR_ATTACHMENT6",t[t.COLOR_ATTACHMENT7=36071]="COLOR_ATTACHMENT7",t[t.COLOR_ATTACHMENT8=36072]="COLOR_ATTACHMENT8",t[t.COLOR_ATTACHMENT9=36073]="COLOR_ATTACHMENT9",t[t.COLOR_ATTACHMENT10=36074]="COLOR_ATTACHMENT10",t[t.COLOR_ATTACHMENT11=36075]="COLOR_ATTACHMENT11",t[t.COLOR_ATTACHMENT12=36076]="COLOR_ATTACHMENT12",t[t.COLOR_ATTACHMENT13=36077]="COLOR_ATTACHMENT13",t[t.COLOR_ATTACHMENT14=36078]="COLOR_ATTACHMENT14",t[t.COLOR_ATTACHMENT15=36079]="COLOR_ATTACHMENT15",t[t.SAMPLER_3D=35679]="SAMPLER_3D",t[t.SAMPLER_2D_SHADOW=35682]="SAMPLER_2D_SHADOW",t[t.SAMPLER_2D_ARRAY=36289]="SAMPLER_2D_ARRAY",t[t.SAMPLER_2D_ARRAY_SHADOW=36292]="SAMPLER_2D_ARRAY_SHADOW",t[t.SAMPLER_CUBE_SHADOW=36293]="SAMPLER_CUBE_SHADOW",t[t.INT_SAMPLER_2D=36298]="INT_SAMPLER_2D",t[t.INT_SAMPLER_3D=36299]="INT_SAMPLER_3D",t[t.INT_SAMPLER_CUBE=36300]="INT_SAMPLER_CUBE",t[t.INT_SAMPLER_2D_ARRAY=36303]="INT_SAMPLER_2D_ARRAY",t[t.UNSIGNED_INT_SAMPLER_2D=36306]="UNSIGNED_INT_SAMPLER_2D",t[t.UNSIGNED_INT_SAMPLER_3D=36307]="UNSIGNED_INT_SAMPLER_3D",t[t.UNSIGNED_INT_SAMPLER_CUBE=36308]="UNSIGNED_INT_SAMPLER_CUBE",t[t.UNSIGNED_INT_SAMPLER_2D_ARRAY=36311]="UNSIGNED_INT_SAMPLER_2D_ARRAY",t[t.MAX_SAMPLES=36183]="MAX_SAMPLES",t[t.SAMPLER_BINDING=35097]="SAMPLER_BINDING",t[t.PIXEL_PACK_BUFFER=35051]="PIXEL_PACK_BUFFER",t[t.PIXEL_UNPACK_BUFFER=35052]="PIXEL_UNPACK_BUFFER",t[t.PIXEL_PACK_BUFFER_BINDING=35053]="PIXEL_PACK_BUFFER_BINDING",t[t.PIXEL_UNPACK_BUFFER_BINDING=35055]="PIXEL_UNPACK_BUFFER_BINDING",t[t.COPY_READ_BUFFER=36662]="COPY_READ_BUFFER",t[t.COPY_WRITE_BUFFER=36663]="COPY_WRITE_BUFFER",t[t.COPY_READ_BUFFER_BINDING=36662]="COPY_READ_BUFFER_BINDING",t[t.COPY_WRITE_BUFFER_BINDING=36663]="COPY_WRITE_BUFFER_BINDING",t[t.FLOAT_MAT2x3=35685]="FLOAT_MAT2x3",t[t.FLOAT_MAT2x4=35686]="FLOAT_MAT2x4",t[t.FLOAT_MAT3x2=35687]="FLOAT_MAT3x2",t[t.FLOAT_MAT3x4=35688]="FLOAT_MAT3x4",t[t.FLOAT_MAT4x2=35689]="FLOAT_MAT4x2",t[t.FLOAT_MAT4x3=35690]="FLOAT_MAT4x3",t[t.UNSIGNED_INT_VEC2=36294]="UNSIGNED_INT_VEC2",t[t.UNSIGNED_INT_VEC3=36295]="UNSIGNED_INT_VEC3",t[t.UNSIGNED_INT_VEC4=36296]="UNSIGNED_INT_VEC4",t[t.UNSIGNED_NORMALIZED=35863]="UNSIGNED_NORMALIZED",t[t.SIGNED_NORMALIZED=36764]="SIGNED_NORMALIZED",t[t.VERTEX_ATTRIB_ARRAY_INTEGER=35069]="VERTEX_ATTRIB_ARRAY_INTEGER",t[t.VERTEX_ATTRIB_ARRAY_DIVISOR=35070]="VERTEX_ATTRIB_ARRAY_DIVISOR",t[t.TRANSFORM_FEEDBACK_BUFFER_MODE=35967]="TRANSFORM_FEEDBACK_BUFFER_MODE",t[t.MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS=35968]="MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS",t[t.TRANSFORM_FEEDBACK_VARYINGS=35971]="TRANSFORM_FEEDBACK_VARYINGS",t[t.TRANSFORM_FEEDBACK_BUFFER_START=35972]="TRANSFORM_FEEDBACK_BUFFER_START",t[t.TRANSFORM_FEEDBACK_BUFFER_SIZE=35973]="TRANSFORM_FEEDBACK_BUFFER_SIZE",t[t.TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN=35976]="TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN",t[t.MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS=35978]="MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS",t[t.MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS=35979]="MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS",t[t.INTERLEAVED_ATTRIBS=35980]="INTERLEAVED_ATTRIBS",t[t.SEPARATE_ATTRIBS=35981]="SEPARATE_ATTRIBS",t[t.TRANSFORM_FEEDBACK_BUFFER=35982]="TRANSFORM_FEEDBACK_BUFFER",t[t.TRANSFORM_FEEDBACK_BUFFER_BINDING=35983]="TRANSFORM_FEEDBACK_BUFFER_BINDING",t[t.TRANSFORM_FEEDBACK=36386]="TRANSFORM_FEEDBACK",t[t.TRANSFORM_FEEDBACK_PAUSED=36387]="TRANSFORM_FEEDBACK_PAUSED",t[t.TRANSFORM_FEEDBACK_ACTIVE=36388]="TRANSFORM_FEEDBACK_ACTIVE",t[t.TRANSFORM_FEEDBACK_BINDING=36389]="TRANSFORM_FEEDBACK_BINDING",t[t.FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING=33296]="FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING",t[t.FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE=33297]="FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE",t[t.FRAMEBUFFER_ATTACHMENT_RED_SIZE=33298]="FRAMEBUFFER_ATTACHMENT_RED_SIZE",t[t.FRAMEBUFFER_ATTACHMENT_GREEN_SIZE=33299]="FRAMEBUFFER_ATTACHMENT_GREEN_SIZE",t[t.FRAMEBUFFER_ATTACHMENT_BLUE_SIZE=33300]="FRAMEBUFFER_ATTACHMENT_BLUE_SIZE",t[t.FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE=33301]="FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE",t[t.FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE=33302]="FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE",t[t.FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE=33303]="FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE",t[t.FRAMEBUFFER_DEFAULT=33304]="FRAMEBUFFER_DEFAULT",t[t.DEPTH24_STENCIL8=35056]="DEPTH24_STENCIL8",t[t.DRAW_FRAMEBUFFER_BINDING=36006]="DRAW_FRAMEBUFFER_BINDING",t[t.READ_FRAMEBUFFER_BINDING=36010]="READ_FRAMEBUFFER_BINDING",t[t.RENDERBUFFER_SAMPLES=36011]="RENDERBUFFER_SAMPLES",t[t.FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER=36052]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER",t[t.FRAMEBUFFER_INCOMPLETE_MULTISAMPLE=36182]="FRAMEBUFFER_INCOMPLETE_MULTISAMPLE",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t[t.UNIFORM_BUFFER_BINDING=35368]="UNIFORM_BUFFER_BINDING",t[t.UNIFORM_BUFFER_START=35369]="UNIFORM_BUFFER_START",t[t.UNIFORM_BUFFER_SIZE=35370]="UNIFORM_BUFFER_SIZE",t[t.MAX_VERTEX_UNIFORM_BLOCKS=35371]="MAX_VERTEX_UNIFORM_BLOCKS",t[t.MAX_FRAGMENT_UNIFORM_BLOCKS=35373]="MAX_FRAGMENT_UNIFORM_BLOCKS",t[t.MAX_COMBINED_UNIFORM_BLOCKS=35374]="MAX_COMBINED_UNIFORM_BLOCKS",t[t.MAX_UNIFORM_BUFFER_BINDINGS=35375]="MAX_UNIFORM_BUFFER_BINDINGS",t[t.MAX_UNIFORM_BLOCK_SIZE=35376]="MAX_UNIFORM_BLOCK_SIZE",t[t.MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS=35377]="MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS",t[t.MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS=35379]="MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS",t[t.UNIFORM_BUFFER_OFFSET_ALIGNMENT=35380]="UNIFORM_BUFFER_OFFSET_ALIGNMENT",t[t.ACTIVE_UNIFORM_BLOCKS=35382]="ACTIVE_UNIFORM_BLOCKS",t[t.UNIFORM_TYPE=35383]="UNIFORM_TYPE",t[t.UNIFORM_SIZE=35384]="UNIFORM_SIZE",t[t.UNIFORM_BLOCK_INDEX=35386]="UNIFORM_BLOCK_INDEX",t[t.UNIFORM_OFFSET=35387]="UNIFORM_OFFSET",t[t.UNIFORM_ARRAY_STRIDE=35388]="UNIFORM_ARRAY_STRIDE",t[t.UNIFORM_MATRIX_STRIDE=35389]="UNIFORM_MATRIX_STRIDE",t[t.UNIFORM_IS_ROW_MAJOR=35390]="UNIFORM_IS_ROW_MAJOR",t[t.UNIFORM_BLOCK_BINDING=35391]="UNIFORM_BLOCK_BINDING",t[t.UNIFORM_BLOCK_DATA_SIZE=35392]="UNIFORM_BLOCK_DATA_SIZE",t[t.UNIFORM_BLOCK_ACTIVE_UNIFORMS=35394]="UNIFORM_BLOCK_ACTIVE_UNIFORMS",t[t.UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES=35395]="UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES",t[t.UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER=35396]="UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER",t[t.UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER=35398]="UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER",t[t.OBJECT_TYPE=37138]="OBJECT_TYPE",t[t.SYNC_CONDITION=37139]="SYNC_CONDITION",t[t.SYNC_STATUS=37140]="SYNC_STATUS",t[t.SYNC_FLAGS=37141]="SYNC_FLAGS",t[t.SYNC_FENCE=37142]="SYNC_FENCE",t[t.SYNC_GPU_COMMANDS_COMPLETE=37143]="SYNC_GPU_COMMANDS_COMPLETE",t[t.UNSIGNALED=37144]="UNSIGNALED",t[t.SIGNALED=37145]="SIGNALED",t[t.ALREADY_SIGNALED=37146]="ALREADY_SIGNALED",t[t.TIMEOUT_EXPIRED=37147]="TIMEOUT_EXPIRED",t[t.CONDITION_SATISFIED=37148]="CONDITION_SATISFIED",t[t.WAIT_FAILED=37149]="WAIT_FAILED",t[t.SYNC_FLUSH_COMMANDS_BIT=1]="SYNC_FLUSH_COMMANDS_BIT",t[t.COLOR=6144]="COLOR",t[t.DEPTH=6145]="DEPTH",t[t.STENCIL=6146]="STENCIL",t[t.MIN=32775]="MIN",t[t.MAX=32776]="MAX",t[t.DEPTH_COMPONENT24=33190]="DEPTH_COMPONENT24",t[t.STREAM_READ=35041]="STREAM_READ",t[t.STREAM_COPY=35042]="STREAM_COPY",t[t.STATIC_READ=35045]="STATIC_READ",t[t.STATIC_COPY=35046]="STATIC_COPY",t[t.DYNAMIC_READ=35049]="DYNAMIC_READ",t[t.DYNAMIC_COPY=35050]="DYNAMIC_COPY",t[t.DEPTH_COMPONENT32F=36012]="DEPTH_COMPONENT32F",t[t.DEPTH32F_STENCIL8=36013]="DEPTH32F_STENCIL8",t[t.INVALID_INDEX=4294967295]="INVALID_INDEX",t[t.TIMEOUT_IGNORED=-1]="TIMEOUT_IGNORED",t[t.MAX_CLIENT_WAIT_TIMEOUT_WEBGL=37447]="MAX_CLIENT_WAIT_TIMEOUT_WEBGL",t[t.UNMASKED_VENDOR_WEBGL=37445]="UNMASKED_VENDOR_WEBGL",t[t.UNMASKED_RENDERER_WEBGL=37446]="UNMASKED_RENDERER_WEBGL",t[t.MAX_TEXTURE_MAX_ANISOTROPY_EXT=34047]="MAX_TEXTURE_MAX_ANISOTROPY_EXT",t[t.TEXTURE_MAX_ANISOTROPY_EXT=34046]="TEXTURE_MAX_ANISOTROPY_EXT",t[t.R16_EXT=33322]="R16_EXT",t[t.RG16_EXT=33324]="RG16_EXT",t[t.RGB16_EXT=32852]="RGB16_EXT",t[t.RGBA16_EXT=32859]="RGBA16_EXT",t[t.R16_SNORM_EXT=36760]="R16_SNORM_EXT",t[t.RG16_SNORM_EXT=36761]="RG16_SNORM_EXT",t[t.RGB16_SNORM_EXT=36762]="RGB16_SNORM_EXT",t[t.RGBA16_SNORM_EXT=36763]="RGBA16_SNORM_EXT",t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_RED_RGTC1_EXT=36283]="COMPRESSED_RED_RGTC1_EXT",t[t.COMPRESSED_SIGNED_RED_RGTC1_EXT=36284]="COMPRESSED_SIGNED_RED_RGTC1_EXT",t[t.COMPRESSED_RED_GREEN_RGTC2_EXT=36285]="COMPRESSED_RED_GREEN_RGTC2_EXT",t[t.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT=36286]="COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT",t[t.COMPRESSED_RGBA_BPTC_UNORM_EXT=36492]="COMPRESSED_RGBA_BPTC_UNORM_EXT",t[t.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT=36493]="COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT",t[t.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT=36494]="COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT",t[t.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT=36495]="COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37493]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37494]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37495]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37496]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37497]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",t[t.COMPRESSED_RGBA_ASTC_5x4_KHR=37809]="COMPRESSED_RGBA_ASTC_5x4_KHR",t[t.COMPRESSED_RGBA_ASTC_5x5_KHR=37810]="COMPRESSED_RGBA_ASTC_5x5_KHR",t[t.COMPRESSED_RGBA_ASTC_6x5_KHR=37811]="COMPRESSED_RGBA_ASTC_6x5_KHR",t[t.COMPRESSED_RGBA_ASTC_6x6_KHR=37812]="COMPRESSED_RGBA_ASTC_6x6_KHR",t[t.COMPRESSED_RGBA_ASTC_8x5_KHR=37813]="COMPRESSED_RGBA_ASTC_8x5_KHR",t[t.COMPRESSED_RGBA_ASTC_8x6_KHR=37814]="COMPRESSED_RGBA_ASTC_8x6_KHR",t[t.COMPRESSED_RGBA_ASTC_8x8_KHR=37815]="COMPRESSED_RGBA_ASTC_8x8_KHR",t[t.COMPRESSED_RGBA_ASTC_10x5_KHR=37816]="COMPRESSED_RGBA_ASTC_10x5_KHR",t[t.COMPRESSED_RGBA_ASTC_10x6_KHR=37817]="COMPRESSED_RGBA_ASTC_10x6_KHR",t[t.COMPRESSED_RGBA_ASTC_10x8_KHR=37818]="COMPRESSED_RGBA_ASTC_10x8_KHR",t[t.COMPRESSED_RGBA_ASTC_10x10_KHR=37819]="COMPRESSED_RGBA_ASTC_10x10_KHR",t[t.COMPRESSED_RGBA_ASTC_12x10_KHR=37820]="COMPRESSED_RGBA_ASTC_12x10_KHR",t[t.COMPRESSED_RGBA_ASTC_12x12_KHR=37821]="COMPRESSED_RGBA_ASTC_12x12_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR=37840]="COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR=37841]="COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR=37842]="COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR=37843]="COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR=37844]="COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR=37845]="COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR=37846]="COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR=37847]="COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR=37848]="COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR=37849]="COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR=37850]="COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR=37851]="COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR=37852]="COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR",t[t.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR=37853]="COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR",t[t.QUERY_COUNTER_BITS_EXT=34916]="QUERY_COUNTER_BITS_EXT",t[t.CURRENT_QUERY_EXT=34917]="CURRENT_QUERY_EXT",t[t.QUERY_RESULT_EXT=34918]="QUERY_RESULT_EXT",t[t.QUERY_RESULT_AVAILABLE_EXT=34919]="QUERY_RESULT_AVAILABLE_EXT",t[t.TIME_ELAPSED_EXT=35007]="TIME_ELAPSED_EXT",t[t.TIMESTAMP_EXT=36392]="TIMESTAMP_EXT",t[t.GPU_DISJOINT_EXT=36795]="GPU_DISJOINT_EXT",t[t.COMPLETION_STATUS_KHR=37297]="COMPLETION_STATUS_KHR",t[t.DEPTH_CLAMP_EXT=34383]="DEPTH_CLAMP_EXT",t[t.FIRST_VERTEX_CONVENTION_WEBGL=36429]="FIRST_VERTEX_CONVENTION_WEBGL",t[t.LAST_VERTEX_CONVENTION_WEBGL=36430]="LAST_VERTEX_CONVENTION_WEBGL",t[t.PROVOKING_VERTEX_WEBL=36431]="PROVOKING_VERTEX_WEBL",t[t.POLYGON_MODE_WEBGL=2880]="POLYGON_MODE_WEBGL",t[t.POLYGON_OFFSET_LINE_WEBGL=10754]="POLYGON_OFFSET_LINE_WEBGL",t[t.LINE_WEBGL=6913]="LINE_WEBGL",t[t.FILL_WEBGL=6914]="FILL_WEBGL",t[t.MAX_CLIP_DISTANCES_WEBGL=3378]="MAX_CLIP_DISTANCES_WEBGL",t[t.MAX_CULL_DISTANCES_WEBGL=33529]="MAX_CULL_DISTANCES_WEBGL",t[t.MAX_COMBINED_CLIP_AND_CULL_DISTANCES_WEBGL=33530]="MAX_COMBINED_CLIP_AND_CULL_DISTANCES_WEBGL",t[t.CLIP_DISTANCE0_WEBGL=12288]="CLIP_DISTANCE0_WEBGL",t[t.CLIP_DISTANCE1_WEBGL=12289]="CLIP_DISTANCE1_WEBGL",t[t.CLIP_DISTANCE2_WEBGL=12290]="CLIP_DISTANCE2_WEBGL",t[t.CLIP_DISTANCE3_WEBGL=12291]="CLIP_DISTANCE3_WEBGL",t[t.CLIP_DISTANCE4_WEBGL=12292]="CLIP_DISTANCE4_WEBGL",t[t.CLIP_DISTANCE5_WEBGL=12293]="CLIP_DISTANCE5_WEBGL",t[t.CLIP_DISTANCE6_WEBGL=12294]="CLIP_DISTANCE6_WEBGL",t[t.CLIP_DISTANCE7_WEBGL=12295]="CLIP_DISTANCE7_WEBGL",t[t.POLYGON_OFFSET_CLAMP_EXT=36379]="POLYGON_OFFSET_CLAMP_EXT",t[t.LOWER_LEFT_EXT=36001]="LOWER_LEFT_EXT",t[t.UPPER_LEFT_EXT=36002]="UPPER_LEFT_EXT",t[t.NEGATIVE_ONE_TO_ONE_EXT=37726]="NEGATIVE_ONE_TO_ONE_EXT",t[t.ZERO_TO_ONE_EXT=37727]="ZERO_TO_ONE_EXT",t[t.CLIP_ORIGIN_EXT=37724]="CLIP_ORIGIN_EXT",t[t.CLIP_DEPTH_MODE_EXT=37725]="CLIP_DEPTH_MODE_EXT",t[t.SRC1_COLOR_WEBGL=35065]="SRC1_COLOR_WEBGL",t[t.SRC1_ALPHA_WEBGL=34185]="SRC1_ALPHA_WEBGL",t[t.ONE_MINUS_SRC1_COLOR_WEBGL=35066]="ONE_MINUS_SRC1_COLOR_WEBGL",t[t.ONE_MINUS_SRC1_ALPHA_WEBGL=35067]="ONE_MINUS_SRC1_ALPHA_WEBGL",t[t.MAX_DUAL_SOURCE_DRAW_BUFFERS_WEBGL=35068]="MAX_DUAL_SOURCE_DRAW_BUFFERS_WEBGL",t[t.MIRROR_CLAMP_TO_EDGE_EXT=34627]="MIRROR_CLAMP_TO_EDGE_EXT"})(LA||(LA={}));const Tfe={WEBGL_depth_texture:{UNSIGNED_INT_24_8_WEBGL:34042},OES_element_index_uint:{},OES_texture_float:{},OES_texture_half_float:{HALF_FLOAT_OES:5131},EXT_color_buffer_float:{},OES_standard_derivatives:{FRAGMENT_SHADER_DERIVATIVE_HINT_OES:35723},EXT_frag_depth:{},EXT_blend_minmax:{MIN_EXT:32775,MAX_EXT:32776},EXT_shader_texture_lod:{}},Pfe=t=>({drawBuffersWEBGL(e){return t.drawBuffers(e)},COLOR_ATTACHMENT0_WEBGL:36064,COLOR_ATTACHMENT1_WEBGL:36065,COLOR_ATTACHMENT2_WEBGL:36066,COLOR_ATTACHMENT3_WEBGL:36067}),Cfe=t=>({VERTEX_ARRAY_BINDING_OES:34229,createVertexArrayOES(){return t.createVertexArray()},deleteVertexArrayOES(e){return t.deleteVertexArray(e)},isVertexArrayOES(e){return t.isVertexArray(e)},bindVertexArrayOES(e){return t.bindVertexArray(e)}}),kfe=t=>({VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE:35070,drawArraysInstancedANGLE(...e){return t.drawArraysInstanced(...e)},drawElementsInstancedANGLE(...e){return t.drawElementsInstanced(...e)},vertexAttribDivisorANGLE(...e){return t.vertexAttribDivisor(...e)}});function Ofe(t=!0){const e=HTMLCanvasElement.prototype;if(!t&&e.originalGetContext){e.getContext=e.originalGetContext,e.originalGetContext=void 0;return}e.originalGetContext=e.getContext,e.getContext=function(r,n){if(r==="webgl"||r==="experimental-webgl"){const i=this.originalGetContext("webgl2",n);return i instanceof HTMLElement&&Rfe(i),i}return this.originalGetContext(r,n)}}function Rfe(t){t.getExtension("EXT_color_buffer_float");const e={...Tfe,WEBGL_disjoint_timer_query:t.getExtension("EXT_disjoint_timer_query_webgl2"),WEBGL_draw_buffers:Pfe(t),OES_vertex_array_object:Cfe(t),ANGLE_instanced_arrays:kfe(t)},r=t.getExtension;t.getExtension=function(i){const o=r.call(t,i);return o||(i in e?e[i]:null)};const n=t.getSupportedExtensions;t.getSupportedExtensions=function(){const i=n.apply(t)||[];return i==null?void 0:i.concat(Object.keys(e))}}async function hz(t,e){const r=document.getElementsByTagName("head")[0];if(!r)throw new Error("loadScript");const n=document.createElement("script");return n.setAttribute("type","text/javascript"),n.setAttribute("src",t),new Promise((i,o)=>{n.onload=i,n.onerror=s=>o(new Error(`Unable to load script '${t}': ${s}`)),r.appendChild(n)})}const Ife=1;let Yn=null,ZR=!1;const tC={debugSpectorJS:St.get("debug-spectorjs"),debugSpectorJSUrl:"https://cdn.jsdelivr.net/npm/spectorjs@0.9.30/dist/spector.bundle.js",gl:void 0};async function Nfe(t){if(!globalThis.SPECTOR)try{await hz(t.debugSpectorJSUrl||tC.debugSpectorJSUrl)}catch(e){St.warn(String(e))}}function Mfe(t){var e;if(t={...tC,...t},!t.debugSpectorJS)return null;if(!Yn&&globalThis.SPECTOR&&!((e=globalThis.luma)!=null&&e.spector)){St.probe(Ife,"SPECTOR found and initialized. Start with `luma.spector.displayUI()`")();const{Spector:r}=globalThis.SPECTOR;Yn=new r,globalThis.luma&&(globalThis.luma.spector=Yn)}if(!Yn)return null;if(ZR||(ZR=!0,Yn.spyCanvases(),Yn==null||Yn.onCaptureStarted.add(r=>St.info("Spector capture started:",r)()),Yn==null||Yn.onCapture.add(r=>{St.info("Spector capture complete:",r)(),Yn==null||Yn.getResultUI(),Yn==null||Yn.resultView.display(),Yn==null||Yn.resultView.addCapture(r)})),t.gl){const r=t.gl,n=r.device;Yn==null||Yn.startCapture(t.gl,500),r.device=n,new Promise(i=>setTimeout(i,2e3)).then(i=>{St.info("Spector capture stopped after 2 seconds")(),Yn==null||Yn.stopCapture()})}return Yn}const Lfe="https://unpkg.com/webgl-debug@2.0.1/index.js";function dz(t){return t.luma=t.luma||{},t.luma}async function Dfe(){Dd()&&!globalThis.WebGLDebugUtils&&(globalThis.global=globalThis.global||globalThis,globalThis.global.module={},await hz(Lfe))}function Bfe(t,e={}){return e.debugWebGL||e.traceWebGL?jfe(t,e):Ffe(t)}function Ffe(t){const e=dz(t);return e.realContext?e.realContext:t}function jfe(t,e){if(!globalThis.WebGLDebugUtils)return St.warn("webgl-debug not loaded")(),t;const r=dz(t);if(r.debugContext)return r.debugContext;globalThis.WebGLDebugUtils.init({...LA,...t});const n=globalThis.WebGLDebugUtils.makeDebugContext(t,Ufe.bind(null,e),$fe.bind(null,e));for(const s in LA)!(s in n)&&typeof LA[s]=="number"&&(n[s]=LA[s]);class i{}Object.setPrototypeOf(n,Object.getPrototypeOf(t)),Object.setPrototypeOf(i,n);const o=Object.create(i);return r.realContext=t,r.debugContext=o,o.debug=!0,o}function JR(t,e){e=Array.from(e).map(n=>n===void 0?"undefined":n);let r=globalThis.WebGLDebugUtils.glFunctionArgsToString(t,e);return r=`${r.slice(0,100)}${r.length>100?"...":""}`,`gl.${t}(${r})`}function Ufe(t,e,r,n){n=Array.from(n).map(a=>a===void 0?"undefined":a);const i=globalThis.WebGLDebugUtils.glEnumToString(e),o=globalThis.WebGLDebugUtils.glFunctionArgsToString(r,n),s=`${i} in gl.${r}(${o})`;St.error(s)();debugger}function $fe(t,e,r){let n="";St.level>=1&&(n=JR(e,r),t.traceWebGL&&St.log(1,n)());for(const i of r)if(i===void 0){n=n||JR(e,r);debugger}}const Wv=1;class zfe extends Soe{constructor(){super();Ae(this,"type","webgl");wd.defaultProps={...wd.defaultProps,...tC}}enforceWebGL2(r){Ofe(r)}isSupported(){return typeof WebGL2RenderingContext<"u"}isDeviceHandle(r){return typeof WebGL2RenderingContext<"u"&&r instanceof WebGL2RenderingContext?!0:(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext&&St.warn("WebGL1 is not supported",r)(),!1)}async attach(r,n={}){const{WebGLDevice:i}=await KA(async()=>{const{WebGLDevice:s}=await Promise.resolve().then(()=>pI);return{WebGLDevice:s}},[]);if(r instanceof i)return r;if((r==null?void 0:r.device)instanceof i)return r.device;if(!Wfe(r))throw new Error("Invalid WebGL2RenderingContext");const o=n.createCanvasContext===!0?{}:n.createCanvasContext;return new i({...n,_handle:r,createCanvasContext:{canvas:r.canvas,autoResize:!1,...o}})}async create(r={}){const{WebGLDevice:n}=await KA(async()=>{const{WebGLDevice:i}=await Promise.resolve().then(()=>pI);return{WebGLDevice:i}},void 0);St.groupCollapsed(Wv,"WebGLDevice created")();try{const i=[];(r.debugWebGL||r.debug)&&i.push(Dfe()),r.debugSpectorJS&&i.push(Nfe(r));const o=await Promise.allSettled(i);for(const l of o)l.status==="rejected"&&St.error(`Failed to initialize debug libraries ${l.reason}`)();const s=new n(r),a=`${s._reused?"Reusing":"Created"} device with WebGL2 ${s.props.debug?"debug ":""}context: ${s.info.vendor}, ${s.info.renderer} for canvas: ${s.canvasContext.id}`;return St.probe(Wv,a)(),St.table(Wv,s.info)(),s}finally{St.groupEnd(Wv)()}}}function Wfe(t){return typeof WebGL2RenderingContext<"u"&&t instanceof WebGL2RenderingContext?!0:!!(t&&Number.isFinite(t._version))}const Sw=new zfe,rC={3042:!1,32773:new Float32Array([0,0,0,0]),32777:32774,34877:32774,32969:1,32968:0,32971:1,32970:0,3106:new Float32Array([0,0,0,0]),3107:[!0,!0,!0,!0],2884:!1,2885:1029,2929:!1,2931:1,2932:513,2928:new Float32Array([0,1]),2930:!0,3024:!0,35725:null,36006:null,36007:null,34229:null,34964:null,2886:2305,33170:4352,2849:1,32823:!1,32824:0,10752:0,32926:!1,32928:!1,32938:1,32939:!1,3089:!1,3088:new Int32Array([0,0,1024,1024]),2960:!1,2961:0,2968:4294967295,36005:4294967295,2962:519,2967:0,2963:4294967295,34816:519,36003:0,36004:4294967295,2964:7680,2965:7680,2966:7680,34817:7680,34818:7680,34819:7680,2978:[0,0,1024,1024],36389:null,36662:null,36663:null,35053:null,35055:null,35723:4352,36010:null,35977:!1,3333:4,3317:4,37440:!1,37441:!1,37443:37444,3330:0,3332:0,3331:0,3314:0,32878:0,3316:0,3315:0,32877:0},Zi=(t,e,r)=>e?t.enable(r):t.disable(r),eI=(t,e,r)=>t.hint(r,e),Da=(t,e,r)=>t.pixelStorei(r,e),tI=(t,e,r)=>{const n=r===36006?36009:36008;return t.bindFramebuffer(n,e)},Np=(t,e,r)=>{const i={34964:34962,36662:36662,36663:36663,35053:35051,35055:35052}[r];t.bindBuffer(i,e)};function Ew(t){return Array.isArray(t)||ArrayBuffer.isView(t)&&!(t instanceof DataView)}const Vfe={3042:Zi,32773:(t,e)=>t.blendColor(...e),32777:"blendEquation",34877:"blendEquation",32969:"blendFunc",32968:"blendFunc",32971:"blendFunc",32970:"blendFunc",3106:(t,e)=>t.clearColor(...e),3107:(t,e)=>t.colorMask(...e),2884:Zi,2885:(t,e)=>t.cullFace(e),2929:Zi,2931:(t,e)=>t.clearDepth(e),2932:(t,e)=>t.depthFunc(e),2928:(t,e)=>t.depthRange(...e),2930:(t,e)=>t.depthMask(e),3024:Zi,35723:eI,35725:(t,e)=>t.useProgram(e),36007:(t,e)=>t.bindRenderbuffer(36161,e),36389:(t,e)=>{var r;return(r=t.bindTransformFeedback)==null?void 0:r.call(t,36386,e)},34229:(t,e)=>t.bindVertexArray(e),36006:tI,36010:tI,34964:Np,36662:Np,36663:Np,35053:Np,35055:Np,2886:(t,e)=>t.frontFace(e),33170:eI,2849:(t,e)=>t.lineWidth(e),32823:Zi,32824:"polygonOffset",10752:"polygonOffset",35977:Zi,32926:Zi,32928:Zi,32938:"sampleCoverage",32939:"sampleCoverage",3089:Zi,3088:(t,e)=>t.scissor(...e),2960:Zi,2961:(t,e)=>t.clearStencil(e),2968:(t,e)=>t.stencilMaskSeparate(1028,e),36005:(t,e)=>t.stencilMaskSeparate(1029,e),2962:"stencilFuncFront",2967:"stencilFuncFront",2963:"stencilFuncFront",34816:"stencilFuncBack",36003:"stencilFuncBack",36004:"stencilFuncBack",2964:"stencilOpFront",2965:"stencilOpFront",2966:"stencilOpFront",34817:"stencilOpBack",34818:"stencilOpBack",34819:"stencilOpBack",2978:(t,e)=>t.viewport(...e),34383:Zi,10754:Zi,12288:Zi,12289:Zi,12290:Zi,12291:Zi,12292:Zi,12293:Zi,12294:Zi,12295:Zi,3333:Da,3317:Da,37440:Da,37441:Da,37443:Da,3330:Da,3332:Da,3331:Da,3314:Da,32878:Da,3316:Da,3315:Da,32877:Da,framebuffer:(t,e)=>{const r=e&&"handle"in e?e.handle:e;return t.bindFramebuffer(36160,r)},blend:(t,e)=>e?t.enable(3042):t.disable(3042),blendColor:(t,e)=>t.blendColor(...e),blendEquation:(t,e)=>{const r=typeof e=="number"?[e,e]:e;t.blendEquationSeparate(...r)},blendFunc:(t,e)=>{const r=(e==null?void 0:e.length)===2?[...e,...e]:e;t.blendFuncSeparate(...r)},clearColor:(t,e)=>t.clearColor(...e),clearDepth:(t,e)=>t.clearDepth(e),clearStencil:(t,e)=>t.clearStencil(e),colorMask:(t,e)=>t.colorMask(...e),cull:(t,e)=>e?t.enable(2884):t.disable(2884),cullFace:(t,e)=>t.cullFace(e),depthTest:(t,e)=>e?t.enable(2929):t.disable(2929),depthFunc:(t,e)=>t.depthFunc(e),depthMask:(t,e)=>t.depthMask(e),depthRange:(t,e)=>t.depthRange(...e),dither:(t,e)=>e?t.enable(3024):t.disable(3024),derivativeHint:(t,e)=>{t.hint(35723,e)},frontFace:(t,e)=>t.frontFace(e),mipmapHint:(t,e)=>t.hint(33170,e),lineWidth:(t,e)=>t.lineWidth(e),polygonOffsetFill:(t,e)=>e?t.enable(32823):t.disable(32823),polygonOffset:(t,e)=>t.polygonOffset(...e),sampleCoverage:(t,e)=>t.sampleCoverage(e[0],e[1]||!1),scissorTest:(t,e)=>e?t.enable(3089):t.disable(3089),scissor:(t,e)=>t.scissor(...e),stencilTest:(t,e)=>e?t.enable(2960):t.disable(2960),stencilMask:(t,e)=>{e=Ew(e)?e:[e,e];const[r,n]=e;t.stencilMaskSeparate(1028,r),t.stencilMaskSeparate(1029,n)},stencilFunc:(t,e)=>{e=Ew(e)&&e.length===3?[...e,...e]:e;const[r,n,i,o,s,a]=e;t.stencilFuncSeparate(1028,r,n,i),t.stencilFuncSeparate(1029,o,s,a)},stencilOp:(t,e)=>{e=Ew(e)&&e.length===3?[...e,...e]:e;const[r,n,i,o,s,a]=e;t.stencilOpSeparate(1028,r,n,i),t.stencilOpSeparate(1029,o,s,a)},viewport:(t,e)=>t.viewport(...e)};function Ii(t,e,r){return e[t]!==void 0?e[t]:r[t]}const Hfe={blendEquation:(t,e,r)=>t.blendEquationSeparate(Ii(32777,e,r),Ii(34877,e,r)),blendFunc:(t,e,r)=>t.blendFuncSeparate(Ii(32969,e,r),Ii(32968,e,r),Ii(32971,e,r),Ii(32970,e,r)),polygonOffset:(t,e,r)=>t.polygonOffset(Ii(32824,e,r),Ii(10752,e,r)),sampleCoverage:(t,e,r)=>t.sampleCoverage(Ii(32938,e,r),Ii(32939,e,r)),stencilFuncFront:(t,e,r)=>t.stencilFuncSeparate(1028,Ii(2962,e,r),Ii(2967,e,r),Ii(2963,e,r)),stencilFuncBack:(t,e,r)=>t.stencilFuncSeparate(1029,Ii(34816,e,r),Ii(36003,e,r),Ii(36004,e,r)),stencilOpFront:(t,e,r)=>t.stencilOpSeparate(1028,Ii(2964,e,r),Ii(2965,e,r),Ii(2966,e,r)),stencilOpBack:(t,e,r)=>t.stencilOpSeparate(1029,Ii(34817,e,r),Ii(34818,e,r),Ii(34819,e,r))},rI={enable:(t,e)=>t({[e]:!0}),disable:(t,e)=>t({[e]:!1}),pixelStorei:(t,e,r)=>t({[e]:r}),hint:(t,e,r)=>t({[e]:r}),useProgram:(t,e)=>t({35725:e}),bindRenderbuffer:(t,e,r)=>t({36007:r}),bindTransformFeedback:(t,e,r)=>t({36389:r}),bindVertexArray:(t,e)=>t({34229:e}),bindFramebuffer:(t,e,r)=>{switch(e){case 36160:return t({36006:r,36010:r});case 36009:return t({36006:r});case 36008:return t({36010:r});default:return null}},bindBuffer:(t,e,r)=>{const n={34962:[34964],36662:[36662],36663:[36663],35051:[35053],35052:[35055]}[e];return n?t({[n]:r}):{valueChanged:!0}},blendColor:(t,e,r,n,i)=>t({32773:new Float32Array([e,r,n,i])}),blendEquation:(t,e)=>t({32777:e,34877:e}),blendEquationSeparate:(t,e,r)=>t({32777:e,34877:r}),blendFunc:(t,e,r)=>t({32969:e,32968:r,32971:e,32970:r}),blendFuncSeparate:(t,e,r,n,i)=>t({32969:e,32968:r,32971:n,32970:i}),clearColor:(t,e,r,n,i)=>t({3106:new Float32Array([e,r,n,i])}),clearDepth:(t,e)=>t({2931:e}),clearStencil:(t,e)=>t({2961:e}),colorMask:(t,e,r,n,i)=>t({3107:[e,r,n,i]}),cullFace:(t,e)=>t({2885:e}),depthFunc:(t,e)=>t({2932:e}),depthRange:(t,e,r)=>t({2928:new Float32Array([e,r])}),depthMask:(t,e)=>t({2930:e}),frontFace:(t,e)=>t({2886:e}),lineWidth:(t,e)=>t({2849:e}),polygonOffset:(t,e,r)=>t({32824:e,10752:r}),sampleCoverage:(t,e,r)=>t({32938:e,32939:r}),scissor:(t,e,r,n,i)=>t({3088:new Int32Array([e,r,n,i])}),stencilMask:(t,e)=>t({2968:e,36005:e}),stencilMaskSeparate:(t,e,r)=>t({[e===1028?2968:36005]:r}),stencilFunc:(t,e,r,n)=>t({2962:e,2967:r,2963:n,34816:e,36003:r,36004:n}),stencilFuncSeparate:(t,e,r,n,i)=>t({[e===1028?2962:34816]:r,[e===1028?2967:36003]:n,[e===1028?2963:36004]:i}),stencilOp:(t,e,r,n)=>t({2964:e,2965:r,2966:n,34817:e,34818:r,34819:n}),stencilOpSeparate:(t,e,r,n,i)=>t({[e===1028?2964:34817]:r,[e===1028?2965:34818]:n,[e===1028?2966:34819]:i}),viewport:(t,e,r,n,i)=>t({2978:[e,r,n,i]})},eu=(t,e)=>t.isEnabled(e),nI={3042:eu,2884:eu,2929:eu,3024:eu,32823:eu,32926:eu,32928:eu,3089:eu,2960:eu,35977:eu},qfe=new Set([34016,36388,36387,35983,35368,34965,35739,35738,3074,34853,34854,34855,34856,34857,34858,34859,34860,34861,34862,34863,34864,34865,34866,34867,34868,35097,32873,35869,32874,34068]);function J0(t,e){if(Yfe(e))return;const r={};for(const i in e){const o=Number(i),s=Vfe[i];s&&(typeof s=="string"?r[s]=!0:s(t,e[i],o))}const n=t.state&&t.state.cache;if(n)for(const i in r){const o=Hfe[i];o(t,e,n)}}function Az(t,e=rC){if(typeof e=="number"){const i=e,o=nI[i];return o?o(t,i):t.getParameter(i)}const r=Array.isArray(e)?e:Object.keys(e),n={};for(const i of r){const o=nI[i];n[i]=o?o(t,Number(i)):t.getParameter(Number(i))}return n}function Xfe(t){J0(t,rC)}function Yfe(t){for(const e in t)return!1;return!0}function Kfe(t,e){if(t===e)return!0;if(iI(t)&&iI(e)&&t.length===e.length){for(let r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}return!1}function iI(t){return Array.isArray(t)||ArrayBuffer.isView(t)}class ud{constructor(e,r){Ae(this,"gl");Ae(this,"program",null);Ae(this,"stateStack",[]);Ae(this,"enable",!0);Ae(this,"cache",null);Ae(this,"log");Ae(this,"initialized",!1);this.gl=e,this.log=(r==null?void 0:r.log)||(()=>{}),this._updateCache=this._updateCache.bind(this),Object.seal(this)}static get(e){return e.state}push(e={}){this.stateStack.push({})}pop(){const e=this.stateStack[this.stateStack.length-1];J0(this.gl,e),this.stateStack.pop()}trackState(e,r){if(this.cache=r!=null&&r.copyState?Az(e):Object.assign({},rC),this.initialized)throw new Error("WebGLStateTracker");this.initialized=!0,this.gl.state=this,Qfe(e);for(const n in rI){const i=rI[n];Gfe(e,n,i)}oI(e,"getParameter"),oI(e,"isEnabled")}_updateCache(e){let r=!1,n;const i=this.stateStack.length>0?this.stateStack[this.stateStack.length-1]:null;for(const o in e){const s=e[o],a=this.cache[o];Kfe(s,a)||(r=!0,n=a,i&&!(o in i)&&(i[o]=a),this.cache[o]=s)}return{valueChanged:r,oldValue:n}}}function oI(t,e){const r=t[e].bind(t);t[e]=function(i){if(i===void 0||qfe.has(i))return r(i);const o=ud.get(t);return i in o.cache||(o.cache[i]=r(i)),o.enable?o.cache[i]:r(i)},Object.defineProperty(t[e],"name",{value:`${e}-from-cache`,configurable:!1})}function Gfe(t,e,r){if(!t[e])return;const n=t[e].bind(t);t[e]=function(...o){const s=ud.get(t),{valueChanged:a,oldValue:l}=r(s._updateCache,...o);return a&&n(...o),l},Object.defineProperty(t[e],"name",{value:`${e}-to-cache`,configurable:!1})}function Qfe(t){const e=t.useProgram.bind(t);t.useProgram=function(n){const i=ud.get(t);i.program!==n&&(e(n),i.program=n)}}function Zfe(t,e,r){let n="";const i={preserveDrawingBuffer:!0,...r};let o=null;if(o||(o=t.getContext("webgl2",i)),i.failIfMajorPerformanceCaveat&&(n||(n="Only software GPU is available. Set `failIfMajorPerformanceCaveat: false` to allow.")),!o&&!r.failIfMajorPerformanceCaveat&&(i.failIfMajorPerformanceCaveat=!1,o=t.getContext("webgl2",i),o.luma||(o.luma={}),o.luma.softwareRenderer=!0),o||(o=t.getContext("webgl",{}),o&&(o=null,n||(n="Your browser only supports WebGL1"))),!o)throw n||(n="Your browser does not support WebGL"),new Error(`Failed to create WebGL context: ${n}`);const{onContextLost:s,onContextRestored:a}=e;return t.addEventListener("webglcontextlost",l=>s(l),!1),t.addEventListener("webglcontextrestored",l=>a(l),!1),o.luma||(o.luma={}),o}function m0(t,e,r){return r[e]===void 0&&(r[e]=t.getExtension(e)||null),r[e]}function Jfe(t,e){const r=t.getParameter(7936),n=t.getParameter(7937);m0(t,"WEBGL_debug_renderer_info",e);const i=e.WEBGL_debug_renderer_info,o=t.getParameter(i?i.UNMASKED_VENDOR_WEBGL:7936),s=t.getParameter(i?i.UNMASKED_RENDERER_WEBGL:7937),a=o||r,l=s||n,c=t.getParameter(7938),u=pz(a,l),g=ehe(a,l),_=the(a,l);return{type:"webgl",gpu:u,gpuType:_,gpuBackend:g,vendor:a,renderer:l,version:c,shadingLanguage:"glsl",shadingLanguageVersion:300}}function pz(t,e){return/NVIDIA/i.exec(t)||/NVIDIA/i.exec(e)?"nvidia":/INTEL/i.exec(t)||/INTEL/i.exec(e)?"intel":/Apple/i.exec(t)||/Apple/i.exec(e)?"apple":/AMD/i.exec(t)||/AMD/i.exec(e)||/ATI/i.exec(t)||/ATI/i.exec(e)?"amd":/SwiftShader/i.exec(t)||/SwiftShader/i.exec(e)?"software":"unknown"}function ehe(t,e){return/Metal/i.exec(t)||/Metal/i.exec(e)?"metal":/ANGLE/i.exec(t)||/ANGLE/i.exec(e)?"opengl":"unknown"}function the(t,e){if(/SwiftShader/i.exec(t)||/SwiftShader/i.exec(e))return"cpu";switch(pz(t,e)){case"intel":return"integrated";case"software":return"cpu";case"unknown":return"unknown";default:return"discrete"}}function gz(t){switch(t){case"uint8":return 5121;case"sint8":return 5120;case"unorm8":return 5121;case"snorm8":return 5120;case"uint16":return 5123;case"sint16":return 5122;case"unorm16":return 5123;case"snorm16":return 5122;case"uint32":return 5125;case"sint32":return 5124;case"float16":return 5131;case"float32":return 5126}throw new Error(String(t))}const Jp="WEBGL_compressed_texture_s3tc",eg="WEBGL_compressed_texture_s3tc_srgb",DA="EXT_texture_compression_rgtc",BA="EXT_texture_compression_bptc",rhe="WEBGL_compressed_texture_etc",nhe="WEBGL_compressed_texture_astc",ihe="WEBGL_compressed_texture_etc1",ohe="WEBGL_compressed_texture_pvrtc",she="WEBGL_compressed_texture_atc",sI="EXT_texture_norm16",aI="EXT_render_snorm",ahe="EXT_color_buffer_float",nC={"float32-renderable-webgl":["EXT_color_buffer_float"],"float16-renderable-webgl":["EXT_color_buffer_half_float"],"rgb9e5ufloat-renderable-webgl":["WEBGL_render_shared_exponent"],"snorm8-renderable-webgl":[aI],"norm16-renderable-webgl":[sI],"snorm16-renderable-webgl":[sI,aI],"float32-filterable":["OES_texture_float_linear"],"float16-filterable-webgl":["OES_texture_half_float_linear"],"texture-filterable-anisotropic-webgl":["EXT_texture_filter_anisotropic"],"texture-blend-float-webgl":["EXT_float_blend"],"texture-compression-bc":[Jp,eg,DA,BA],"texture-compression-bc5-webgl":[DA],"texture-compression-bc7-webgl":[BA],"texture-compression-etc2":[rhe],"texture-compression-astc":[nhe],"texture-compression-etc1-webgl":[ihe],"texture-compression-pvrtc-webgl":[ohe],"texture-compression-atc-webgl":[she]};function lhe(t){return t in nC}function che(t,e,r){return(nC[e]||[]).every(i=>m0(t,i,r))}const iC={r8unorm:{gl:33321,rb:!0},r8snorm:{gl:36756},r8uint:{gl:33330,rb:!0},r8sint:{gl:33329,rb:!0},rg8unorm:{gl:33323,rb:!0},rg8snorm:{gl:36757},rg8uint:{gl:33336,rb:!0},rg8sint:{gl:33335,rb:!0},r16uint:{gl:33332,rb:!0},r16sint:{gl:33331,rb:!0},r16float:{gl:33325,rb:!0},r16unorm:{gl:33322,rb:!0},r16snorm:{gl:36760},"rgba4unorm-webgl":{gl:32854,rb:!0},"rgb565unorm-webgl":{gl:36194,rb:!0},"rgb5a1unorm-webgl":{gl:32855,rb:!0},"rgb8unorm-webgl":{gl:32849},"rgb8snorm-webgl":{gl:36758},rgba8unorm:{gl:32856},"rgba8unorm-srgb":{gl:35907},rgba8snorm:{gl:36759},rgba8uint:{gl:36220},rgba8sint:{gl:36238},bgra8unorm:{},"bgra8unorm-srgb":{},rg16uint:{gl:33338},rg16sint:{gl:33337},rg16float:{gl:33327,rb:!0},rg16unorm:{gl:33324},rg16snorm:{gl:36761},r32uint:{gl:33334,rb:!0},r32sint:{gl:33333,rb:!0},r32float:{gl:33326},rgb9e5ufloat:{gl:35901},rg11b10ufloat:{gl:35898,rb:!0},rgb10a2unorm:{gl:32857,rb:!0},rgb10a2uint:{gl:36975,rb:!0},"rgb16unorm-webgl":{gl:32852},"rgb16snorm-webgl":{gl:36762},rg32uint:{gl:33340,rb:!0},rg32sint:{gl:33339,rb:!0},rg32float:{gl:33328,rb:!0},rgba16uint:{gl:36214,rb:!0},rgba16sint:{gl:36232,rb:!0},rgba16float:{gl:34842},rgba16unorm:{gl:32859,rb:!0},rgba16snorm:{gl:36763},"rgb32float-webgl":{gl:34837,x:ahe,dataFormat:6407,types:[5126]},rgba32uint:{gl:36208,rb:!0},rgba32sint:{gl:36226,rb:!0},rgba32float:{gl:34836,rb:!0},stencil8:{gl:36168,rb:!0},depth16unorm:{gl:33189,dataFormat:6402,types:[5123],rb:!0},depth24plus:{gl:33190,dataFormat:6402,types:[5125]},depth32float:{gl:36012,dataFormat:6402,types:[5126],rb:!0},"depth24plus-stencil8":{gl:35056,rb:!0,depthTexture:!0,dataFormat:34041,types:[34042]},"depth32float-stencil8":{gl:36013,dataFormat:34041,types:[36269],rb:!0},"bc1-rgb-unorm-webgl":{gl:33776,x:Jp},"bc1-rgb-unorm-srgb-webgl":{gl:35916,x:eg},"bc1-rgba-unorm":{gl:33777,x:Jp},"bc1-rgba-unorm-srgb":{gl:35916,x:eg},"bc2-rgba-unorm":{gl:33778,x:Jp},"bc2-rgba-unorm-srgb":{gl:35918,x:eg},"bc3-rgba-unorm":{gl:33779,x:Jp},"bc3-rgba-unorm-srgb":{gl:35919,x:eg},"bc4-r-unorm":{gl:36283,x:DA},"bc4-r-snorm":{gl:36284,x:DA},"bc5-rg-unorm":{gl:36285,x:DA},"bc5-rg-snorm":{gl:36286,x:DA},"bc6h-rgb-ufloat":{gl:36495,x:BA},"bc6h-rgb-float":{gl:36494,x:BA},"bc7-rgba-unorm":{gl:36492,x:BA},"bc7-rgba-unorm-srgb":{gl:36493,x:BA},"etc2-rgb8unorm":{gl:37492},"etc2-rgb8unorm-srgb":{gl:37494},"etc2-rgb8a1unorm":{gl:37496},"etc2-rgb8a1unorm-srgb":{gl:37497},"etc2-rgba8unorm":{gl:37493},"etc2-rgba8unorm-srgb":{gl:37495},"eac-r11unorm":{gl:37488},"eac-r11snorm":{gl:37489},"eac-rg11unorm":{gl:37490},"eac-rg11snorm":{gl:37491},"astc-4x4-unorm":{gl:37808},"astc-4x4-unorm-srgb":{gl:37840},"astc-5x4-unorm":{gl:37809},"astc-5x4-unorm-srgb":{gl:37841},"astc-5x5-unorm":{gl:37810},"astc-5x5-unorm-srgb":{gl:37842},"astc-6x5-unorm":{gl:37811},"astc-6x5-unorm-srgb":{gl:37843},"astc-6x6-unorm":{gl:37812},"astc-6x6-unorm-srgb":{gl:37844},"astc-8x5-unorm":{gl:37813},"astc-8x5-unorm-srgb":{gl:37845},"astc-8x6-unorm":{gl:37814},"astc-8x6-unorm-srgb":{gl:37846},"astc-8x8-unorm":{gl:37815},"astc-8x8-unorm-srgb":{gl:37847},"astc-10x5-unorm":{gl:37819},"astc-10x5-unorm-srgb":{gl:37851},"astc-10x6-unorm":{gl:37817},"astc-10x6-unorm-srgb":{gl:37849},"astc-10x8-unorm":{gl:37818},"astc-10x8-unorm-srgb":{gl:37850},"astc-10x10-unorm":{gl:37819},"astc-10x10-unorm-srgb":{gl:37851},"astc-12x10-unorm":{gl:37820},"astc-12x10-unorm-srgb":{gl:37852},"astc-12x12-unorm":{gl:37821},"astc-12x12-unorm-srgb":{gl:37853},"pvrtc-rgb4unorm-webgl":{gl:35840},"pvrtc-rgba4unorm-webgl":{gl:35842},"pvrtc-rbg2unorm-webgl":{gl:35841},"pvrtc-rgba2unorm-webgl":{gl:35843},"etc1-rbg-unorm-webgl":{gl:36196},"atc-rgb-unorm-webgl":{gl:35986},"atc-rgba-unorm-webgl":{gl:35986},"atc-rgbai-unorm-webgl":{gl:34798}};function uhe(t,e,r){let n=e.create;const i=iC[e.format];return(i==null?void 0:i.gl)===void 0&&(n=!1),i!=null&&i.x&&(n=n&&!!m0(t,i.x,r)),{format:e.format,create:n&&e.create,render:n&&e.render,filter:n&&e.filter,blend:n&&e.blend,store:n&&e.store}}function mz(t){var i;const e=iC[t],r=dhe(t),n=qA.getInfo(t);return n.compressed&&(e.dataFormat=r),{internalFormat:r,format:(e==null?void 0:e.dataFormat)||hhe(n.channels,n.integer,n.normalized,r),type:n.dataType?gz(n.dataType):((i=e==null?void 0:e.types)==null?void 0:i[0])||5121,compressed:n.compressed||!1}}function fhe(t){switch(qA.getInfo(t).attachment){case"depth":return 36096;case"stencil":return 36128;case"depth-stencil":return 33306;default:throw new Error(`Not a depth stencil format: ${t}`)}}function hhe(t,e,r,n){if(n===6408||n===6407)return n;switch(t){case"r":return e&&!r?36244:6403;case"rg":return e&&!r?33320:33319;case"rgb":return e&&!r?36248:6407;case"rgba":return e&&!r?36249:6408;case"bgra":throw new Error("bgra pixels not supported by WebGL");default:return 6408}}function dhe(t){const e=iC[t],r=e==null?void 0:e.gl;if(r===void 0)throw new Error(`Unsupported texture format ${t}`);return r}const lI={"depth-clip-control":"EXT_depth_clamp","timer-query-webgl":"EXT_disjoint_timer_query_webgl2","compilation-status-async-webgl":"KHR_parallel_shader_compile","polygon-mode-webgl":"WEBGL_polygon_mode","provoking-vertex-webgl":"WEBGL_provoking_vertex","shader-clip-cull-distance-webgl":"WEBGL_clip_cull_distance","shader-noperspective-interpolation-webgl":"NV_shader_noperspective_interpolation","shader-conservative-depth-webgl":"EXT_conservative_depth"};class Ahe extends woe{constructor(r,n,i){super([],i);Ae(this,"gl");Ae(this,"extensions");Ae(this,"testedFeatures",new Set);this.gl=r,this.extensions=n,m0(r,"EXT_color_buffer_float",n)}*[Symbol.iterator](){const r=this.getFeatures();for(const n of r)this.has(n)&&(yield n);return[]}has(r){var n;return(n=this.disabledFeatures)!=null&&n[r]?!1:(this.testedFeatures.has(r)||(this.testedFeatures.add(r),lhe(r)&&che(this.gl,r,this.extensions)&&this.features.add(r),this.getWebGLFeature(r)&&this.features.add(r)),this.features.has(r))}initializeFeatures(){const r=this.getFeatures().filter(n=>n!=="polygon-mode-webgl");for(const n of r)this.has(n)}getFeatures(){return[...Object.keys(lI),...Object.keys(nC)]}getWebGLFeature(r){const n=lI[r];return typeof n=="string"?!!m0(this.gl,n,this.extensions):!!n}}class phe extends _oe{constructor(r){super();Ae(this,"gl");Ae(this,"limits",{});this.gl=r}get maxTextureDimension1D(){return 0}get maxTextureDimension2D(){return this.getParameter(3379)}get maxTextureDimension3D(){return this.getParameter(32883)}get maxTextureArrayLayers(){return this.getParameter(35071)}get maxBindGroups(){return 0}get maxDynamicUniformBuffersPerPipelineLayout(){return 0}get maxDynamicStorageBuffersPerPipelineLayout(){return 0}get maxSampledTexturesPerShaderStage(){return this.getParameter(35660)}get maxSamplersPerShaderStage(){return this.getParameter(35661)}get maxStorageBuffersPerShaderStage(){return 0}get maxStorageTexturesPerShaderStage(){return 0}get maxUniformBuffersPerShaderStage(){return this.getParameter(35375)}get maxUniformBufferBindingSize(){return this.getParameter(35376)}get maxStorageBufferBindingSize(){return 0}get minUniformBufferOffsetAlignment(){return this.getParameter(35380)}get minStorageBufferOffsetAlignment(){return 0}get maxVertexBuffers(){return 16}get maxVertexAttributes(){return this.getParameter(34921)}get maxVertexBufferArrayStride(){return 2048}get maxInterStageShaderVariables(){return this.getParameter(35659)}get maxComputeWorkgroupStorageSize(){return 0}get maxComputeInvocationsPerWorkgroup(){return 0}get maxComputeWorkgroupSizeX(){return 0}get maxComputeWorkgroupSizeY(){return 0}get maxComputeWorkgroupSizeZ(){return 0}get maxComputeWorkgroupsPerDimension(){return 0}getParameter(r){return this.limits[r]===void 0&&(this.limits[r]=this.gl.getParameter(r)),this.limits[r]||0}}class hg extends iy{constructor(r,n){super(r,n);Ae(this,"device");Ae(this,"gl");Ae(this,"handle");Ae(this,"colorAttachments",[]);Ae(this,"depthStencilAttachment",null);const i=n.handle===null;this.device=r,this.gl=r.gl,this.handle=this.props.handle||i?this.props.handle:this.gl.createFramebuffer(),i||(r._setWebGLDebugMetadata(this.handle,this,{spector:this.props}),this.autoCreateAttachmentTextures(),this.updateAttachments())}destroy(){super.destroy(),!this.destroyed&&this.handle!==null&&this.gl.deleteFramebuffer(this.handle)}updateAttachments(){const r=this.gl.bindFramebuffer(36160,this.handle);for(let n=0;n<this.colorAttachments.length;++n){const i=this.colorAttachments[n];if(i){const o=36064+n;this._attachTextureView(o,i)}}if(this.depthStencilAttachment){const n=fhe(this.depthStencilAttachment.props.format);this._attachTextureView(n,this.depthStencilAttachment)}if(this.device.props.debug){const n=this.gl.checkFramebufferStatus(36160);if(n!==36053)throw new Error(`Framebuffer ${mhe(n)}`)}this.gl.bindFramebuffer(36160,r)}_attachTextureView(r,n){const{gl:i}=this.device,{texture:o}=n,s=n.props.baseMipLevel,a=n.props.baseArrayLayer;switch(i.bindTexture(o.glTarget,o.handle),o.glTarget){case 35866:case 32879:i.framebufferTextureLayer(36160,r,o.handle,s,a);break;case 34067:const l=ghe(a);i.framebufferTexture2D(36160,r,l,o.handle,s);break;case 3553:i.framebufferTexture2D(36160,r,3553,o.handle,s);break;default:throw new Error("Illegal texture type")}i.bindTexture(o.glTarget,null)}}function ghe(t){return t<34069?t+34069:t}function mhe(t){switch(t){case 36053:return"success";case 36054:return"Mismatched attachments";case 36055:return"No attachments";case 36057:return"Height/width mismatch";case 36061:return"Unsupported or split attachments";case 36182:return"Samples mismatch";default:return`${t}`}}class vhe extends ty{constructor(r,n){super(n);Ae(this,"device");Ae(this,"handle",null);Ae(this,"_framebuffer",null);this.device=r,this._setAutoCreatedCanvasId(`${this.device.id}-canvas`),this._updateDevice()}get[Symbol.toStringTag](){return"WebGLCanvasContext"}getCurrentFramebuffer(){return this._framebuffer=this._framebuffer||new hg(this.device,{handle:null}),this._framebuffer}_updateDevice(){}}const Tw={};function yhe(t="id"){Tw[t]=Tw[t]||1;const e=Tw[t]++;return`${t}-${e}`}class dg extends ci{constructor(r,n={}){super(r,n);Ae(this,"device");Ae(this,"gl");Ae(this,"handle");Ae(this,"glTarget");Ae(this,"glUsage");Ae(this,"glIndexType",5123);Ae(this,"byteLength",0);Ae(this,"bytesUsed",0);this.device=r,this.gl=this.device.gl;const i=typeof n=="object"?n.handle:void 0;this.handle=i||this.gl.createBuffer(),r._setWebGLDebugMetadata(this.handle,this,{spector:{...this.props,data:typeof this.props.data}}),this.glTarget=bhe(this.props.usage),this.glUsage=_he(this.props.usage),this.glIndexType=this.props.indexType==="uint32"?5125:5123,n.data?this._initWithData(n.data,n.byteOffset,n.byteLength):this._initWithByteLength(n.byteLength||0)}destroy(){!this.destroyed&&this.handle&&(this.removeStats(),this.trackDeallocatedMemory(),this.gl.deleteBuffer(this.handle),this.destroyed=!0,this.handle=null)}_initWithData(r,n=0,i=r.byteLength+n){const o=this.glTarget;this.gl.bindBuffer(o,this.handle),this.gl.bufferData(o,i,this.glUsage),this.gl.bufferSubData(o,n,r),this.gl.bindBuffer(o,null),this.bytesUsed=i,this.byteLength=i,this._setDebugData(r,n,i),this.trackAllocatedMemory(i)}_initWithByteLength(r){let n=r;r===0&&(n=new Float32Array(0));const i=this.glTarget;return this.gl.bindBuffer(i,this.handle),this.gl.bufferData(i,n,this.glUsage),this.gl.bindBuffer(i,null),this.bytesUsed=r,this.byteLength=r,this._setDebugData(null,0,r),this.trackAllocatedMemory(r),this}write(r,n=0){const i=ArrayBuffer.isView(r)?r:new Uint8Array(r),o=36663;this.gl.bindBuffer(o,this.handle),this.gl.bufferSubData(o,n,i),this.gl.bindBuffer(o,null),this._setDebugData(r,n,r.byteLength)}async mapAndWriteAsync(r,n=0,i=this.byteLength-n){const o=new ArrayBuffer(i);await r(o,"copied"),this.write(o,n)}async readAsync(r=0,n){return this.readSyncWebGL(r,n)}async mapAndReadAsync(r,n=0,i){const o=await this.readAsync(n,i);return await r(o.buffer,"copied")}readSyncWebGL(r=0,n){n=n??this.byteLength-r;const i=new Uint8Array(n),o=0;return this.gl.bindBuffer(36662,this.handle),this.gl.getBufferSubData(36662,r,i,o,n),this.gl.bindBuffer(36662,null),this._setDebugData(i,r,n),i}}function bhe(t){return t&ci.INDEX?34963:t&ci.VERTEX?34962:t&ci.UNIFORM?35345:34962}function _he(t){return t&ci.INDEX||t&ci.VERTEX?35044:t&ci.UNIFORM?35048:35044}function whe(t){const e=t.split(/\r?\n/),r=[];for(const n of e){if(n.length<=1)continue;const i=n.split(":");if(i.length===2){const[g,_]=i;r.push({message:_.trim(),type:cI(g),lineNum:0,linePos:0});continue}const[o,s,a,...l]=i;let c=parseInt(a,10);isNaN(c)&&(c=0);let u=parseInt(s,10);isNaN(u)&&(u=0),r.push({message:l.join(":").trim(),type:cI(o),lineNum:c,linePos:u})}return r}function cI(t){const e=["warning","error","info"],r=t.toLowerCase();return e.includes(r)?r:"info"}class xhe extends ny{constructor(r,n){super(r,n);Ae(this,"device");Ae(this,"handle");switch(this.device=r,this.props.stage){case"vertex":this.handle=this.props.handle||this.device.gl.createShader(35633);break;case"fragment":this.handle=this.props.handle||this.device.gl.createShader(35632);break;default:throw new Error(this.props.stage)}r._setWebGLDebugMetadata(this.handle,this,{spector:this.props}),this._compile(this.source)}destroy(){this.handle&&(this.removeStats(),this.device.gl.deleteShader(this.handle),this.destroyed=!0,this.handle.destroyed=!0)}get asyncCompilationStatus(){return this._waitForCompilationComplete().then(()=>(this._getCompilationStatus(),this.compilationStatus))}async getCompilationInfo(){return await this._waitForCompilationComplete(),this.getCompilationInfoSync()}getCompilationInfoSync(){const r=this.device.gl.getShaderInfoLog(this.handle);return r?whe(r):[]}getTranslatedSource(){const n=this.device.getExtension("WEBGL_debug_shaders").WEBGL_debug_shaders;return(n==null?void 0:n.getTranslatedShaderSource(this.handle))||null}async _compile(r){r=r.startsWith("#version ")?r:`#version 300 es
${r}`;const{gl:n}=this.device;if(n.shaderSource(this.handle,r),n.compileShader(this.handle),!this.device.props.debug){this.compilationStatus="pending";return}if(!this.device.features.has("compilation-status-async-webgl")){if(this._getCompilationStatus(),this.debugShader(),this.compilationStatus==="error")throw new Error(`GLSL compilation errors in ${this.props.stage} shader ${this.props.id}`);return}St.once(1,"Shader compilation is asynchronous")(),await this._waitForCompilationComplete(),St.info(2,`Shader ${this.id} - async compilation complete: ${this.compilationStatus}`)(),this._getCompilationStatus(),this.debugShader()}async _waitForCompilationComplete(){const r=async o=>await new Promise(s=>setTimeout(s,o));if(!this.device.features.has("compilation-status-async-webgl")){await r(10);return}const{gl:i}=this.device;for(;;){if(i.getShaderParameter(this.handle,37297))return;await r(10)}}_getCompilationStatus(){this.compilationStatus=this.device.gl.getShaderParameter(this.handle,35713)?"success":"error"}}function She(t,e,r,n){if(Che(e))return n(t);const i=t;i.pushState();try{return Ehe(t,e),J0(i.gl,r),n(t)}finally{i.popState()}}function Ehe(t,e){const r=t,{gl:n}=r;if(e.cullMode)switch(e.cullMode){case"none":n.disable(2884);break;case"front":n.enable(2884),n.cullFace(1028);break;case"back":n.enable(2884),n.cullFace(1029);break}if(e.frontFace&&n.frontFace(fd("frontFace",e.frontFace,{ccw:2305,cw:2304})),e.unclippedDepth&&t.features.has("depth-clip-control")&&n.enable(34383),e.depthBias!==void 0&&(n.enable(32823),n.polygonOffset(e.depthBias,e.depthBiasSlopeScale||0)),e.provokingVertex&&t.features.has("provoking-vertex-webgl")){const o=r.getExtension("WEBGL_provoking_vertex").WEBGL_provoking_vertex,s=fd("provokingVertex",e.provokingVertex,{first:36429,last:36430});o==null||o.provokingVertexWEBGL(s)}if((e.polygonMode||e.polygonOffsetLine)&&t.features.has("polygon-mode-webgl")){if(e.polygonMode){const o=r.getExtension("WEBGL_polygon_mode").WEBGL_polygon_mode,s=fd("polygonMode",e.polygonMode,{fill:6914,line:6913});o==null||o.polygonModeWEBGL(1028,s),o==null||o.polygonModeWEBGL(1029,s)}e.polygonOffsetLine&&n.enable(10754)}if(t.features.has("shader-clip-cull-distance-webgl")&&(e.clipDistance0&&n.enable(12288),e.clipDistance1&&n.enable(12289),e.clipDistance2&&n.enable(12290),e.clipDistance3&&n.enable(12291),e.clipDistance4&&n.enable(12292),e.clipDistance5&&n.enable(12293),e.clipDistance6&&n.enable(12294),e.clipDistance7&&n.enable(12295)),e.depthWriteEnabled!==void 0&&n.depthMask(Phe("depthWriteEnabled",e.depthWriteEnabled)),e.depthCompare&&(e.depthCompare!=="always"?n.enable(2929):n.disable(2929),n.depthFunc(sE("depthCompare",e.depthCompare))),e.stencilWriteMask){const i=e.stencilWriteMask;n.stencilMaskSeparate(1028,i),n.stencilMaskSeparate(1029,i)}if(e.stencilReadMask&&St.warn("stencilReadMask not supported under WebGL"),e.stencilCompare){const i=e.stencilReadMask||4294967295,o=sE("depthCompare",e.stencilCompare);e.stencilCompare!=="always"?n.enable(2960):n.disable(2960),n.stencilFuncSeparate(1028,o,0,i),n.stencilFuncSeparate(1029,o,0,i)}if(e.stencilPassOperation&&e.stencilFailOperation&&e.stencilDepthFailOperation){const i=Pw("stencilPassOperation",e.stencilPassOperation),o=Pw("stencilFailOperation",e.stencilFailOperation),s=Pw("stencilDepthFailOperation",e.stencilDepthFailOperation);n.stencilOpSeparate(1028,o,s,i),n.stencilOpSeparate(1029,o,s,i)}switch(e.blend){case!0:n.enable(3042);break;case!1:n.disable(3042);break}if(e.blendColorOperation||e.blendAlphaOperation){const i=uI("blendColorOperation",e.blendColorOperation||"add"),o=uI("blendAlphaOperation",e.blendAlphaOperation||"add");n.blendEquationSeparate(i,o);const s=Vv("blendColorSrcFactor",e.blendColorSrcFactor||"one"),a=Vv("blendColorDstFactor",e.blendColorDstFactor||"zero"),l=Vv("blendAlphaSrcFactor",e.blendAlphaSrcFactor||"one"),c=Vv("blendAlphaDstFactor",e.blendAlphaDstFactor||"zero");n.blendFuncSeparate(s,a,l,c)}}function sE(t,e){return fd(t,e,{never:512,less:513,equal:514,"less-equal":515,greater:516,"not-equal":517,"greater-equal":518,always:519})}function Pw(t,e){return fd(t,e,{keep:7680,zero:0,replace:7681,invert:5386,"increment-clamp":7682,"decrement-clamp":7683,"increment-wrap":34055,"decrement-wrap":34056})}function uI(t,e){return fd(t,e,{add:32774,subtract:32778,"reverse-subtract":32779,min:32775,max:32776})}function Vv(t,e,r="color"){return fd(t,e,{one:1,zero:0,src:768,"one-minus-src":769,dst:774,"one-minus-dst":775,"src-alpha":770,"one-minus-src-alpha":771,"dst-alpha":772,"one-minus-dst-alpha":773,"src-alpha-saturated":776,constant:r==="color"?32769:32771,"one-minus-constant":r==="color"?32770:32772,src1:768,"one-minus-src1":769,"src1-alpha":770,"one-minus-src1-alpha":771})}function The(t,e){return`Illegal parameter ${e} for ${t}`}function fd(t,e,r){if(!(e in r))throw new Error(The(t,e));return r[e]}function Phe(t,e){return e}function Che(t){let e=!0;for(const r in t){e=!1;break}return e}function vz(t){const e={};return t.addressModeU&&(e[10242]=Cw(t.addressModeU)),t.addressModeV&&(e[10243]=Cw(t.addressModeV)),t.addressModeW&&(e[32882]=Cw(t.addressModeW)),t.magFilter&&(e[10240]=aE(t.magFilter)),(t.minFilter||t.mipmapFilter)&&(e[10241]=khe(t.minFilter||"linear",t.mipmapFilter)),t.lodMinClamp!==void 0&&(e[33082]=t.lodMinClamp),t.lodMaxClamp!==void 0&&(e[33083]=t.lodMaxClamp),t.type==="comparison-sampler"&&(e[34892]=34894),t.compare&&(e[34893]=sE("compare",t.compare)),t.maxAnisotropy&&(e[34046]=t.maxAnisotropy),e}function Cw(t){switch(t){case"clamp-to-edge":return 33071;case"repeat":return 10497;case"mirror-repeat":return 33648}}function aE(t){switch(t){case"nearest":return 9728;case"linear":return 9729}}function khe(t,e="none"){if(!e)return aE(t);switch(e){case"none":return aE(t);case"nearest":switch(t){case"nearest":return 9984;case"linear":return 9985}break;case"linear":switch(t){case"nearest":return 9986;case"linear":return 9987}}}class Ohe extends l0{constructor(r,n){super(r,n);Ae(this,"device");Ae(this,"handle");Ae(this,"parameters");this.device=r,this.parameters=vz(n),this.handle=n.handle||this.device.gl.createSampler(),this._setSamplerParameters(this.parameters)}destroy(){this.handle&&(this.device.gl.deleteSampler(this.handle),this.handle=void 0)}toString(){return`Sampler(${this.id},${JSON.stringify(this.props)})`}_setSamplerParameters(r){for(const[n,i]of Object.entries(r)){const o=Number(n);switch(o){case 33082:case 33083:this.device.gl.samplerParameterf(this.handle,o,i);break;default:this.device.gl.samplerParameteri(this.handle,o,i);break}}}}function Lg(t,e,r){if(Rhe(e))return r(t);const{nocatch:n=!0}=e,i=ud.get(t);i.push(),J0(t,e);let o;if(n)o=r(t),i.pop();else try{o=r(t)}finally{i.pop()}return o}function Rhe(t){for(const e in t)return!1;return!0}class FA extends ry{constructor(r,n){super(r,{...Va.defaultProps,...n});Ae(this,"device");Ae(this,"gl");Ae(this,"handle");Ae(this,"texture");this.device=r,this.gl=this.device.gl,this.handle=null,this.texture=n.texture}}class Ag extends Va{constructor(r,n){super(r,n);Ae(this,"device");Ae(this,"gl");Ae(this,"handle");Ae(this,"sampler");Ae(this,"view");Ae(this,"glTarget");Ae(this,"glFormat");Ae(this,"glType");Ae(this,"glInternalFormat");Ae(this,"compressed");Ae(this,"_textureUnit",0);this.device=r,this.gl=this.device.gl;const i=mz(this.props.format);this.glTarget=Ihe(this.props.dimension),this.glInternalFormat=i.internalFormat,this.glFormat=i.format,this.glType=i.type,this.compressed=i.compressed,this.handle=this.props.handle||this.gl.createTexture(),this.device._setWebGLDebugMetadata(this.handle,this,{spector:this.props}),this.gl.bindTexture(this.glTarget,this.handle);const{dimension:o,width:s,height:a,depth:l,mipLevels:c,glTarget:u,glInternalFormat:g}=this;switch(o){case"2d":case"cube":this.gl.texStorage2D(u,c,g,s,a);break;case"2d-array":case"3d":this.gl.texStorage3D(u,c,g,s,a,l);break;default:throw new Error(o)}this.gl.bindTexture(this.glTarget,null),this._initializeData(n.data),this.setSampler(this.props.sampler),this.view=new FA(this.device,{...this.props,texture:this}),Object.seal(this)}destroy(){this.handle&&(this.gl.deleteTexture(this.handle),this.removeStats(),this.trackDeallocatedMemory("Texture"),this.destroyed=!0)}createView(r){return new FA(this.device,{...r,texture:this})}setSampler(r={}){super.setSampler(r);const n=vz(this.sampler.props);this._setSamplerParameters(n)}copyImageData(r){const n=this._normalizeCopyImageDataOptions(r),i=n.data,{width:o,height:s,depth:a}=this,{mipLevel:l=0,byteOffset:c=0,x:u=0,y:g=0,z:_=0}=n,{glFormat:b,glType:P,compressed:E}=this,T=fI(this.glTarget,this.dimension,_);let O;if(!this.compressed){const{bytesPerPixel:N}=this.device.getTextureFormatInfo(this.format);if(N){if(n.bytesPerRow%N!==0)throw new Error(`bytesPerRow (${n.bytesPerRow}) must be a multiple of bytesPerPixel (${N}) for ${this.format}`);O=n.bytesPerRow/N}}const L=this.compressed?{}:{...O!==void 0?{3314:O}:{},32878:n.rowsPerImage};this.gl.bindTexture(T,this.handle),Lg(this.gl,L,()=>{switch(this.dimension){case"2d":case"cube":E?this.gl.compressedTexSubImage2D(T,l,u,g,o,s,b,i,c):this.gl.texSubImage2D(T,l,u,g,o,s,b,P,i,c);break;case"2d-array":case"3d":E?this.gl.compressedTexSubImage3D(T,l,u,g,_,o,s,a,b,i,c):this.gl.texSubImage3D(T,l,u,g,_,o,s,a,b,P,i,c);break;default:}}),this.gl.bindTexture(T,null)}copyExternalImage(r){const n=this._normalizeCopyExternalImageOptions(r);if(n.sourceX||n.sourceY)throw new Error("WebGL does not support sourceX/sourceY)");const{glFormat:i,glType:o}=this,{image:s,depth:a,mipLevel:l,x:c,y:u,z:g,width:_,height:b}=n,P=fI(this.glTarget,this.dimension,a),E=n.flipY?{37440:!0}:{};return this.gl.bindTexture(this.glTarget,this.handle),Lg(this.gl,E,()=>{switch(this.dimension){case"2d":case"cube":this.gl.texSubImage2D(P,l,c,u,_,b,i,o,s);break;case"2d-array":case"3d":this.gl.texSubImage3D(P,l,c,u,g,_,b,a,i,o,s);break;default:}}),this.gl.bindTexture(this.glTarget,null),{width:n.width,height:n.height}}generateMipmapsWebGL(r){if(!(!(this.device.isTextureFormatRenderable(this.props.format)&&this.device.isTextureFormatFilterable(this.props.format))&&(St.warn(`${this} is not renderable or filterable, may not be able to generate mipmaps`)(),!(r!=null&&r.force))))try{this.gl.bindTexture(this.glTarget,this.handle),this.gl.generateMipmap(this.glTarget)}catch(i){St.warn(`Error generating mipmap for ${this}: ${i.message}`)()}finally{this.gl.bindTexture(this.glTarget,null)}}_setSamplerParameters(r){St.log(2,`${this.id} sampler parameters`,this.device.getGLKeys(r))(),this.gl.bindTexture(this.glTarget,this.handle);for(const[n,i]of Object.entries(r)){const o=Number(n),s=i;switch(o){case 33082:case 33083:this.gl.texParameterf(this.glTarget,o,s);break;case 10240:case 10241:this.gl.texParameteri(this.glTarget,o,s);break;case 10242:case 10243:case 32882:this.gl.texParameteri(this.glTarget,o,s);break;case 34046:this.device.features.has("texture-filterable-anisotropic-webgl")&&this.gl.texParameteri(this.glTarget,o,s);break;case 34892:case 34893:this.gl.texParameteri(this.glTarget,o,s);break}}this.gl.bindTexture(this.glTarget,null)}_getActiveUnit(){return this.gl.getParameter(34016)-33984}_bind(r){const{gl:n}=this;return r!==void 0&&(this._textureUnit=r,n.activeTexture(33984+r)),n.bindTexture(this.glTarget,this.handle),r}_unbind(r){const{gl:n}=this;return r!==void 0&&(this._textureUnit=r,n.activeTexture(33984+r)),n.bindTexture(this.glTarget,null),r}}function Ihe(t){switch(t){case"1d":break;case"2d":return 3553;case"3d":return 32879;case"cube":return 34067;case"2d-array":return 35866}throw new Error(t)}function fI(t,e,r){return e==="cube"?34069+r:t}function Nhe(t){return Bhe[t]}function oC(t){return Dhe[t]}function Mhe(t){return!!yz[t]}function Lhe(t){return yz[t]}const Dhe={5126:"f32",35664:"vec2<f32>",35665:"vec3<f32>",35666:"vec4<f32>",5124:"i32",35667:"vec2<i32>",35668:"vec3<i32>",35669:"vec4<i32>",5125:"u32",36294:"vec2<u32>",36295:"vec3<u32>",36296:"vec4<u32>",35670:"f32",35671:"vec2<f32>",35672:"vec3<f32>",35673:"vec4<f32>",35674:"mat2x2<f32>",35685:"mat2x3<f32>",35686:"mat2x4<f32>",35687:"mat3x2<f32>",35675:"mat3x3<f32>",35688:"mat3x4<f32>",35689:"mat4x2<f32>",35690:"mat4x3<f32>",35676:"mat4x4<f32>"},yz={35678:{viewDimension:"2d",sampleType:"float"},35680:{viewDimension:"cube",sampleType:"float"},35679:{viewDimension:"3d",sampleType:"float"},35682:{viewDimension:"3d",sampleType:"depth"},36289:{viewDimension:"2d-array",sampleType:"float"},36292:{viewDimension:"2d-array",sampleType:"depth"},36293:{viewDimension:"cube",sampleType:"float"},36298:{viewDimension:"2d",sampleType:"sint"},36299:{viewDimension:"3d",sampleType:"sint"},36300:{viewDimension:"cube",sampleType:"sint"},36303:{viewDimension:"2d-array",sampleType:"uint"},36306:{viewDimension:"2d",sampleType:"uint"},36307:{viewDimension:"3d",sampleType:"uint"},36308:{viewDimension:"cube",sampleType:"uint"},36311:{viewDimension:"2d-array",sampleType:"uint"}},Bhe={uint8:5121,sint8:5120,unorm8:5121,snorm8:5120,uint16:5123,sint16:5122,unorm16:5123,snorm16:5122,uint32:5125,sint32:5124,float16:5131,float32:5126};function Fhe(t,e){const r={attributes:[],bindings:[]};r.attributes=jhe(t,e);const n=zhe(t,e);for(const a of n){const l=a.uniforms.map(c=>({name:c.name,format:c.format,byteOffset:c.byteOffset,byteStride:c.byteStride,arrayLength:c.arrayLength}));r.bindings.push({type:"uniform",name:a.name,group:0,location:a.location,visibility:(a.vertex?1:0)&(a.fragment?2:0),minBindingSize:a.byteLength,uniforms:l})}const i=$he(t,e);let o=0;for(const a of i)if(Mhe(a.type)){const{viewDimension:l,sampleType:c}=Lhe(a.type);r.bindings.push({type:"texture",name:a.name,group:0,location:o,viewDimension:l,sampleType:c}),a.textureUnit=o,o+=1}i.length&&(r.uniforms=i);const s=Uhe(t,e);return s!=null&&s.length&&(r.varyings=s),r}function jhe(t,e){const r=[],n=t.getProgramParameter(e,35721);for(let i=0;i<n;i++){const o=t.getActiveAttrib(e,i);if(!o)throw new Error("activeInfo");const{name:s,type:a}=o,l=t.getAttribLocation(e,s);if(l>=0){const c=oC(a),u=/instance/i.test(s)?"instance":"vertex";r.push({name:s,location:l,stepMode:u,type:c})}}return r.sort((i,o)=>i.location-o.location),r}function Uhe(t,e){const r=[],n=t.getProgramParameter(e,35971);for(let i=0;i<n;i++){const o=t.getTransformFeedbackVarying(e,i);if(!o)throw new Error("activeInfo");const{name:s,type:a,size:l}=o,c=oC(a),{type:u,components:g}=KU(c);r.push({location:i,name:s,type:u,size:l*g})}return r.sort((i,o)=>i.location-o.location),r}function $he(t,e){const r=[],n=t.getProgramParameter(e,35718);for(let i=0;i<n;i++){const o=t.getActiveUniform(e,i);if(!o)throw new Error("activeInfo");const{name:s,size:a,type:l}=o,{name:c,isArray:u}=Whe(s);let g=t.getUniformLocation(e,c);const _={location:g,name:c,size:a,type:l,isArray:u};if(r.push(_),_.size>1)for(let b=0;b<_.size;b++){const P=`${c}[${b}]`;g=t.getUniformLocation(e,P);const E={..._,name:P,location:g};r.push(E)}}return r}function zhe(t,e){const r=(o,s)=>t.getActiveUniformBlockParameter(e,o,s),n=[],i=t.getProgramParameter(e,35382);for(let o=0;o<i;o++){const s={name:t.getActiveUniformBlockName(e,o)||"",location:r(o,35391),byteLength:r(o,35392),vertex:r(o,35396),fragment:r(o,35398),uniformCount:r(o,35394),uniforms:[]},a=r(o,35395)||[],l=t.getActiveUniforms(e,a,35383),c=t.getActiveUniforms(e,a,35384),u=t.getActiveUniforms(e,a,35387),g=t.getActiveUniforms(e,a,35388);for(let _=0;_<s.uniformCount;++_){const b=t.getActiveUniform(e,a[_]);if(!b)throw new Error("activeInfo");const P=oC(l[_]);s.uniforms.push({name:b.name,format:P,type:l[_],arrayLength:c[_],byteOffset:u[_],byteStride:g[_]})}n.push(s)}return n.sort((o,s)=>o.location-s.location),n}function Whe(t){if(t[t.length-1]!=="]")return{name:t,length:1,isArray:!1};const r=/([^[]*)(\[[0-9]+\])?/.exec(t);if(!r||r.length<2)throw new Error(`Failed to parse GLSL uniform name ${t}`);return{name:r[1],length:r[2]?1:0,isArray:!!r[2]}}function Vhe(t,e,r,n){const i=t;let o=n;o===!0&&(o=1),o===!1&&(o=0);const s=typeof o=="number"?[o]:o;switch(r){case 35678:case 35680:case 35679:case 35682:case 36289:case 36292:case 36293:case 36298:case 36299:case 36300:case 36303:case 36306:case 36307:case 36308:case 36311:if(typeof n!="number")throw new Error("samplers must be set to integers");return t.uniform1i(e,n);case 5126:return t.uniform1fv(e,s);case 35664:return t.uniform2fv(e,s);case 35665:return t.uniform3fv(e,s);case 35666:return t.uniform4fv(e,s);case 5124:return t.uniform1iv(e,s);case 35667:return t.uniform2iv(e,s);case 35668:return t.uniform3iv(e,s);case 35669:return t.uniform4iv(e,s);case 35670:return t.uniform1iv(e,s);case 35671:return t.uniform2iv(e,s);case 35672:return t.uniform3iv(e,s);case 35673:return t.uniform4iv(e,s);case 5125:return i.uniform1uiv(e,s,1);case 36294:return i.uniform2uiv(e,s,2);case 36295:return i.uniform3uiv(e,s,3);case 36296:return i.uniform4uiv(e,s,4);case 35674:return t.uniformMatrix2fv(e,!1,s);case 35675:return t.uniformMatrix3fv(e,!1,s);case 35676:return t.uniformMatrix4fv(e,!1,s);case 35685:return i.uniformMatrix2x3fv(e,!1,s);case 35686:return i.uniformMatrix2x4fv(e,!1,s);case 35687:return i.uniformMatrix3x2fv(e,!1,s);case 35688:return i.uniformMatrix3x4fv(e,!1,s);case 35689:return i.uniformMatrix4x2fv(e,!1,s);case 35690:return i.uniformMatrix4x3fv(e,!1,s)}throw new Error("Illegal uniform")}function Hhe(t){switch(t){case"point-list":return 0;case"line-list":return 1;case"line-strip":return 3;case"triangle-list":return 4;case"triangle-strip":return 5;default:throw new Error(t)}}function qhe(t){switch(t){case"point-list":return 0;case"line-list":return 1;case"line-strip":return 1;case"triangle-list":return 4;case"triangle-strip":return 4;default:throw new Error(t)}}const hI=4;class Xhe extends ld{constructor(r,n){super(r,n);Ae(this,"device");Ae(this,"handle");Ae(this,"vs");Ae(this,"fs");Ae(this,"introspectedLayout");Ae(this,"uniforms",{});Ae(this,"bindings",{});Ae(this,"varyings",null);Ae(this,"_uniformCount",0);Ae(this,"_uniformSetters",{});this.device=r,this.handle=this.props.handle||this.device.gl.createProgram(),this.device._setWebGLDebugMetadata(this.handle,this,{spector:{id:this.props.id}}),this.vs=n.vs,this.fs=n.fs;const{varyings:i,bufferMode:o=35981}=n;i&&i.length>0&&(this.varyings=i,this.device.gl.transformFeedbackVaryings(this.handle,i,o)),this._linkShaders(),St.time(3,`RenderPipeline ${this.id} - shaderLayout introspection`)(),this.introspectedLayout=Fhe(this.device.gl,this.handle),St.timeEnd(3,`RenderPipeline ${this.id} - shaderLayout introspection`)(),this.shaderLayout=n.shaderLayout?Yhe(this.introspectedLayout,n.shaderLayout):this.introspectedLayout}get[Symbol.toStringTag](){return"WEBGLRenderPipeline"}destroy(){this.handle&&(this.device.gl.useProgram(null),this.device.gl.deleteProgram(this.handle),this.destroyed=!0,this.handle.destroyed=!0,this.handle=null)}setBindings(r,n){for(const[i,o]of Object.entries(r)){const s=this.shaderLayout.bindings.find(a=>a.name===i)||this.shaderLayout.bindings.find(a=>a.name===`${i}Uniforms`);if(!s){const a=this.shaderLayout.bindings.map(l=>`"${l.name}"`).join(", ");n!=null&&n.disableWarnings||St.warn(`No binding "${i}" in render pipeline "${this.id}", expected one of ${a}`,o)();continue}switch(o||St.warn(`Unsetting binding "${i}" in render pipeline "${this.id}"`)(),s.type){case"uniform":if(!(o instanceof dg)&&!(o.buffer instanceof dg))throw new Error("buffer value");break;case"texture":if(!(o instanceof FA||o instanceof Ag||o instanceof hg))throw new Error(`${this} Bad texture binding for ${i}`);break;case"sampler":St.warn(`Ignoring sampler ${i}`)();break;default:throw new Error(s.type)}this.bindings[i]=o}}draw(r){var T;const{renderPass:n,parameters:i=this.props.parameters,topology:o=this.props.topology,vertexArray:s,vertexCount:a,instanceCount:l,isInstanced:c=!1,firstVertex:u=0,transformFeedback:g}=r,_=Hhe(o),b=!!s.indexBuffer,P=(T=s.indexBuffer)==null?void 0:T.glIndexType;if(this.linkStatus!=="success")return St.info(2,`RenderPipeline:${this.id}.draw() aborted - waiting for shader linking`)(),!1;if(!this._areTexturesRenderable())return St.info(2,`RenderPipeline:${this.id}.draw() aborted - textures not yet loaded`)(),!1;this.device.gl.useProgram(this.handle),s.bindBeforeRender(n),g&&g.begin(this.props.topology),this._applyBindings(),this._applyUniforms();const E=n;return She(this.device,i,E.glParameters,()=>{b&&c?this.device.gl.drawElementsInstanced(_,a||0,P,u,l||0):b?this.device.gl.drawElements(_,a||0,P,u):c?this.device.gl.drawArraysInstanced(_,u,a||0,l||0):this.device.gl.drawArrays(_,u,a||0),g&&g.end()}),s.unbindAfterRender(n),!0}async _linkShaders(){const{gl:r}=this.device;if(r.attachShader(this.handle,this.vs.handle),r.attachShader(this.handle,this.fs.handle),St.time(hI,`linkProgram for ${this.id}`)(),r.linkProgram(this.handle),St.timeEnd(hI,`linkProgram for ${this.id}`)(),St.level,!this.device.features.has("compilation-status-async-webgl")){const i=this._getLinkStatus();this._reportLinkStatus(i);return}St.once(1,"RenderPipeline linking is asynchronous")(),await this._waitForLinkComplete(),St.info(2,`RenderPipeline ${this.id} - async linking complete: ${this.linkStatus}`)();const n=this._getLinkStatus();this._reportLinkStatus(n)}async _reportLinkStatus(r){var n;switch(r){case"success":return;default:const i=r==="link-error"?"Link error":"Validation error";switch(this.vs.compilationStatus){case"error":throw this.vs.debugShader(),new Error(`${this} ${i} during compilation of ${this.vs}`);case"pending":await this.vs.asyncCompilationStatus,this.vs.debugShader();break}switch((n=this.fs)==null?void 0:n.compilationStatus){case"error":throw this.fs.debugShader(),new Error(`${this} ${i} during compilation of ${this.fs}`);case"pending":await this.fs.asyncCompilationStatus,this.fs.debugShader();break}const o=this.device.gl.getProgramInfoLog(this.handle);this.device.reportError(new Error(`${i} during ${r}: ${o}`),this)(),this.device.debug()}}_getLinkStatus(){const{gl:r}=this.device;return r.getProgramParameter(this.handle,35714)?(r.validateProgram(this.handle),r.getProgramParameter(this.handle,35715)?(this.linkStatus="success","success"):(this.linkStatus="error","validation-error")):(this.linkStatus="error","link-error")}async _waitForLinkComplete(){const r=async o=>await new Promise(s=>setTimeout(s,o));if(!this.device.features.has("compilation-status-async-webgl")){await r(10);return}const{gl:i}=this.device;for(;;){if(i.getProgramParameter(this.handle,37297))return;await r(10)}}_areTexturesRenderable(){let r=!0;for(const n of this.shaderLayout.bindings)!this.bindings[n.name]&&!this.bindings[n.name.replace(/Uniforms$/,"")]&&(St.warn(`Binding ${n.name} not found in ${this.id}`)(),r=!1);return r}_applyBindings(){if(this.linkStatus!=="success")return;const{gl:r}=this.device;r.useProgram(this.handle);let n=0,i=0;for(const o of this.shaderLayout.bindings){const s=this.bindings[o.name]||this.bindings[o.name.replace(/Uniforms$/,"")];if(!s)throw new Error(`No value for binding ${o.name} in ${this.id}`);switch(o.type){case"uniform":const{name:a}=o,l=r.getUniformBlockIndex(this.handle,a);if(l===4294967295)throw new Error(`Invalid uniform block name ${a}`);r.uniformBlockBinding(this.handle,i,l),s instanceof dg?r.bindBufferBase(35345,i,s.handle):r.bindBufferRange(35345,i,s.buffer.handle,s.offset||0,s.size||s.buffer.byteLength-s.offset),i+=1;break;case"texture":if(!(s instanceof FA||s instanceof Ag||s instanceof hg))throw new Error("texture");let c;if(s instanceof FA)c=s.texture;else if(s instanceof Ag)c=s;else if(s instanceof hg&&s.colorAttachments[0]instanceof FA)St.warn("Passing framebuffer in texture binding may be deprecated. Use fbo.colorAttachments[0] instead")(),c=s.colorAttachments[0].texture;else throw new Error("No texture");r.activeTexture(33984+n),r.bindTexture(c.glTarget,c.handle),n+=1;break;case"sampler":break;case"storage":case"read-only-storage":throw new Error(`binding type '${o.type}' not supported in WebGL`)}}}_applyUniforms(){for(const r of this.shaderLayout.uniforms||[]){const{name:n,location:i,type:o,textureUnit:s}=r,a=this.uniforms[n]??s;a!==void 0&&Vhe(this.device.gl,i,o,a)}}}function Yhe(t,e){const r={...t,attributes:t.attributes.map(n=>({...n}))};for(const n of(e==null?void 0:e.attributes)||[]){const i=r.attributes.find(o=>o.name===n.name);i?(i.type=n.type||i.type,i.stepMode=n.stepMode||i.stepMode):St.warn(`shader layout attribute ${n.name} not present in shader`)}return r}class Khe extends L4{constructor(r){super(r,{});Ae(this,"device");Ae(this,"handle",null);Ae(this,"commands",[]);this.device=r}_executeCommands(r=this.commands){for(const n of r)switch(n.name){case"copy-buffer-to-buffer":Ghe(this.device,n.options);break;case"copy-buffer-to-texture":Qhe(this.device,n.options);break;case"copy-texture-to-buffer":Zhe(this.device,n.options);break;case"copy-texture-to-texture":Jhe(this.device,n.options);break;default:throw new Error(n.name)}}}function Ghe(t,e){const r=e.sourceBuffer,n=e.destinationBuffer;t.gl.bindBuffer(36662,r.handle),t.gl.bindBuffer(36663,n.handle),t.gl.copyBufferSubData(36662,36663,e.sourceOffset??0,e.destinationOffset??0,e.size),t.gl.bindBuffer(36662,null),t.gl.bindBuffer(36663,null)}function Qhe(t,e){throw new Error("Not implemented")}function Zhe(t,e){const{sourceTexture:r,mipLevel:n=0,aspect:i="all",width:o=e.sourceTexture.width,height:s=e.sourceTexture.height,depthOrArrayLayers:a=0,origin:l=[0,0],destinationBuffer:c,byteOffset:u=0,bytesPerRow:g,rowsPerImage:_}=e;if(i!=="all")throw new Error("aspect not supported in WebGL");if(n!==0||a!==0||g||_)throw new Error("not implemented");const{framebuffer:b,destroyFramebuffer:P}=bz(r);let E;try{const T=c,O=o||b.width,L=s||b.height,N=mz(b.colorAttachments[0].texture.props.format),D=N.format,B=N.type;t.gl.bindBuffer(35051,T.handle),E=t.gl.bindFramebuffer(36160,b.handle),t.gl.readPixels(l[0],l[1],O,L,D,B,u)}finally{t.gl.bindBuffer(35051,null),E!==void 0&&t.gl.bindFramebuffer(36160,E),P&&b.destroy()}}function Jhe(t,e){const{sourceTexture:r,destinationMipLevel:n=0,origin:i=[0,0],destinationOrigin:o=[0,0],destinationTexture:s}=e;let{width:a=e.destinationTexture.width,height:l=e.destinationTexture.height}=e;const{framebuffer:c,destroyFramebuffer:u}=bz(r),[g,_]=i,[b,P,E]=o,T=t.gl.bindFramebuffer(36160,c.handle);let O,L;if(s instanceof Ag)O=s,a=Number.isFinite(a)?a:O.width,l=Number.isFinite(l)?l:O.height,O._bind(0),L=O.glTarget;else throw new Error("invalid destination");switch(L){case 3553:case 34067:t.gl.copyTexSubImage2D(L,n,b,P,g,_,a,l);break;case 35866:case 32879:t.gl.copyTexSubImage3D(L,n,b,P,E,g,_,a,l);break}O&&O._unbind(),t.gl.bindFramebuffer(36160,T),u&&c.destroy()}function bz(t){if(t instanceof Va){const{width:e,height:r,id:n}=t;return{framebuffer:t.device.createFramebuffer({id:`framebuffer-for-${n}`,width:e,height:r,colorAttachments:[t]}),destroyFramebuffer:!0}}return{framebuffer:t,destroyFramebuffer:!1}}const ede=[1,2,4,8];class tde extends N4{constructor(r,n){var s;super(r,n);Ae(this,"device");Ae(this,"handle",null);Ae(this,"glParameters",{});this.device=r;let i;if(!((s=n==null?void 0:n.parameters)!=null&&s.viewport))if(n!=null&&n.framebuffer){const{width:a,height:l}=n.framebuffer;i=[0,0,a,l]}else{const[a,l]=r.getDefaultCanvasContext().getDrawingBufferSize();i=[0,0,a,l]}this.device.pushState(),this.setParameters({viewport:i,...this.props.parameters});const o=this.props.framebuffer;if(this.props.framebuffer&&(o!=null&&o.handle)){const a=this.props.framebuffer.colorAttachments.map((l,c)=>36064+c);this.device.gl.drawBuffers(a)}else this.device.gl.drawBuffers([1029]);this.clear()}end(){this.device.popState()}pushDebugGroup(r){}popDebugGroup(){}insertDebugMarker(r){}setParameters(r={}){const n={...this.glParameters};n.framebuffer=this.props.framebuffer||null,this.props.depthReadOnly&&(n.depthMask=!this.props.depthReadOnly),n.stencilMask=this.props.stencilReadOnly?0:1,n[35977]=this.props.discard,r.viewport&&(r.viewport.length>=6?(n.viewport=r.viewport.slice(0,4),n.depthRange=[r.viewport[4],r.viewport[5]]):n.viewport=r.viewport),r.scissorRect&&(n.scissorTest=!0,n.scissor=r.scissorRect),r.blendConstant&&(n.blendColor=r.blendConstant),r.stencilReference&&(console.warn("RenderPassParameters.stencilReference not yet implemented in WebGL"),n[2967]=r.stencilReference),"colorMask"in r&&(n.colorMask=ede.map(i=>!!(i&r.colorMask))),this.glParameters=n,J0(this.device.gl,n)}beginOcclusionQuery(r){const n=this.props.occlusionQuerySet;n==null||n.beginOcclusionQuery()}endOcclusionQuery(){const r=this.props.occlusionQuerySet;r==null||r.endOcclusionQuery()}clear(){const r={...this.glParameters};let n=0;this.props.clearColors&&this.props.clearColors.forEach((i,o)=>{i&&this.clearColorBuffer(o,i)}),this.props.clearColor!==!1&&this.props.clearColors===void 0&&(n|=16384,r.clearColor=this.props.clearColor),this.props.clearDepth!==!1&&(n|=256,r.clearDepth=this.props.clearDepth),this.props.clearStencil!==!1&&(n|=1024,r.clearStencil=this.props.clearStencil),n!==0&&Lg(this.device.gl,r,()=>{this.device.gl.clear(n)})}clearColorBuffer(r=0,n=[0,0,0,0]){Lg(this.device.gl,{framebuffer:this.props.framebuffer},()=>{switch(n.constructor){case Int8Array:case Int16Array:case Int32Array:this.device.gl.clearBufferiv(6144,r,n);break;case Uint8Array:case Uint8ClampedArray:case Uint16Array:case Uint32Array:this.device.gl.clearBufferuiv(6144,r,n);break;case Float32Array:this.device.gl.clearBufferfv(6144,r,n);break;default:throw new Error("clearColorBuffer: color must be typed array")}})}}class dI extends M4{constructor(r,n){super(r,n);Ae(this,"device");Ae(this,"handle",null);Ae(this,"commandBuffer");this.device=r,this.commandBuffer=new Khe(r)}destroy(){}finish(){return this.commandBuffer}beginRenderPass(r){return new tde(this.device,r)}beginComputePass(r){throw new Error("ComputePass not supported in WebGL")}copyBufferToBuffer(r){this.commandBuffer.commands.push({name:"copy-buffer-to-buffer",options:r})}copyBufferToTexture(r){this.commandBuffer.commands.push({name:"copy-buffer-to-texture",options:r})}copyTextureToBuffer(r){this.commandBuffer.commands.push({name:"copy-texture-to-buffer",options:r})}copyTextureToTexture(r){this.commandBuffer.commands.push({name:"copy-texture-to-texture",options:r})}pushDebugGroup(r){}popDebugGroup(){}insertDebugMarker(r){}resolveQuerySet(r,n,i){}}function rde(t){const{target:e,source:r,start:n=0,count:i=1}=t,o=r.length,s=i*o;let a=0;for(let l=n;a<o;a++)e[l++]=r[a];for(;a<s;)a<s-a?(e.copyWithin(n+a,n,n+a),a*=2):(e.copyWithin(n+a,n,n+s-a),a=s);return t.target}class sC extends D4{constructor(r,n){super(r,n);Ae(this,"device");Ae(this,"handle");Ae(this,"buffer",null);Ae(this,"bufferValue",null);this.device=r,this.handle=this.device.gl.createVertexArray()}get[Symbol.toStringTag](){return"VertexArray"}static isConstantAttributeZeroSupported(r){return ore()==="Chrome"}destroy(){var r;super.destroy(),this.buffer&&((r=this.buffer)==null||r.destroy()),this.handle&&(this.device.gl.deleteVertexArray(this.handle),this.handle=void 0)}setIndexBuffer(r){const n=r;if(n&&n.glTarget!==34963)throw new Error("Use .setBuffer()");this.device.gl.bindVertexArray(this.handle),this.device.gl.bindBuffer(34963,n?n.handle:null),this.indexBuffer=n,this.device.gl.bindVertexArray(null)}setBuffer(r,n){const i=n;if(i.glTarget===34963)throw new Error("Use .setIndexBuffer()");const{size:o,type:s,stride:a,offset:l,normalized:c,integer:u,divisor:g}=this._getAccessor(r);this.device.gl.bindVertexArray(this.handle),this.device.gl.bindBuffer(34962,i.handle),u?this.device.gl.vertexAttribIPointer(r,o,s,a,l):this.device.gl.vertexAttribPointer(r,o,s,c,a,l),this.device.gl.bindBuffer(34962,null),this.device.gl.enableVertexAttribArray(r),this.device.gl.vertexAttribDivisor(r,g||0),this.attributes[r]=i,this.device.gl.bindVertexArray(null)}setConstantWebGL(r,n){this._enable(r,!1),this.attributes[r]=n}bindBeforeRender(){this.device.gl.bindVertexArray(this.handle),this._applyConstantAttributes()}unbindAfterRender(){this.device.gl.bindVertexArray(null)}_applyConstantAttributes(){for(let r=0;r<this.maxVertexAttributes;++r){const n=this.attributes[r];ArrayBuffer.isView(n)&&this.device.setConstantAttributeWebGL(r,n)}}_getAccessor(r){const n=this.attributeInfos[r];if(!n)throw new Error(`Unknown attribute location ${r}`);const i=gz(n.bufferDataType);return{size:n.bufferComponents,type:i,stride:n.byteStride,offset:n.byteOffset,normalized:n.normalized,integer:n.integer,divisor:n.stepMode==="instance"?1:0}}_enable(r,n=!0){const o=sC.isConstantAttributeZeroSupported(this.device)||r!==0;(n||o)&&(r=Number(r),this.device.gl.bindVertexArray(this.handle),n?this.device.gl.enableVertexAttribArray(r):this.device.gl.disableVertexAttribArray(r),this.device.gl.bindVertexArray(null))}getConstantBuffer(r,n){const i=nde(n),o=i.byteLength*r,s=i.length*r;if(this.buffer&&o!==this.buffer.byteLength)throw new Error(`Buffer size is immutable, byte length ${o} !== ${this.buffer.byteLength}.`);let a=!this.buffer;if(this.buffer=this.buffer||this.device.createBuffer({byteLength:o}),a||(a=!ide(i,this.bufferValue)),a){const l=Qoe(n.constructor,s);rde({target:l,source:i,start:0,count:s}),this.buffer.write(l),this.bufferValue=n}return this.buffer}}function nde(t){return Array.isArray(t)?new Float32Array(t):t}function ide(t,e){if(!t||!e||t.length!==e.length||t.constructor!==e.constructor)return!1;for(let r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}class ode extends B4{constructor(r,n){super(r,n);Ae(this,"device");Ae(this,"gl");Ae(this,"handle");Ae(this,"layout");Ae(this,"buffers",{});Ae(this,"unusedBuffers",{});Ae(this,"bindOnUse",!0);Ae(this,"_bound",!1);this.device=r,this.gl=r.gl,this.handle=this.props.handle||this.gl.createTransformFeedback(),this.layout=this.props.layout,n.buffers&&this.setBuffers(n.buffers),Object.seal(this)}destroy(){this.gl.deleteTransformFeedback(this.handle),super.destroy()}begin(r="point-list"){this.gl.bindTransformFeedback(36386,this.handle),this.bindOnUse&&this._bindBuffers(),this.gl.beginTransformFeedback(qhe(r))}end(){this.gl.endTransformFeedback(),this.bindOnUse&&this._unbindBuffers(),this.gl.bindTransformFeedback(36386,null)}setBuffers(r){this.buffers={},this.unusedBuffers={},this.bind(()=>{for(const n in r)this.setBuffer(n,r[n])})}setBuffer(r,n){const i=this._getVaryingIndex(r),{buffer:o,byteLength:s,byteOffset:a}=this._getBufferRange(n);if(i<0){this.unusedBuffers[r]=o,St.warn(`${this.id} unusedBuffers varying buffer ${r}`)();return}this.buffers[i]={buffer:o,byteLength:s,byteOffset:a},this.bindOnUse||this._bindBuffer(i,o,a,s)}getBuffer(r){if(AI(r))return this.buffers[r]||null;const n=this._getVaryingIndex(r);return n>=0?this.buffers[n]:null}bind(r=this.handle){if(typeof r!="function")return this.gl.bindTransformFeedback(36386,r),this;let n;return this._bound?n=r():(this.gl.bindTransformFeedback(36386,this.handle),this._bound=!0,n=r(),this._bound=!1,this.gl.bindTransformFeedback(36386,null)),n}unbind(){this.bind(null)}_getBufferRange(r){if(r instanceof dg)return{buffer:r,byteOffset:0,byteLength:r.byteLength};const{buffer:n,byteOffset:i=0,byteLength:o=r.buffer.byteLength}=r;return{buffer:n,byteOffset:i,byteLength:o}}_getVaryingIndex(r){if(AI(r))return Number(r);for(const n of this.layout.varyings||[])if(r===n.name)return n.location;return-1}_bindBuffers(){for(const r in this.buffers){const{buffer:n,byteLength:i,byteOffset:o}=this._getBufferRange(this.buffers[r]);this._bindBuffer(Number(r),n,o,i)}}_unbindBuffers(){for(const r in this.buffers)this.gl.bindBufferBase(35982,Number(r),null)}_bindBuffer(r,n,i=0,o){const s=n&&n.handle;!s||o===void 0?this.gl.bindBufferBase(35982,r,s):this.gl.bindBufferRange(35982,r,s,i,o)}}function AI(t){return typeof t=="number"?Number.isInteger(t):/^\d+$/.test(t)}class sde extends F4{constructor(r,n){super(r,n);Ae(this,"device");Ae(this,"handle");Ae(this,"target",null);Ae(this,"_queryPending",!1);Ae(this,"_pollingPromise",null);if(this.device=r,n.count>1)throw new Error("WebGL QuerySet can only have one value");const i=this.device.gl.createQuery();if(!i)throw new Error("WebGL query not supported");this.handle=i,Object.seal(this)}get[Symbol.toStringTag](){return"Query"}destroy(){this.device.gl.deleteQuery(this.handle)}beginTimestampQuery(){return this._begin(35007)}endTimestampQuery(){this._end()}beginOcclusionQuery(r){return this._begin(r!=null&&r.conservative?36202:35887)}endOcclusionQuery(){this._end()}beginTransformFeedbackQuery(){return this._begin(35976)}endTransformFeedbackQuery(){this._end()}async resolveQuery(){return[await this.pollQuery()]}_begin(r){this._queryPending||(this.target=r,this.device.gl.beginQuery(this.target,this.handle))}_end(){this._queryPending||this.target&&(this.device.gl.endQuery(this.target),this.target=null,this._queryPending=!0)}isResultAvailable(){if(!this._queryPending)return!1;const r=this.device.gl.getQueryParameter(this.handle,34919);return r&&(this._queryPending=!1),r}isTimerDisjoint(){return this.device.gl.getParameter(36795)}getResult(){return this.device.gl.getQueryParameter(this.handle,34918)}getTimerMilliseconds(){return this.getResult()/1e6}pollQuery(r=Number.POSITIVE_INFINITY){if(this._pollingPromise)return this._pollingPromise;let n=0;return this._pollingPromise=new Promise((i,o)=>{const s=()=>{this.isResultAvailable()?(i(this.getResult()),this._pollingPromise=null):n++>r?(o("Timed out"),this._pollingPromise=null):requestAnimationFrame(s)};requestAnimationFrame(s)}),this._pollingPromise}}function _z(t){switch(t){case 6406:case 33326:case 6403:case 36244:return 1;case 33339:case 33340:case 33328:case 33320:case 33319:return 2;case 6407:case 36248:case 34837:return 3;case 6408:case 36249:case 34836:return 4;default:return 0}}function ade(t){switch(t){case 5121:return 1;case 33635:case 32819:case 32820:return 2;case 5126:return 4;default:return 0}}function lde(t){return cde[t]}const cde={5124:"sint32",5125:"uint32",5122:"sint16",5123:"uint16",5120:"sint8",5121:"uint8",5126:"float32",5131:"float16",33635:"uint16",32819:"uint16",32820:"uint16",33640:"uint32",35899:"uint32",35902:"uint32",34042:"uint32",36269:"uint32"};function ude(t,e){var L;const{sourceX:r=0,sourceY:n=0,sourceAttachment:i=0}=e||{};let{target:o=null,sourceWidth:s,sourceHeight:a,sourceDepth:l,sourceFormat:c,sourceType:u}=e||{};const{framebuffer:g,deleteFramebuffer:_}=wz(t),{gl:b,handle:P}=g;s||(s=g.width),a||(a=g.height);const E=(L=g.colorAttachments[i])==null?void 0:L.texture;if(!E)throw new Error(`Invalid framebuffer attachment ${i}`);l=(E==null?void 0:E.depth)||1,c||(c=(E==null?void 0:E.glFormat)||6408),u||(u=(E==null?void 0:E.glType)||5121),o=dde(o,u,c,s,a);const T=BP(o);u=u||Nhe(T);const O=b.bindFramebuffer(36160,P);return b.readBuffer(36064+i),b.readPixels(r,n,s,a,c,u,o),b.readBuffer(36064),b.bindFramebuffer(36160,O||null),_&&g.destroy(),o}function fde(t,e){const{target:r,sourceX:n=0,sourceY:i=0,sourceFormat:o=6408,targetByteOffset:s=0}=e||{};let{sourceWidth:a,sourceHeight:l,sourceType:c}=e||{};const{framebuffer:u,deleteFramebuffer:g}=wz(t);a=a||u.width,l=l||u.height;const _=u;c=c||5121;let b=r;if(!b){const E=_z(o),T=ade(c),O=s+a*l*E*T;b=_.device.createBuffer({byteLength:O})}const P=t.device.createCommandEncoder();return P.copyTextureToBuffer({sourceTexture:t,width:a,height:l,origin:[n,i],destinationBuffer:b,byteOffset:s}),P.destroy(),g&&u.destroy(),b}function wz(t){return t instanceof iy?{framebuffer:t,deleteFramebuffer:!1}:{framebuffer:hde(t),deleteFramebuffer:!0}}function hde(t,e){const{device:r,width:n,height:i,id:o}=t;return r.createFramebuffer({...e,id:`framebuffer-for-${o}`,width:n,height:i,colorAttachments:[t]})}function dde(t,e,r,n,i,o){if(t)return t;e||(e=5121);const s=lde(e),a=FP(s),l=_z(r);return new a(n*i*l)}class lE extends wd{constructor(r){var g,_;super({...r,id:r.id||yhe("webgl-device")});Ae(this,"type","webgl");Ae(this,"handle");Ae(this,"features");Ae(this,"limits");Ae(this,"info");Ae(this,"canvasContext");Ae(this,"preferredColorFormat","rgba8unorm");Ae(this,"preferredDepthFormat","depth24plus");Ae(this,"commandEncoder");Ae(this,"lost");Ae(this,"_resolveContextLost");Ae(this,"gl");Ae(this,"_constants");Ae(this,"_extensions",{});Ae(this,"_polyfilled",!1);Ae(this,"spectorJS");const n=wd._getCanvasContextProps(r);if(!n)throw new Error("WebGLDevice requires props.createCanvasContext to be set");let i=(_=(g=n.canvas)==null?void 0:g.gl)==null?void 0:_.device;if(i)throw new Error(`WebGL context already attached to device ${i.id}`);this.canvasContext=new vhe(this,n),this.lost=new Promise(b=>{this._resolveContextLost=b});const o={...r.webgl};n.alphaMode==="premultiplied"&&(o.premultipliedAlpha=!0),r.powerPreference!==void 0&&(o.powerPreference=r.powerPreference);const a=this.props._handle||Zfe(this.canvasContext.canvas,{onContextLost:b=>{var P;return(P=this._resolveContextLost)==null?void 0:P.call(this,{reason:"destroyed",message:"Entered sleep mode, or too many apps or browser tabs are using the GPU."})},onContextRestored:b=>console.log("WebGL context restored")},o);if(!a)throw new Error("WebGL context creation failed");if(i=a.device,i){if(r._reuseDevices)return St.log(1,`Not creating a new Device, instead returning a reference to Device ${i.id} already attached to WebGL context`,i)(),i._reused=!0,i;throw new Error(`WebGL context already attached to device ${i.id}`)}this.handle=a,this.gl=a,this.spectorJS=Mfe({...this.props,gl:this.handle}),this.gl.device=this,this.gl._version=2,this.info=Jfe(this.gl,this._extensions),this.limits=new phe(this.gl),this.features=new Ahe(this.gl,this._extensions,this.props._disabledFeatures),this.props._initializeFeatures&&this.features.initializeFeatures(),new ud(this.gl,{log:(...b)=>St.log(1,...b)()}).trackState(this.gl,{copyState:!1});const c=r.debugWebGL||r.debug,u=r.debugWebGL;c&&(this.gl=Bfe(this.gl,{debugWebGL:c,traceWebGL:u}),St.warn("WebGL debug mode activated. Performance reduced.")(),r.debugWebGL&&(St.level=Math.max(St.level,1))),this.commandEncoder=new dI(this,{id:`${this}-command-encoder`})}get[Symbol.toStringTag](){return"WebGLDevice"}toString(){return`${this[Symbol.toStringTag]}(${this.id})`}isVertexFormatSupported(r){switch(r){case"unorm8x4-bgra":return!1;default:return!0}}destroy(){!this.props._reuseDevices&&!this._reused&&delete this.gl.device}get isLost(){return this.gl.isContextLost()}getTextureByteAlignment(){return 4}createCanvasContext(r){throw new Error("WebGL only supports a single canvas")}createBuffer(r){const n=this._normalizeBufferProps(r);return new dg(this,n)}createTexture(r){return new Ag(this,r)}createExternalTexture(r){throw new Error("createExternalTexture() not implemented")}createSampler(r){return new Ohe(this,r)}createShader(r){return new xhe(this,r)}createFramebuffer(r){return new hg(this,r)}createVertexArray(r){return new sC(this,r)}createTransformFeedback(r){return new ode(this,r)}createQuerySet(r){return new sde(this,r)}createRenderPipeline(r){return new Xhe(this,r)}createComputePipeline(r){throw new Error("ComputePipeline not supported in WebGL")}createCommandEncoder(r={}){return new dI(this,r)}submit(r){r||(r=this.commandEncoder.finish(),this.commandEncoder.destroy(),this.commandEncoder=this.createCommandEncoder({id:`${this.id}-default-encoder`})),r._executeCommands()}readPixelsToArrayWebGL(r,n){return ude(r,n)}readPixelsToBufferWebGL(r,n){return fde(r,n)}setParametersWebGL(r){J0(this.gl,r)}getParametersWebGL(r){return Az(this.gl,r)}withParametersWebGL(r,n){return Lg(this.gl,r,n)}resetWebGL(){St.warn("WebGLDevice.resetWebGL is deprecated, use only for debugging")(),Xfe(this.gl)}_getDeviceSpecificTextureFormatCapabilities(r){return uhe(this.gl,r,this._extensions)}loseDevice(){var o;let r=!1;const i=this.getExtension("WEBGL_lose_context").WEBGL_lose_context;return i&&(r=!0,i.loseContext()),(o=this._resolveContextLost)==null||o.call(this,{reason:"destroyed",message:"Application triggered context loss"}),r}pushState(){ud.get(this.gl).push()}popState(){ud.get(this.gl).pop()}getGLKey(r,n){const i=Number(r);for(const o in this.gl)if(this.gl[o]===i)return`GL.${o}`;return n!=null&&n.emptyIfUnknown?"":String(r)}getGLKeys(r){const n={emptyIfUnknown:!0};return Object.entries(r).reduce((i,[o,s])=>(i[`${o}:${this.getGLKey(o,n)}`]=`${s}:${this.getGLKey(s,n)}`,i),{})}setConstantAttributeWebGL(r,n){const i=this.limits.maxVertexAttributes;this._constants=this._constants||new Array(i).fill(null);const o=this._constants[r];switch(o&&mde(o,n)&&St.info(1,`setConstantAttributeWebGL(${r}) could have been skipped, value unchanged`)(),this._constants[r]=n,n.constructor){case Float32Array:Ade(this,r,n);break;case Int32Array:pde(this,r,n);break;case Uint32Array:gde(this,r,n);break;default:throw new Error("constant")}}getExtension(r){return m0(this.gl,r,this._extensions),this._extensions}_setWebGLDebugMetadata(r,n,i){r.luma=n;const o={props:i.spector,id:i.spector.id};r.__SPECTOR_Metadata=o}}function Ade(t,e,r){switch(r.length){case 1:t.gl.vertexAttrib1fv(e,r);break;case 2:t.gl.vertexAttrib2fv(e,r);break;case 3:t.gl.vertexAttrib3fv(e,r);break;case 4:t.gl.vertexAttrib4fv(e,r);break}}function pde(t,e,r){t.gl.vertexAttribI4iv(e,r)}function gde(t,e,r){t.gl.vertexAttribI4uiv(e,r)}function mde(t,e){if(!t||!e||t.length!==e.length||t.constructor!==e.constructor)return!1;for(let r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}const pI=Object.freeze(Object.defineProperty({__proto__:null,WebGLDevice:lE},Symbol.toStringTag,{value:"Module"}));function zf(){}const vde=({isDragging:t})=>t?"grabbing":"grab",xz={id:"",width:"100%",height:"100%",style:null,viewState:null,initialViewState:null,pickingRadius:0,layerFilter:null,parameters:{},parent:null,device:null,deviceProps:{},gl:null,canvas:null,layers:[],effects:[],views:null,controller:null,useDevicePixels:!0,touchAction:"none",eventRecognizerOptions:{},_framebuffer:null,_animate:!1,_pickable:!0,_typedArrayManagerProps:{},_customRender:null,widgets:[],onDeviceInitialized:zf,onWebGLInitialized:zf,onResize:zf,onViewStateChange:zf,onInteractionStateChange:zf,onBeforeRender:zf,onAfterRender:zf,onLoad:zf,onError:t=>Mn.error(t.message,t.cause)(),onHover:null,onClick:null,onDragStart:null,onDrag:null,onDragEnd:null,_onMetrics:null,getCursor:vde,getTooltip:null,debug:!1,drawPickingColors:!1};class aC{constructor(e){var n;this.width=0,this.height=0,this.userData={},this.device=null,this.canvas=null,this.viewManager=null,this.layerManager=null,this.effectManager=null,this.deckRenderer=null,this.deckPicker=null,this.eventManager=null,this.widgetManager=null,this.tooltip=null,this.animationLoop=null,this.cursorState={isHovering:!1,isDragging:!1},this.stats=new J2({id:"deck.gl"}),this.metrics={fps:0,setPropsTime:0,updateAttributesTime:0,framesRedrawn:0,pickTime:0,pickCount:0,gpuTime:0,gpuTimePerFrame:0,cpuTime:0,cpuTimePerFrame:0,bufferMemory:0,textureMemory:0,renderbufferMemory:0,gpuMemory:0},this._metricsCounter=0,this._needsRedraw="Initial render",this._pickRequest={mode:"hover",x:-1,y:-1,radius:0,event:null},this._lastPointerDownInfo=null,this._onPointerMove=i=>{const{_pickRequest:o}=this;if(i.type==="pointerleave")o.x=-1,o.y=-1,o.radius=0;else{if(i.leftButton||i.rightButton)return;{const s=i.offsetCenter;if(!s)return;o.x=s.x,o.y=s.y,o.radius=this.props.pickingRadius}}this.layerManager&&(this.layerManager.context.mousePosition={x:o.x,y:o.y}),o.event=i},this._onEvent=i=>{const o=K4[i.type],s=i.offsetCenter;if(!o||!s||!this.layerManager)return;const a=this.layerManager.getLayers(),l=this.deckPicker.getLastPickedObject({x:s.x,y:s.y,layers:a,viewports:this.getViewports(s)},this._lastPointerDownInfo),{layer:c}=l,u=c&&(c[o]||c.props[o]),g=this.props[o];let _=!1;u&&(_=u.call(c,l,i)),_||(g==null||g(l,i),this.widgetManager.onEvent(l,i))},this._onPointerDown=i=>{var a;if(((a=this.device)==null?void 0:a.type)==="webgpu")return;const o=i.offsetCenter,s=this._pick("pickObject","pickObject Time",{x:o.x,y:o.y,radius:this.props.pickingRadius});this._lastPointerDownInfo=s.result[0]||s.emptyInfo},this.props={...xz,...e},e=this.props,e.viewState&&e.initialViewState&&Mn.warn("View state tracking is disabled. Use either `initialViewState` for auto update or `viewState` for manual update.")(),this.viewState=this.props.initialViewState,e.device&&(this.device=e.device);let r=this.device;if(!r&&e.gl){e.gl instanceof WebGLRenderingContext&&Mn.error("WebGL1 context not supported.")();const i=(n=this.props.deviceProps)==null?void 0:n.onResize;r=Sw.attach(e.gl,{...this.props.deviceProps,onResize:(o,s)=>{const{width:a,height:l}=o.canvas;o.drawingBufferWidth=a,o.drawingBufferHeight=l,this._needsRedraw="Canvas resized",i==null||i(o,s)}})}r||(r=this._createDevice(e)),this.animationLoop=this._createAnimationLoop(r,e),this.setProps(e),e._typedArrayManagerProps&&A0.setOptions(e._typedArrayManagerProps),this.animationLoop.start()}finalize(){var e,r,n,i,o,s,a,l,c,u;(e=this.animationLoop)==null||e.stop(),(r=this.animationLoop)==null||r.destroy(),this.animationLoop=null,this._lastPointerDownInfo=null,(n=this.layerManager)==null||n.finalize(),this.layerManager=null,(i=this.viewManager)==null||i.finalize(),this.viewManager=null,(o=this.effectManager)==null||o.finalize(),this.effectManager=null,(s=this.deckRenderer)==null||s.finalize(),this.deckRenderer=null,(a=this.deckPicker)==null||a.finalize(),this.deckPicker=null,(l=this.eventManager)==null||l.destroy(),this.eventManager=null,(c=this.widgetManager)==null||c.finalize(),this.widgetManager=null,!this.props.canvas&&!this.props.device&&!this.props.gl&&this.canvas&&((u=this.canvas.parentElement)==null||u.removeChild(this.canvas),this.canvas=null)}setProps(e){var n,i,o,s,a,l,c;this.stats.get("setProps Time").timeStart(),"onLayerHover"in e&&Mn.removed("onLayerHover","onHover")(),"onLayerClick"in e&&Mn.removed("onLayerClick","onClick")(),e.initialViewState&&!xl(this.props.initialViewState,e.initialViewState,3)&&(this.viewState=e.initialViewState),Object.assign(this.props,e),this._setCanvasSize(this.props);const r=Object.create(this.props);Object.assign(r,{views:this._getViews(),width:this.width,height:this.height,viewState:this._getViewState()}),e.device&&e.device.id!==((n=this.device)==null?void 0:n.id)&&((i=this.animationLoop)==null||i.stop(),this.canvas!==((o=e.device.canvasContext)==null?void 0:o.canvas)&&((s=this.canvas)==null||s.remove(),(a=this.eventManager)==null||a.destroy(),this.canvas=null),Mn.log(`recreating animation loop for new device! id=${e.device.id}`)(),this.animationLoop=this._createAnimationLoop(e.device,e),this.animationLoop.start()),(l=this.animationLoop)==null||l.setProps(r),e.useDevicePixels!==void 0&&((c=this.device)!=null&&c.canvasContext)&&this.device.canvasContext.setProps({useDevicePixels:e.useDevicePixels}),this.layerManager&&(this.viewManager.setProps(r),this.layerManager.activateViewport(this.getViewports()[0]),this.layerManager.setProps(r),this.effectManager.setProps(r),this.deckRenderer.setProps(r),this.deckPicker.setProps(r),this.widgetManager.setProps(r)),this.stats.get("setProps Time").timeEnd()}needsRedraw(e={clearRedrawFlags:!1}){if(!this.layerManager)return!1;if(this.props._animate)return"Deck._animate";let r=this._needsRedraw;e.clearRedrawFlags&&(this._needsRedraw=!1);const n=this.viewManager.needsRedraw(e),i=this.layerManager.needsRedraw(e),o=this.effectManager.needsRedraw(e),s=this.deckRenderer.needsRedraw(e);return r=r||n||i||o||s,r}redraw(e){if(!this.layerManager)return;let r=this.needsRedraw({clearRedrawFlags:!0});r=e||r,r&&(this.stats.get("Redraw Count").incrementCount(),this.props._customRender?this.props._customRender(r):this._drawLayers(r))}get isInitialized(){return this.viewManager!==null}getViews(){return ts(this.viewManager),this.viewManager.views}getViewports(e){return ts(this.viewManager),this.viewManager.getViewports(e)}getCanvas(){return this.canvas}pickObject(e){const r=this._pick("pickObject","pickObject Time",e).result;return r.length?r[0]:null}pickMultipleObjects(e){return e.depth=e.depth||10,this._pick("pickObject","pickMultipleObjects Time",e).result}pickObjects(e){return this._pick("pickObjects","pickObjects Time",e)}_addResources(e,r=!1){for(const n in e)this.layerManager.resourceManager.add({resourceId:n,data:e[n],forceUpdate:r})}_removeResources(e){for(const r of e)this.layerManager.resourceManager.remove(r)}_addDefaultEffect(e){this.effectManager.addDefaultEffect(e)}_addDefaultShaderModule(e){this.layerManager.addDefaultShaderModule(e)}_removeDefaultShaderModule(e){var r;(r=this.layerManager)==null||r.removeDefaultShaderModule(e)}_pick(e,r,n){ts(this.deckPicker);const{stats:i}=this;i.get("Pick Count").incrementCount(),i.get(r).timeStart();const o=this.deckPicker[e]({layers:this.layerManager.getLayers(n),views:this.viewManager.getViews(),viewports:this.getViewports(n),onViewportActive:this.layerManager.activateViewport,effects:this.effectManager.getEffects(),...n});return i.get(r).timeEnd(),o}_createCanvas(e){let r=e.canvas;return typeof r=="string"&&(r=document.getElementById(r),ts(r)),r||(r=document.createElement("canvas"),r.id=e.id||"deckgl-overlay",e.width&&typeof e.width=="number"&&(r.width=e.width),e.height&&typeof e.height=="number"&&(r.height=e.height),(e.parent||document.body).appendChild(r)),Object.assign(r.style,e.style),r}_setCanvasSize(e){var i;if(!this.canvas)return;const{width:r,height:n}=e;if(r||r===0){const o=Number.isFinite(r)?`${r}px`:r;this.canvas.style.width=o}if(n||n===0){const o=Number.isFinite(n)?`${n}px`:n;this.canvas.style.position=((i=e.style)==null?void 0:i.position)||"absolute",this.canvas.style.height=o}}_updateCanvasSize(){var i,o;const{canvas:e}=this;if(!e)return;const r=e.clientWidth??e.width,n=e.clientHeight??e.height;(r!==this.width||n!==this.height)&&(this.width=r,this.height=n,(i=this.viewManager)==null||i.setProps({width:r,height:n}),(o=this.layerManager)==null||o.activateViewport(this.getViewports()[0]),this.props.onResize({width:r,height:n}))}_createAnimationLoop(e,r){const{gl:n,onError:i}=r;return new J4({device:e,autoResizeDrawingBuffer:!n,autoResizeViewport:!1,onInitialize:o=>this._setDevice(o.device),onRender:this._onRenderFrame.bind(this),onError:i})}_createDevice(e){var a,l,c;const r=(a=this.props.deviceProps)==null?void 0:a.createCanvasContext,n=typeof r=="object"?r:void 0,i={adapters:[],_cacheShaders:!0,_cachePipelines:!0,...e.deviceProps};i.adapters.includes(Sw)||i.adapters.push(Sw);const o={alphaMode:((l=this.props.deviceProps)==null?void 0:l.type)==="webgpu"?"premultiplied":void 0},s=(c=this.props.deviceProps)==null?void 0:c.onResize;return I4.createDevice({_reuseDevices:!0,type:"webgl",...i,createCanvasContext:{...o,...n,canvas:this._createCanvas(e),useDevicePixels:this.props.useDevicePixels,autoResize:!0},onResize:(u,g)=>{this._needsRedraw="Canvas resized",s==null||s(u,g)}})}_getViewState(){return this.props.viewState||this.viewState}_getViews(){const{views:e}=this.props,r=Array.isArray(e)?e:e?[e]:[new uz({id:"default-view"})];return r.length&&this.props.controller&&(r[0].props.controller=this.props.controller),r}_onContextLost(){const{onError:e}=this.props;this.animationLoop&&e&&e(new Error("WebGL context is lost"))}_pickAndCallback(){var r,n,i,o;if(((r=this.device)==null?void 0:r.type)==="webgpu")return;const{_pickRequest:e}=this;if(e.event){const{result:s,emptyInfo:a}=this._pick("pickObject","pickObject Time",e);this.cursorState.isHovering=s.length>0;let l=a,c=!1;for(const u of s)l=u,c=((n=u.layer)==null?void 0:n.onHover(u,e.event))||c;c||((o=(i=this.props).onHover)==null||o.call(i,l,e.event),this.widgetManager.onHover(l,e.event)),e.event=null}}_updateCursor(){const e=this.props.parent||this.canvas;e&&(e.style.cursor=this.props.getCursor(this.cursorState))}_setDevice(e){var i,o;if(this.device=e,!this.animationLoop)return;this.canvas||(this.canvas=(i=this.device.canvasContext)==null?void 0:i.canvas,!this.canvas.isConnected&&this.props.parent&&this.props.parent.insertBefore(this.canvas,this.props.parent.firstChild)),this.device.type==="webgl"&&this.device.setParametersWebGL({blend:!0,blendFunc:[770,771,1,771],polygonOffsetFill:!0,depthTest:!0,depthFunc:515}),this.props.onDeviceInitialized(this.device),this.device.type==="webgl"&&this.props.onWebGLInitialized(this.device.gl);const r=new iz;r.play(),this.animationLoop.attachTimeline(r),this.eventManager=new Gle(this.props.parent||this.canvas,{touchAction:this.props.touchAction,recognizers:Object.keys(kR).map(s=>{var b;const[a,l,c,u]=kR[s],g=(b=this.props.eventRecognizerOptions)==null?void 0:b[s],_={...l,...g,event:s};return{recognizer:new a(_),recognizeWith:c,requestFailure:u}}),events:{pointerdown:this._onPointerDown,pointermove:this._onPointerMove,pointerleave:this._onPointerMove}});for(const s in K4)this.eventManager.on(s,this._onEvent);this.viewManager=new Que({timeline:r,eventManager:this.eventManager,onViewStateChange:this._onViewStateChange.bind(this),onInteractionStateChange:this._onInteractionStateChange.bind(this),views:this._getViews(),viewState:this._getViewState(),width:this.width,height:this.height});const n=this.viewManager.getViewports()[0];this.layerManager=new Gue(this.device,{deck:this,stats:this.stats,viewport:n,timeline:r}),this.effectManager=new hfe({deck:this,device:this.device}),this.deckRenderer=new pfe(this.device),this.deckPicker=new vfe(this.device),this.widgetManager=new _fe({deck:this,parentElement:(o=this.canvas)==null?void 0:o.parentElement}),this.widgetManager.addDefault(new fz),this.setProps(this.props),this._updateCanvasSize(),this.props.onLoad()}_drawLayers(e,r){var s;const{device:n,gl:i}=this.layerManager.context;this.props.onBeforeRender({device:n,gl:i});const o={target:this.props._framebuffer,layers:this.layerManager.getLayers(),viewports:this.viewManager.getViewports(),onViewportActive:this.layerManager.activateViewport,views:this.viewManager.getViews(),pass:"screen",effects:this.effectManager.getEffects(),...r};(s=this.deckRenderer)==null||s.renderLayers(o),o.pass==="screen"&&this.widgetManager.onRedraw({viewports:o.viewports,layers:o.layers}),this.props.onAfterRender({device:n,gl:i})}_onRenderFrame(){var e;this._getFrameStats(),this._metricsCounter++%60===0&&(this._getMetrics(),this.stats.reset(),Mn.table(4,this.metrics)(),this.props._onMetrics&&this.props._onMetrics(this.metrics)),this._updateCanvasSize(),this._updateCursor(),this.layerManager.updateLayers(),((e=this.device)==null?void 0:e.type)!=="webgpu"&&this._pickAndCallback(),this.redraw(),this.viewManager&&this.viewManager.updateViewStates()}_onViewStateChange(e){const r=this.props.onViewStateChange(e)||e.viewState;this.viewState&&(this.viewState={...this.viewState,[e.viewId]:r},this.props.viewState||this.viewManager&&this.viewManager.setProps({viewState:this.viewState}))}_onInteractionStateChange(e){this.cursorState.isDragging=e.isDragging||!1,this.props.onInteractionStateChange(e)}_getFrameStats(){const{stats:e}=this;e.get("frameRate").timeEnd(),e.get("frameRate").timeStart();const r=this.animationLoop.stats;e.get("GPU Time").addTime(r.get("GPU Time").lastTiming),e.get("CPU Time").addTime(r.get("CPU Time").lastTiming)}_getMetrics(){const{metrics:e,stats:r}=this;e.fps=r.get("frameRate").getHz(),e.setPropsTime=r.get("setProps Time").time,e.updateAttributesTime=r.get("Update Attributes").time,e.framesRedrawn=r.get("Redraw Count").count,e.pickTime=r.get("pickObject Time").time+r.get("pickMultipleObjects Time").time+r.get("pickObjects Time").time,e.pickCount=r.get("Pick Count").count,e.gpuTime=r.get("GPU Time").time,e.cpuTime=r.get("CPU Time").time,e.gpuTimePerFrame=r.get("GPU Time").getAverageTime(),e.cpuTimePerFrame=r.get("CPU Time").getAverageTime();const n=I4.stats.get("Memory Usage");e.bufferMemory=n.get("Buffer Memory").count,e.textureMemory=n.get("Texture Memory").count,e.renderbufferMemory=n.get("Renderbuffer Memory").count,e.gpuMemory=n.get("GPU Memory").count}}aC.defaultProps=xz;aC.VERSION=Tie;function yde(t){switch(t){case"float64":return Float64Array;case"uint8":case"unorm8":return Uint8ClampedArray;default:return FP(t)}}const bde=BP;function Hv(t,e,r){const n=r==="webgpu"&&e.type==="uint8"?"unorm8":e.type;return{attribute:t,format:e.size>1?`${n}x${e.size}`:e.type,byteOffset:e.offset||0}}function td(t){return t.stride||t.size*t.bytesPerElement}function _de(t,e){return t.type===e.type&&t.size===e.size&&td(t)===td(e)&&(t.offset||0)===(e.offset||0)}function cE(t,e){e.offset&&Mn.removed("shaderAttribute.offset","vertexOffset, elementOffset")();const r=td(t),n=e.vertexOffset!==void 0?e.vertexOffset:t.vertexOffset||0,i=e.elementOffset||0,o=n*r+i*t.bytesPerElement+(t.offset||0);return{...e,offset:o,stride:r}}function wde(t,e){const r=cE(t,e);return{high:r,low:{...r,offset:r.offset+t.size*4}}}class xde{constructor(e,r,n){this._buffer=null,this.device=e,this.id=r.id||"",this.size=r.size||1;const i=r.logicalType||r.type,o=i==="float64";let{defaultValue:s}=r;s=Number.isFinite(s)?[s]:s||new Array(this.size).fill(0);let a;o?a="float32":!i&&r.isIndexed?a="uint32":a=i||"float32";let l=yde(i||a);this.doublePrecision=o,o&&r.fp64===!1&&(l=Float32Array),this.value=null,this.settings={...r,defaultType:l,defaultValue:s,logicalType:i,type:a,normalized:a.includes("norm"),size:this.size,bytesPerElement:l.BYTES_PER_ELEMENT},this.state={...n,externalBuffer:null,bufferAccessor:this.settings,allocatedValue:null,numInstances:0,bounds:null,constant:!1}}get isConstant(){return this.state.constant}get buffer(){return this._buffer}get byteOffset(){const e=this.getAccessor();return e.vertexOffset?e.vertexOffset*td(e):0}get numInstances(){return this.state.numInstances}set numInstances(e){this.state.numInstances=e}delete(){this._buffer&&(this._buffer.delete(),this._buffer=null),A0.release(this.state.allocatedValue)}getBuffer(){return this.state.constant?null:this.state.externalBuffer||this._buffer}getValue(e=this.id,r=null){const n={};if(this.state.constant){const i=this.value;if(r){const o=cE(this.getAccessor(),r),s=o.offset/i.BYTES_PER_ELEMENT,a=o.size||this.size;n[e]=i.subarray(s,s+a)}else n[e]=i}else n[e]=this.getBuffer();return this.doublePrecision&&(this.value instanceof Float64Array?n[`${e}64Low`]=n[e]:n[`${e}64Low`]=new Float32Array(this.size)),n}_getBufferLayout(e=this.id,r=null){const n=this.getAccessor(),i=[],o={name:this.id,byteStride:td(n),attributes:i};if(this.doublePrecision){const s=wde(n,r||{});i.push(Hv(e,{...n,...s.high},this.device.type),Hv(`${e}64Low`,{...n,...s.low},this.device.type))}else if(r){const s=cE(n,r);i.push(Hv(e,{...n,...s},this.device.type))}else i.push(Hv(e,n,this.device.type));return o}setAccessor(e){this.state.bufferAccessor=e}getAccessor(){return this.state.bufferAccessor}getBounds(){if(this.state.bounds)return this.state.bounds;let e=null;if(this.state.constant&&this.value){const r=Array.from(this.value);e=[r,r]}else{const{value:r,numInstances:n,size:i}=this,o=n*i;if(r&&o&&r.length>=o){const s=new Array(i).fill(1/0),a=new Array(i).fill(-1/0);for(let l=0;l<o;)for(let c=0;c<i;c++){const u=r[l++];u<s[c]&&(s[c]=u),u>a[c]&&(a[c]=u)}e=[s,a]}}return this.state.bounds=e,e}setData(e){const{state:r}=this;let n;ArrayBuffer.isView(e)?n={value:e}:e instanceof ci?n={buffer:e}:n=e;const i={...this.settings,...n};if(ArrayBuffer.isView(n.value)){if(!n.type)if(this.doublePrecision&&n.value instanceof Float64Array)i.type="float32";else{const s=bde(n.value);i.type=i.normalized?s.replace("int","norm"):s}i.bytesPerElement=n.value.BYTES_PER_ELEMENT,i.stride=td(i)}if(r.bounds=null,n.constant){let o=n.value;if(o=this._normalizeValue(o,[],0),this.settings.normalized&&(o=this.normalizeConstant(o)),!(!r.constant||!this._areValuesEqual(o,this.value)))return!1;r.externalBuffer=null,r.constant=!0,this.value=ArrayBuffer.isView(o)?o:new Float32Array(o)}else if(n.buffer){const o=n.buffer;r.externalBuffer=o,r.constant=!1,this.value=n.value||null}else if(n.value){this._checkExternalBuffer(n);let o=n.value;r.externalBuffer=null,r.constant=!1,this.value=o;let{buffer:s}=this;const a=td(i),l=(i.vertexOffset||0)*a;if(this.doublePrecision&&o instanceof Float64Array&&(o=yw(o,i)),this.settings.isIndexed){const u=this.settings.defaultType;o.constructor!==u&&(o=new u(o))}const c=o.byteLength+l+a*2;(!s||s.byteLength<c)&&(s=this._createBuffer(c)),s.write(o,l)}return this.setAccessor(i),!0}updateSubBuffer(e={}){this.state.bounds=null;const r=this.value,{startOffset:n=0,endOffset:i}=e;this.buffer.write(this.doublePrecision&&r instanceof Float64Array?yw(r,{size:this.size,startIndex:n,endIndex:i}):r.subarray(n,i),n*r.BYTES_PER_ELEMENT+this.byteOffset)}allocate(e,r=!1){const{state:n}=this,i=n.allocatedValue,o=A0.allocate(i,e+1,{size:this.size,type:this.settings.defaultType,copy:r});this.value=o;const{byteOffset:s}=this;let{buffer:a}=this;return(!a||a.byteLength<o.byteLength+s)&&(a=this._createBuffer(o.byteLength+s),r&&i&&a.write(i instanceof Float64Array?yw(i,this):i,s)),n.allocatedValue=o,n.constant=!1,n.externalBuffer=null,this.setAccessor(this.settings),!0}_checkExternalBuffer(e){const{value:r}=e;if(!ArrayBuffer.isView(r))throw new Error(`Attribute ${this.id} value is not TypedArray`);const n=this.settings.defaultType;let i=!1;if(this.doublePrecision&&(i=r.BYTES_PER_ELEMENT<4),i)throw new Error(`Attribute ${this.id} does not support ${r.constructor.name}`);!(r instanceof n)&&this.settings.normalized&&!("normalized"in e)&&Mn.warn(`Attribute ${this.id} is normalized`)()}normalizeConstant(e){switch(this.settings.type){case"snorm8":return new Float32Array(e).map(r=>(r+128)/255*2-1);case"snorm16":return new Float32Array(e).map(r=>(r+32768)/65535*2-1);case"unorm8":return new Float32Array(e).map(r=>r/255);case"unorm16":return new Float32Array(e).map(r=>r/65535);default:return e}}_normalizeValue(e,r,n){const{defaultValue:i,size:o}=this.settings;if(Number.isFinite(e))return r[n]=e,r;if(!e){let s=o;for(;--s>=0;)r[n+s]=i[s];return r}switch(o){case 4:r[n+3]=Number.isFinite(e[3])?e[3]:i[3];case 3:r[n+2]=Number.isFinite(e[2])?e[2]:i[2];case 2:r[n+1]=Number.isFinite(e[1])?e[1]:i[1];case 1:r[n+0]=Number.isFinite(e[0])?e[0]:i[0];break;default:let s=o;for(;--s>=0;)r[n+s]=Number.isFinite(e[s])?e[s]:i[s]}return r}_areValuesEqual(e,r){if(!e||!r)return!1;const{size:n}=this;for(let i=0;i<n;i++)if(e[i]!==r[i])return!1;return!0}_createBuffer(e){var i;this._buffer&&this._buffer.destroy();const{isIndexed:r,type:n}=this.settings;return this._buffer=this.device.createBuffer({...(i=this._buffer)==null?void 0:i.props,id:this.id,usage:(r?ci.INDEX:ci.VERTEX)|ci.COPY_DST,indexType:r?n:void 0,byteLength:e}),this._buffer}}const gI=[],mI=[];function sb(t,e=0,r=1/0){let n=gI;const i={index:-1,data:t,target:[]};return t?typeof t[Symbol.iterator]=="function"?n=t:t.length>0&&(mI.length=t.length,n=mI):n=gI,(e>0||Number.isFinite(r))&&(n=(Array.isArray(n)?n:Array.from(n)).slice(e,r),i.index=e-1),{iterable:n,objectInfo:i}}function Sz(t){return t&&t[Symbol.asyncIterator]}function Ez(t,e){const{size:r,stride:n,offset:i,startIndices:o,nested:s}=e,a=t.BYTES_PER_ELEMENT,l=n?n/a:r,c=i?i/a:0,u=Math.floor((t.length-c)/l);return(g,{index:_,target:b})=>{if(!o){const O=_*l+c;for(let L=0;L<r;L++)b[L]=t[O+L];return b}const P=o[_],E=o[_+1]||u;let T;if(s){T=new Array(E-P);for(let O=P;O<E;O++){const L=O*l+c;b=new Array(r);for(let N=0;N<r;N++)b[N]=t[L+N];T[O-P]=b}}else if(l===r)T=t.subarray(P*r+c,E*r+c);else{T=new t.constructor((E-P)*r);let O=0;for(let L=P;L<E;L++){const N=L*l+c;for(let D=0;D<r;D++)T[O++]=t[N+D]}}return T}}const Sde=[],I1=[[0,1/0]];function Ede(t,e){if(t===I1||(e[0]<0&&(e[0]=0),e[0]>=e[1]))return t;const r=[],n=t.length;let i=0;for(let o=0;o<n;o++){const s=t[o];s[1]<e[0]?(r.push(s),i=o+1):s[0]>e[1]?r.push(s):e=[Math.min(s[0],e[0]),Math.max(s[1],e[1])]}return r.splice(i,0,e),r}const Tde={interpolation:{duration:0,easing:t=>t},spring:{stiffness:.05,damping:.5}};function Tz(t,e){if(!t)return null;Number.isFinite(t)&&(t={type:"interpolation",duration:t});const r=t.type||"interpolation";return{...Tde[r],...e,...t,type:r}}class Pz extends xde{constructor(e,r){super(e,r,{startIndices:null,lastExternalBuffer:null,binaryValue:null,binaryAccessor:null,needsUpdate:!0,needsRedraw:!1,layoutChanged:!1,updateRanges:I1}),this.constant=!1,this.settings.update=r.update||(r.accessor?this._autoUpdater:void 0),Object.seal(this.settings),Object.seal(this.state),this._validateAttributeUpdaters()}get startIndices(){return this.state.startIndices}set startIndices(e){this.state.startIndices=e}needsUpdate(){return this.state.needsUpdate}needsRedraw({clearChangedFlags:e=!1}={}){const r=this.state.needsRedraw;return this.state.needsRedraw=r&&!e,r}layoutChanged(){return this.state.layoutChanged}setAccessor(e){var r;(r=this.state).layoutChanged||(r.layoutChanged=!_de(e,this.getAccessor())),super.setAccessor(e)}getUpdateTriggers(){const{accessor:e}=this.settings;return[this.id].concat(typeof e!="function"&&e||[])}supportsTransition(){return!!this.settings.transition}getTransitionSetting(e){if(!e||!this.supportsTransition())return null;const{accessor:r}=this.settings,n=this.settings.transition,i=Array.isArray(r)?e[r.find(o=>e[o])]:e[r];return Tz(i,n)}setNeedsUpdate(e=this.id,r){if(this.state.needsUpdate=this.state.needsUpdate||e,this.setNeedsRedraw(e),r){const{startRow:n=0,endRow:i=1/0}=r;this.state.updateRanges=Ede(this.state.updateRanges,[n,i])}else this.state.updateRanges=I1}clearNeedsUpdate(){this.state.needsUpdate=!1,this.state.updateRanges=Sde}setNeedsRedraw(e=this.id){this.state.needsRedraw=this.state.needsRedraw||e}allocate(e){const{state:r,settings:n}=this;return n.noAlloc?!1:n.update?(super.allocate(e,r.updateRanges!==I1),!0):!1}updateBuffer({numInstances:e,data:r,props:n,context:i}){if(!this.needsUpdate())return!1;const{state:{updateRanges:o},settings:{update:s,noAlloc:a}}=this;let l=!0;if(s){for(const[c,u]of o)s.call(i,this,{data:r,startRow:c,endRow:u,props:n,numInstances:e});if(this.value)if(this.constant||!this.buffer||this.buffer.byteLength<this.value.byteLength+this.byteOffset)this.setData({value:this.value,constant:this.constant}),this.constant=!1;else for(const[c,u]of o){const g=Number.isFinite(c)?this.getVertexOffset(c):0,_=Number.isFinite(u)?this.getVertexOffset(u):a||!Number.isFinite(e)?this.value.length:e*this.size;super.updateSubBuffer({startOffset:g,endOffset:_})}this._checkAttributeArray()}else l=!1;return this.clearNeedsUpdate(),this.setNeedsRedraw(),l}setConstantValue(e,r){const n=this.device.type==="webgpu";if(n||r===void 0||typeof r=="function"){if(n&&typeof r!="function"){const s=this._normalizeValue(r,[],0);this._areValuesEqual(s,this.value)||this.setNeedsUpdate("WebGPU constant updated")}return!1}const i=this.settings.transform&&e?this.settings.transform.call(e,r):r;return this.setData({constant:!0,value:i})&&this.setNeedsRedraw(),this.clearNeedsUpdate(),!0}setExternalBuffer(e){const{state:r}=this;return e?(this.clearNeedsUpdate(),r.lastExternalBuffer===e||(r.lastExternalBuffer=e,this.setNeedsRedraw(),this.setData(e)),!0):(r.lastExternalBuffer=null,!1)}setBinaryValue(e,r=null){const{state:n,settings:i}=this;if(!e)return n.binaryValue=null,n.binaryAccessor=null,!1;if(i.noAlloc)return!1;if(n.binaryValue===e)return this.clearNeedsUpdate(),!0;if(n.binaryValue=e,this.setNeedsRedraw(),i.transform||r!==this.startIndices){ArrayBuffer.isView(e)&&(e={value:e});const s=e;ts(ArrayBuffer.isView(s.value),`invalid ${i.accessor}`);const a=!!s.size&&s.size!==this.size;return n.binaryAccessor=Ez(s.value,{size:s.size||this.size,stride:s.stride,offset:s.offset,startIndices:r,nested:a}),!1}return this.clearNeedsUpdate(),this.setData(e),!0}getVertexOffset(e){const{startIndices:r}=this;return(r?e<r.length?r[e]:this.numInstances:e)*this.size}getValue(){const e=this.settings.shaderAttributes,r=super.getValue();if(!e)return r;for(const n in e)Object.assign(r,super.getValue(n,e[n]));return r}getBufferLayout(e){this.state.layoutChanged=!1;const r=this.settings.shaderAttributes,n=super._getBufferLayout(),{stepMode:i}=this.settings;if(i==="dynamic"?n.stepMode=e?e.isInstanced?"instance":"vertex":"instance":n.stepMode=i??"vertex",!r)return n;for(const o in r){const s=super._getBufferLayout(o,r[o]);n.attributes.push(...s.attributes)}return n}_autoUpdater(e,{data:r,startRow:n,endRow:i,props:o,numInstances:s}){if(e.constant&&this.context.device.type!=="webgpu")return;const{settings:a,state:l,value:c,size:u,startIndices:g}=e,{accessor:_,transform:b}=a;let P=l.binaryAccessor||(typeof _=="function"?_:o[_]);typeof P!="function"&&typeof _=="string"&&(P=()=>o[_]),ts(typeof P=="function",`accessor "${_}" is not a function`);let E=e.getVertexOffset(n);const{iterable:T,objectInfo:O}=sb(r,n,i);for(const L of T){O.index++;let N=P(L,O);if(b&&(N=b.call(this,N)),g){const D=(O.index<g.length-1?g[O.index+1]:s)-g[O.index];if(N&&Array.isArray(N[0])){let B=E;for(const z of N)e._normalizeValue(z,c,B),B+=u}else N&&N.length>u?c.set(N,E):(e._normalizeValue(N,O.target,0),Hue({target:c,source:O.target,start:E,count:D}));E+=D*u}else e._normalizeValue(N,c,E),E+=u}}_validateAttributeUpdaters(){const{settings:e}=this;if(!(e.noAlloc||typeof e.update=="function"))throw new Error(`Attribute ${this.id} missing update or accessor`)}_checkAttributeArray(){const{value:e}=this,r=Math.min(4,this.size);if(e&&e.length>=r){let n=!0;switch(r){case 4:n=n&&Number.isFinite(e[3]);case 3:n=n&&Number.isFinite(e[2]);case 2:n=n&&Number.isFinite(e[1]);case 1:n=n&&Number.isFinite(e[0]);break;default:n=!1}if(!n)throw new Error(`Illegal attribute generated for ${this.id}`)}}}function kw(t){const{source:e,target:r,start:n=0,size:i,getData:o}=t,s=t.end||r.length,a=e.length,l=s-n;if(a>l){r.set(e.subarray(0,l),n);return}if(r.set(e,n),!o)return;let c=a;for(;c<l;){const u=o(c,e);for(let g=0;g<i;g++)r[n+c]=u[g]||0,c++}}function Pde({source:t,target:e,size:r,getData:n,sourceStartIndices:i,targetStartIndices:o}){if(!i||!o)return kw({source:t,target:e,size:r,getData:n}),e;let s=0,a=0;const l=n&&((u,g)=>n(u+a,g)),c=Math.min(i.length,o.length);for(let u=1;u<c;u++){const g=i[u]*r,_=o[u]*r;kw({source:t.subarray(s,g),target:e,start:a,end:_,size:r,getData:l}),s=g,a=_}return a<e.length&&kw({source:[],target:e,start:a,size:r,getData:l}),e}function Cde(t){const{device:e,settings:r,value:n}=t,i=new Pz(e,r);return i.setData({value:n instanceof Float64Array?new Float64Array(0):new Float32Array(0),normalized:r.normalized}),i}function Cz(t){switch(t){case 1:return"float";case 2:return"vec2";case 3:return"vec3";case 4:return"vec4";default:throw new Error(`No defined attribute type for size "${t}"`)}}function kz(t){switch(t){case 1:return"float32";case 2:return"float32x2";case 3:return"float32x3";case 4:return"float32x4";default:throw new Error("invalid type size")}}function Oz(t){t.push(t.shift())}function kde(t,e){const{doublePrecision:r,settings:n,value:i,size:o}=t,s=r&&i instanceof Float64Array?2:1;let a=0;const{shaderAttributes:l}=t.settings;if(l)for(const c of Object.values(l))a=Math.max(a,c.vertexOffset??0);return(n.noAlloc?i.length:(e+a)*o)*s}function Rz({device:t,source:e,target:r}){return(!r||r.byteLength<e.byteLength)&&(r==null||r.destroy(),r=t.createBuffer({byteLength:e.byteLength,usage:e.usage})),r}function Iz({device:t,buffer:e,attribute:r,fromLength:n,toLength:i,fromStartIndices:o,getData:s=a=>a}){const a=r.doublePrecision&&r.value instanceof Float64Array?2:1,l=r.size*a,c=r.byteOffset,u=r.settings.bytesPerElement<4?c/r.settings.bytesPerElement*4:c,g=r.startIndices,_=o&&g,b=r.isConstant;if(!_&&e&&n>=i)return e;const P=r.value instanceof Float64Array?Float32Array:r.value.constructor,E=b?r.value:new P(r.getBuffer().readSyncWebGL(c,i*P.BYTES_PER_ELEMENT).buffer);if(r.settings.normalized&&!b){const N=s;s=(D,B)=>r.normalizeConstant(N(D,B))}const T=b?(N,D)=>s(E,D):(N,D)=>s(E.subarray(N+c,N+c+l),D),O=e?new Float32Array(e.readSyncWebGL(u,n*4).buffer):new Float32Array(0),L=new Float32Array(i);return Pde({source:O,target:L,sourceStartIndices:o,targetStartIndices:g,size:l,getData:T}),(!e||e.byteLength<L.byteLength+u)&&(e==null||e.destroy(),e=t.createBuffer({byteLength:L.byteLength+u,usage:35050})),e.write(L,u),e}class Nz{constructor({device:e,attribute:r,timeline:n}){this.buffers=[],this.currentLength=0,this.device=e,this.transition=new ob(n),this.attribute=r,this.attributeInTransition=Cde(r),this.currentStartIndices=r.startIndices}get inProgress(){return this.transition.inProgress}start(e,r,n=1/0){this.settings=e,this.currentStartIndices=this.attribute.startIndices,this.currentLength=kde(this.attribute,r),this.transition.start({...e,duration:n})}update(){const e=this.transition.update();return e&&this.onUpdate(),e}setBuffer(e){this.attributeInTransition.setData({buffer:e,normalized:this.attribute.settings.normalized,value:this.attributeInTransition.value})}cancel(){this.transition.cancel()}delete(){this.cancel();for(const e of this.buffers)e.destroy();this.buffers.length=0}}class Ode extends Nz{constructor({device:e,attribute:r,timeline:n}){super({device:e,attribute:r,timeline:n}),this.type="interpolation",this.transform=Mde(e,r)}start(e,r){const n=this.currentLength,i=this.currentStartIndices;if(super.start(e,r,e.duration),e.duration<=0){this.transition.cancel();return}const{buffers:o,attribute:s}=this;Oz(o),o[0]=Iz({device:this.device,buffer:o[0],attribute:s,fromLength:n,toLength:this.currentLength,fromStartIndices:i,getData:e.enter}),o[1]=Rz({device:this.device,source:o[0],target:o[1]}),this.setBuffer(o[1]);const{transform:a}=this,l=a.model;let c=Math.floor(this.currentLength/s.size);Mz(s)&&(c/=2),l.setVertexCount(c),s.isConstant?(l.setAttributes({aFrom:o[0]}),l.setConstantAttributes({aTo:s.value})):l.setAttributes({aFrom:o[0],aTo:s.getBuffer()}),a.transformFeedback.setBuffers({vCurrent:o[1]})}onUpdate(){const{duration:e,easing:r}=this.settings,{time:n}=this.transition;let i=n/e;r&&(i=r(i));const{model:o}=this.transform,s={time:i};o.shaderInputs.setProps({interpolation:s}),this.transform.run({discard:!0})}delete(){super.delete(),this.transform.destroy()}}const Rde=`uniform interpolationUniforms {
  float time;
} interpolation;
`,vI={name:"interpolation",vs:Rde,uniformTypes:{time:"f32"}},Ide=`#version 300 es
#define SHADER_NAME interpolation-transition-vertex-shader

in ATTRIBUTE_TYPE aFrom;
in ATTRIBUTE_TYPE aTo;
out ATTRIBUTE_TYPE vCurrent;

void main(void) {
  vCurrent = mix(aFrom, aTo, interpolation.time);
  gl_Position = vec4(0.0);
}
`,Nde=`#version 300 es
#define SHADER_NAME interpolation-transition-vertex-shader

in ATTRIBUTE_TYPE aFrom;
in ATTRIBUTE_TYPE aFrom64Low;
in ATTRIBUTE_TYPE aTo;
in ATTRIBUTE_TYPE aTo64Low;
out ATTRIBUTE_TYPE vCurrent;
out ATTRIBUTE_TYPE vCurrent64Low;

vec2 mix_fp64(vec2 a, vec2 b, float x) {
  vec2 range = sub_fp64(b, a);
  return sum_fp64(a, mul_fp64(range, vec2(x, 0.0)));
}

void main(void) {
  for (int i=0; i<ATTRIBUTE_SIZE; i++) {
    vec2 value = mix_fp64(vec2(aFrom[i], aFrom64Low[i]), vec2(aTo[i], aTo64Low[i]), interpolation.time);
    vCurrent[i] = value.x;
    vCurrent64Low[i] = value.y;
  }
  gl_Position = vec4(0.0);
}
`;function Mz(t){return t.doublePrecision&&t.value instanceof Float64Array}function Mde(t,e){const r=e.size,n=Cz(r),i=kz(r),o=e.getBufferLayout();return Mz(e)?new Ng(t,{vs:Nde,bufferLayout:[{name:"aFrom",byteStride:8*r,attributes:[{attribute:"aFrom",format:i,byteOffset:0},{attribute:"aFrom64Low",format:i,byteOffset:4*r}]},{name:"aTo",byteStride:8*r,attributes:[{attribute:"aTo",format:i,byteOffset:0},{attribute:"aTo64Low",format:i,byteOffset:4*r}]}],modules:[Uae,vI],defines:{ATTRIBUTE_TYPE:n,ATTRIBUTE_SIZE:r},moduleSettings:{},varyings:["vCurrent","vCurrent64Low"],bufferMode:35980,disableWarnings:!0}):new Ng(t,{vs:Ide,bufferLayout:[{name:"aFrom",format:i},{name:"aTo",format:o.attributes[0].format}],modules:[vI],defines:{ATTRIBUTE_TYPE:n},varyings:["vCurrent"],disableWarnings:!0})}class Lde extends Nz{constructor({device:e,attribute:r,timeline:n}){super({device:e,attribute:r,timeline:n}),this.type="spring",this.texture=$de(e),this.framebuffer=zde(e,this.texture),this.transform=Ude(e,r)}start(e,r){const n=this.currentLength,i=this.currentStartIndices;super.start(e,r);const{buffers:o,attribute:s}=this;for(let l=0;l<2;l++)o[l]=Iz({device:this.device,buffer:o[l],attribute:s,fromLength:n,toLength:this.currentLength,fromStartIndices:i,getData:e.enter});o[2]=Rz({device:this.device,source:o[0],target:o[2]}),this.setBuffer(o[1]);const{model:a}=this.transform;a.setVertexCount(Math.floor(this.currentLength/s.size)),s.isConstant?a.setConstantAttributes({aTo:s.value}):a.setAttributes({aTo:s.getBuffer()})}onUpdate(){const{buffers:e,transform:r,framebuffer:n,transition:i}=this,o=this.settings;r.model.setAttributes({aPrev:e[0],aCur:e[1]}),r.transformFeedback.setBuffers({vNext:e[2]});const s={stiffness:o.stiffness,damping:o.damping};r.model.shaderInputs.setProps({spring:s}),r.run({framebuffer:n,discard:!1,parameters:{viewport:[0,0,1,1]},clearColor:[0,0,0,0]}),Oz(e),this.setBuffer(e[1]),this.device.readPixelsToArrayWebGL(n)[0]>0||i.end()}delete(){super.delete(),this.transform.destroy(),this.texture.destroy(),this.framebuffer.destroy()}}const Dde=`uniform springUniforms {
  float damping;
  float stiffness;
} spring;
`,Bde={name:"spring",vs:Dde,uniformTypes:{damping:"f32",stiffness:"f32"}},Fde=`#version 300 es
#define SHADER_NAME spring-transition-vertex-shader

#define EPSILON 0.00001

in ATTRIBUTE_TYPE aPrev;
in ATTRIBUTE_TYPE aCur;
in ATTRIBUTE_TYPE aTo;
out ATTRIBUTE_TYPE vNext;
out float vIsTransitioningFlag;

ATTRIBUTE_TYPE getNextValue(ATTRIBUTE_TYPE cur, ATTRIBUTE_TYPE prev, ATTRIBUTE_TYPE dest) {
  ATTRIBUTE_TYPE velocity = cur - prev;
  ATTRIBUTE_TYPE delta = dest - cur;
  ATTRIBUTE_TYPE force = delta * spring.stiffness;
  ATTRIBUTE_TYPE resistance = velocity * spring.damping;
  return force - resistance + velocity + cur;
}

void main(void) {
  bool isTransitioning = length(aCur - aPrev) > EPSILON || length(aTo - aCur) > EPSILON;
  vIsTransitioningFlag = isTransitioning ? 1.0 : 0.0;

  vNext = getNextValue(aCur, aPrev, aTo);
  gl_Position = vec4(0, 0, 0, 1);
  gl_PointSize = 100.0;
}
`,jde=`#version 300 es
#define SHADER_NAME spring-transition-is-transitioning-fragment-shader

in float vIsTransitioningFlag;

out vec4 fragColor;

void main(void) {
  if (vIsTransitioningFlag == 0.0) {
    discard;
  }
  fragColor = vec4(1.0);
}`;function Ude(t,e){const r=Cz(e.size),n=kz(e.size);return new Ng(t,{vs:Fde,fs:jde,bufferLayout:[{name:"aPrev",format:n},{name:"aCur",format:n},{name:"aTo",format:e.getBufferLayout().attributes[0].format}],varyings:["vNext"],modules:[Bde],defines:{ATTRIBUTE_TYPE:r},parameters:{depthCompare:"always",blendColorOperation:"max",blendColorSrcFactor:"one",blendColorDstFactor:"one",blendAlphaOperation:"max",blendAlphaSrcFactor:"one",blendAlphaDstFactor:"one"}})}function $de(t){return t.createTexture({data:new Uint8Array(4),format:"rgba8unorm",width:1,height:1})}function zde(t,e){return t.createFramebuffer({id:"spring-transition-is-transitioning-framebuffer",width:1,height:1,colorAttachments:[e]})}const Wde={interpolation:Ode,spring:Lde};class Vde{constructor(e,{id:r,timeline:n}){if(!e)throw new Error("AttributeTransitionManager is constructed without device");this.id=r,this.device=e,this.timeline=n,this.transitions={},this.needsRedraw=!1,this.numInstances=1}finalize(){for(const e in this.transitions)this._removeTransition(e)}update({attributes:e,transitions:r,numInstances:n}){this.numInstances=n||1;for(const i in e){const o=e[i],s=o.getTransitionSetting(r);s&&this._updateAttribute(i,o,s)}for(const i in this.transitions){const o=e[i];(!o||!o.getTransitionSetting(r))&&this._removeTransition(i)}}hasAttribute(e){const r=this.transitions[e];return r&&r.inProgress}getAttributes(){const e={};for(const r in this.transitions){const n=this.transitions[r];n.inProgress&&(e[r]=n.attributeInTransition)}return e}run(){if(this.numInstances===0)return!1;for(const r in this.transitions)this.transitions[r].update()&&(this.needsRedraw=!0);const e=this.needsRedraw;return this.needsRedraw=!1,e}_removeTransition(e){this.transitions[e].delete(),delete this.transitions[e]}_updateAttribute(e,r,n){const i=this.transitions[e];let o=!i||i.type!==n.type;if(o){i&&this._removeTransition(e);const s=Wde[n.type];s?this.transitions[e]=new s({attribute:r,timeline:this.timeline,device:this.device}):(Mn.error(`unsupported transition type '${n.type}'`)(),o=!1)}(o||r.needsRedraw())&&(this.needsRedraw=!0,this.transitions[e].start(n,this.numInstances))}}const yI="attributeManager.invalidate",Hde="attributeManager.updateStart",qde="attributeManager.updateEnd",Xde="attribute.updateStart",Yde="attribute.allocate",Kde="attribute.updateEnd";class Gde{constructor(e,{id:r="attribute-manager",stats:n,timeline:i}={}){this.mergeBoundsMemoized=Nm(uue),this.id=r,this.device=e,this.attributes={},this.updateTriggers={},this.needsRedraw=!0,this.userData={},this.stats=n,this.attributeTransitionManager=new Vde(e,{id:`${r}-transitions`,timeline:i}),Object.seal(this)}finalize(){for(const e in this.attributes)this.attributes[e].delete();this.attributeTransitionManager.finalize()}getNeedsRedraw(e={clearRedrawFlags:!1}){const r=this.needsRedraw;return this.needsRedraw=this.needsRedraw&&!e.clearRedrawFlags,r&&this.id}setNeedsRedraw(){this.needsRedraw=!0}add(e){this._add(e)}addInstanced(e){this._add(e,{stepMode:"instance"})}remove(e){for(const r of e)this.attributes[r]!==void 0&&(this.attributes[r].delete(),delete this.attributes[r])}invalidate(e,r){const n=this._invalidateTrigger(e,r);Ps(yI,this,e,n)}invalidateAll(e){for(const r in this.attributes)this.attributes[r].setNeedsUpdate(r,e);Ps(yI,this,"all")}update({data:e,numInstances:r,startIndices:n=null,transitions:i,props:o={},buffers:s={},context:a={}}){let l=!1;Ps(Hde,this),this.stats&&this.stats.get("Update Attributes").timeStart();for(const c in this.attributes){const u=this.attributes[c],g=u.settings.accessor;u.startIndices=n,u.numInstances=r,o[c]&&Mn.removed(`props.${c}`,`data.attributes.${c}`)(),u.setExternalBuffer(s[c])||u.setBinaryValue(typeof g=="string"?s[g]:void 0,e.startIndices)||typeof g=="string"&&!s[g]&&u.setConstantValue(a,o[g])||u.needsUpdate()&&(l=!0,this._updateAttribute({attribute:u,numInstances:r,data:e,props:o,context:a})),this.needsRedraw=this.needsRedraw||u.needsRedraw()}l&&Ps(qde,this,r),this.stats&&this.stats.get("Update Attributes").timeEnd(),this.attributeTransitionManager.update({attributes:this.attributes,numInstances:r,transitions:i})}updateTransition(){const{attributeTransitionManager:e}=this,r=e.run();return this.needsRedraw=this.needsRedraw||r,r}getAttributes(){return{...this.attributes,...this.attributeTransitionManager.getAttributes()}}getBounds(e){const r=e.map(n=>{var i;return(i=this.attributes[n])==null?void 0:i.getBounds()});return this.mergeBoundsMemoized(r)}getChangedAttributes(e={clearChangedFlags:!1}){const{attributes:r,attributeTransitionManager:n}=this,i={...n.getAttributes()};for(const o in r){const s=r[o];s.needsRedraw(e)&&!n.hasAttribute(o)&&(i[o]=s)}return i}getBufferLayouts(e){return Object.values(this.getAttributes()).map(r=>r.getBufferLayout(e))}_add(e,r){for(const n in e){const i=e[n],o={...i,id:n,size:i.isIndexed&&1||i.size||1,...r};this.attributes[n]=new Pz(this.device,o)}this._mapUpdateTriggersToAttributes()}_mapUpdateTriggersToAttributes(){const e={};for(const r in this.attributes)this.attributes[r].getUpdateTriggers().forEach(i=>{e[i]||(e[i]=[]),e[i].push(r)});this.updateTriggers=e}_invalidateTrigger(e,r){const{attributes:n,updateTriggers:i}=this,o=i[e];return o&&o.forEach(s=>{const a=n[s];a&&a.setNeedsUpdate(a.id,r)}),o}_updateAttribute(e){const{attribute:r,numInstances:n}=e;if(Ps(Xde,r),r.constant){r.setConstantValue(e.context,r.value);return}r.allocate(n)&&Ps(Yde,r,n),r.updateBuffer(e)&&(this.needsRedraw=!0,Ps(Kde,r,n))}}class Qde extends ob{get value(){return this._value}_onUpdate(){const{time:e,settings:{fromValue:r,toValue:n,duration:i,easing:o}}=this,s=o(e/i);this._value=Ed(r,n,s)}}const bI=1e-5;function _I(t,e,r,n,i){const o=e-t,a=(r-e)*i,l=-o*n;return a+l+o+e}function Zde(t,e,r,n,i){if(Array.isArray(r)){const o=[];for(let s=0;s<r.length;s++)o[s]=_I(t[s],e[s],r[s],n,i);return o}return _I(t,e,r,n,i)}function wI(t,e){if(Array.isArray(t)){let r=0;for(let n=0;n<t.length;n++){const i=t[n]-e[n];r+=i*i}return Math.sqrt(r)}return Math.abs(t-e)}class Jde extends ob{get value(){return this._currValue}_onUpdate(){const{fromValue:e,toValue:r,damping:n,stiffness:i}=this.settings,{_prevValue:o=e,_currValue:s=e}=this;let a=Zde(o,s,r,n,i);const l=wI(a,r),c=wI(a,s);l<bI&&c<bI&&(a=r,this.end()),this._prevValue=s,this._currValue=a}}const eAe={interpolation:Qde,spring:Jde};class tAe{constructor(e){this.transitions=new Map,this.timeline=e}get active(){return this.transitions.size>0}add(e,r,n,i){const{transitions:o}=this;if(o.has(e)){const l=o.get(e),{value:c=l.settings.fromValue}=l;r=c,this.remove(e)}if(i=Tz(i),!i)return;const s=eAe[i.type];if(!s){Mn.error(`unsupported transition type '${i.type}'`)();return}const a=new s(this.timeline);a.start({...i,fromValue:r,toValue:n}),o.set(e,a)}remove(e){const{transitions:r}=this;r.has(e)&&(r.get(e).cancel(),r.delete(e))}update(){const e={};for(const[r,n]of this.transitions)n.update(),e[r]=n.value,n.inProgress||this.remove(r);return e}clear(){for(const e of this.transitions.keys())this.remove(e)}}function rAe(t){const e=t[ah];for(const r in e){const n=e[r],{validate:i}=n;if(i&&!i(t[r],n))throw new Error(`Invalid prop ${r}: ${t[r]}`)}}function nAe(t,e){const r=Lz({newProps:t,oldProps:e,propTypes:t[ah],ignoreProps:{data:null,updateTriggers:null,extensions:null,transitions:null}}),n=oAe(t,e);let i=!1;return n||(i=sAe(t,e)),{dataChanged:n,propsChanged:r,updateTriggersChanged:i,extensionsChanged:aAe(t,e),transitionsChanged:iAe(t,e)}}function iAe(t,e){if(!t.transitions)return!1;const r={},n=t[ah];let i=!1;for(const o in t.transitions){const s=n[o],a=s&&s.type;(a==="number"||a==="color"||a==="array")&&uE(t[o],e[o],s)&&(r[o]=!0,i=!0)}return i?r:!1}function Lz({newProps:t,oldProps:e,ignoreProps:r={},propTypes:n={},triggerName:i="props"}){if(e===t)return!1;if(typeof t!="object"||t===null)return`${i} changed shallowly`;if(typeof e!="object"||e===null)return`${i} changed shallowly`;for(const o of Object.keys(t))if(!(o in r)){if(!(o in e))return`${i}.${o} added`;const s=uE(t[o],e[o],n[o]);if(s)return`${i}.${o} ${s}`}for(const o of Object.keys(e))if(!(o in r)){if(!(o in t))return`${i}.${o} dropped`;if(!Object.hasOwnProperty.call(t,o)){const s=uE(t[o],e[o],n[o]);if(s)return`${i}.${o} ${s}`}}return!1}function uE(t,e,r){let n=r&&r.equal;return n&&!n(t,e,r)||!n&&(n=t&&e&&t.equals,n&&!n.call(t,e))?"changed deeply":!n&&e!==t?"changed shallowly":null}function oAe(t,e){if(e===null)return"oldProps is null, initial diff";let r=!1;const{dataComparator:n,_dataDiff:i}=t;return n?n(t.data,e.data)||(r="Data comparator detected a change"):t.data!==e.data&&(r="A new data container was supplied"),r&&i&&(r=i(t.data,e.data)||r),r}function sAe(t,e){if(e===null)return{all:!0};if("all"in t.updateTriggers&&xI(t,e,"all"))return{all:!0};const r={};let n=!1;for(const i in t.updateTriggers)i!=="all"&&xI(t,e,i)&&(r[i]=!0,n=!0);return n?r:!1}function aAe(t,e){if(e===null)return!0;const r=e.extensions,{extensions:n}=t;if(n===r)return!1;if(!r||!n||n.length!==r.length)return!0;for(let i=0;i<n.length;i++)if(!n[i].equals(r[i]))return!0;return!1}function xI(t,e,r){let n=t.updateTriggers[r];n=n??{};let i=e.updateTriggers[r];return i=i??{},Lz({oldProps:i,newProps:n,triggerName:r})}const lAe="count(): argument not an object",cAe="count(): argument not a container";function uAe(t){if(!hAe(t))throw new Error(lAe);if(typeof t.count=="function")return t.count();if(Number.isFinite(t.size))return t.size;if(Number.isFinite(t.length))return t.length;if(fAe(t))return Object.keys(t).length;throw new Error(cAe)}function fAe(t){return t!==null&&typeof t=="object"&&t.constructor===Object}function hAe(t){return t!==null&&typeof t=="object"}function SI(t,e){if(!e)return t;const r={...t,...e};if("defines"in e&&(r.defines={...t.defines,...e.defines}),"modules"in e&&(r.modules=(t.modules||[]).concat(e.modules),e.modules.some(n=>n.name==="project64"))){const n=r.modules.findIndex(i=>i.name==="project32");n>=0&&r.modules.splice(n,1)}if("inject"in e)if(!t.inject)r.inject=e.inject;else{const n={...t.inject};for(const i in e.inject)n[i]=(n[i]||"")+e.inject[i];r.inject=n}return r}const dAe={minFilter:"linear",mipmapFilter:"linear",magFilter:"linear",addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"},fE={};function AAe(t,e,r,n){if(r instanceof Va)return r;r.constructor&&r.constructor.name!=="Object"&&(r={data:r});let i=null;r.compressed&&(i={minFilter:"linear",mipmapFilter:r.data.length>1?"nearest":"linear"});const{width:o,height:s}=r.data,a=e.createTexture({...r,sampler:{...dAe,...i,...n},mipLevels:e.getMipLevelCount(o,s)});return a.generateMipmapsWebGL(),fE[a.id]=t,a}function pAe(t,e){!e||!(e instanceof Va)||fE[e.id]===t&&(e.delete(),delete fE[e.id])}const gAe={boolean:{validate(t,e){return!0},equal(t,e,r){return!!t==!!e}},number:{validate(t,e){return Number.isFinite(t)&&(!("max"in e)||t<=e.max)&&(!("min"in e)||t>=e.min)}},color:{validate(t,e){return e.optional&&!t||hE(t)&&(t.length===3||t.length===4)},equal(t,e,r){return xl(t,e,1)}},accessor:{validate(t,e){const r=my(t);return r==="function"||r===my(e.value)},equal(t,e,r){return typeof e=="function"?!0:xl(t,e,1)}},array:{validate(t,e){return e.optional&&!t||hE(t)},equal(t,e,r){const{compare:n}=r,i=Number.isInteger(n)?n:n?1:0;return n?xl(t,e,i):t===e}},object:{equal(t,e,r){if(r.ignore)return!0;const{compare:n}=r,i=Number.isInteger(n)?n:n?1:0;return n?xl(t,e,i):t===e}},function:{validate(t,e){return e.optional&&!t||typeof t=="function"},equal(t,e,r){return!r.compare&&r.ignore!==!1||t===e}},data:{transform:(t,e,r)=>{if(!t)return t;const{dataTransform:n}=r.props;return n?n(t):typeof t.shape=="string"&&t.shape.endsWith("-table")&&Array.isArray(t.data)?t.data:t}},image:{transform:(t,e,r)=>{const n=r.context;return!n||!n.device?null:AAe(r.id,n.device,t,{...e.parameters,...r.props.textureParameters})},release:(t,e,r)=>{pAe(r.id,t)}}};function mAe(t){const e={},r={},n={};for(const[i,o]of Object.entries(t)){const s=o==null?void 0:o.deprecatedFor;if(s)n[i]=Array.isArray(s)?s:[s];else{const a=vAe(i,o);e[i]=a,r[i]=a.value}}return{propTypes:e,defaultProps:r,deprecatedProps:n}}function vAe(t,e){switch(my(e)){case"object":return Mp(t,e);case"array":return Mp(t,{type:"array",value:e,compare:!1});case"boolean":return Mp(t,{type:"boolean",value:e});case"number":return Mp(t,{type:"number",value:e});case"function":return Mp(t,{type:"function",value:e,compare:!0});default:return{name:t,type:"unknown",value:e}}}function Mp(t,e){return"type"in e?{name:t,...gAe[e.type],...e}:"value"in e?{name:t,type:my(e.value),...e}:{name:t,type:"object",value:e}}function hE(t){return Array.isArray(t)||ArrayBuffer.isView(t)}function my(t){return hE(t)?"array":t===null?"null":typeof t}function yAe(t,e){let r;for(let o=e.length-1;o>=0;o--){const s=e[o];"extensions"in s&&(r=s.extensions)}const n=dE(t.constructor,r),i=Object.create(n);i[gy]=t,i[Pd]={},i[th]={};for(let o=0;o<e.length;++o){const s=e[o];for(const a in s)i[a]=s[a]}return Object.freeze(i),i}const bAe="_mergedDefaultProps";function dE(t,e){if(!(t instanceof ab.constructor))return{};let r=bAe;if(e)for(const i of e){const o=i.constructor;o&&(r+=`:${o.extensionName||o.name}`)}const n=Dz(t,r);return n||(t[r]=_Ae(t,e||[]))}function _Ae(t,e){if(!t.prototype)return null;const n=Object.getPrototypeOf(t),i=dE(n),o=Dz(t,"defaultProps")||{},s=mAe(o),a=Object.assign(Object.create(null),i,s.defaultProps),l=Object.assign(Object.create(null),i==null?void 0:i[ah],s.propTypes),c=Object.assign(Object.create(null),i==null?void 0:i[xw],s.deprecatedProps);for(const u of e){const g=dE(u.constructor);g&&(Object.assign(a,g),Object.assign(l,g[ah]),Object.assign(c,g[xw]))}return wAe(a,t),SAe(a,l),xAe(a,c),a[ah]=l,a[xw]=c,e.length===0&&!lC(t,"_propTypes")&&(t._propTypes=l),a}function wAe(t,e){const r=TAe(e);Object.defineProperties(t,{id:{writable:!0,value:r}})}function xAe(t,e){for(const r in e)Object.defineProperty(t,r,{enumerable:!1,set(n){const i=`${this.id}: ${r}`;for(const o of e[r])lC(this,o)||(this[o]=n);Mn.deprecated(i,e[r].join("/"))()}})}function SAe(t,e){const r={},n={};for(const i in e){const o=e[i],{name:s,value:a}=o;o.async&&(r[s]=a,n[s]=EAe(s))}t[YA]=r,t[Pd]={},Object.defineProperties(t,n)}function EAe(t){return{enumerable:!0,set(e){typeof e=="string"||e instanceof Promise||Sz(e)?this[Pd][t]=e:this[th][t]=e},get(){if(this[th]){if(t in this[th])return this[th][t]||this[YA][t];if(t in this[Pd]){const e=this[gy]&&this[gy].internalState;if(e&&e.hasAsyncProp(t))return e.getAsyncProp(t)||this[YA][t]}}return this[YA][t]}}}function lC(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Dz(t,e){return lC(t,e)&&t[e]}function TAe(t){const e=t.componentName;return e||Mn.warn(`${t.name}.componentName not specified`)(),e||t.name}let PAe=0;class ab{constructor(...e){this.props=yAe(this,e),this.id=this.props.id,this.count=PAe++}clone(e){const{props:r}=this,n={};for(const i in r[YA])i in r[th]?n[i]=r[th][i]:i in r[Pd]&&(n[i]=r[Pd][i]);return new this.constructor({...r,...n,...e})}}ab.componentName="Component";ab.defaultProps={};const CAe=Object.freeze({});class kAe{constructor(e){this.component=e,this.asyncProps={},this.onAsyncPropUpdated=()=>{},this.oldProps=null,this.oldAsyncProps=null}finalize(){for(const e in this.asyncProps){const r=this.asyncProps[e];r&&r.type&&r.type.release&&r.type.release(r.resolvedValue,r.type,this.component)}this.asyncProps={},this.component=null,this.resetOldProps()}getOldProps(){return this.oldAsyncProps||this.oldProps||CAe}resetOldProps(){this.oldAsyncProps=null,this.oldProps=this.component?this.component.props:null}hasAsyncProp(e){return e in this.asyncProps}getAsyncProp(e){const r=this.asyncProps[e];return r&&r.resolvedValue}isAsyncPropLoading(e){if(e){const r=this.asyncProps[e];return!!(r&&r.pendingLoadCount>0&&r.pendingLoadCount!==r.resolvedLoadCount)}for(const r in this.asyncProps)if(this.isAsyncPropLoading(r))return!0;return!1}reloadAsyncProp(e,r){this._watchPromise(e,Promise.resolve(r))}setAsyncProps(e){this.component=e[gy]||this.component;const r=e[th]||{},n=e[Pd]||e,i=e[YA]||{};for(const o in r){const s=r[o];this._createAsyncPropData(o,i[o]),this._updateAsyncProp(o,s),r[o]=this.getAsyncProp(o)}for(const o in n){const s=n[o];this._createAsyncPropData(o,i[o]),this._updateAsyncProp(o,s)}}_fetch(e,r){return null}_onResolve(e,r){}_onError(e,r){}_updateAsyncProp(e,r){if(this._didAsyncInputValueChange(e,r)){if(typeof r=="string"&&(r=this._fetch(e,r)),r instanceof Promise){this._watchPromise(e,r);return}if(Sz(r)){this._resolveAsyncIterable(e,r);return}this._setPropValue(e,r)}}_freezeAsyncOldProps(){if(!this.oldAsyncProps&&this.oldProps){this.oldAsyncProps=Object.create(this.oldProps);for(const e in this.asyncProps)Object.defineProperty(this.oldAsyncProps,e,{enumerable:!0,value:this.oldProps[e]})}}_didAsyncInputValueChange(e,r){const n=this.asyncProps[e];return r===n.resolvedValue||r===n.lastValue?!1:(n.lastValue=r,!0)}_setPropValue(e,r){this._freezeAsyncOldProps();const n=this.asyncProps[e];n&&(r=this._postProcessValue(n,r),n.resolvedValue=r,n.pendingLoadCount++,n.resolvedLoadCount=n.pendingLoadCount)}_setAsyncPropValue(e,r,n){const i=this.asyncProps[e];i&&n>=i.resolvedLoadCount&&r!==void 0&&(this._freezeAsyncOldProps(),i.resolvedValue=r,i.resolvedLoadCount=n,this.onAsyncPropUpdated(e,r))}_watchPromise(e,r){const n=this.asyncProps[e];if(n){n.pendingLoadCount++;const i=n.pendingLoadCount;r.then(o=>{this.component&&(o=this._postProcessValue(n,o),this._setAsyncPropValue(e,o,i),this._onResolve(e,o))}).catch(o=>{this._onError(e,o)})}}async _resolveAsyncIterable(e,r){if(e!=="data"){this._setPropValue(e,r);return}const n=this.asyncProps[e];if(!n)return;n.pendingLoadCount++;const i=n.pendingLoadCount;let o=[],s=0;for await(const a of r){if(!this.component)return;const{dataTransform:l}=this.component.props;l?o=l(a,o):o=o.concat(a),Object.defineProperty(o,"__diff",{enumerable:!1,value:[{startRow:s,endRow:o.length}]}),s=o.length,this._setAsyncPropValue(e,o,i)}this._onResolve(e,o)}_postProcessValue(e,r){const n=e.type;return n&&this.component&&(n.release&&n.release(e.resolvedValue,n,this.component),n.transform)?n.transform(r,n,this.component):r}_createAsyncPropData(e,r){if(!this.asyncProps[e]){const i=this.component&&this.component.props[ah];this.asyncProps[e]={type:i&&i[e],lastValue:null,resolvedValue:r,pendingLoadCount:0,resolvedLoadCount:0}}}}class OAe extends kAe{constructor({attributeManager:e,layer:r}){super(r),this.attributeManager=e,this.needsRedraw=!0,this.needsUpdate=!0,this.subLayers=null,this.usesPickingColorCache=!1}get layer(){return this.component}_fetch(e,r){const n=this.layer,i=n==null?void 0:n.props.fetch;return i?i(r,{propName:e,layer:n}):super._fetch(e,r)}_onResolve(e,r){const n=this.layer;if(n){const i=n.props.onDataLoad;e==="data"&&i&&i(r,{propName:e,layer:n})}}_onError(e,r){const n=this.layer;n&&n.raiseError(r,`loading ${e} of ${this.layer}`)}}const RAe="layer.changeFlag",IAe="layer.initialize",NAe="layer.update",MAe="layer.finalize",LAe="layer.matched",EI=2**24-1,DAe=Object.freeze([]),BAe=Nm(({oldViewport:t,viewport:e})=>t.equals(e));let cc=new Uint8ClampedArray(0);const FAe={data:{type:"data",value:DAe,async:!0},dataComparator:{type:"function",value:null,optional:!0},_dataDiff:{type:"function",value:t=>t&&t.__diff,optional:!0},dataTransform:{type:"function",value:null,optional:!0},onDataLoad:{type:"function",value:null,optional:!0},onError:{type:"function",value:null,optional:!0},fetch:{type:"function",value:(t,{propName:e,layer:r,loaders:n,loadOptions:i,signal:o})=>{const{resourceManager:s}=r.context;i=i||r.getLoadOptions(),n=n||r.props.loaders,o&&(i={...i,fetch:{...i==null?void 0:i.fetch,signal:o}});let a=s.contains(t);return!a&&!i&&(s.add({resourceId:t,data:E4(t,n),persistent:!1}),a=!0),a?s.subscribe({resourceId:t,onChange:l=>{var c;return(c=r.internalState)==null?void 0:c.reloadAsyncProp(e,l)},consumerId:r.id,requestId:e}):E4(t,n,i)}},updateTriggers:{},visible:!0,pickable:!1,opacity:{type:"number",min:0,max:1,value:1},operation:"draw",onHover:{type:"function",value:null,optional:!0},onClick:{type:"function",value:null,optional:!0},onDragStart:{type:"function",value:null,optional:!0},onDrag:{type:"function",value:null,optional:!0},onDragEnd:{type:"function",value:null,optional:!0},coordinateSystem:gn.DEFAULT,coordinateOrigin:{type:"array",value:[0,0,0],compare:!0},modelMatrix:{type:"array",value:null,compare:!0,optional:!0},wrapLongitude:!1,positionFormat:"XYZ",colorFormat:"RGBA",parameters:{type:"object",value:{},optional:!0,compare:2},loadOptions:{type:"object",value:null,optional:!0,ignore:!0},transitions:null,extensions:[],loaders:{type:"array",value:[],optional:!0,ignore:!0},getPolygonOffset:{type:"function",value:({layerIndex:t})=>[0,-t*100]},highlightedObjectIndex:null,autoHighlight:!1,highlightColor:{type:"accessor",value:[0,0,128,128]}};let vh=class extends ab{constructor(){super(...arguments),this.internalState=null,this.lifecycle=RA.NO_STATE,this.parent=null}static get componentName(){return Object.prototype.hasOwnProperty.call(this,"layerName")?this.layerName:""}get root(){let e=this;for(;e.parent;)e=e.parent;return e}toString(){return`${this.constructor.layerName||this.constructor.name}({id: '${this.props.id}'})`}project(e){ts(this.internalState);const r=this.internalState.viewport||this.context.viewport,n=nz(e,{viewport:r,modelMatrix:this.props.modelMatrix,coordinateOrigin:this.props.coordinateOrigin,coordinateSystem:this.props.coordinateSystem}),[i,o,s]=G$(n,r.pixelProjectionMatrix);return e.length===2?[i,o]:[i,o,s]}unproject(e){return ts(this.internalState),(this.internalState.viewport||this.context.viewport).unproject(e)}projectPosition(e,r){ts(this.internalState);const n=this.internalState.viewport||this.context.viewport;return gue(e,{viewport:n,modelMatrix:this.props.modelMatrix,coordinateOrigin:this.props.coordinateOrigin,coordinateSystem:this.props.coordinateSystem,...r})}get isComposite(){return!1}get isDrawable(){return!0}setState(e){this.setChangeFlags({stateChanged:!0}),Object.assign(this.state,e),this.setNeedsRedraw()}setNeedsRedraw(){this.internalState&&(this.internalState.needsRedraw=!0)}setNeedsUpdate(){this.internalState&&(this.context.layerManager.setNeedsUpdate(String(this)),this.internalState.needsUpdate=!0)}get isLoaded(){return this.internalState?!this.internalState.isAsyncPropLoading():!1}get wrapLongitude(){return this.props.wrapLongitude}isPickable(){return this.props.pickable&&this.props.visible}getModels(){const e=this.state;return e&&(e.models||e.model&&[e.model])||[]}setShaderModuleProps(...e){for(const r of this.getModels())r.shaderInputs.setProps(...e)}getAttributeManager(){return this.internalState&&this.internalState.attributeManager}getCurrentLayer(){return this.internalState&&this.internalState.layer}getLoadOptions(){return this.props.loadOptions}use64bitPositions(){const{coordinateSystem:e}=this.props;return e===gn.DEFAULT||e===gn.LNGLAT||e===gn.CARTESIAN}onHover(e,r){return this.props.onHover&&this.props.onHover(e,r)||!1}onClick(e,r){return this.props.onClick&&this.props.onClick(e,r)||!1}nullPickingColor(){return[0,0,0]}encodePickingColor(e,r=[]){return r[0]=e+1&255,r[1]=e+1>>8&255,r[2]=e+1>>8>>8&255,r}decodePickingColor(e){ts(e instanceof Uint8Array);const[r,n,i]=e;return r+n*256+i*65536-1}getNumInstances(){return Number.isFinite(this.props.numInstances)?this.props.numInstances:this.state&&this.state.numInstances!==void 0?this.state.numInstances:uAe(this.props.data)}getStartIndices(){return this.props.startIndices?this.props.startIndices:this.state&&this.state.startIndices?this.state.startIndices:null}getBounds(){var e;return(e=this.getAttributeManager())==null?void 0:e.getBounds(["positions","instancePositions"])}getShaders(e){e=SI(e,{disableWarnings:!0,modules:this.context.defaultShaderModules});for(const r of this.props.extensions)e=SI(e,r.getShaders.call(this,r));return e}shouldUpdateState(e){return e.changeFlags.propsOrDataChanged}updateState(e){const r=this.getAttributeManager(),{dataChanged:n}=e.changeFlags;if(n&&r)if(Array.isArray(n))for(const i of n)r.invalidateAll(i);else r.invalidateAll();if(r){const{props:i}=e,o=this.internalState.hasPickingBuffer,s=Number.isInteger(i.highlightedObjectIndex)||i.pickable||i.extensions.some(a=>a.getNeedsPickingBuffer.call(this,a));if(o!==s){this.internalState.hasPickingBuffer=s;const{pickingColors:a,instancePickingColors:l}=r.attributes,c=a||l;c&&(s&&c.constant&&(c.constant=!1,r.invalidate(c.id)),!c.value&&!s&&(c.constant=!0,c.value=[0,0,0]))}}}finalizeState(e){for(const n of this.getModels())n.destroy();const r=this.getAttributeManager();r&&r.finalize(),this.context&&this.context.resourceManager.unsubscribe({consumerId:this.id}),this.internalState&&(this.internalState.uniformTransitions.clear(),this.internalState.finalize())}draw(e){for(const r of this.getModels())r.draw(e.renderPass)}getPickingInfo({info:e,mode:r,sourceLayer:n}){const{index:i}=e;return i>=0&&Array.isArray(this.props.data)&&(e.object=this.props.data[i]),e}raiseError(e,r){var n,i,o,s;r&&(e=new Error(`${r}: ${e.message}`,{cause:e})),(i=(n=this.props).onError)!=null&&i.call(n,e)||(s=(o=this.context)==null?void 0:o.onError)==null||s.call(o,e,this)}getNeedsRedraw(e={clearRedrawFlags:!1}){return this._getNeedsRedraw(e)}needsUpdate(){return this.internalState?this.internalState.needsUpdate||this.hasUniformTransition()||this.shouldUpdateState(this._getUpdateParams()):!1}hasUniformTransition(){var e;return((e=this.internalState)==null?void 0:e.uniformTransitions.active)||!1}activateViewport(e){if(!this.internalState)return;const r=this.internalState.viewport;this.internalState.viewport=e,(!r||!BAe({oldViewport:r,viewport:e}))&&(this.setChangeFlags({viewportChanged:!0}),this.isComposite?this.needsUpdate()&&this.setNeedsUpdate():this._update())}invalidateAttribute(e="all"){const r=this.getAttributeManager();r&&(e==="all"?r.invalidateAll():r.invalidate(e))}updateAttributes(e){let r=!1;for(const n in e)e[n].layoutChanged()&&(r=!0);for(const n of this.getModels())this._setModelAttributes(n,e,r)}_updateAttributes(){const e=this.getAttributeManager();if(!e)return;const r=this.props,n=this.getNumInstances(),i=this.getStartIndices();e.update({data:r.data,numInstances:n,startIndices:i,props:r,transitions:r.transitions,buffers:r.data.attributes,context:this});const o=e.getChangedAttributes({clearChangedFlags:!0});this.updateAttributes(o)}_updateAttributeTransition(){const e=this.getAttributeManager();e&&e.updateTransition()}_updateUniformTransition(){const{uniformTransitions:e}=this.internalState;if(e.active){const r=e.update(),n=Object.create(this.props);for(const i in r)Object.defineProperty(n,i,{value:r[i]});return n}return this.props}calculateInstancePickingColors(e,{numInstances:r}){if(e.constant)return;const n=Math.floor(cc.length/4);if(this.internalState.usesPickingColorCache=!0,n<r){r>EI&&Mn.warn("Layer has too many data objects. Picking might not be able to distinguish all objects.")(),cc=A0.allocate(cc,r,{size:4,copy:!0,maxCount:Math.max(r,EI)});const i=Math.floor(cc.length/4),o=[0,0,0];for(let s=n;s<i;s++)this.encodePickingColor(s,o),cc[s*4+0]=o[0],cc[s*4+1]=o[1],cc[s*4+2]=o[2],cc[s*4+3]=0}e.value=cc.subarray(0,r*4)}_setModelAttributes(e,r,n=!1){var a;if(!Object.keys(r).length)return;if(n){const l=this.getAttributeManager();e.setBufferLayout(l.getBufferLayouts(e)),r=l.getAttributes()}const i=((a=e.userData)==null?void 0:a.excludeAttributes)||{},o={},s={};for(const l in r){if(i[l])continue;const c=r[l].getValue();for(const u in c){const g=c[u];g instanceof ci?r[l].settings.isIndexed?e.setIndexBuffer(g):o[u]=g:g&&(s[u]=g)}}e.setAttributes(o),e.setConstantAttributes(s)}disablePickingIndex(e){const r=this.props.data;if(!("attributes"in r)){this._disablePickingIndex(e);return}const{pickingColors:n,instancePickingColors:i}=this.getAttributeManager().attributes,o=n||i,s=o&&r.attributes&&r.attributes[o.id];if(s&&s.value){const a=s.value,l=this.encodePickingColor(e);for(let c=0;c<r.length;c++){const u=o.getVertexOffset(c);a[u]===l[0]&&a[u+1]===l[1]&&a[u+2]===l[2]&&this._disablePickingIndex(c)}}else this._disablePickingIndex(e)}_disablePickingIndex(e){const{pickingColors:r,instancePickingColors:n}=this.getAttributeManager().attributes,i=r||n;if(!i)return;const o=i.getVertexOffset(e),s=i.getVertexOffset(e+1);i.buffer.write(new Uint8Array(s-o),o)}restorePickingColors(){const{pickingColors:e,instancePickingColors:r}=this.getAttributeManager().attributes,n=e||r;n&&(this.internalState.usesPickingColorCache&&n.value.buffer!==cc.buffer&&(n.value=cc.subarray(0,n.value.length)),n.updateSubBuffer({startOffset:0}))}_initialize(){ts(!this.internalState),ts(Number.isFinite(this.props.coordinateSystem)),Ps(IAe,this);const e=this._getAttributeManager();e&&e.addInstanced({instancePickingColors:{type:"uint8",size:4,noAlloc:!0,update:this.calculateInstancePickingColors}}),this.internalState=new OAe({attributeManager:e,layer:this}),this._clearChangeFlags(),this.state={},Object.defineProperty(this.state,"attributeManager",{get:()=>(Mn.deprecated("layer.state.attributeManager","layer.getAttributeManager()")(),e)}),this.internalState.uniformTransitions=new tAe(this.context.timeline),this.internalState.onAsyncPropUpdated=this._onAsyncPropUpdated.bind(this),this.internalState.setAsyncProps(this.props),this.initializeState(this.context);for(const r of this.props.extensions)r.initializeState.call(this,this.context,r);this.setChangeFlags({dataChanged:"init",propsChanged:"init",viewportChanged:!0,extensionsChanged:!0}),this._update()}_transferState(e){Ps(LAe,this,this===e);const{state:r,internalState:n}=e;this!==e&&(this.internalState=n,this.state=r,this.internalState.setAsyncProps(this.props),this._diffProps(this.props,this.internalState.getOldProps()))}_update(){const e=this.needsUpdate();if(Ps(NAe,this,e),!e)return;const r=this.props,n=this.context,i=this.internalState,o=n.viewport,s=this._updateUniformTransition();i.propsInTransition=s,n.viewport=i.viewport||o,this.props=s;try{const a=this._getUpdateParams(),l=this.getModels();if(n.device)this.updateState(a);else try{this.updateState(a)}catch{}for(const u of this.props.extensions)u.updateState.call(this,a,u);this.setNeedsRedraw(),this._updateAttributes();const c=this.getModels()[0]!==l[0];this._postUpdate(a,c)}finally{n.viewport=o,this.props=r,this._clearChangeFlags(),i.needsUpdate=!1,i.resetOldProps()}}_finalize(){Ps(MAe,this),this.finalizeState(this.context);for(const e of this.props.extensions)e.finalizeState.call(this,this.context,e)}_drawLayer({renderPass:e,shaderModuleProps:r=null,uniforms:n={},parameters:i={}}){this._updateAttributeTransition();const o=this.props,s=this.context;this.props=this.internalState.propsInTransition||o;try{r&&this.setShaderModuleProps(r);const{getPolygonOffset:a}=this.props,l=a&&a(n)||[0,0];s.device instanceof lE&&s.device.setParametersWebGL({polygonOffset:l});for(const c of this.getModels())c.device.type==="webgpu"?c.setParameters({...c.parameters,...i}):c.setParameters(i);if(s.device instanceof lE)s.device.withParametersWebGL(i,()=>{const c={renderPass:e,shaderModuleProps:r,uniforms:n,parameters:i,context:s};for(const u of this.props.extensions)u.draw.call(this,c,u);this.draw(c)});else{const c={renderPass:e,shaderModuleProps:r,uniforms:n,parameters:i,context:s};for(const u of this.props.extensions)u.draw.call(this,c,u);this.draw(c)}}finally{this.props=o}}getChangeFlags(){var e;return(e=this.internalState)==null?void 0:e.changeFlags}setChangeFlags(e){if(!this.internalState)return;const{changeFlags:r}=this.internalState;for(const i in e)if(e[i]){let o=!1;switch(i){case"dataChanged":const s=e[i],a=r[i];s&&Array.isArray(a)&&(r.dataChanged=Array.isArray(s)?a.concat(s):s,o=!0);default:r[i]||(r[i]=e[i],o=!0)}o&&Ps(RAe,this,i,e)}const n=!!(r.dataChanged||r.updateTriggersChanged||r.propsChanged||r.extensionsChanged);r.propsOrDataChanged=n,r.somethingChanged=n||r.viewportChanged||r.stateChanged}_clearChangeFlags(){this.internalState.changeFlags={dataChanged:!1,propsChanged:!1,updateTriggersChanged:!1,viewportChanged:!1,stateChanged:!1,extensionsChanged:!1,propsOrDataChanged:!1,somethingChanged:!1}}_diffProps(e,r){var i;const n=nAe(e,r);if(n.updateTriggersChanged)for(const o in n.updateTriggersChanged)n.updateTriggersChanged[o]&&this.invalidateAttribute(o);if(n.transitionsChanged)for(const o in n.transitionsChanged)this.internalState.uniformTransitions.add(o,r[o],e[o],(i=e.transitions)==null?void 0:i[o]);return this.setChangeFlags(n)}validateProps(){rAe(this.props)}updateAutoHighlight(e){this.props.autoHighlight&&!Number.isInteger(this.props.highlightedObjectIndex)&&this._updateAutoHighlight(e)}_updateAutoHighlight(e){const r={highlightedObjectColor:e.picked?e.color:null},{highlightColor:n}=this.props;e.picked&&typeof n=="function"&&(r.highlightColor=n(e)),this.setShaderModuleProps({picking:r}),this.setNeedsRedraw()}_getAttributeManager(){const e=this.context;return new Gde(e.device,{id:this.props.id,stats:e.stats,timeline:e.timeline})}_postUpdate(e,r){const{props:n,oldProps:i}=e,o=this.state.model;o!=null&&o.isInstanced&&o.setInstanceCount(this.getNumInstances());const{autoHighlight:s,highlightedObjectIndex:a,highlightColor:l}=n;if(r||i.autoHighlight!==s||i.highlightedObjectIndex!==a||i.highlightColor!==l){const c={};Array.isArray(l)&&(c.highlightColor=l),(r||i.autoHighlight!==s||a!==i.highlightedObjectIndex)&&(c.highlightedObjectColor=Number.isFinite(a)&&a>=0?this.encodePickingColor(a):null),this.setShaderModuleProps({picking:c})}}_getUpdateParams(){return{props:this.props,oldProps:this.internalState.getOldProps(),context:this.context,changeFlags:this.internalState.changeFlags}}_getNeedsRedraw(e){if(!this.internalState)return!1;let r=!1;r=r||this.internalState.needsRedraw&&this.id;const n=this.getAttributeManager(),i=n?n.getNeedsRedraw(e):!1;if(r=r||i,r)for(const o of this.props.extensions)o.onNeedsRedraw.call(this,o);return this.internalState.needsRedraw=this.internalState.needsRedraw&&!e.clearRedrawFlags,r}_onAsyncPropUpdated(){this._diffProps(this.props,this.internalState.getOldProps()),this.setNeedsUpdate()}};vh.defaultProps=FAe;vh.layerName="Layer";const jAe="compositeLayer.renderLayers";class cC extends vh{get isComposite(){return!0}get isDrawable(){return!1}get isLoaded(){return super.isLoaded&&this.getSubLayers().every(e=>e.isLoaded)}getSubLayers(){return this.internalState&&this.internalState.subLayers||[]}initializeState(e){}setState(e){super.setState(e),this.setNeedsUpdate()}getPickingInfo({info:e}){const{object:r}=e;return r&&r.__source&&r.__source.parent&&r.__source.parent.id===this.id&&(e.object=r.__source.object,e.index=r.__source.index),e}filterSubLayer(e){return!0}shouldRenderSubLayer(e,r){return r&&r.length}getSubLayerClass(e,r){const{_subLayerProps:n}=this.props;return n&&n[e]&&n[e].type||r}getSubLayerRow(e,r,n){return e.__source={parent:this,object:r,index:n},e}getSubLayerAccessor(e){if(typeof e=="function"){const r={index:-1,data:this.props.data,target:[]};return(n,i)=>n&&n.__source?(r.index=n.__source.index,e(n.__source.object,r)):e(n,i)}return e}getSubLayerProps(e={}){var X;const{opacity:r,pickable:n,visible:i,parameters:o,getPolygonOffset:s,highlightedObjectIndex:a,autoHighlight:l,highlightColor:c,coordinateSystem:u,coordinateOrigin:g,wrapLongitude:_,positionFormat:b,modelMatrix:P,extensions:E,fetch:T,operation:O,_subLayerProps:L}=this.props,N={id:"",updateTriggers:{},opacity:r,pickable:n,visible:i,parameters:o,getPolygonOffset:s,highlightedObjectIndex:a,autoHighlight:l,highlightColor:c,coordinateSystem:u,coordinateOrigin:g,wrapLongitude:_,positionFormat:b,modelMatrix:P,extensions:E,fetch:T,operation:O},D=L&&e.id&&L[e.id],B=D&&D.updateTriggers,z=e.id||"sublayer";if(D){const Z=this.props[ah],G=e.type?e.type._propTypes:{};for(const de in D){const H=G[de]||Z[de];H&&H.type==="accessor"&&(D[de]=this.getSubLayerAccessor(D[de]))}}Object.assign(N,e,D),N.id=`${this.props.id}-${z}`,N.updateTriggers={all:(X=this.props.updateTriggers)==null?void 0:X.all,...e.updateTriggers,...B};for(const Z of E){const G=Z.getSubLayerProps.call(this,Z);G&&Object.assign(N,G,{updateTriggers:Object.assign(N.updateTriggers,G.updateTriggers)})}return N}_updateAutoHighlight(e){for(const r of this.getSubLayers())r.updateAutoHighlight(e)}_getAttributeManager(){return null}_postUpdate(e,r){let n=this.internalState.subLayers;const i=!n||this.needsUpdate();if(i){const o=this.renderLayers();n=JP(o,Boolean),this.internalState.subLayers=n}Ps(jAe,this,i,n);for(const o of n)o.parent=this}}cC.layerName="CompositeLayer";const Ow={bearing:0,pitch:0,position:[0,0,0]},UAe={speed:1.2,curve:1.414};class $Ae extends lz{constructor(e={}){super({compare:["longitude","latitude","zoom","bearing","pitch","position"],extract:["width","height","longitude","latitude","zoom","bearing","pitch","position"],required:["width","height","latitude","longitude","zoom"]}),this.opts={...UAe,...e}}interpolateProps(e,r,n){const i=kce(e,r,n,this.opts);for(const o in Ow)i[o]=Ed(e[o]||Ow[o],r[o]||Ow[o],n);return i}getDuration(e,r){let{transitionDuration:n}=r;return n==="auto"&&(n=Oce(e,r,this.opts)),n}}class Bz{constructor(e){this.indexStarts=[0],this.vertexStarts=[0],this.vertexCount=0,this.instanceCount=0;const{attributes:r={}}=e;this.typedArrayManager=A0,this.attributes={},this._attributeDefs=r,this.opts=e,this.updateGeometry(e)}updateGeometry(e){Object.assign(this.opts,e);const{data:r,buffers:n={},getGeometry:i,geometryBuffer:o,positionFormat:s,dataChanged:a,normalize:l=!0}=this.opts;if(this.data=r,this.getGeometry=i,this.positionSize=o&&o.size||(s==="XY"?2:3),this.buffers=n,this.normalize=l,o&&(ts(r.startIndices),this.getGeometry=this.getGeometryFromBuffer(o),l||(n.vertexPositions=o)),this.geometryBuffer=n.vertexPositions,Array.isArray(a))for(const c of a)this._rebuildGeometry(c);else this._rebuildGeometry()}updatePartialGeometry({startRow:e,endRow:r}){this._rebuildGeometry({startRow:e,endRow:r})}getGeometryFromBuffer(e){const r=e.value||e;return ArrayBuffer.isView(r)?Ez(r,{size:this.positionSize,offset:e.offset,stride:e.stride,startIndices:this.data.startIndices}):null}_allocate(e,r){const{attributes:n,buffers:i,_attributeDefs:o,typedArrayManager:s}=this;for(const a in o)if(a in i)s.release(n[a]),n[a]=null;else{const l=o[a];l.copy=r,n[a]=s.allocate(n[a],e,l)}}_forEachGeometry(e,r,n){const{data:i,getGeometry:o}=this,{iterable:s,objectInfo:a}=sb(i,r,n);for(const l of s){a.index++;const c=o?o(l,a):null;e(c,a.index)}}_rebuildGeometry(e){if(!this.data)return;let{indexStarts:r,vertexStarts:n,instanceCount:i}=this;const{data:o,geometryBuffer:s}=this,{startRow:a=0,endRow:l=1/0}=e||{},c={};if(e||(r=[0],n=[0]),this.normalize||!s)this._forEachGeometry((g,_)=>{const b=g&&this.normalizeGeometry(g);c[_]=b,n[_+1]=n[_]+(b?this.getGeometrySize(b):0)},a,l),i=n[n.length-1];else if(n=o.startIndices,i=n[o.length]||0,ArrayBuffer.isView(s))i=i||s.length/this.positionSize;else if(s instanceof ci){const g=this.positionSize*4;i=i||s.byteLength/g}else if(s.buffer){const g=s.stride||this.positionSize*4;i=i||s.buffer.byteLength/g}else if(s.value){const g=s.value,_=s.stride/g.BYTES_PER_ELEMENT||this.positionSize;i=i||g.length/_}this._allocate(i,!!e),this.indexStarts=r,this.vertexStarts=n,this.instanceCount=i;const u={};this._forEachGeometry((g,_)=>{const b=c[_]||g;u.vertexStart=n[_],u.indexStart=r[_];const P=_<n.length-1?n[_+1]:i;u.geometrySize=P-n[_],u.geometryIndex=_,this.updateGeometryAttributes(b,u)},a,l),this.vertexCount=r[r.length-1]}}const zAe=typeof window<"u"?Q.useLayoutEffect:Q.useEffect;function vy(t,e){for(;t;){if(t===e)return!0;t=Object.getPrototypeOf(t)}return!1}const WAe={position:"absolute",zIndex:-1};function Fz(t,e){if(typeof t=="function")return t(e);if(Array.isArray(t))return t.map(r=>Fz(r,e));if(lb(t)){if(VAe(t))return e.style=WAe,Q.cloneElement(t,e);if(HAe(t))return Q.cloneElement(t,e)}return t}function lb(t){return t&&typeof t=="object"&&"type"in t||!1}function VAe(t){var e;return(e=t.props)==null?void 0:e.mapStyle}function HAe(t){const e=t.type;return e&&e.deckGLViewProps}function AE(t){if(typeof t=="function")return Q.createElement(g0,{},t);if(Array.isArray(t))return t.map(AE);if(lb(t)){if(t.type===Q.Fragment)return AE(t.props.children);if(vy(t.type,g0))return t}return t}function qAe({children:t,layers:e=[],views:r=null}){const n=[],i=[],o={};return Q.Children.forEach(AE(t),s=>{if(lb(s)){const a=s.type;if(vy(a,vh)){const l=XAe(a,s.props);i.push(l)}else n.push(s);if(vy(a,g0)&&a!==g0&&s.props.id){const l=new a(s.props);o[l.id]=l}}else s&&n.push(s)}),Object.keys(o).length>0&&(Array.isArray(r)?r.forEach(s=>{o[s.id]=s}):r&&(o[r.id]=r),r=Object.values(o)),e=i.length>0?[...i,...e]:e,{layers:e,children:n,views:r}}function XAe(t,e){const r={},n=t.defaultProps||{};for(const i in e)n[i]!==e[i]&&(r[i]=e[i]);return new t(r)}const YAe=Q.createContext();function KAe({children:t,deck:e,ContextProvider:r=YAe.Provider}){const{viewManager:n}=e||{};if(!n||!n.views.length)return[];const i={},o=n.views[0].id;for(const s of t){let a=o,l=s;lb(s)&&vy(s.type,g0)&&(a=s.props.id||o,l=s.props.children);const c=n.getViewport(a),u=n.getViewState(a);if(c){u.padding=c.padding;const{x:g,y:_,width:b,height:P}=c;l=Fz(l,{x:g,y:_,width:b,height:P,viewport:c,viewState:u}),i[a]||(i[a]={viewport:c,children:[]}),i[a].children.push(l)}}return Object.keys(i).map(s=>{const{viewport:a,children:l}=i[s],{x:c,y:u,width:g,height:_}=a,b={position:"absolute",left:c,top:u,width:g,height:_},P=`view-${s}`,E=Q.createElement("div",{key:P,id:P,style:b},...l),T={deck:e,viewport:a,container:e.canvas.offsetParent,eventManager:e.eventManager,onViewStateChange:L=>{L.viewId=s,e._onViewStateChange(L)},widgets:[]},O=`view-${s}-context`;return Q.createElement(r,{key:O,value:T},E)})}const GAe={mixBlendMode:null};function QAe({width:t,height:e,style:r}){const n={position:"absolute",zIndex:0,left:0,top:0,width:t,height:e},i={left:0,top:0};if(r)for(const o in r)o in GAe?i[o]=r[o]:n[o]=r[o];return{containerStyle:n,canvasStyle:i}}function ZAe(t){return{get deck(){return t.deck},pickObject:e=>t.deck.pickObject(e),pickMultipleObjects:e=>t.deck.pickMultipleObjects(e),pickObjects:e=>t.deck.pickObjects(e)}}function jz(t){t.redrawReason&&(t.deck._drawLayers(t.redrawReason),t.redrawReason=null)}function JAe(t,e,r){var i,o,s;const n=new e({...r,_customRender:((s=(o=(i=r.deviceProps)==null?void 0:i.adapters)==null?void 0:o[0])==null?void 0:s.type)==="webgpu"?void 0:a=>{t.redrawReason=a;const l=n.getViewports();t.lastRenderedViewports!==l?t.forceUpdate():jz(t)}});return n}function e0e(t,e){const[r,n]=Q.useState(0),o=Q.useRef({control:null,version:r,forceUpdate:()=>n(B=>B+1)}).current,s=Q.useRef(null),a=Q.useRef(null),l=Q.useMemo(()=>qAe(t),[t.layers,t.views,t.children]);let c=!0;const u=B=>{var z;return c&&t.viewState?(o.viewStateUpdateRequested=B,null):(o.viewStateUpdateRequested=null,(z=t.onViewStateChange)==null?void 0:z.call(t,B))},g=B=>{var z;c?o.interactionStateUpdateRequested=B:(o.interactionStateUpdateRequested=null,(z=t.onInteractionStateChange)==null||z.call(t,B))},_=Q.useMemo(()=>{const B={widgets:[],...t,style:null,width:"100%",height:"100%",parent:s.current,canvas:a.current,layers:l.layers,views:l.views,onViewStateChange:u,onInteractionStateChange:g};return delete B._customRender,o.deck&&o.deck.setProps(B),B},[t]);Q.useEffect(()=>{const B=t.Deck||aC;return o.deck=JAe(o,B,{..._,parent:s.current,canvas:a.current}),()=>{var z;return(z=o.deck)==null?void 0:z.finalize()}},[]),zAe(()=>{var X;jz(o);const{viewStateUpdateRequested:B,interactionStateUpdateRequested:z}=o;B&&u(B),z&&g(z),(X=o.deck)!=null&&X.isInitialized&&o.deck.redraw("Initial render")}),Q.useImperativeHandle(e,()=>ZAe(o),[]);const b=o.deck&&o.deck.isInitialized?o.deck.getViewports():void 0,{ContextProvider:P,width:E="100%",height:T="100%",id:O,style:L}=t,{containerStyle:N,canvasStyle:D}=Q.useMemo(()=>QAe({width:E,height:T,style:L}),[E,T,L]);if(!o.viewStateUpdateRequested&&o.lastRenderedViewports===b||o.version!==r){o.lastRenderedViewports=b,o.version=r;const B=KAe({children:l.children,deck:o.deck,ContextProvider:P}),z=Q.createElement("canvas",{key:"canvas",id:O||"deckgl-overlay",ref:a,style:D});o.control=Q.createElement("div",{id:`${O||"deckgl"}-wrapper`,ref:s,style:N},[z,B])}return c=!1,o.control}const t0e=Q.forwardRef(e0e),TI=`uniform scatterplotUniforms {
  float radiusScale;
  float radiusMinPixels;
  float radiusMaxPixels;
  float lineWidthScale;
  float lineWidthMinPixels;
  float lineWidthMaxPixels;
  float stroked;
  float filled;
  bool antialiasing;
  bool billboard;
  highp int radiusUnits;
  highp int lineWidthUnits;
} scatterplot;
`,r0e={name:"scatterplot",vs:TI,fs:TI,source:"",uniformTypes:{radiusScale:"f32",radiusMinPixels:"f32",radiusMaxPixels:"f32",lineWidthScale:"f32",lineWidthMinPixels:"f32",lineWidthMaxPixels:"f32",stroked:"f32",filled:"f32",antialiasing:"f32",billboard:"f32",radiusUnits:"i32",lineWidthUnits:"i32"}},n0e=`#version 300 es
#define SHADER_NAME scatterplot-layer-vertex-shader
in vec3 positions;
in vec3 instancePositions;
in vec3 instancePositions64Low;
in float instanceRadius;
in float instanceLineWidths;
in vec4 instanceFillColors;
in vec4 instanceLineColors;
in vec3 instancePickingColors;
out vec4 vFillColor;
out vec4 vLineColor;
out vec2 unitPosition;
out float innerUnitRadius;
out float outerRadiusPixels;
void main(void) {
geometry.worldPosition = instancePositions;
outerRadiusPixels = clamp(
project_size_to_pixel(scatterplot.radiusScale * instanceRadius, scatterplot.radiusUnits),
scatterplot.radiusMinPixels, scatterplot.radiusMaxPixels
);
float lineWidthPixels = clamp(
project_size_to_pixel(scatterplot.lineWidthScale * instanceLineWidths, scatterplot.lineWidthUnits),
scatterplot.lineWidthMinPixels, scatterplot.lineWidthMaxPixels
);
outerRadiusPixels += scatterplot.stroked * lineWidthPixels / 2.0;
float edgePadding = scatterplot.antialiasing ? (outerRadiusPixels + SMOOTH_EDGE_RADIUS) / outerRadiusPixels : 1.0;
unitPosition = edgePadding * positions.xy;
geometry.uv = unitPosition;
geometry.pickingColor = instancePickingColors;
innerUnitRadius = 1.0 - scatterplot.stroked * lineWidthPixels / outerRadiusPixels;
if (scatterplot.billboard) {
gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.0), geometry.position);
DECKGL_FILTER_GL_POSITION(gl_Position, geometry);
vec3 offset = edgePadding * positions * outerRadiusPixels;
DECKGL_FILTER_SIZE(offset, geometry);
gl_Position.xy += project_pixel_size_to_clipspace(offset.xy);
} else {
vec3 offset = edgePadding * positions * project_pixel_size(outerRadiusPixels);
DECKGL_FILTER_SIZE(offset, geometry);
gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, offset, geometry.position);
DECKGL_FILTER_GL_POSITION(gl_Position, geometry);
}
vFillColor = vec4(instanceFillColors.rgb, instanceFillColors.a * layer.opacity);
DECKGL_FILTER_COLOR(vFillColor, geometry);
vLineColor = vec4(instanceLineColors.rgb, instanceLineColors.a * layer.opacity);
DECKGL_FILTER_COLOR(vLineColor, geometry);
}
`,i0e=`#version 300 es
#define SHADER_NAME scatterplot-layer-fragment-shader
precision highp float;
in vec4 vFillColor;
in vec4 vLineColor;
in vec2 unitPosition;
in float innerUnitRadius;
in float outerRadiusPixels;
out vec4 fragColor;
void main(void) {
geometry.uv = unitPosition;
float distToCenter = length(unitPosition) * outerRadiusPixels;
float inCircle = scatterplot.antialiasing ?
smoothedge(distToCenter, outerRadiusPixels) :
step(distToCenter, outerRadiusPixels);
if (inCircle == 0.0) {
discard;
}
if (scatterplot.stroked > 0.5) {
float isLine = scatterplot.antialiasing ?
smoothedge(innerUnitRadius * outerRadiusPixels, distToCenter) :
step(innerUnitRadius * outerRadiusPixels, distToCenter);
if (scatterplot.filled > 0.5) {
fragColor = mix(vFillColor, vLineColor, isLine);
} else {
if (isLine == 0.0) {
discard;
}
fragColor = vec4(vLineColor.rgb, vLineColor.a * isLine);
}
} else if (scatterplot.filled < 0.5) {
discard;
} else {
fragColor = vFillColor;
}
fragColor.a *= inCircle;
DECKGL_FILTER_COLOR(fragColor, geometry);
}
`,o0e=`// Main shaders

struct ScatterplotUniforms {
  radiusScale: f32,
  radiusMinPixels: f32,
  radiusMaxPixels: f32,
  lineWidthScale: f32,
  lineWidthMinPixels: f32,
  lineWidthMaxPixels: f32,
  stroked: f32,
  filled: i32,
  antialiasing: i32,
  billboard: i32,
  radiusUnits: i32,
  lineWidthUnits: i32,
};

struct ConstantAttributeUniforms {
 instancePositions: vec3<f32>,
 instancePositions64Low: vec3<f32>,
 instanceRadius: f32,
 instanceLineWidths: f32,
 instanceFillColors: vec4<f32>,
 instanceLineColors: vec4<f32>,
 instancePickingColors: vec3<f32>,

 instancePositionsConstant: i32,
 instancePositions64LowConstant: i32,
 instanceRadiusConstant: i32,
 instanceLineWidthsConstant: i32,
 instanceFillColorsConstant: i32,
 instanceLineColorsConstant: i32,
 instancePickingColorsConstant: i32
};

@group(0) @binding(2) var<uniform> scatterplot: ScatterplotUniforms;

struct ConstantAttributes {
  instancePositions: vec3<f32>,
  instancePositions64Low: vec3<f32>,
  instanceRadius: f32,
  instanceLineWidths: f32,
  instanceFillColors: vec4<f32>,
  instanceLineColors: vec4<f32>,
  instancePickingColors: vec3<f32>
};

const constants = ConstantAttributes(
  vec3<f32>(0.0),
  vec3<f32>(0.0),
  0.0,
  0.0,
  vec4<f32>(0.0, 0.0, 0.0, 1.0),
  vec4<f32>(0.0, 0.0, 0.0, 1.0),
  vec3<f32>(0.0)
);

struct Attributes {
  @builtin(instance_index) instanceIndex : u32,
  @builtin(vertex_index) vertexIndex : u32,
  @location(0) positions: vec3<f32>,
  @location(1) instancePositions: vec3<f32>,
  @location(2) instancePositions64Low: vec3<f32>,
  @location(3) instanceRadius: f32,
  @location(4) instanceLineWidths: f32,
  @location(5) instanceFillColors: vec4<f32>,
  @location(6) instanceLineColors: vec4<f32>,
  @location(7) instancePickingColors: vec3<f32>
};

struct Varyings {
  @builtin(position) position: vec4<f32>,
  @location(0) vFillColor: vec4<f32>,
  @location(1) vLineColor: vec4<f32>,
  @location(2) unitPosition: vec2<f32>,
  @location(3) innerUnitRadius: f32,
  @location(4) outerRadiusPixels: f32,
};

@vertex
fn vertexMain(attributes: Attributes) -> Varyings {
  var varyings: Varyings;

  // Draw an inline geometry constant array clip space triangle to verify that rendering works.
  // var positions = array<vec2<f32>, 3>(vec2(0.0, 0.5), vec2(-0.5, -0.5), vec2(0.5, -0.5));
  // if (attributes.instanceIndex == 0) {
  //   varyings.position = vec4<f32>(positions[attributes.vertexIndex], 0.0, 1.0);
  //   return varyings;
  // }

  // var geometry: Geometry;
  // geometry.worldPosition = instancePositions;

  // Multiply out radius and clamp to limits
  varyings.outerRadiusPixels = clamp(
    project_unit_size_to_pixel(scatterplot.radiusScale * attributes.instanceRadius, scatterplot.radiusUnits),
    scatterplot.radiusMinPixels, scatterplot.radiusMaxPixels
  );

  // Multiply out line width and clamp to limits
  let lineWidthPixels = clamp(
    project_unit_size_to_pixel(scatterplot.lineWidthScale * attributes.instanceLineWidths, scatterplot.lineWidthUnits),
    scatterplot.lineWidthMinPixels, scatterplot.lineWidthMaxPixels
  );

  // outer radius needs to offset by half stroke width
  varyings.outerRadiusPixels += scatterplot.stroked * lineWidthPixels / 2.0;
  // Expand geometry to accommodate edge smoothing
  let edgePadding = select(
    (varyings.outerRadiusPixels + SMOOTH_EDGE_RADIUS) / varyings.outerRadiusPixels,
    1.0,
    scatterplot.antialiasing != 0
  );

  // position on the containing square in [-1, 1] space
  varyings.unitPosition = edgePadding * attributes.positions.xy;
  geometry.uv = varyings.unitPosition;
  geometry.pickingColor = attributes.instancePickingColors;

  varyings.innerUnitRadius = 1.0 - scatterplot.stroked * lineWidthPixels / varyings.outerRadiusPixels;

  if (scatterplot.billboard != 0) {
    varyings.position = project_position_to_clipspace(attributes.instancePositions, attributes.instancePositions64Low, vec3<f32>(0.0)); // TODO , geometry.position);
    // DECKGL_FILTER_GL_POSITION(varyings.position, geometry);
    let offset = attributes.positions; // * edgePadding * varyings.outerRadiusPixels;
    // DECKGL_FILTER_SIZE(offset, geometry);
    let clipPixels = project_pixel_size_to_clipspace(offset.xy);
    varyings.position.x = clipPixels.x;
    varyings.position.y = clipPixels.y;
  } else {
    let offset = edgePadding * attributes.positions * project_pixel_size_float(varyings.outerRadiusPixels);
    // DECKGL_FILTER_SIZE(offset, geometry);
    varyings.position = project_position_to_clipspace(attributes.instancePositions, attributes.instancePositions64Low, offset); // TODO , geometry.position);
    // DECKGL_FILTER_GL_POSITION(varyings.position, geometry);
  }

  // Apply opacity to instance color, or return instance picking color
  varyings.vFillColor = vec4<f32>(attributes.instanceFillColors.rgb, attributes.instanceFillColors.a * color.opacity);
  // DECKGL_FILTER_COLOR(varyings.vFillColor, geometry);
  varyings.vLineColor = vec4<f32>(attributes.instanceLineColors.rgb, attributes.instanceLineColors.a * color.opacity);
  // DECKGL_FILTER_COLOR(varyings.vLineColor, geometry);

  return varyings;
}

@fragment
fn fragmentMain(varyings: Varyings) -> @location(0) vec4<f32> {
  // var geometry: Geometry;
  // geometry.uv = unitPosition;

  let distToCenter = length(varyings.unitPosition) * varyings.outerRadiusPixels;
  let inCircle = select(
    smoothedge(distToCenter, varyings.outerRadiusPixels),
    step(distToCenter, varyings.outerRadiusPixels),
    scatterplot.antialiasing != 0
  );

  if (inCircle == 0.0) {
    discard;
  }

  var fragColor: vec4<f32>;

  if (scatterplot.stroked != 0) {
    let isLine = select(
      smoothedge(varyings.innerUnitRadius * varyings.outerRadiusPixels, distToCenter),
      step(varyings.innerUnitRadius * varyings.outerRadiusPixels, distToCenter),
      scatterplot.antialiasing != 0
    );

    if (scatterplot.filled != 0) {
      fragColor = mix(varyings.vFillColor, varyings.vLineColor, isLine);
    } else {
      if (isLine == 0.0) {
        discard;
      }
      fragColor = vec4<f32>(varyings.vLineColor.rgb, varyings.vLineColor.a * isLine);
    }
  } else if (scatterplot.filled == 0) {
    discard;
  } else {
    fragColor = varyings.vFillColor;
  }

  fragColor.a *= inCircle;
  // DECKGL_FILTER_COLOR(fragColor, geometry);

  // Apply premultiplied alpha as required by transparent canvas
  fragColor = deckgl_premultiplied_alpha(fragColor);

  return fragColor;
  // return vec4<f32>(0, 0, 1, 1);
}
`,PI=[0,0,0,255],s0e={radiusUnits:"meters",radiusScale:{type:"number",min:0,value:1},radiusMinPixels:{type:"number",min:0,value:0},radiusMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},lineWidthUnits:"meters",lineWidthScale:{type:"number",min:0,value:1},lineWidthMinPixels:{type:"number",min:0,value:0},lineWidthMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},stroked:!1,filled:!0,billboard:!1,antialiasing:!0,getPosition:{type:"accessor",value:t=>t.position},getRadius:{type:"accessor",value:1},getFillColor:{type:"accessor",value:PI},getLineColor:{type:"accessor",value:PI},getLineWidth:{type:"accessor",value:1},strokeWidth:{deprecatedFor:"getLineWidth"},outline:{deprecatedFor:"stroked"},getColor:{deprecatedFor:["getFillColor","getLineColor"]}};class pg extends vh{getShaders(){return super.getShaders({vs:n0e,fs:i0e,source:o0e,modules:[nb,Jae,ib,r0e]})}initializeState(){this.getAttributeManager().addInstanced({instancePositions:{size:3,type:"float64",fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceRadius:{size:1,transition:!0,accessor:"getRadius",defaultValue:1},instanceFillColors:{size:this.props.colorFormat.length,transition:!0,type:"unorm8",accessor:"getFillColor",defaultValue:[0,0,0,255]},instanceLineColors:{size:this.props.colorFormat.length,transition:!0,type:"unorm8",accessor:"getLineColor",defaultValue:[0,0,0,255]},instanceLineWidths:{size:1,transition:!0,accessor:"getLineWidth",defaultValue:1}})}updateState(e){var r;super.updateState(e),e.changeFlags.extensionsChanged&&((r=this.state.model)==null||r.destroy(),this.state.model=this._getModel(),this.getAttributeManager().invalidateAll())}draw({uniforms:e}){const{radiusUnits:r,radiusScale:n,radiusMinPixels:i,radiusMaxPixels:o,stroked:s,filled:a,billboard:l,antialiasing:c,lineWidthUnits:u,lineWidthScale:g,lineWidthMinPixels:_,lineWidthMaxPixels:b}=this.props,P={stroked:s,filled:a,billboard:l,antialiasing:c,radiusUnits:af[r],radiusScale:n,radiusMinPixels:i,radiusMaxPixels:o,lineWidthUnits:af[u],lineWidthScale:g,lineWidthMinPixels:_,lineWidthMaxPixels:b},E=this.state.model;E.shaderInputs.setProps({scatterplot:P}),this.context.device.type==="webgpu"&&(E.instanceCount=this.props.data.length),E.draw(this.context.renderPass)}_getModel(){const e=this.context.device.type==="webgpu"?{depthWriteEnabled:!0,depthCompare:"less-equal"}:void 0,r=[-1,-1,0,1,-1,0,-1,1,0,1,1,0];return new yc(this.context.device,{...this.getShaders(),id:this.props.id,bufferLayout:this.getAttributeManager().getBufferLayouts(),geometry:new Mg({topology:"triangle-strip",attributes:{positions:{size:3,value:new Float32Array(r)}}}),isInstanced:!0,parameters:e})}}pg.defaultProps=s0e;pg.layerName="ScatterplotLayer";const uC={CLOCKWISE:1,COUNTER_CLOCKWISE:-1};function fC(t,e,r={}){return a0e(t,r)!==e?(c0e(t,r),!0):!1}function a0e(t,e={}){return Math.sign(l0e(t,e))}const CI={x:0,y:1,z:2};function l0e(t,e={}){const{start:r=0,end:n=t.length,plane:i="xy"}=e,o=e.size||2;let s=0;const a=CI[i[0]],l=CI[i[1]];for(let c=r,u=n-o;c<n;c+=o)s+=(t[c+a]-t[u+a])*(t[c+l]+t[u+l]),u=c;return s/2}function c0e(t,e){const{start:r=0,end:n=t.length,size:i=2}=e,o=(n-r)/i,s=Math.floor(o/2);for(let a=0;a<s;++a){const l=r+a*i,c=r+(o-1-a)*i;for(let u=0;u<i;++u){const g=t[l+u];t[l+u]=t[c+u],t[c+u]=g}}}function mc(t,e){const r=e.length,n=t.length;if(n>0){let i=!0;for(let o=0;o<r;o++)if(t[n-r+o]!==e[o]){i=!1;break}if(i)return!1}for(let i=0;i<r;i++)t[n+i]=e[i];return!0}function pE(t,e){const r=e.length;for(let n=0;n<r;n++)t[n]=e[n]}function Dg(t,e,r,n,i=[]){const o=n+e*r;for(let s=0;s<r;s++)i[s]=t[o+s];return i}function gE(t,e,r,n,i=[]){let o,s;if(r&8)o=(n[3]-t[1])/(e[1]-t[1]),s=3;else if(r&4)o=(n[1]-t[1])/(e[1]-t[1]),s=1;else if(r&2)o=(n[2]-t[0])/(e[0]-t[0]),s=2;else if(r&1)o=(n[0]-t[0])/(e[0]-t[0]),s=0;else return null;for(let a=0;a<t.length;a++)i[a]=(s&1)===a?n[s]:o*(e[a]-t[a])+t[a];return i}function N1(t,e){let r=0;return t[0]<e[0]?r|=1:t[0]>e[2]&&(r|=2),t[1]<e[1]?r|=4:t[1]>e[3]&&(r|=8),r}function Uz(t,e){const{size:r=2,broken:n=!1,gridResolution:i=10,gridOffset:o=[0,0],startIndex:s=0,endIndex:a=t.length}=e||{},l=(a-s)/r;let c=[];const u=[c],g=Dg(t,0,r,s);let _,b;const P=zz(g,i,o,[]),E=[];mc(c,g);for(let T=1;T<l;T++){for(_=Dg(t,T,r,s,_),b=N1(_,P);b;){gE(g,_,b,P,E);const O=N1(E,P);O&&(gE(g,E,O,P,E),b=O),mc(c,E),pE(g,E),f0e(P,i,b),n&&c.length>r&&(c=[],u.push(c),mc(c,g)),b=N1(_,P)}mc(c,_),pE(g,_)}return n?u:u[0]}const kI=0,u0e=1;function $z(t,e=null,r){if(!t.length)return[];const{size:n=2,gridResolution:i=10,gridOffset:o=[0,0],edgeTypes:s=!1}=r||{},a=[],l=[{pos:t,types:s?new Array(t.length/n).fill(u0e):null,holes:e||[]}],c=[[],[]];let u=[];for(;l.length;){const{pos:g,types:_,holes:b}=l.shift();h0e(g,n,b[0]||g.length,c),u=zz(c[0],i,o,u);const P=N1(c[1],u);if(P){let E=OI(g,_,n,0,b[0]||g.length,u,P);const T={pos:E[0].pos,types:E[0].types,holes:[]},O={pos:E[1].pos,types:E[1].types,holes:[]};l.push(T,O);for(let L=0;L<b.length;L++)E=OI(g,_,n,b[L],b[L+1]||g.length,u,P),E[0]&&(T.holes.push(T.pos.length),T.pos=qv(T.pos,E[0].pos),s&&(T.types=qv(T.types,E[0].types))),E[1]&&(O.holes.push(O.pos.length),O.pos=qv(O.pos,E[1].pos),s&&(O.types=qv(O.types,E[1].types)))}else{const E={positions:g};s&&(E.edgeTypes=_),b.length&&(E.holeIndices=b),a.push(E)}}return a}function OI(t,e,r,n,i,o,s){const a=(i-n)/r,l=[],c=[],u=[],g=[],_=[];let b,P,E;const T=Dg(t,a-1,r,n);let O=Math.sign(s&8?T[1]-o[3]:T[0]-o[2]),L=e&&e[a-1],N=0,D=0;for(let B=0;B<a;B++)b=Dg(t,B,r,n,b),P=Math.sign(s&8?b[1]-o[3]:b[0]-o[2]),E=e&&e[n/r+B],P&&O&&O!==P&&(gE(T,b,s,o,_),mc(l,_)&&u.push(L),mc(c,_)&&g.push(L)),P<=0?(mc(l,b)&&u.push(E),N-=P):u.length&&(u[u.length-1]=kI),P>=0?(mc(c,b)&&g.push(E),D+=P):g.length&&(g[g.length-1]=kI),pE(T,b),O=P,L=E;return[N?{pos:l,types:e&&u}:null,D?{pos:c,types:e&&g}:null]}function zz(t,e,r,n){const i=Math.floor((t[0]-r[0])/e)*e+r[0],o=Math.floor((t[1]-r[1])/e)*e+r[1];return n[0]=i,n[1]=o,n[2]=i+e,n[3]=o+e,n}function f0e(t,e,r){r&8?(t[1]+=e,t[3]+=e):r&4?(t[1]-=e,t[3]-=e):r&2?(t[0]+=e,t[2]+=e):r&1&&(t[0]-=e,t[2]-=e)}function h0e(t,e,r,n){let i=1/0,o=-1/0,s=1/0,a=-1/0;for(let l=0;l<r;l+=e){const c=t[l],u=t[l+1];i=c<i?c:i,o=c>o?c:o,s=u<s?u:s,a=u>a?u:a}return n[0][0]=i,n[0][1]=s,n[1][0]=o,n[1][1]=a,n}function qv(t,e){for(let r=0;r<e.length;r++)t.push(e[r]);return t}const d0e=85.051129;function A0e(t,e){const{size:r=2,startIndex:n=0,endIndex:i=t.length,normalize:o=!0}=e||{},s=t.slice(n,i);Wz(s,r,0,i-n);const a=Uz(s,{size:r,broken:!0,gridResolution:360,gridOffset:[-180,-180]});if(o)for(const l of a)Vz(l,r);return a}function p0e(t,e=null,r){const{size:n=2,normalize:i=!0,edgeTypes:o=!1}=r||{};e=e||[];const s=[],a=[];let l=0,c=0;for(let g=0;g<=e.length;g++){const _=e[g]||t.length,b=c,P=g0e(t,n,l,_);for(let E=P;E<_;E++)s[c++]=t[E];for(let E=l;E<P;E++)s[c++]=t[E];Wz(s,n,b,c),m0e(s,n,b,c,r==null?void 0:r.maxLatitude),l=_,a[g]=c}a.pop();const u=$z(s,a,{size:n,gridResolution:360,gridOffset:[-180,-180],edgeTypes:o});if(i)for(const g of u)Vz(g.positions,n);return u}function g0e(t,e,r,n){let i=-1,o=-1;for(let s=r+1;s<n;s+=e){const a=Math.abs(t[s]);a>i&&(i=a,o=s-1)}return o}function m0e(t,e,r,n,i=d0e){const o=t[r],s=t[n-e];if(Math.abs(o-s)>180){const a=Dg(t,0,e,r);a[0]+=Math.round((s-o)/360)*360,mc(t,a),a[1]=Math.sign(a[1])*i,mc(t,a),a[0]=o,mc(t,a)}}function Wz(t,e,r,n){let i=t[0],o;for(let s=r;s<n;s+=e){o=t[s];const a=o-i;(a>180||a<-180)&&(o-=Math.round(a/360)*360),t[s]=i=o}}function Vz(t,e){let r;const n=t.length/e;for(let o=0;o<n&&(r=t[o*e],(r+180)%360===0);o++);const i=-Math.round(r/360)*360;if(i!==0)for(let o=0;o<n;o++)t[o*e]+=i}class v0e extends Mg{constructor(e){const{indices:r,attributes:n}=y0e(e);super({...e,indices:r,attributes:n})}}function y0e(t){const{radius:e,height:r=1,nradial:n=10}=t;let{vertices:i}=t;i&&(Mn.assert(i.length>=n),i=i.flatMap(b=>[b[0],b[1]]),fC(i,uC.COUNTER_CLOCKWISE));const o=r>0,s=n+1,a=o?s*3+1:n,l=Math.PI*2/n,c=new Uint16Array(o?n*3*2:0),u=new Float32Array(a*3),g=new Float32Array(a*3);let _=0;if(o){for(let b=0;b<s;b++){const P=b*l,E=b%n,T=Math.sin(P),O=Math.cos(P);for(let L=0;L<2;L++)u[_+0]=i?i[E*2]:O*e,u[_+1]=i?i[E*2+1]:T*e,u[_+2]=(1/2-L)*r,g[_+0]=i?i[E*2]:O,g[_+1]=i?i[E*2+1]:T,_+=3}u[_+0]=u[_-3],u[_+1]=u[_-2],u[_+2]=u[_-1],_+=3}for(let b=o?0:1;b<s;b++){const P=Math.floor(b/2)*Math.sign(.5-b%2),E=P*l,T=(P+n)%n,O=Math.sin(E),L=Math.cos(E);u[_+0]=i?i[T*2]:L*e,u[_+1]=i?i[T*2+1]:O*e,u[_+2]=r/2,g[_+2]=1,_+=3}if(o){let b=0;for(let P=0;P<n;P++)c[b++]=P*2+0,c[b++]=P*2+2,c[b++]=P*2+0,c[b++]=P*2+1,c[b++]=P*2+1,c[b++]=P*2+3}return{indices:c,attributes:{POSITION:{size:3,value:u},NORMAL:{size:3,value:g}}}}const RI=`uniform columnUniforms {
  float radius;
  float angle;
  vec2 offset;
  bool extruded;
  bool stroked;
  bool isStroke;
  float coverage;
  float elevationScale;
  float edgeDistance;
  float widthScale;
  float widthMinPixels;
  float widthMaxPixels;
  highp int radiusUnits;
  highp int widthUnits;
} column;
`,b0e={name:"column",vs:RI,fs:RI,uniformTypes:{radius:"f32",angle:"f32",offset:"vec2<f32>",extruded:"f32",stroked:"f32",isStroke:"f32",coverage:"f32",elevationScale:"f32",edgeDistance:"f32",widthScale:"f32",widthMinPixels:"f32",widthMaxPixels:"f32",radiusUnits:"i32",widthUnits:"i32"}},_0e=`#version 300 es
#define SHADER_NAME column-layer-vertex-shader
in vec3 positions;
in vec3 normals;
in vec3 instancePositions;
in float instanceElevations;
in vec3 instancePositions64Low;
in vec4 instanceFillColors;
in vec4 instanceLineColors;
in float instanceStrokeWidths;
in vec3 instancePickingColors;
out vec4 vColor;
#ifdef FLAT_SHADING
out vec3 cameraPosition;
out vec4 position_commonspace;
#endif
void main(void) {
geometry.worldPosition = instancePositions;
vec4 color = column.isStroke ? instanceLineColors : instanceFillColors;
mat2 rotationMatrix = mat2(cos(column.angle), sin(column.angle), -sin(column.angle), cos(column.angle));
float elevation = 0.0;
float strokeOffsetRatio = 1.0;
if (column.extruded) {
elevation = instanceElevations * (positions.z + 1.0) / 2.0 * column.elevationScale;
} else if (column.stroked) {
float widthPixels = clamp(
project_size_to_pixel(instanceStrokeWidths * column.widthScale, column.widthUnits),
column.widthMinPixels, column.widthMaxPixels) / 2.0;
float halfOffset = project_pixel_size(widthPixels) / project_size(column.edgeDistance * column.coverage * column.radius);
if (column.isStroke) {
strokeOffsetRatio -= sign(positions.z) * halfOffset;
} else {
strokeOffsetRatio -= halfOffset;
}
}
float shouldRender = float(color.a > 0.0 && instanceElevations >= 0.0);
float dotRadius = column.radius * column.coverage * shouldRender;
geometry.pickingColor = instancePickingColors;
vec3 centroidPosition = vec3(instancePositions.xy, instancePositions.z + elevation);
vec3 centroidPosition64Low = instancePositions64Low;
vec2 offset = (rotationMatrix * positions.xy * strokeOffsetRatio + column.offset) * dotRadius;
if (column.radiusUnits == UNIT_METERS) {
offset = project_size(offset);
}
vec3 pos = vec3(offset, 0.);
DECKGL_FILTER_SIZE(pos, geometry);
gl_Position = project_position_to_clipspace(centroidPosition, centroidPosition64Low, pos, geometry.position);
geometry.normal = project_normal(vec3(rotationMatrix * normals.xy, normals.z));
DECKGL_FILTER_GL_POSITION(gl_Position, geometry);
if (column.extruded && !column.isStroke) {
#ifdef FLAT_SHADING
cameraPosition = project.cameraPosition;
position_commonspace = geometry.position;
vColor = vec4(color.rgb, color.a * layer.opacity);
#else
vec3 lightColor = lighting_getLightColor(color.rgb, project.cameraPosition, geometry.position.xyz, geometry.normal);
vColor = vec4(lightColor, color.a * layer.opacity);
#endif
} else {
vColor = vec4(color.rgb, color.a * layer.opacity);
}
DECKGL_FILTER_COLOR(vColor, geometry);
}
`,w0e=`#version 300 es
#define SHADER_NAME column-layer-fragment-shader
precision highp float;
out vec4 fragColor;
in vec4 vColor;
#ifdef FLAT_SHADING
in vec3 cameraPosition;
in vec4 position_commonspace;
#endif
void main(void) {
fragColor = vColor;
geometry.uv = vec2(0.);
#ifdef FLAT_SHADING
if (column.extruded && !column.isStroke && !bool(picking.isActive)) {
vec3 normal = normalize(cross(dFdx(position_commonspace.xyz), dFdy(position_commonspace.xyz)));
fragColor.rgb = lighting_getLightColor(vColor.rgb, cameraPosition, position_commonspace.xyz, normal);
}
#endif
DECKGL_FILTER_COLOR(fragColor, geometry);
}
`,yy=[0,0,0,255],x0e={diskResolution:{type:"number",min:4,value:20},vertices:null,radius:{type:"number",min:0,value:1e3},angle:{type:"number",value:0},offset:{type:"array",value:[0,0]},coverage:{type:"number",min:0,max:1,value:1},elevationScale:{type:"number",min:0,value:1},radiusUnits:"meters",lineWidthUnits:"meters",lineWidthScale:1,lineWidthMinPixels:0,lineWidthMaxPixels:Number.MAX_SAFE_INTEGER,extruded:!0,wireframe:!1,filled:!0,stroked:!1,flatShading:!1,getPosition:{type:"accessor",value:t=>t.position},getFillColor:{type:"accessor",value:yy},getLineColor:{type:"accessor",value:yy},getLineWidth:{type:"accessor",value:1},getElevation:{type:"accessor",value:1e3},material:!0,getColor:{deprecatedFor:["getFillColor","getLineColor"]}};class hC extends vh{getShaders(){const e={},{flatShading:r}=this.props;return r&&(e.FLAT_SHADING=1),super.getShaders({vs:_0e,fs:w0e,defines:e,modules:[nb,r?M$:YP,ib,b0e]})}initializeState(){this.getAttributeManager().addInstanced({instancePositions:{size:3,type:"float64",fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceElevations:{size:1,transition:!0,accessor:"getElevation"},instanceFillColors:{size:this.props.colorFormat.length,type:"unorm8",transition:!0,accessor:"getFillColor",defaultValue:yy},instanceLineColors:{size:this.props.colorFormat.length,type:"unorm8",transition:!0,accessor:"getLineColor",defaultValue:yy},instanceStrokeWidths:{size:1,accessor:"getLineWidth",transition:!0}})}updateState(e){var a;super.updateState(e);const{props:r,oldProps:n,changeFlags:i}=e,o=i.extensionsChanged||r.flatShading!==n.flatShading;o&&((a=this.state.models)==null||a.forEach(l=>l.destroy()),this.setState(this._getModels()),this.getAttributeManager().invalidateAll());const s=this.getNumInstances();this.state.fillModel.setInstanceCount(s),this.state.wireframeModel.setInstanceCount(s),(o||r.diskResolution!==n.diskResolution||r.vertices!==n.vertices||(r.extruded||r.stroked)!==(n.extruded||n.stroked))&&this._updateGeometry(r)}getGeometry(e,r,n){const i=new v0e({radius:1,height:n?2:0,vertices:r,nradial:e});let o=0;if(r)for(let s=0;s<e;s++){const a=r[s],l=Math.sqrt(a[0]*a[0]+a[1]*a[1]);o+=l/e}else o=1;return this.setState({edgeDistance:Math.cos(Math.PI/e)*o}),i}_getModels(){const e=this.getShaders(),r=this.getAttributeManager().getBufferLayouts(),n=new yc(this.context.device,{...e,id:`${this.props.id}-fill`,bufferLayout:r,isInstanced:!0}),i=new yc(this.context.device,{...e,id:`${this.props.id}-wireframe`,bufferLayout:r,isInstanced:!0});return{fillModel:n,wireframeModel:i,models:[i,n]}}_updateGeometry({diskResolution:e,vertices:r,extruded:n,stroked:i}){const o=this.getGeometry(e,r,n||i);this.setState({fillVertexCount:o.attributes.POSITION.value.length/3});const s=this.state.fillModel,a=this.state.wireframeModel;s.setGeometry(o),s.setTopology("triangle-strip"),s.setIndexBuffer(null),a.setGeometry(o),a.setTopology("line-list")}draw({uniforms:e}){const{lineWidthUnits:r,lineWidthScale:n,lineWidthMinPixels:i,lineWidthMaxPixels:o,radiusUnits:s,elevationScale:a,extruded:l,filled:c,stroked:u,wireframe:g,offset:_,coverage:b,radius:P,angle:E}=this.props,T=this.state.fillModel,O=this.state.wireframeModel,{fillVertexCount:L,edgeDistance:N}=this.state,D={radius:P,angle:E/180*Math.PI,offset:_,extruded:l,stroked:u,coverage:b,elevationScale:a,edgeDistance:N,radiusUnits:af[s],widthUnits:af[r],widthScale:n,widthMinPixels:i,widthMaxPixels:o};l&&g&&(O.shaderInputs.setProps({column:{...D,isStroke:!0}}),O.draw(this.context.renderPass)),c&&(T.setVertexCount(L),T.shaderInputs.setProps({column:{...D,isStroke:!1}}),T.draw(this.context.renderPass)),!l&&u&&(T.setVertexCount(L*2/3),T.shaderInputs.setProps({column:{...D,isStroke:!0}}),T.draw(this.context.renderPass))}}hC.layerName="ColumnLayer";hC.defaultProps=x0e;function S0e(t,e,r,n){let i;if(Array.isArray(t[0])){const o=t.length*e;i=new Array(o);for(let s=0;s<t.length;s++)for(let a=0;a<e;a++)i[s*e+a]=t[s][a]||0}else i=t;return r?Uz(i,{size:e,gridResolution:r}):n?A0e(i,{size:e}):i}const E0e=1,T0e=2,Rw=4;class P0e extends Bz{constructor(e){super({...e,attributes:{positions:{size:3,padding:18,initialize:!0,type:e.fp64?Float64Array:Float32Array},segmentTypes:{size:1,type:Uint8ClampedArray}}})}get(e){return this.attributes[e]}getGeometryFromBuffer(e){return this.normalize?super.getGeometryFromBuffer(e):null}normalizeGeometry(e){return this.normalize?S0e(e,this.positionSize,this.opts.resolution,this.opts.wrapLongitude):e}getGeometrySize(e){if(II(e)){let n=0;for(const i of e)n+=this.getGeometrySize(i);return n}const r=this.getPathLength(e);return r<2?0:this.isClosed(e)?r<3?0:r+2:r}updateGeometryAttributes(e,r){if(r.geometrySize!==0)if(e&&II(e))for(const n of e){const i=this.getGeometrySize(n);r.geometrySize=i,this.updateGeometryAttributes(n,r),r.vertexStart+=i}else this._updateSegmentTypes(e,r),this._updatePositions(e,r)}_updateSegmentTypes(e,r){const n=this.attributes.segmentTypes,i=e?this.isClosed(e):!1,{vertexStart:o,geometrySize:s}=r;n.fill(0,o,o+s),i?(n[o]=Rw,n[o+s-2]=Rw):(n[o]+=E0e,n[o+s-2]+=T0e),n[o+s-1]=Rw}_updatePositions(e,r){const{positions:n}=this.attributes;if(!n||!e)return;const{vertexStart:i,geometrySize:o}=r,s=new Array(3);for(let a=i,l=0;l<o;a++,l++)this.getPointOnPath(e,l,s),n[a*3]=s[0],n[a*3+1]=s[1],n[a*3+2]=s[2]}getPathLength(e){return e.length/this.positionSize}getPointOnPath(e,r,n=[]){const{positionSize:i}=this;r*i>=e.length&&(r+=1-e.length/i);const o=r*i;return n[0]=e[o],n[1]=e[o+1],n[2]=i===3&&e[o+2]||0,n}isClosed(e){if(!this.normalize)return!!this.opts.loop;const{positionSize:r}=this,n=e.length-r;return e[0]===e[n]&&e[1]===e[n+1]&&(r===2||e[2]===e[n+2])}}function II(t){return Array.isArray(t[0])}const NI=`uniform pathUniforms {
  float widthScale;
  float widthMinPixels;
  float widthMaxPixels;
  float jointType;
  float capType;
  float miterLimit;
  bool billboard;
  highp int widthUnits;
} path;
`,C0e={name:"path",vs:NI,fs:NI,uniformTypes:{widthScale:"f32",widthMinPixels:"f32",widthMaxPixels:"f32",jointType:"f32",capType:"f32",miterLimit:"f32",billboard:"f32",widthUnits:"i32"}},k0e=`#version 300 es
#define SHADER_NAME path-layer-vertex-shader
in vec2 positions;
in float instanceTypes;
in vec3 instanceStartPositions;
in vec3 instanceEndPositions;
in vec3 instanceLeftPositions;
in vec3 instanceRightPositions;
in vec3 instanceLeftPositions64Low;
in vec3 instanceStartPositions64Low;
in vec3 instanceEndPositions64Low;
in vec3 instanceRightPositions64Low;
in float instanceStrokeWidths;
in vec4 instanceColors;
in vec3 instancePickingColors;
uniform float opacity;
out vec4 vColor;
out vec2 vCornerOffset;
out float vMiterLength;
out vec2 vPathPosition;
out float vPathLength;
out float vJointType;
const float EPSILON = 0.001;
const vec3 ZERO_OFFSET = vec3(0.0);
float flipIfTrue(bool flag) {
return -(float(flag) * 2. - 1.);
}
vec3 getLineJoinOffset(
vec3 prevPoint, vec3 currPoint, vec3 nextPoint,
vec2 width
) {
bool isEnd = positions.x > 0.0;
float sideOfPath = positions.y;
float isJoint = float(sideOfPath == 0.0);
vec3 deltaA3 = (currPoint - prevPoint);
vec3 deltaB3 = (nextPoint - currPoint);
mat3 rotationMatrix;
bool needsRotation = !path.billboard && project_needs_rotation(currPoint, rotationMatrix);
if (needsRotation) {
deltaA3 = deltaA3 * rotationMatrix;
deltaB3 = deltaB3 * rotationMatrix;
}
vec2 deltaA = deltaA3.xy / width;
vec2 deltaB = deltaB3.xy / width;
float lenA = length(deltaA);
float lenB = length(deltaB);
vec2 dirA = lenA > 0. ? normalize(deltaA) : vec2(0.0, 0.0);
vec2 dirB = lenB > 0. ? normalize(deltaB) : vec2(0.0, 0.0);
vec2 perpA = vec2(-dirA.y, dirA.x);
vec2 perpB = vec2(-dirB.y, dirB.x);
vec2 tangent = dirA + dirB;
tangent = length(tangent) > 0. ? normalize(tangent) : perpA;
vec2 miterVec = vec2(-tangent.y, tangent.x);
vec2 dir = isEnd ? dirA : dirB;
vec2 perp = isEnd ? perpA : perpB;
float L = isEnd ? lenA : lenB;
float sinHalfA = abs(dot(miterVec, perp));
float cosHalfA = abs(dot(dirA, miterVec));
float turnDirection = flipIfTrue(dirA.x * dirB.y >= dirA.y * dirB.x);
float cornerPosition = sideOfPath * turnDirection;
float miterSize = 1.0 / max(sinHalfA, EPSILON);
miterSize = mix(
min(miterSize, max(lenA, lenB) / max(cosHalfA, EPSILON)),
miterSize,
step(0.0, cornerPosition)
);
vec2 offsetVec = mix(miterVec * miterSize, perp, step(0.5, cornerPosition))
* (sideOfPath + isJoint * turnDirection);
bool isStartCap = lenA == 0.0 || (!isEnd && (instanceTypes == 1.0 || instanceTypes == 3.0));
bool isEndCap = lenB == 0.0 || (isEnd && (instanceTypes == 2.0 || instanceTypes == 3.0));
bool isCap = isStartCap || isEndCap;
if (isCap) {
offsetVec = mix(perp * sideOfPath, dir * path.capType * 4.0 * flipIfTrue(isStartCap), isJoint);
vJointType = path.capType;
} else {
vJointType = path.jointType;
}
vPathLength = L;
vCornerOffset = offsetVec;
vMiterLength = dot(vCornerOffset, miterVec * turnDirection);
vMiterLength = isCap ? isJoint : vMiterLength;
vec2 offsetFromStartOfPath = vCornerOffset + deltaA * float(isEnd);
vPathPosition = vec2(
dot(offsetFromStartOfPath, perp),
dot(offsetFromStartOfPath, dir)
);
geometry.uv = vPathPosition;
float isValid = step(instanceTypes, 3.5);
vec3 offset = vec3(offsetVec * width * isValid, 0.0);
if (needsRotation) {
offset = rotationMatrix * offset;
}
return offset;
}
void clipLine(inout vec4 position, vec4 refPosition) {
if (position.w < EPSILON) {
float r = (EPSILON - refPosition.w) / (position.w - refPosition.w);
position = refPosition + (position - refPosition) * r;
}
}
void main() {
geometry.pickingColor = instancePickingColors;
vColor = vec4(instanceColors.rgb, instanceColors.a * layer.opacity);
float isEnd = positions.x;
vec3 prevPosition = mix(instanceLeftPositions, instanceStartPositions, isEnd);
vec3 prevPosition64Low = mix(instanceLeftPositions64Low, instanceStartPositions64Low, isEnd);
vec3 currPosition = mix(instanceStartPositions, instanceEndPositions, isEnd);
vec3 currPosition64Low = mix(instanceStartPositions64Low, instanceEndPositions64Low, isEnd);
vec3 nextPosition = mix(instanceEndPositions, instanceRightPositions, isEnd);
vec3 nextPosition64Low = mix(instanceEndPositions64Low, instanceRightPositions64Low, isEnd);
geometry.worldPosition = currPosition;
vec2 widthPixels = vec2(clamp(
project_size_to_pixel(instanceStrokeWidths * path.widthScale, path.widthUnits),
path.widthMinPixels, path.widthMaxPixels) / 2.0);
vec3 width;
if (path.billboard) {
vec4 prevPositionScreen = project_position_to_clipspace(prevPosition, prevPosition64Low, ZERO_OFFSET);
vec4 currPositionScreen = project_position_to_clipspace(currPosition, currPosition64Low, ZERO_OFFSET, geometry.position);
vec4 nextPositionScreen = project_position_to_clipspace(nextPosition, nextPosition64Low, ZERO_OFFSET);
clipLine(prevPositionScreen, currPositionScreen);
clipLine(nextPositionScreen, currPositionScreen);
clipLine(currPositionScreen, mix(nextPositionScreen, prevPositionScreen, isEnd));
width = vec3(widthPixels, 0.0);
DECKGL_FILTER_SIZE(width, geometry);
vec3 offset = getLineJoinOffset(
prevPositionScreen.xyz / prevPositionScreen.w,
currPositionScreen.xyz / currPositionScreen.w,
nextPositionScreen.xyz / nextPositionScreen.w,
project_pixel_size_to_clipspace(width.xy)
);
DECKGL_FILTER_GL_POSITION(currPositionScreen, geometry);
gl_Position = vec4(currPositionScreen.xyz + offset * currPositionScreen.w, currPositionScreen.w);
} else {
prevPosition = project_position(prevPosition, prevPosition64Low);
currPosition = project_position(currPosition, currPosition64Low);
nextPosition = project_position(nextPosition, nextPosition64Low);
width = vec3(project_pixel_size(widthPixels), 0.0);
DECKGL_FILTER_SIZE(width, geometry);
vec3 offset = getLineJoinOffset(prevPosition, currPosition, nextPosition, width.xy);
geometry.position = vec4(currPosition + offset, 1.0);
gl_Position = project_common_position_to_clipspace(geometry.position);
DECKGL_FILTER_GL_POSITION(gl_Position, geometry);
}
DECKGL_FILTER_COLOR(vColor, geometry);
}
`,O0e=`#version 300 es
#define SHADER_NAME path-layer-fragment-shader
precision highp float;
in vec4 vColor;
in vec2 vCornerOffset;
in float vMiterLength;
in vec2 vPathPosition;
in float vPathLength;
in float vJointType;
out vec4 fragColor;
void main(void) {
geometry.uv = vPathPosition;
if (vPathPosition.y < 0.0 || vPathPosition.y > vPathLength) {
if (vJointType > 0.5 && length(vCornerOffset) > 1.0) {
discard;
}
if (vJointType < 0.5 && vMiterLength > path.miterLimit + 1.0) {
discard;
}
}
fragColor = vColor;
DECKGL_FILTER_COLOR(fragColor, geometry);
}
`,Hz=[0,0,0,255],R0e={widthUnits:"meters",widthScale:{type:"number",min:0,value:1},widthMinPixels:{type:"number",min:0,value:0},widthMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},jointRounded:!1,capRounded:!1,miterLimit:{type:"number",min:0,value:4},billboard:!1,_pathType:null,getPath:{type:"accessor",value:t=>t.path},getColor:{type:"accessor",value:Hz},getWidth:{type:"accessor",value:1},rounded:{deprecatedFor:["jointRounded","capRounded"]}},Iw={enter:(t,e)=>e.length?e.subarray(e.length-t.length):t};class dC extends vh{getShaders(){return super.getShaders({vs:k0e,fs:O0e,modules:[nb,ib,C0e]})}get wrapLongitude(){return!1}getBounds(){var e;return(e=this.getAttributeManager())==null?void 0:e.getBounds(["vertexPositions"])}initializeState(){this.getAttributeManager().addInstanced({vertexPositions:{size:3,vertexOffset:1,type:"float64",fp64:this.use64bitPositions(),transition:Iw,accessor:"getPath",update:this.calculatePositions,noAlloc:!0,shaderAttributes:{instanceLeftPositions:{vertexOffset:0},instanceStartPositions:{vertexOffset:1},instanceEndPositions:{vertexOffset:2},instanceRightPositions:{vertexOffset:3}}},instanceTypes:{size:1,type:"uint8",update:this.calculateSegmentTypes,noAlloc:!0},instanceStrokeWidths:{size:1,accessor:"getWidth",transition:Iw,defaultValue:1},instanceColors:{size:this.props.colorFormat.length,type:"unorm8",accessor:"getColor",transition:Iw,defaultValue:Hz},instancePickingColors:{size:4,type:"uint8",accessor:(n,{index:i,target:o})=>this.encodePickingColor(n&&n.__source?n.__source.index:i,o)}}),this.setState({pathTesselator:new P0e({fp64:this.use64bitPositions()})})}updateState(e){var s;super.updateState(e);const{props:r,changeFlags:n}=e,i=this.getAttributeManager();if(n.dataChanged||n.updateTriggersChanged&&(n.updateTriggersChanged.all||n.updateTriggersChanged.getPath)){const{pathTesselator:a}=this.state,l=r.data.attributes||{};a.updateGeometry({data:r.data,geometryBuffer:l.getPath,buffers:l,normalize:!r._pathType,loop:r._pathType==="loop",getGeometry:r.getPath,positionFormat:r.positionFormat,wrapLongitude:r.wrapLongitude,resolution:this.context.viewport.resolution,dataChanged:n.dataChanged}),this.setState({numInstances:a.instanceCount,startIndices:a.vertexStarts}),n.dataChanged||i.invalidateAll()}n.extensionsChanged&&((s=this.state.model)==null||s.destroy(),this.state.model=this._getModel(),i.invalidateAll())}getPickingInfo(e){const r=super.getPickingInfo(e),{index:n}=r,i=this.props.data;return i[0]&&i[0].__source&&(r.object=i.find(o=>o.__source.index===n)),r}disablePickingIndex(e){const r=this.props.data;if(r[0]&&r[0].__source)for(let n=0;n<r.length;n++)r[n].__source.index===e&&this._disablePickingIndex(n);else super.disablePickingIndex(e)}draw({uniforms:e}){const{jointRounded:r,capRounded:n,billboard:i,miterLimit:o,widthUnits:s,widthScale:a,widthMinPixels:l,widthMaxPixels:c}=this.props,u=this.state.model,g={jointType:Number(r),capType:Number(n),billboard:i,widthUnits:af[s],widthScale:a,miterLimit:o,widthMinPixels:l,widthMaxPixels:c};u.shaderInputs.setProps({path:g}),u.draw(this.context.renderPass)}_getModel(){const e=[0,1,2,1,4,2,1,3,4,3,5,4],r=[0,0,0,-1,0,1,1,-1,1,1,1,0];return new yc(this.context.device,{...this.getShaders(),id:this.props.id,bufferLayout:this.getAttributeManager().getBufferLayouts(),geometry:new Mg({topology:"triangle-list",attributes:{indices:new Uint16Array(e),positions:{value:new Float32Array(r),size:2}}}),isInstanced:!0})}calculatePositions(e){const{pathTesselator:r}=this.state;e.startIndices=r.vertexStarts,e.value=r.get("positions")}calculateSegmentTypes(e){const{pathTesselator:r}=this.state;e.startIndices=r.vertexStarts,e.value=r.get("segmentTypes")}}dC.defaultProps=R0e;dC.layerName="PathLayer";var Xv={exports:{}},MI;function I0e(){if(MI)return Xv.exports;MI=1,Xv.exports=t,Xv.exports.default=t;function t(te,oe,K){K=K||2;var ge=oe&&oe.length,Ee=ge?oe[0]*K:te.length,se=e(te,0,Ee,K,!0),$=[];if(!se||se.next===se.prev)return $;var ne,pe,be,Ie,De,$e,Le;if(ge&&(se=l(te,oe,se,K)),te.length>80*K){ne=be=te[0],pe=Ie=te[1];for(var We=K;We<Ee;We+=K)De=te[We],$e=te[We+1],De<ne&&(ne=De),$e<pe&&(pe=$e),De>be&&(be=De),$e>Ie&&(Ie=$e);Le=Math.max(be-ne,Ie-pe),Le=Le!==0?32767/Le:0}return n(se,$,K,ne,pe,Le,0),$}function e(te,oe,K,ge,Ee){var se,$;if(Ee===Te(te,oe,K,ge)>0)for(se=oe;se<K;se+=ge)$=ee(se,te[se],te[se+1],$);else for(se=K-ge;se>=oe;se-=ge)$=ee(se,te[se],te[se+1],$);return $&&D($,$.next)&&(ae($),$=$.next),$}function r(te,oe){if(!te)return te;oe||(oe=te);var K=te,ge;do if(ge=!1,!K.steiner&&(D(K,K.next)||N(K.prev,K,K.next)===0)){if(ae(K),K=oe=K.prev,K===K.next)break;ge=!0}else K=K.next;while(ge||K!==oe);return oe}function n(te,oe,K,ge,Ee,se,$){if(te){!$&&se&&b(te,ge,Ee,se);for(var ne=te,pe,be;te.prev!==te.next;){if(pe=te.prev,be=te.next,se?o(te,ge,Ee,se):i(te)){oe.push(pe.i/K|0),oe.push(te.i/K|0),oe.push(be.i/K|0),ae(te),te=be.next,ne=be.next;continue}if(te=be,te===ne){$?$===1?(te=s(r(te),oe,K),n(te,oe,K,ge,Ee,se,2)):$===2&&a(te,oe,K,ge,Ee,se):n(r(te),oe,K,ge,Ee,se,1);break}}}}function i(te){var oe=te.prev,K=te,ge=te.next;if(N(oe,K,ge)>=0)return!1;for(var Ee=oe.x,se=K.x,$=ge.x,ne=oe.y,pe=K.y,be=ge.y,Ie=Ee<se?Ee<$?Ee:$:se<$?se:$,De=ne<pe?ne<be?ne:be:pe<be?pe:be,$e=Ee>se?Ee>$?Ee:$:se>$?se:$,Le=ne>pe?ne>be?ne:be:pe>be?pe:be,We=ge.next;We!==oe;){if(We.x>=Ie&&We.x<=$e&&We.y>=De&&We.y<=Le&&O(Ee,ne,se,pe,$,be,We.x,We.y)&&N(We.prev,We,We.next)>=0)return!1;We=We.next}return!0}function o(te,oe,K,ge){var Ee=te.prev,se=te,$=te.next;if(N(Ee,se,$)>=0)return!1;for(var ne=Ee.x,pe=se.x,be=$.x,Ie=Ee.y,De=se.y,$e=$.y,Le=ne<pe?ne<be?ne:be:pe<be?pe:be,We=Ie<De?Ie<$e?Ie:$e:De<$e?De:$e,ft=ne>pe?ne>be?ne:be:pe>be?pe:be,tt=Ie>De?Ie>$e?Ie:$e:De>$e?De:$e,xt=E(Le,We,oe,K,ge),Tt=E(ft,tt,oe,K,ge),xe=te.prevZ,At=te.nextZ;xe&&xe.z>=xt&&At&&At.z<=Tt;){if(xe.x>=Le&&xe.x<=ft&&xe.y>=We&&xe.y<=tt&&xe!==Ee&&xe!==$&&O(ne,Ie,pe,De,be,$e,xe.x,xe.y)&&N(xe.prev,xe,xe.next)>=0||(xe=xe.prevZ,At.x>=Le&&At.x<=ft&&At.y>=We&&At.y<=tt&&At!==Ee&&At!==$&&O(ne,Ie,pe,De,be,$e,At.x,At.y)&&N(At.prev,At,At.next)>=0))return!1;At=At.nextZ}for(;xe&&xe.z>=xt;){if(xe.x>=Le&&xe.x<=ft&&xe.y>=We&&xe.y<=tt&&xe!==Ee&&xe!==$&&O(ne,Ie,pe,De,be,$e,xe.x,xe.y)&&N(xe.prev,xe,xe.next)>=0)return!1;xe=xe.prevZ}for(;At&&At.z<=Tt;){if(At.x>=Le&&At.x<=ft&&At.y>=We&&At.y<=tt&&At!==Ee&&At!==$&&O(ne,Ie,pe,De,be,$e,At.x,At.y)&&N(At.prev,At,At.next)>=0)return!1;At=At.nextZ}return!0}function s(te,oe,K){var ge=te;do{var Ee=ge.prev,se=ge.next.next;!D(Ee,se)&&B(Ee,ge,ge.next,se)&&G(Ee,se)&&G(se,Ee)&&(oe.push(Ee.i/K|0),oe.push(ge.i/K|0),oe.push(se.i/K|0),ae(ge),ae(ge.next),ge=te=se),ge=ge.next}while(ge!==te);return r(ge)}function a(te,oe,K,ge,Ee,se){var $=te;do{for(var ne=$.next.next;ne!==$.prev;){if($.i!==ne.i&&L($,ne)){var pe=H($,ne);$=r($,$.next),pe=r(pe,pe.next),n($,oe,K,ge,Ee,se,0),n(pe,oe,K,ge,Ee,se,0);return}ne=ne.next}$=$.next}while($!==te)}function l(te,oe,K,ge){var Ee=[],se,$,ne,pe,be;for(se=0,$=oe.length;se<$;se++)ne=oe[se]*ge,pe=se<$-1?oe[se+1]*ge:te.length,be=e(te,ne,pe,ge,!1),be===be.next&&(be.steiner=!0),Ee.push(T(be));for(Ee.sort(c),se=0;se<Ee.length;se++)K=u(Ee[se],K);return K}function c(te,oe){return te.x-oe.x}function u(te,oe){var K=g(te,oe);if(!K)return oe;var ge=H(K,te);return r(ge,ge.next),r(K,K.next)}function g(te,oe){var K=oe,ge=te.x,Ee=te.y,se=-1/0,$;do{if(Ee<=K.y&&Ee>=K.next.y&&K.next.y!==K.y){var ne=K.x+(Ee-K.y)*(K.next.x-K.x)/(K.next.y-K.y);if(ne<=ge&&ne>se&&(se=ne,$=K.x<K.next.x?K:K.next,ne===ge))return $}K=K.next}while(K!==oe);if(!$)return null;var pe=$,be=$.x,Ie=$.y,De=1/0,$e;K=$;do ge>=K.x&&K.x>=be&&ge!==K.x&&O(Ee<Ie?ge:se,Ee,be,Ie,Ee<Ie?se:ge,Ee,K.x,K.y)&&($e=Math.abs(Ee-K.y)/(ge-K.x),G(K,te)&&($e<De||$e===De&&(K.x>$.x||K.x===$.x&&_($,K)))&&($=K,De=$e)),K=K.next;while(K!==pe);return $}function _(te,oe){return N(te.prev,te,oe.prev)<0&&N(oe.next,te,te.next)<0}function b(te,oe,K,ge){var Ee=te;do Ee.z===0&&(Ee.z=E(Ee.x,Ee.y,oe,K,ge)),Ee.prevZ=Ee.prev,Ee.nextZ=Ee.next,Ee=Ee.next;while(Ee!==te);Ee.prevZ.nextZ=null,Ee.prevZ=null,P(Ee)}function P(te){var oe,K,ge,Ee,se,$,ne,pe,be=1;do{for(K=te,te=null,se=null,$=0;K;){for($++,ge=K,ne=0,oe=0;oe<be&&(ne++,ge=ge.nextZ,!!ge);oe++);for(pe=be;ne>0||pe>0&&ge;)ne!==0&&(pe===0||!ge||K.z<=ge.z)?(Ee=K,K=K.nextZ,ne--):(Ee=ge,ge=ge.nextZ,pe--),se?se.nextZ=Ee:te=Ee,Ee.prevZ=se,se=Ee;K=ge}se.nextZ=null,be*=2}while($>1);return te}function E(te,oe,K,ge,Ee){return te=(te-K)*Ee|0,oe=(oe-ge)*Ee|0,te=(te|te<<8)&16711935,te=(te|te<<4)&252645135,te=(te|te<<2)&858993459,te=(te|te<<1)&1431655765,oe=(oe|oe<<8)&16711935,oe=(oe|oe<<4)&252645135,oe=(oe|oe<<2)&858993459,oe=(oe|oe<<1)&1431655765,te|oe<<1}function T(te){var oe=te,K=te;do(oe.x<K.x||oe.x===K.x&&oe.y<K.y)&&(K=oe),oe=oe.next;while(oe!==te);return K}function O(te,oe,K,ge,Ee,se,$,ne){return(Ee-$)*(oe-ne)>=(te-$)*(se-ne)&&(te-$)*(ge-ne)>=(K-$)*(oe-ne)&&(K-$)*(se-ne)>=(Ee-$)*(ge-ne)}function L(te,oe){return te.next.i!==oe.i&&te.prev.i!==oe.i&&!Z(te,oe)&&(G(te,oe)&&G(oe,te)&&de(te,oe)&&(N(te.prev,te,oe.prev)||N(te,oe.prev,oe))||D(te,oe)&&N(te.prev,te,te.next)>0&&N(oe.prev,oe,oe.next)>0)}function N(te,oe,K){return(oe.y-te.y)*(K.x-oe.x)-(oe.x-te.x)*(K.y-oe.y)}function D(te,oe){return te.x===oe.x&&te.y===oe.y}function B(te,oe,K,ge){var Ee=X(N(te,oe,K)),se=X(N(te,oe,ge)),$=X(N(K,ge,te)),ne=X(N(K,ge,oe));return!!(Ee!==se&&$!==ne||Ee===0&&z(te,K,oe)||se===0&&z(te,ge,oe)||$===0&&z(K,te,ge)||ne===0&&z(K,oe,ge))}function z(te,oe,K){return oe.x<=Math.max(te.x,K.x)&&oe.x>=Math.min(te.x,K.x)&&oe.y<=Math.max(te.y,K.y)&&oe.y>=Math.min(te.y,K.y)}function X(te){return te>0?1:te<0?-1:0}function Z(te,oe){var K=te;do{if(K.i!==te.i&&K.next.i!==te.i&&K.i!==oe.i&&K.next.i!==oe.i&&B(K,K.next,te,oe))return!0;K=K.next}while(K!==te);return!1}function G(te,oe){return N(te.prev,te,te.next)<0?N(te,oe,te.next)>=0&&N(te,te.prev,oe)>=0:N(te,oe,te.prev)<0||N(te,te.next,oe)<0}function de(te,oe){var K=te,ge=!1,Ee=(te.x+oe.x)/2,se=(te.y+oe.y)/2;do K.y>se!=K.next.y>se&&K.next.y!==K.y&&Ee<(K.next.x-K.x)*(se-K.y)/(K.next.y-K.y)+K.x&&(ge=!ge),K=K.next;while(K!==te);return ge}function H(te,oe){var K=new le(te.i,te.x,te.y),ge=new le(oe.i,oe.x,oe.y),Ee=te.next,se=oe.prev;return te.next=oe,oe.prev=te,K.next=Ee,Ee.prev=K,ge.next=K,K.prev=ge,se.next=ge,ge.prev=se,ge}function ee(te,oe,K,ge){var Ee=new le(te,oe,K);return ge?(Ee.next=ge.next,Ee.prev=ge,ge.next.prev=Ee,ge.next=Ee):(Ee.prev=Ee,Ee.next=Ee),Ee}function ae(te){te.next.prev=te.prev,te.prev.next=te.next,te.prevZ&&(te.prevZ.nextZ=te.nextZ),te.nextZ&&(te.nextZ.prevZ=te.prevZ)}function le(te,oe,K){this.i=te,this.x=oe,this.y=K,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}t.deviation=function(te,oe,K,ge){var Ee=oe&&oe.length,se=Ee?oe[0]*K:te.length,$=Math.abs(Te(te,0,se,K));if(Ee)for(var ne=0,pe=oe.length;ne<pe;ne++){var be=oe[ne]*K,Ie=ne<pe-1?oe[ne+1]*K:te.length;$-=Math.abs(Te(te,be,Ie,K))}var De=0;for(ne=0;ne<ge.length;ne+=3){var $e=ge[ne]*K,Le=ge[ne+1]*K,We=ge[ne+2]*K;De+=Math.abs((te[$e]-te[We])*(te[Le+1]-te[$e+1])-(te[$e]-te[Le])*(te[We+1]-te[$e+1]))}return $===0&&De===0?0:Math.abs((De-$)/$)};function Te(te,oe,K,ge){for(var Ee=0,se=oe,$=K-ge;se<K;se+=ge)Ee+=(te[$]-te[se])*(te[se+1]+te[$+1]),$=se;return Ee}return t.flatten=function(te){for(var oe=te[0][0].length,K={vertices:[],holes:[],dimensions:oe},ge=0,Ee=0;Ee<te.length;Ee++){for(var se=0;se<te[Ee].length;se++)for(var $=0;$<oe;$++)K.vertices.push(te[Ee][se][$]);Ee>0&&(ge+=te[Ee-1].length,K.holes.push(ge))}return K},Xv.exports}var N0e=I0e();const M0e=Ln(N0e),Yv=uC.CLOCKWISE,LI=uC.COUNTER_CLOCKWISE,rh={};function L0e(t){if(t=t&&t.positions||t,!Array.isArray(t)&&!ArrayBuffer.isView(t))throw new Error("invalid polygon")}function tg(t){return"positions"in t?t.positions:t}function M1(t){return"holeIndices"in t?t.holeIndices:null}function D0e(t){return Array.isArray(t[0])}function B0e(t){return t.length>=1&&t[0].length>=2&&Number.isFinite(t[0][0])}function F0e(t){const e=t[0],r=t[t.length-1];return e[0]===r[0]&&e[1]===r[1]&&e[2]===r[2]}function j0e(t,e,r,n){for(let i=0;i<e;i++)if(t[r+i]!==t[n-e+i])return!1;return!0}function DI(t,e,r,n,i){let o=e;const s=r.length;for(let a=0;a<s;a++)for(let l=0;l<n;l++)t[o++]=r[a][l]||0;if(!F0e(r))for(let a=0;a<n;a++)t[o++]=r[0][a]||0;return rh.start=e,rh.end=o,rh.size=n,fC(t,i,rh),o}function BI(t,e,r,n,i=0,o,s){o=o||r.length;const a=o-i;if(a<=0)return e;let l=e;for(let c=0;c<a;c++)t[l++]=r[i+c];if(!j0e(r,n,i,o))for(let c=0;c<n;c++)t[l++]=r[i+c];return rh.start=e,rh.end=l,rh.size=n,fC(t,s,rh),l}function qz(t,e){L0e(t);const r=[],n=[];if("positions"in t){const{positions:i,holeIndices:o}=t;if(o){let s=0;for(let a=0;a<=o.length;a++)s=BI(r,s,i,e,o[a-1],o[a],a===0?Yv:LI),n.push(s);return n.pop(),{positions:r,holeIndices:n}}t=i}if(!D0e(t))return BI(r,0,t,e,0,r.length,Yv),r;if(!B0e(t)){let i=0;for(const[o,s]of t.entries())i=DI(r,i,s,e,o===0?Yv:LI),n.push(i);return n.pop(),{positions:r,holeIndices:n}}return DI(r,0,t,e,Yv),r}function Nw(t,e,r){const n=t.length/3;let i=0;for(let o=0;o<n;o++){const s=(o+1)%n;i+=t[o*3+e]*t[s*3+r],i-=t[s*3+e]*t[o*3+r]}return Math.abs(i/2)}function FI(t,e,r,n){const i=t.length/3;for(let o=0;o<i;o++){const s=o*3,a=t[s+0],l=t[s+1],c=t[s+2];t[s+e]=a,t[s+r]=l,t[s+n]=c}}function U0e(t,e,r,n){let i=M1(t);i&&(i=i.map(a=>a/e));let o=tg(t);const s=n&&e===3;if(r){const a=o.length;o=o.slice();const l=[];for(let c=0;c<a;c+=e){l[0]=o[c],l[1]=o[c+1],s&&(l[2]=o[c+2]);const u=r(l);o[c]=u[0],o[c+1]=u[1],s&&(o[c+2]=u[2])}}if(s){const a=Nw(o,0,1),l=Nw(o,0,2),c=Nw(o,1,2);if(!a&&!l&&!c)return[];a>l&&a>c||(l>c?(r||(o=o.slice()),FI(o,0,2,1)):(r||(o=o.slice()),FI(o,2,0,1)))}return M0e(o,i,e)}class $0e extends Bz{constructor(e){const{fp64:r,IndexType:n=Uint32Array}=e;super({...e,attributes:{positions:{size:3,type:r?Float64Array:Float32Array},vertexValid:{type:Uint16Array,size:1},indices:{type:n,size:1}}})}get(e){const{attributes:r}=this;return e==="indices"?r.indices&&r.indices.subarray(0,this.vertexCount):r[e]}updateGeometry(e){super.updateGeometry(e);const r=this.buffers.indices;if(r)this.vertexCount=(r.value||r).length;else if(this.data&&!this.getGeometry)throw new Error("missing indices buffer")}normalizeGeometry(e){if(this.normalize){const r=qz(e,this.positionSize);return this.opts.resolution?$z(tg(r),M1(r),{size:this.positionSize,gridResolution:this.opts.resolution,edgeTypes:!0}):this.opts.wrapLongitude?p0e(tg(r),M1(r),{size:this.positionSize,maxLatitude:86,edgeTypes:!0}):r}return e}getGeometrySize(e){if(jI(e)){let r=0;for(const n of e)r+=this.getGeometrySize(n);return r}return tg(e).length/this.positionSize}getGeometryFromBuffer(e){return this.normalize||!this.buffers.indices?super.getGeometryFromBuffer(e):null}updateGeometryAttributes(e,r){if(e&&jI(e))for(const n of e){const i=this.getGeometrySize(n);r.geometrySize=i,this.updateGeometryAttributes(n,r),r.vertexStart+=i,r.indexStart=this.indexStarts[r.geometryIndex+1]}else{const n=e;this._updateIndices(n,r),this._updatePositions(n,r),this._updateVertexValid(n,r)}}_updateIndices(e,{geometryIndex:r,vertexStart:n,indexStart:i}){const{attributes:o,indexStarts:s,typedArrayManager:a}=this;let l=o.indices;if(!l||!e)return;let c=i;const u=U0e(e,this.positionSize,this.opts.preproject,this.opts.full3d);l=a.allocate(l,i+u.length,{copy:!0});for(let g=0;g<u.length;g++)l[c++]=u[g]+n;s[r+1]=i+u.length,o.indices=l}_updatePositions(e,{vertexStart:r,geometrySize:n}){const{attributes:{positions:i},positionSize:o}=this;if(!i||!e)return;const s=tg(e);for(let a=r,l=0;l<n;a++,l++){const c=s[l*o],u=s[l*o+1],g=o>2?s[l*o+2]:0;i[a*3]=c,i[a*3+1]=u,i[a*3+2]=g}}_updateVertexValid(e,{vertexStart:r,geometrySize:n}){const{positionSize:i}=this,o=this.attributes.vertexValid,s=e&&M1(e);if(e&&e.edgeTypes?o.set(e.edgeTypes,r):o.fill(1,r,r+n),s)for(let a=0;a<s.length;a++)o[r+s[a]/i-1]=0;o[r+n-1]=0}}function jI(t){return Array.isArray(t)&&t.length>0&&!Number.isFinite(t[0])}const UI=`uniform solidPolygonUniforms {
  bool extruded;
  bool isWireframe;
  float elevationScale;
} solidPolygon;
`,z0e={name:"solidPolygon",vs:UI,fs:UI,uniformTypes:{extruded:"f32",isWireframe:"f32",elevationScale:"f32"}},Xz=`in vec4 fillColors;
in vec4 lineColors;
in vec3 pickingColors;
out vec4 vColor;
struct PolygonProps {
vec3 positions;
vec3 positions64Low;
vec3 normal;
float elevations;
};
vec3 project_offset_normal(vec3 vector) {
if (project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT ||
project.coordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSETS) {
return normalize(vector * project.commonUnitsPerWorldUnit);
}
return project_normal(vector);
}
void calculatePosition(PolygonProps props) {
vec3 pos = props.positions;
vec3 pos64Low = props.positions64Low;
vec3 normal = props.normal;
vec4 colors = solidPolygon.isWireframe ? lineColors : fillColors;
geometry.worldPosition = props.positions;
geometry.pickingColor = pickingColors;
if (solidPolygon.extruded) {
pos.z += props.elevations * solidPolygon.elevationScale;
}
gl_Position = project_position_to_clipspace(pos, pos64Low, vec3(0.), geometry.position);
DECKGL_FILTER_GL_POSITION(gl_Position, geometry);
if (solidPolygon.extruded) {
#ifdef IS_SIDE_VERTEX
normal = project_offset_normal(normal);
#else
normal = project_normal(normal);
#endif
geometry.normal = normal;
vec3 lightColor = lighting_getLightColor(colors.rgb, project.cameraPosition, geometry.position.xyz, geometry.normal);
vColor = vec4(lightColor, colors.a * layer.opacity);
} else {
vColor = vec4(colors.rgb, colors.a * layer.opacity);
}
DECKGL_FILTER_COLOR(vColor, geometry);
}
`,W0e=`#version 300 es
#define SHADER_NAME solid-polygon-layer-vertex-shader
in vec3 vertexPositions;
in vec3 vertexPositions64Low;
in float elevations;
${Xz}
void main(void) {
PolygonProps props;
props.positions = vertexPositions;
props.positions64Low = vertexPositions64Low;
props.elevations = elevations;
props.normal = vec3(0.0, 0.0, 1.0);
calculatePosition(props);
}
`,V0e=`#version 300 es
#define SHADER_NAME solid-polygon-layer-vertex-shader-side
#define IS_SIDE_VERTEX
in vec2 positions;
in vec3 vertexPositions;
in vec3 nextVertexPositions;
in vec3 vertexPositions64Low;
in vec3 nextVertexPositions64Low;
in float elevations;
in float instanceVertexValid;
${Xz}
void main(void) {
if(instanceVertexValid < 0.5){
gl_Position = vec4(0.);
return;
}
PolygonProps props;
vec3 pos;
vec3 pos64Low;
vec3 nextPos;
vec3 nextPos64Low;
#if RING_WINDING_ORDER_CW == 1
pos = vertexPositions;
pos64Low = vertexPositions64Low;
nextPos = nextVertexPositions;
nextPos64Low = nextVertexPositions64Low;
#else
pos = nextVertexPositions;
pos64Low = nextVertexPositions64Low;
nextPos = vertexPositions;
nextPos64Low = vertexPositions64Low;
#endif
props.positions = mix(pos, nextPos, positions.x);
props.positions64Low = mix(pos64Low, nextPos64Low, positions.x);
props.normal = vec3(
pos.y - nextPos.y + (pos64Low.y - nextPos64Low.y),
nextPos.x - pos.x + (nextPos64Low.x - pos64Low.x),
0.0);
props.elevations = elevations * positions.y;
calculatePosition(props);
}
`,H0e=`#version 300 es
#define SHADER_NAME solid-polygon-layer-fragment-shader
precision highp float;
in vec4 vColor;
out vec4 fragColor;
void main(void) {
fragColor = vColor;
geometry.uv = vec2(0.);
DECKGL_FILTER_COLOR(fragColor, geometry);
}
`,by=[0,0,0,255],q0e={filled:!0,extruded:!1,wireframe:!1,_normalize:!0,_windingOrder:"CW",_full3d:!1,elevationScale:{type:"number",min:0,value:1},getPolygon:{type:"accessor",value:t=>t.polygon},getElevation:{type:"accessor",value:1e3},getFillColor:{type:"accessor",value:by},getLineColor:{type:"accessor",value:by},material:!0},Kv={enter:(t,e)=>e.length?e.subarray(e.length-t.length):t};class AC extends vh{getShaders(e){return super.getShaders({vs:e==="top"?W0e:V0e,fs:H0e,defines:{RING_WINDING_ORDER_CW:!this.props._normalize&&this.props._windingOrder==="CCW"?0:1},modules:[nb,YP,ib,z0e]})}get wrapLongitude(){return!1}getBounds(){var e;return(e=this.getAttributeManager())==null?void 0:e.getBounds(["vertexPositions"])}initializeState(){const{viewport:e}=this.context;let{coordinateSystem:r}=this.props;const{_full3d:n}=this.props;e.isGeospatial&&r===gn.DEFAULT&&(r=gn.LNGLAT);let i;r===gn.LNGLAT&&(n?i=e.projectPosition.bind(e):i=e.projectFlat.bind(e)),this.setState({numInstances:0,polygonTesselator:new $0e({preproject:i,fp64:this.use64bitPositions(),IndexType:Uint32Array})});const o=this.getAttributeManager(),s=!0;o.remove(["instancePickingColors"]),o.add({indices:{size:1,isIndexed:!0,update:this.calculateIndices,noAlloc:s},vertexPositions:{size:3,type:"float64",stepMode:"dynamic",fp64:this.use64bitPositions(),transition:Kv,accessor:"getPolygon",update:this.calculatePositions,noAlloc:s,shaderAttributes:{nextVertexPositions:{vertexOffset:1}}},instanceVertexValid:{size:1,type:"uint16",stepMode:"instance",update:this.calculateVertexValid,noAlloc:s},elevations:{size:1,stepMode:"dynamic",transition:Kv,accessor:"getElevation"},fillColors:{size:this.props.colorFormat.length,type:"unorm8",stepMode:"dynamic",transition:Kv,accessor:"getFillColor",defaultValue:by},lineColors:{size:this.props.colorFormat.length,type:"unorm8",stepMode:"dynamic",transition:Kv,accessor:"getLineColor",defaultValue:by},pickingColors:{size:4,type:"uint8",stepMode:"dynamic",accessor:(a,{index:l,target:c})=>this.encodePickingColor(a&&a.__source?a.__source.index:l,c)}})}getPickingInfo(e){const r=super.getPickingInfo(e),{index:n}=r,i=this.props.data;return i[0]&&i[0].__source&&(r.object=i.find(o=>o.__source.index===n)),r}disablePickingIndex(e){const r=this.props.data;if(r[0]&&r[0].__source)for(let n=0;n<r.length;n++)r[n].__source.index===e&&this._disablePickingIndex(n);else super.disablePickingIndex(e)}draw({uniforms:e}){const{extruded:r,filled:n,wireframe:i,elevationScale:o}=this.props,{topModel:s,sideModel:a,wireframeModel:l,polygonTesselator:c}=this.state,u={extruded:!!r,elevationScale:o,isWireframe:!1};l&&i&&(l.setInstanceCount(c.instanceCount-1),l.shaderInputs.setProps({solidPolygon:{...u,isWireframe:!0}}),l.draw(this.context.renderPass)),a&&n&&(a.setInstanceCount(c.instanceCount-1),a.shaderInputs.setProps({solidPolygon:u}),a.draw(this.context.renderPass)),s&&n&&(s.setVertexCount(c.vertexCount),s.shaderInputs.setProps({solidPolygon:u}),s.draw(this.context.renderPass))}updateState(e){var a;super.updateState(e),this.updateGeometry(e);const{props:r,oldProps:n,changeFlags:i}=e,o=this.getAttributeManager();(i.extensionsChanged||r.filled!==n.filled||r.extruded!==n.extruded)&&((a=this.state.models)==null||a.forEach(l=>l.destroy()),this.setState(this._getModels()),o.invalidateAll())}updateGeometry({props:e,oldProps:r,changeFlags:n}){if(n.dataChanged||n.updateTriggersChanged&&(n.updateTriggersChanged.all||n.updateTriggersChanged.getPolygon)){const{polygonTesselator:o}=this.state,s=e.data.attributes||{};o.updateGeometry({data:e.data,normalize:e._normalize,geometryBuffer:s.getPolygon,buffers:s,getGeometry:e.getPolygon,positionFormat:e.positionFormat,wrapLongitude:e.wrapLongitude,resolution:this.context.viewport.resolution,fp64:this.use64bitPositions(),dataChanged:n.dataChanged,full3d:e._full3d}),this.setState({numInstances:o.instanceCount,startIndices:o.vertexStarts}),n.dataChanged||this.getAttributeManager().invalidateAll()}}_getModels(){const{id:e,filled:r,extruded:n}=this.props;let i,o,s;if(r){const a=this.getShaders("top");a.defines.NON_INSTANCED_MODEL=1;const l=this.getAttributeManager().getBufferLayouts({isInstanced:!1});i=new yc(this.context.device,{...a,id:`${e}-top`,topology:"triangle-list",bufferLayout:l,isIndexed:!0,userData:{excludeAttributes:{instanceVertexValid:!0}}})}if(n){const a=this.getAttributeManager().getBufferLayouts({isInstanced:!0});o=new yc(this.context.device,{...this.getShaders("side"),id:`${e}-side`,bufferLayout:a,geometry:new Mg({topology:"triangle-strip",attributes:{positions:{size:2,value:new Float32Array([1,0,0,0,1,1,0,1])}}}),isInstanced:!0,userData:{excludeAttributes:{indices:!0}}}),s=new yc(this.context.device,{...this.getShaders("side"),id:`${e}-wireframe`,bufferLayout:a,geometry:new Mg({topology:"line-strip",attributes:{positions:{size:2,value:new Float32Array([1,0,0,0,0,1,1,1])}}}),isInstanced:!0,userData:{excludeAttributes:{indices:!0}}})}return{models:[o,s,i].filter(Boolean),topModel:i,sideModel:o,wireframeModel:s}}calculateIndices(e){const{polygonTesselator:r}=this.state;e.startIndices=r.indexStarts,e.value=r.get("indices")}calculatePositions(e){const{polygonTesselator:r}=this.state;e.startIndices=r.vertexStarts,e.value=r.get("positions")}calculateVertexValid(e){e.value=this.state.polygonTesselator.get("vertexValid")}}AC.defaultProps=q0e;AC.layerName="SolidPolygonLayer";function X0e({data:t,getIndex:e,dataRange:r,replace:n}){const{startRow:i=0,endRow:o=1/0}=r,s=t.length;let a=s,l=s;for(let _=0;_<s;_++){const b=e(t[_]);if(a>_&&b>=i&&(a=_),b>=o){l=_;break}}let c=a;const g=l-a!==n.length?t.slice(l):void 0;for(let _=0;_<n.length;_++)t[c++]=n[_];if(g){for(let _=0;_<g.length;_++)t[c++]=g[_];t.length=c}return{startRow:a,endRow:a+n.length}}const Yz=[0,0,0,255],Y0e=[0,0,0,255],K0e={stroked:!0,filled:!0,extruded:!1,elevationScale:1,wireframe:!1,_normalize:!0,_windingOrder:"CW",lineWidthUnits:"meters",lineWidthScale:1,lineWidthMinPixels:0,lineWidthMaxPixels:Number.MAX_SAFE_INTEGER,lineJointRounded:!1,lineMiterLimit:4,getPolygon:{type:"accessor",value:t=>t.polygon},getFillColor:{type:"accessor",value:Y0e},getLineColor:{type:"accessor",value:Yz},getLineWidth:{type:"accessor",value:1},getElevation:{type:"accessor",value:1e3},material:!0};class cb extends cC{initializeState(){this.state={paths:[],pathsDiff:null},this.props.getLineDashArray&&Mn.removed("getLineDashArray","PathStyleExtension")()}updateState({changeFlags:e}){const r=e.dataChanged||e.updateTriggersChanged&&(e.updateTriggersChanged.all||e.updateTriggersChanged.getPolygon);if(r&&Array.isArray(e.dataChanged)){const n=this.state.paths.slice(),i=e.dataChanged.map(o=>X0e({data:n,getIndex:s=>s.__source.index,dataRange:o,replace:this._getPaths(o)}));this.setState({paths:n,pathsDiff:i})}else r&&this.setState({paths:this._getPaths(),pathsDiff:null})}_getPaths(e={}){const{data:r,getPolygon:n,positionFormat:i,_normalize:o}=this.props,s=[],a=i==="XY"?2:3,{startRow:l,endRow:c}=e,{iterable:u,objectInfo:g}=sb(r,l,c);for(const _ of u){g.index++;let b=n(_,g);o&&(b=qz(b,a));const{holeIndices:P}=b,E=b.positions||b;if(P)for(let T=0;T<=P.length;T++){const O=E.slice(P[T-1]||0,P[T]||E.length);s.push(this.getSubLayerRow({path:O},_,g.index))}else s.push(this.getSubLayerRow({path:E},_,g.index))}return s}renderLayers(){const{data:e,_dataDiff:r,stroked:n,filled:i,extruded:o,wireframe:s,_normalize:a,_windingOrder:l,elevationScale:c,transitions:u,positionFormat:g}=this.props,{lineWidthUnits:_,lineWidthScale:b,lineWidthMinPixels:P,lineWidthMaxPixels:E,lineJointRounded:T,lineMiterLimit:O,lineDashJustified:L}=this.props,{getFillColor:N,getLineColor:D,getLineWidth:B,getLineDashArray:z,getElevation:X,getPolygon:Z,updateTriggers:G,material:de}=this.props,{paths:H,pathsDiff:ee}=this.state,ae=this.getSubLayerClass("fill",AC),le=this.getSubLayerClass("stroke",dC),Te=this.shouldRenderSubLayer("fill",H)&&new ae({_dataDiff:r,extruded:o,elevationScale:c,filled:i,wireframe:s,_normalize:a,_windingOrder:l,getElevation:X,getFillColor:N,getLineColor:o&&s?D:Yz,material:de,transitions:u},this.getSubLayerProps({id:"fill",updateTriggers:G&&{getPolygon:G.getPolygon,getElevation:G.getElevation,getFillColor:G.getFillColor,lineColors:o&&s,getLineColor:G.getLineColor}}),{data:e,positionFormat:g,getPolygon:Z}),te=!o&&n&&this.shouldRenderSubLayer("stroke",H)&&new le({_dataDiff:ee&&(()=>ee),widthUnits:_,widthScale:b,widthMinPixels:P,widthMaxPixels:E,jointRounded:T,miterLimit:O,dashJustified:L,_pathType:"loop",transitions:u&&{getWidth:u.getLineWidth,getColor:u.getLineColor,getPath:u.getPolygon},getColor:this.getSubLayerAccessor(D),getWidth:this.getSubLayerAccessor(B),getDashArray:this.getSubLayerAccessor(z)},this.getSubLayerProps({id:"stroke",updateTriggers:G&&{getWidth:G.getLineWidth,getColor:G.getLineColor,getDashArray:G.getLineDashArray}}),{data:H,positionFormat:g,getPath:oe=>oe.path});return[!o&&Te,te,o&&Te]}}cb.layerName="PolygonLayer";cb.defaultProps=K0e;var Li=(function(t){t=t||{};var e=typeof t<"u"?t:{},r={},n;for(n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);var i="";function o(lt){return e.locateFile?e.locateFile(lt,i):i+lt}var s;typeof document<"u"&&document.currentScript&&(i=document.currentScript.src),i.indexOf("blob:")!==0?i=i.substr(0,i.lastIndexOf("/")+1):i="",s=function(pt,Ot,dt){var A=new XMLHttpRequest;A.open("GET",pt,!0),A.responseType="arraybuffer",A.onload=function(){if(A.status==200||A.status==0&&A.response){Ot(A.response);return}var Ur=yn(pt);if(Ur){Ot(Ur.buffer);return}dt()},A.onerror=dt,A.send(null)};var a=e.print||console.log.bind(console),l=e.printErr||console.warn.bind(console);for(n in r)r.hasOwnProperty(n)&&(e[n]=r[n]);r=null,e.arguments&&e.arguments;var c=0,u=function(lt){c=lt},g=function(){return c},_=8;function b(lt,pt,Ot,dt){switch(Ot=Ot||"i8",Ot.charAt(Ot.length-1)==="*"&&(Ot="i32"),Ot){case"i1":ee[lt>>0]=pt;break;case"i8":ee[lt>>0]=pt;break;case"i16":le[lt>>1]=pt;break;case"i32":Te[lt>>2]=pt;break;case"i64":jr=[pt>>>0,(Hr=pt,+xt(Hr)>=1?Hr>0?(At(+xe(Hr/4294967296),4294967295)|0)>>>0:~~+Tt((Hr-+(~~Hr>>>0))/4294967296)>>>0:0)],Te[lt>>2]=jr[0],Te[lt+4>>2]=jr[1];break;case"float":te[lt>>2]=pt;break;case"double":oe[lt>>3]=pt;break;default:Pi("invalid type for setValue: "+Ot)}}function P(lt,pt,Ot){switch(pt=pt||"i8",pt.charAt(pt.length-1)==="*"&&(pt="i32"),pt){case"i1":return ee[lt>>0];case"i8":return ee[lt>>0];case"i16":return le[lt>>1];case"i32":return Te[lt>>2];case"i64":return Te[lt>>2];case"float":return te[lt>>2];case"double":return oe[lt>>3];default:Pi("invalid type for getValue: "+pt)}return null}var E=!1;function T(lt,pt){lt||Pi("Assertion failed: "+pt)}function O(lt){var pt=e["_"+lt];return T(pt,"Cannot call unknown function "+lt+", make sure it is exported"),pt}function L(lt,pt,Ot,dt,A){var ce={string:function(wr){var Qn=0;if(wr!=null&&wr!==0){var Is=(wr.length<<2)+1;Qn=hn(Is),Z(wr,Qn,Is)}return Qn},array:function(wr){var Qn=hn(wr.length);return G(wr,Qn),Qn}};function Ur(wr){return pt==="string"?z(wr):pt==="boolean"?!!wr:wr}var Kr=O(lt),_n=[],vr=0;if(dt)for(var yr=0;yr<dt.length;yr++){var yi=ce[Ot[yr]];yi?(vr===0&&(vr=mr()),_n[yr]=yi(dt[yr])):_n[yr]=dt[yr]}var Lr=Kr.apply(null,_n);return Lr=Ur(Lr),vr!==0&&Dr(vr),Lr}function N(lt,pt,Ot,dt){Ot=Ot||[];var A=Ot.every(function(Ur){return Ur==="number"}),ce=pt!=="string";return ce&&A&&!dt?O(lt):function(){return L(lt,pt,Ot,arguments)}}var D=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function B(lt,pt,Ot){for(var dt=pt+Ot,A=pt;lt[A]&&!(A>=dt);)++A;if(A-pt>16&&lt.subarray&&D)return D.decode(lt.subarray(pt,A));for(var ce="";pt<A;){var Ur=lt[pt++];if(!(Ur&128)){ce+=String.fromCharCode(Ur);continue}var Kr=lt[pt++]&63;if((Ur&224)==192){ce+=String.fromCharCode((Ur&31)<<6|Kr);continue}var _n=lt[pt++]&63;if((Ur&240)==224?Ur=(Ur&15)<<12|Kr<<6|_n:Ur=(Ur&7)<<18|Kr<<12|_n<<6|lt[pt++]&63,Ur<65536)ce+=String.fromCharCode(Ur);else{var vr=Ur-65536;ce+=String.fromCharCode(55296|vr>>10,56320|vr&1023)}}return ce}function z(lt,pt){return lt?B(ae,lt,pt):""}function X(lt,pt,Ot,dt){if(!(dt>0))return 0;for(var A=Ot,ce=Ot+dt-1,Ur=0;Ur<lt.length;++Ur){var Kr=lt.charCodeAt(Ur);if(Kr>=55296&&Kr<=57343){var _n=lt.charCodeAt(++Ur);Kr=65536+((Kr&1023)<<10)|_n&1023}if(Kr<=127){if(Ot>=ce)break;pt[Ot++]=Kr}else if(Kr<=2047){if(Ot+1>=ce)break;pt[Ot++]=192|Kr>>6,pt[Ot++]=128|Kr&63}else if(Kr<=65535){if(Ot+2>=ce)break;pt[Ot++]=224|Kr>>12,pt[Ot++]=128|Kr>>6&63,pt[Ot++]=128|Kr&63}else{if(Ot+3>=ce)break;pt[Ot++]=240|Kr>>18,pt[Ot++]=128|Kr>>12&63,pt[Ot++]=128|Kr>>6&63,pt[Ot++]=128|Kr&63}}return pt[Ot]=0,Ot-A}function Z(lt,pt,Ot){return X(lt,ae,pt,Ot)}typeof TextDecoder<"u"&&new TextDecoder("utf-16le");function G(lt,pt){ee.set(lt,pt)}function de(lt,pt){return lt%pt>0&&(lt+=pt-lt%pt),lt}var H,ee,ae,le,Te,te,oe;function K(lt){H=lt,e.HEAP8=ee=new Int8Array(lt),e.HEAP16=le=new Int16Array(lt),e.HEAP32=Te=new Int32Array(lt),e.HEAPU8=ae=new Uint8Array(lt),e.HEAPU16=new Uint16Array(lt),e.HEAPU32=new Uint32Array(lt),e.HEAPF32=te=new Float32Array(lt),e.HEAPF64=oe=new Float64Array(lt)}var ge=5271536,Ee=28624,se=e.TOTAL_MEMORY||33554432;e.buffer?H=e.buffer:H=new ArrayBuffer(se),se=H.byteLength,K(H),Te[Ee>>2]=ge;function $(lt){for(;lt.length>0;){var pt=lt.shift();if(typeof pt=="function"){pt();continue}var Ot=pt.func;typeof Ot=="number"?pt.arg===void 0?e.dynCall_v(Ot):e.dynCall_vi(Ot,pt.arg):Ot(pt.arg===void 0?null:pt.arg)}}var ne=[],pe=[],be=[],Ie=[];function De(){if(e.preRun)for(typeof e.preRun=="function"&&(e.preRun=[e.preRun]);e.preRun.length;)ft(e.preRun.shift());$(ne)}function $e(){$(pe)}function Le(){$(be)}function We(){if(e.postRun)for(typeof e.postRun=="function"&&(e.postRun=[e.postRun]);e.postRun.length;)tt(e.postRun.shift());$(Ie)}function ft(lt){ne.unshift(lt)}function tt(lt){Ie.unshift(lt)}var xt=Math.abs,Tt=Math.ceil,xe=Math.floor,At=Math.min,Vt=0,$t=null;function bt(lt){Vt++,e.monitorRunDependencies&&e.monitorRunDependencies(Vt)}function Qt(lt){if(Vt--,e.monitorRunDependencies&&e.monitorRunDependencies(Vt),Vt==0&&$t){var pt=$t;$t=null,pt()}}e.preloadedImages={},e.preloadedAudios={};var It=null,qt="data:application/octet-stream;base64,";function Zt(lt){return String.prototype.startsWith?lt.startsWith(qt):lt.indexOf(qt)===0}var Hr,jr;It="data:application/octet-stream;base64,AAAAAAAAAAAAAAAAAQAAAAIAAAADAAAABAAAAAUAAAAGAAAAAQAAAAQAAAADAAAABgAAAAUAAAACAAAAAAAAAAIAAAADAAAAAQAAAAQAAAAGAAAAAAAAAAUAAAADAAAABgAAAAQAAAAFAAAAAAAAAAEAAAACAAAABAAAAAUAAAAGAAAAAAAAAAIAAAADAAAAAQAAAAUAAAACAAAAAAAAAAEAAAADAAAABgAAAAQAAAAGAAAAAAAAAAUAAAACAAAAAQAAAAQAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAEAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAIAAAADAAAAAAAAAAAAAAACAAAAAAAAAAEAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAABAAAAAYAAAAAAAAABQAAAAAAAAAAAAAABAAAAAUAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAYAAAAAAAAABgAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAgAAAAMAAAAEAAAABQAAAAYAAAABAAAAAgAAAAMAAAAEAAAABQAAAAYAAAAAAAAAAgAAAAMAAAAEAAAABQAAAAYAAAAAAAAAAQAAAAMAAAAEAAAABQAAAAYAAAAAAAAAAQAAAAIAAAAEAAAABQAAAAYAAAAAAAAAAQAAAAIAAAADAAAABQAAAAYAAAAAAAAAAQAAAAIAAAADAAAABAAAAAYAAAAAAAAAAQAAAAIAAAADAAAABAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAgAAAAIAAAAAAAAAAAAAAAYAAAAAAAAAAwAAAAIAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAFAAAABAAAAAAAAAABAAAAAAAAAAAAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAYAAAAAAAAABAAAAAAAAAAGAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAgAAAAQAAAADAAAACAAAAAEAAAAHAAAABgAAAAkAAAAAAAAAAwAAAAIAAAACAAAABgAAAAoAAAALAAAAAAAAAAEAAAAFAAAAAwAAAA0AAAABAAAABwAAAAQAAAAMAAAAAAAAAAQAAAB/AAAADwAAAAgAAAADAAAAAAAAAAwAAAAFAAAAAgAAABIAAAAKAAAACAAAAAAAAAAQAAAABgAAAA4AAAALAAAAEQAAAAEAAAAJAAAAAgAAAAcAAAAVAAAACQAAABMAAAADAAAADQAAAAEAAAAIAAAABQAAABYAAAAQAAAABAAAAAAAAAAPAAAACQAAABMAAAAOAAAAFAAAAAEAAAAHAAAABgAAAAoAAAALAAAAGAAAABcAAAAFAAAAAgAAABIAAAALAAAAEQAAABcAAAAZAAAAAgAAAAYAAAAKAAAADAAAABwAAAANAAAAGgAAAAQAAAAPAAAAAwAAAA0AAAAaAAAAFQAAAB0AAAADAAAADAAAAAcAAAAOAAAAfwAAABEAAAAbAAAACQAAABQAAAAGAAAADwAAABYAAAAcAAAAHwAAAAQAAAAIAAAADAAAABAAAAASAAAAIQAAAB4AAAAIAAAABQAAABYAAAARAAAACwAAAA4AAAAGAAAAIwAAABkAAAAbAAAAEgAAABgAAAAeAAAAIAAAAAUAAAAKAAAAEAAAABMAAAAiAAAAFAAAACQAAAAHAAAAFQAAAAkAAAAUAAAADgAAABMAAAAJAAAAKAAAABsAAAAkAAAAFQAAACYAAAATAAAAIgAAAA0AAAAdAAAABwAAABYAAAAQAAAAKQAAACEAAAAPAAAACAAAAB8AAAAXAAAAGAAAAAsAAAAKAAAAJwAAACUAAAAZAAAAGAAAAH8AAAAgAAAAJQAAAAoAAAAXAAAAEgAAABkAAAAXAAAAEQAAAAsAAAAtAAAAJwAAACMAAAAaAAAAKgAAAB0AAAArAAAADAAAABwAAAANAAAAGwAAACgAAAAjAAAALgAAAA4AAAAUAAAAEQAAABwAAAAfAAAAKgAAACwAAAAMAAAADwAAABoAAAAdAAAAKwAAACYAAAAvAAAADQAAABoAAAAVAAAAHgAAACAAAAAwAAAAMgAAABAAAAASAAAAIQAAAB8AAAApAAAALAAAADUAAAAPAAAAFgAAABwAAAAgAAAAHgAAABgAAAASAAAANAAAADIAAAAlAAAAIQAAAB4AAAAxAAAAMAAAABYAAAAQAAAAKQAAACIAAAATAAAAJgAAABUAAAA2AAAAJAAAADMAAAAjAAAALgAAAC0AAAA4AAAAEQAAABsAAAAZAAAAJAAAABQAAAAiAAAAEwAAADcAAAAoAAAANgAAACUAAAAnAAAANAAAADkAAAAYAAAAFwAAACAAAAAmAAAAfwAAACIAAAAzAAAAHQAAAC8AAAAVAAAAJwAAACUAAAAZAAAAFwAAADsAAAA5AAAALQAAACgAAAAbAAAAJAAAABQAAAA8AAAALgAAADcAAAApAAAAMQAAADUAAAA9AAAAFgAAACEAAAAfAAAAKgAAADoAAAArAAAAPgAAABwAAAAsAAAAGgAAACsAAAA+AAAALwAAAEAAAAAaAAAAKgAAAB0AAAAsAAAANQAAADoAAABBAAAAHAAAAB8AAAAqAAAALQAAACcAAAAjAAAAGQAAAD8AAAA7AAAAOAAAAC4AAAA8AAAAOAAAAEQAAAAbAAAAKAAAACMAAAAvAAAAJgAAACsAAAAdAAAARQAAADMAAABAAAAAMAAAADEAAAAeAAAAIQAAAEMAAABCAAAAMgAAADEAAAB/AAAAPQAAAEIAAAAhAAAAMAAAACkAAAAyAAAAMAAAACAAAAAeAAAARgAAAEMAAAA0AAAAMwAAAEUAAAA2AAAARwAAACYAAAAvAAAAIgAAADQAAAA5AAAARgAAAEoAAAAgAAAAJQAAADIAAAA1AAAAPQAAAEEAAABLAAAAHwAAACkAAAAsAAAANgAAAEcAAAA3AAAASQAAACIAAAAzAAAAJAAAADcAAAAoAAAANgAAACQAAABIAAAAPAAAAEkAAAA4AAAARAAAAD8AAABNAAAAIwAAAC4AAAAtAAAAOQAAADsAAABKAAAATgAAACUAAAAnAAAANAAAADoAAAB/AAAAPgAAAEwAAAAsAAAAQQAAACoAAAA7AAAAPwAAAE4AAABPAAAAJwAAAC0AAAA5AAAAPAAAAEgAAABEAAAAUAAAACgAAAA3AAAALgAAAD0AAAA1AAAAMQAAACkAAABRAAAASwAAAEIAAAA+AAAAKwAAADoAAAAqAAAAUgAAAEAAAABMAAAAPwAAAH8AAAA4AAAALQAAAE8AAAA7AAAATQAAAEAAAAAvAAAAPgAAACsAAABUAAAARQAAAFIAAABBAAAAOgAAADUAAAAsAAAAVgAAAEwAAABLAAAAQgAAAEMAAABRAAAAVQAAADEAAAAwAAAAPQAAAEMAAABCAAAAMgAAADAAAABXAAAAVQAAAEYAAABEAAAAOAAAADwAAAAuAAAAWgAAAE0AAABQAAAARQAAADMAAABAAAAALwAAAFkAAABHAAAAVAAAAEYAAABDAAAANAAAADIAAABTAAAAVwAAAEoAAABHAAAAWQAAAEkAAABbAAAAMwAAAEUAAAA2AAAASAAAAH8AAABJAAAANwAAAFAAAAA8AAAAWAAAAEkAAABbAAAASAAAAFgAAAA2AAAARwAAADcAAABKAAAATgAAAFMAAABcAAAANAAAADkAAABGAAAASwAAAEEAAAA9AAAANQAAAF4AAABWAAAAUQAAAEwAAABWAAAAUgAAAGAAAAA6AAAAQQAAAD4AAABNAAAAPwAAAEQAAAA4AAAAXQAAAE8AAABaAAAATgAAAEoAAAA7AAAAOQAAAF8AAABcAAAATwAAAE8AAABOAAAAPwAAADsAAABdAAAAXwAAAE0AAABQAAAARAAAAEgAAAA8AAAAYwAAAFoAAABYAAAAUQAAAFUAAABeAAAAZQAAAD0AAABCAAAASwAAAFIAAABgAAAAVAAAAGIAAAA+AAAATAAAAEAAAABTAAAAfwAAAEoAAABGAAAAZAAAAFcAAABcAAAAVAAAAEUAAABSAAAAQAAAAGEAAABZAAAAYgAAAFUAAABXAAAAZQAAAGYAAABCAAAAQwAAAFEAAABWAAAATAAAAEsAAABBAAAAaAAAAGAAAABeAAAAVwAAAFMAAABmAAAAZAAAAEMAAABGAAAAVQAAAFgAAABIAAAAWwAAAEkAAABjAAAAUAAAAGkAAABZAAAAYQAAAFsAAABnAAAARQAAAFQAAABHAAAAWgAAAE0AAABQAAAARAAAAGoAAABdAAAAYwAAAFsAAABJAAAAWQAAAEcAAABpAAAAWAAAAGcAAABcAAAAUwAAAE4AAABKAAAAbAAAAGQAAABfAAAAXQAAAE8AAABaAAAATQAAAG0AAABfAAAAagAAAF4AAABWAAAAUQAAAEsAAABrAAAAaAAAAGUAAABfAAAAXAAAAE8AAABOAAAAbQAAAGwAAABdAAAAYAAAAGgAAABiAAAAbgAAAEwAAABWAAAAUgAAAGEAAAB/AAAAYgAAAFQAAABnAAAAWQAAAG8AAABiAAAAbgAAAGEAAABvAAAAUgAAAGAAAABUAAAAYwAAAFAAAABpAAAAWAAAAGoAAABaAAAAcQAAAGQAAABmAAAAUwAAAFcAAABsAAAAcgAAAFwAAABlAAAAZgAAAGsAAABwAAAAUQAAAFUAAABeAAAAZgAAAGUAAABXAAAAVQAAAHIAAABwAAAAZAAAAGcAAABbAAAAYQAAAFkAAAB0AAAAaQAAAG8AAABoAAAAawAAAG4AAABzAAAAVgAAAF4AAABgAAAAaQAAAFgAAABnAAAAWwAAAHEAAABjAAAAdAAAAGoAAABdAAAAYwAAAFoAAAB1AAAAbQAAAHEAAABrAAAAfwAAAGUAAABeAAAAcwAAAGgAAABwAAAAbAAAAGQAAABfAAAAXAAAAHYAAAByAAAAbQAAAG0AAABsAAAAXQAAAF8AAAB1AAAAdgAAAGoAAABuAAAAYgAAAGgAAABgAAAAdwAAAG8AAABzAAAAbwAAAGEAAABuAAAAYgAAAHQAAABnAAAAdwAAAHAAAABrAAAAZgAAAGUAAAB4AAAAcwAAAHIAAABxAAAAYwAAAHQAAABpAAAAdQAAAGoAAAB5AAAAcgAAAHAAAABkAAAAZgAAAHYAAAB4AAAAbAAAAHMAAABuAAAAawAAAGgAAAB4AAAAdwAAAHAAAAB0AAAAZwAAAHcAAABvAAAAcQAAAGkAAAB5AAAAdQAAAH8AAABtAAAAdgAAAHEAAAB5AAAAagAAAHYAAAB4AAAAbAAAAHIAAAB1AAAAeQAAAG0AAAB3AAAAbwAAAHMAAABuAAAAeQAAAHQAAAB4AAAAeAAAAHMAAAByAAAAcAAAAHkAAAB3AAAAdgAAAHkAAAB0AAAAeAAAAHcAAAB1AAAAcQAAAHYAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAABAAAABQAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAACAAAABQAAAAEAAAAAAAAA/////wEAAAAAAAAAAwAAAAQAAAACAAAAAAAAAAAAAAABAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAMAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAFAAAAAQAAAAAAAAAAAAAAAQAAAAMAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAADAAAAAAAAAAAAAAABAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAADAAAABQAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAABAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAEAAAABQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAFAAAABQAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAD/////AwAAAAAAAAAFAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAAAAAABAAAAAwAAAAAAAAAAAAAAAQAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAQAAAAMAAAAAAAAAAAAAAAEAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAADAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAFAAAABQAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAwAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAwAAAAAAAAAAAAAA/////wMAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAA/////wMAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAMAAAADAAAAAAAAAAAAAAADAAAAAwAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAMAAAADAAAAAwAAAAMAAAAAAAAAAwAAAAAAAAD/////AwAAAAAAAAAFAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAAAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAAAAAD/////AwAAAAAAAAAFAAAAAgAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAADAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAFAAAAAAAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAADAAAAAQAAAAAAAAABAAAAAAAAAAAAAAABAAAAAwAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAADAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAAAAAADAAAAAwAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAUAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAFAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAA/////wMAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAAFAAAAAAAAAAAAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAEAAAADAAAAAQAAAAAAAAABAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAADAAAAAQAAAAAAAAABAAAAAAAAAAMAAAADAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAwAAAAUAAAABAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAABAAAAAUAAAABAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAIAAAAFAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAADAAAAAQAAAAAAAAABAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAFAAAAAAAAAAAAAAD/////AQAAAAAAAAADAAAABAAAAAIAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAUAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAFAAAAAAAAAAAAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAUAAAABAAAAAAAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAEAAAD//////////wEAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAADAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAsAAAACAAAAAAAAAAAAAAABAAAAAgAAAAYAAAAEAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAYAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAcAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAYAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAKAAAAAgAAAAAAAAAAAAAAAQAAAAEAAAAFAAAABgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAABwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAsAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAACAAAAAAAAAAAAAAABAAAAAwAAAAcAAAAGAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAABwAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAGAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAADgAAAAIAAAAAAAAAAAAAAAEAAAAAAAAACQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAMAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAABwAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADQAAAAIAAAAAAAAAAAAAAAEAAAAEAAAACAAAAAoAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAALAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAACQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAGAAAAAgAAAAAAAAAAAAAAAQAAAAsAAAAPAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAOAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAIAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAABQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAgAAAAAAAAAAAAAAAQAAAAwAAAAQAAAADAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAJAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAPAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAADwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAADQAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAACAAAAAAAAAAAAAAABAAAACgAAABMAAAAIAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAEQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEQAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAA8AAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAQAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAACQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAIAAAAAAAAAAAAAAAEAAAANAAAAEQAAAA0AAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAARAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAEwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAATAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAAEQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAA0AAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkAAAACAAAAAAAAAAAAAAABAAAADgAAABIAAAAPAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAADwAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABIAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAASAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAEwAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAABEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAATAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAABIAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAATAAAAAgAAAAAAAAAAAAAAAQAAAP//////////EwAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAATAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAEgAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAASAAAAAAAAABgAAAAAAAAAIQAAAAAAAAAeAAAAAAAAACAAAAADAAAAMQAAAAEAAAAwAAAAAwAAADIAAAADAAAACAAAAAAAAAAFAAAABQAAAAoAAAAFAAAAFgAAAAAAAAAQAAAAAAAAABIAAAAAAAAAKQAAAAEAAAAhAAAAAAAAAB4AAAAAAAAABAAAAAAAAAAAAAAABQAAAAIAAAAFAAAADwAAAAEAAAAIAAAAAAAAAAUAAAAFAAAAHwAAAAEAAAAWAAAAAAAAABAAAAAAAAAAAgAAAAAAAAAGAAAAAAAAAA4AAAAAAAAACgAAAAAAAAALAAAAAAAAABEAAAADAAAAGAAAAAEAAAAXAAAAAwAAABkAAAADAAAAAAAAAAAAAAABAAAABQAAAAkAAAAFAAAABQAAAAAAAAACAAAAAAAAAAYAAAAAAAAAEgAAAAEAAAAKAAAAAAAAAAsAAAAAAAAABAAAAAEAAAADAAAABQAAAAcAAAAFAAAACAAAAAEAAAAAAAAAAAAAAAEAAAAFAAAAEAAAAAEAAAAFAAAAAAAAAAIAAAAAAAAABwAAAAAAAAAVAAAAAAAAACYAAAAAAAAACQAAAAAAAAATAAAAAAAAACIAAAADAAAADgAAAAEAAAAUAAAAAwAAACQAAAADAAAAAwAAAAAAAAANAAAABQAAAB0AAAAFAAAAAQAAAAAAAAAHAAAAAAAAABUAAAAAAAAABgAAAAEAAAAJAAAAAAAAABMAAAAAAAAABAAAAAIAAAAMAAAABQAAABoAAAAFAAAAAAAAAAEAAAADAAAAAAAAAA0AAAAFAAAAAgAAAAEAAAABAAAAAAAAAAcAAAAAAAAAGgAAAAAAAAAqAAAAAAAAADoAAAAAAAAAHQAAAAAAAAArAAAAAAAAAD4AAAADAAAAJgAAAAEAAAAvAAAAAwAAAEAAAAADAAAADAAAAAAAAAAcAAAABQAAACwAAAAFAAAADQAAAAAAAAAaAAAAAAAAACoAAAAAAAAAFQAAAAEAAAAdAAAAAAAAACsAAAAAAAAABAAAAAMAAAAPAAAABQAAAB8AAAAFAAAAAwAAAAEAAAAMAAAAAAAAABwAAAAFAAAABwAAAAEAAAANAAAAAAAAABoAAAAAAAAAHwAAAAAAAAApAAAAAAAAADEAAAAAAAAALAAAAAAAAAA1AAAAAAAAAD0AAAADAAAAOgAAAAEAAABBAAAAAwAAAEsAAAADAAAADwAAAAAAAAAWAAAABQAAACEAAAAFAAAAHAAAAAAAAAAfAAAAAAAAACkAAAAAAAAAKgAAAAEAAAAsAAAAAAAAADUAAAAAAAAABAAAAAQAAAAIAAAABQAAABAAAAAFAAAADAAAAAEAAAAPAAAAAAAAABYAAAAFAAAAGgAAAAEAAAAcAAAAAAAAAB8AAAAAAAAAMgAAAAAAAAAwAAAAAAAAADEAAAADAAAAIAAAAAAAAAAeAAAAAwAAACEAAAADAAAAGAAAAAMAAAASAAAAAwAAABAAAAADAAAARgAAAAAAAABDAAAAAAAAAEIAAAADAAAANAAAAAMAAAAyAAAAAAAAADAAAAAAAAAAJQAAAAMAAAAgAAAAAAAAAB4AAAADAAAAUwAAAAAAAABXAAAAAwAAAFUAAAADAAAASgAAAAMAAABGAAAAAAAAAEMAAAAAAAAAOQAAAAEAAAA0AAAAAwAAADIAAAAAAAAAGQAAAAAAAAAXAAAAAAAAABgAAAADAAAAEQAAAAAAAAALAAAAAwAAAAoAAAADAAAADgAAAAMAAAAGAAAAAwAAAAIAAAADAAAALQAAAAAAAAAnAAAAAAAAACUAAAADAAAAIwAAAAMAAAAZAAAAAAAAABcAAAAAAAAAGwAAAAMAAAARAAAAAAAAAAsAAAADAAAAPwAAAAAAAAA7AAAAAwAAADkAAAADAAAAOAAAAAMAAAAtAAAAAAAAACcAAAAAAAAALgAAAAMAAAAjAAAAAwAAABkAAAAAAAAAJAAAAAAAAAAUAAAAAAAAAA4AAAADAAAAIgAAAAAAAAATAAAAAwAAAAkAAAADAAAAJgAAAAMAAAAVAAAAAwAAAAcAAAADAAAANwAAAAAAAAAoAAAAAAAAABsAAAADAAAANgAAAAMAAAAkAAAAAAAAABQAAAAAAAAAMwAAAAMAAAAiAAAAAAAAABMAAAADAAAASAAAAAAAAAA8AAAAAwAAAC4AAAADAAAASQAAAAMAAAA3AAAAAAAAACgAAAAAAAAARwAAAAMAAAA2AAAAAwAAACQAAAAAAAAAQAAAAAAAAAAvAAAAAAAAACYAAAADAAAAPgAAAAAAAAArAAAAAwAAAB0AAAADAAAAOgAAAAMAAAAqAAAAAwAAABoAAAADAAAAVAAAAAAAAABFAAAAAAAAADMAAAADAAAAUgAAAAMAAABAAAAAAAAAAC8AAAAAAAAATAAAAAMAAAA+AAAAAAAAACsAAAADAAAAYQAAAAAAAABZAAAAAwAAAEcAAAADAAAAYgAAAAMAAABUAAAAAAAAAEUAAAAAAAAAYAAAAAMAAABSAAAAAwAAAEAAAAAAAAAASwAAAAAAAABBAAAAAAAAADoAAAADAAAAPQAAAAAAAAA1AAAAAwAAACwAAAADAAAAMQAAAAMAAAApAAAAAwAAAB8AAAADAAAAXgAAAAAAAABWAAAAAAAAAEwAAAADAAAAUQAAAAMAAABLAAAAAAAAAEEAAAAAAAAAQgAAAAMAAAA9AAAAAAAAADUAAAADAAAAawAAAAAAAABoAAAAAwAAAGAAAAADAAAAZQAAAAMAAABeAAAAAAAAAFYAAAAAAAAAVQAAAAMAAABRAAAAAwAAAEsAAAAAAAAAOQAAAAAAAAA7AAAAAAAAAD8AAAADAAAASgAAAAAAAABOAAAAAwAAAE8AAAADAAAAUwAAAAMAAABcAAAAAwAAAF8AAAADAAAAJQAAAAAAAAAnAAAAAwAAAC0AAAADAAAANAAAAAAAAAA5AAAAAAAAADsAAAAAAAAARgAAAAMAAABKAAAAAAAAAE4AAAADAAAAGAAAAAAAAAAXAAAAAwAAABkAAAADAAAAIAAAAAMAAAAlAAAAAAAAACcAAAADAAAAMgAAAAMAAAA0AAAAAAAAADkAAAAAAAAALgAAAAAAAAA8AAAAAAAAAEgAAAADAAAAOAAAAAAAAABEAAAAAwAAAFAAAAADAAAAPwAAAAMAAABNAAAAAwAAAFoAAAADAAAAGwAAAAAAAAAoAAAAAwAAADcAAAADAAAAIwAAAAAAAAAuAAAAAAAAADwAAAAAAAAALQAAAAMAAAA4AAAAAAAAAEQAAAADAAAADgAAAAAAAAAUAAAAAwAAACQAAAADAAAAEQAAAAMAAAAbAAAAAAAAACgAAAADAAAAGQAAAAMAAAAjAAAAAAAAAC4AAAAAAAAARwAAAAAAAABZAAAAAAAAAGEAAAADAAAASQAAAAAAAABbAAAAAwAAAGcAAAADAAAASAAAAAMAAABYAAAAAwAAAGkAAAADAAAAMwAAAAAAAABFAAAAAwAAAFQAAAADAAAANgAAAAAAAABHAAAAAAAAAFkAAAAAAAAANwAAAAMAAABJAAAAAAAAAFsAAAADAAAAJgAAAAAAAAAvAAAAAwAAAEAAAAADAAAAIgAAAAMAAAAzAAAAAAAAAEUAAAADAAAAJAAAAAMAAAA2AAAAAAAAAEcAAAAAAAAAYAAAAAAAAABoAAAAAAAAAGsAAAADAAAAYgAAAAAAAABuAAAAAwAAAHMAAAADAAAAYQAAAAMAAABvAAAAAwAAAHcAAAADAAAATAAAAAAAAABWAAAAAwAAAF4AAAADAAAAUgAAAAAAAABgAAAAAAAAAGgAAAAAAAAAVAAAAAMAAABiAAAAAAAAAG4AAAADAAAAOgAAAAAAAABBAAAAAwAAAEsAAAADAAAAPgAAAAMAAABMAAAAAAAAAFYAAAADAAAAQAAAAAMAAABSAAAAAAAAAGAAAAAAAAAAVQAAAAAAAABXAAAAAAAAAFMAAAADAAAAZQAAAAAAAABmAAAAAwAAAGQAAAADAAAAawAAAAMAAABwAAAAAwAAAHIAAAADAAAAQgAAAAAAAABDAAAAAwAAAEYAAAADAAAAUQAAAAAAAABVAAAAAAAAAFcAAAAAAAAAXgAAAAMAAABlAAAAAAAAAGYAAAADAAAAMQAAAAAAAAAwAAAAAwAAADIAAAADAAAAPQAAAAMAAABCAAAAAAAAAEMAAAADAAAASwAAAAMAAABRAAAAAAAAAFUAAAAAAAAAXwAAAAAAAABcAAAAAAAAAFMAAAAAAAAATwAAAAAAAABOAAAAAAAAAEoAAAADAAAAPwAAAAEAAAA7AAAAAwAAADkAAAADAAAAbQAAAAAAAABsAAAAAAAAAGQAAAAFAAAAXQAAAAEAAABfAAAAAAAAAFwAAAAAAAAATQAAAAEAAABPAAAAAAAAAE4AAAAAAAAAdQAAAAQAAAB2AAAABQAAAHIAAAAFAAAAagAAAAEAAABtAAAAAAAAAGwAAAAAAAAAWgAAAAEAAABdAAAAAQAAAF8AAAAAAAAAWgAAAAAAAABNAAAAAAAAAD8AAAAAAAAAUAAAAAAAAABEAAAAAAAAADgAAAADAAAASAAAAAEAAAA8AAAAAwAAAC4AAAADAAAAagAAAAAAAABdAAAAAAAAAE8AAAAFAAAAYwAAAAEAAABaAAAAAAAAAE0AAAAAAAAAWAAAAAEAAABQAAAAAAAAAEQAAAAAAAAAdQAAAAMAAABtAAAABQAAAF8AAAAFAAAAcQAAAAEAAABqAAAAAAAAAF0AAAAAAAAAaQAAAAEAAABjAAAAAQAAAFoAAAAAAAAAaQAAAAAAAABYAAAAAAAAAEgAAAAAAAAAZwAAAAAAAABbAAAAAAAAAEkAAAADAAAAYQAAAAEAAABZAAAAAwAAAEcAAAADAAAAcQAAAAAAAABjAAAAAAAAAFAAAAAFAAAAdAAAAAEAAABpAAAAAAAAAFgAAAAAAAAAbwAAAAEAAABnAAAAAAAAAFsAAAAAAAAAdQAAAAIAAABqAAAABQAAAFoAAAAFAAAAeQAAAAEAAABxAAAAAAAAAGMAAAAAAAAAdwAAAAEAAAB0AAAAAQAAAGkAAAAAAAAAdwAAAAAAAABvAAAAAAAAAGEAAAAAAAAAcwAAAAAAAABuAAAAAAAAAGIAAAADAAAAawAAAAEAAABoAAAAAwAAAGAAAAADAAAAeQAAAAAAAAB0AAAAAAAAAGcAAAAFAAAAeAAAAAEAAAB3AAAAAAAAAG8AAAAAAAAAcAAAAAEAAABzAAAAAAAAAG4AAAAAAAAAdQAAAAEAAABxAAAABQAAAGkAAAAFAAAAdgAAAAEAAAB5AAAAAAAAAHQAAAAAAAAAcgAAAAEAAAB4AAAAAQAAAHcAAAAAAAAAcgAAAAAAAABwAAAAAAAAAGsAAAAAAAAAZAAAAAAAAABmAAAAAAAAAGUAAAADAAAAUwAAAAEAAABXAAAAAwAAAFUAAAADAAAAdgAAAAAAAAB4AAAAAAAAAHMAAAAFAAAAbAAAAAEAAAByAAAAAAAAAHAAAAAAAAAAXAAAAAEAAABkAAAAAAAAAGYAAAAAAAAAdQAAAAAAAAB5AAAABQAAAHcAAAAFAAAAbQAAAAEAAAB2AAAAAAAAAHgAAAAAAAAAXwAAAAEAAABsAAAAAQAAAHIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAABAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAGAAAAAgAAAAUAAAABAAAABAAAAAAAAAAAAAAABQAAAAMAAAABAAAABgAAAAQAAAACAAAAAAAAAH6iBfbytuk/Gq6akm/58z/Xrm0Liez0P5doSdOpSwRAWs602ULg8D/dT7Rcbo/1v1N1RQHFNOM/g9Snx7HW3L8HWsP8Q3jfP6VwOLosutk/9rjk1YQcxj+gnmKMsNn6P/HDeuPFY+M/YHwDjqKhB0Ci19/fCVrbP4UxKkDWOP6/pvljWa09tL9wi7wrQXjnv/Z6yLImkM2/3yTlOzY14D+m+WNZrT20PzwKVQnrQwNA9nrIsiaQzT/g40rFrRQFwPa45NWEHMa/kbslHEZq97/xw3rjxWPjv4cLC2SMBci/otff3wla27+rKF5oIAv0P1N1RQHFNOO/iDJPGyWHBUAHWsP8Q3jfvwQf/by16gXAfqIF9vK26b8XrO0Vh0r+v9eubQuJ7PS/BxLrA0ZZ479azrTZQuDwv1MK1EuItPw/yscgV9Z6FkAwHBR2WjQMQJNRzXsQ5vY/GlUHVJYKF0DONuFv2lMNQNCGZ28QJfk/0WUwoIL36D8ggDOMQuATQNqMOeAy/wZAWFYOYM+M2z/LWC4uH3oSQDE+LyTsMgRAkJzhRGWFGEDd4soovCQQQKqk0DJMEP8/rGmNdwOLBUAW2X/9xCbjP4hu3dcqJhNAzuYItRvdB0CgzW3zJW/sPxotm/Y2TxRAQAk9XmdDDEC1Kx9MKgT3P1M+NctcghZAFVqcLlb0C0Bgzd3sB2b2P77mZDPUWhZAFROHJpUGCEDAfma5CxXtPz1DWq/zYxRAmhYY5824F0DOuQKWSbAOQNCMqrvu3fs/L6DR22K2wT9nAAxPBU8RQGiN6mW43AFAZhu25b633D8c1YgmzowSQNM25BRKWARArGS08/lNxD+LFssHwmMRQLC5aNcxBgJABL9HT0WRF0CjCmJmOGEOQHsuaVzMP/s/TWJCaGGwBUCeu1PAPLzjP9nqN9DZOBNAKE4JcydbCkCGtbd1qjPzP8dgm9U8jhVAtPeKTkVwDkCeCLss5l37P401XMPLmBdAFd29VMVQDUBg0yA55h75Pz6odcYLCRdApBM4rBrkAkDyAVWgQxbRP4XDMnK20hFAymLlF7EmzD8GUgo9XBHlP3lbK7T9COc/k+OhPthhy7+YGEpnrOvCPzBFhLs15u4/epbqB6H4uz9IuuLF5svev6lzLKY31es/CaQ0envF5z8ZY0xlUADXv7zaz7HYEuI/CfbK1sn16T8uAQfWwxLWPzKn/YuFN94/5KdbC1AFu793fyCSnlfvPzK2y4doAMY/NRg5t1/X6b/shq4QJaHDP5yNIAKPOeI/vpn7BSE30r/X4YQrO6nrv78Ziv/Thto/DqJ1Y6+y5z9l51NaxFrlv8QlA65HOLS/86dxiEc96z+Hj0+LFjneP6LzBZ8LTc2/DaJ1Y6+y579l51NaxFrlP8QlA65HOLQ/8qdxiEc967+Jj0+LFjnev6LzBZ8LTc0/1qdbC1AFuz93fyCSnlfvvzK2y4doAMa/NRg5t1/X6T/vhq4QJaHDv5yNIAKPOeK/wJn7BSE30j/W4YQrO6nrP78Ziv/Thtq/CaQ0envF578XY0xlUADXP7zaz7HYEuK/CvbK1sn16b8rAQfWwxLWvzKn/YuFN96/zWLlF7EmzL8GUgo9XBHlv3lbK7T9COe/kOOhPthhyz+cGEpnrOvCvzBFhLs15u6/c5bqB6H4u79IuuLF5sveP6lzLKY31eu/AQAAAP////8HAAAA/////zEAAAD/////VwEAAP////9hCQAA/////6dBAAD/////kcsBAP/////3kAwA/////8H2VwAAAAAAAAAAAAAAAAACAAAA/////w4AAAD/////YgAAAP////+uAgAA/////8ISAAD/////ToMAAP////8ilwMA/////+4hGQD/////gu2vAAAAAAAAAAAAAAAAAAAAAAACAAAA//////////8BAAAAAwAAAP//////////////////////////////////////////////////////////////////////////AQAAAAAAAAACAAAA////////////////AwAAAP//////////////////////////////////////////////////////////////////////////AQAAAAAAAAACAAAA////////////////AwAAAP//////////////////////////////////////////////////////////////////////////AQAAAAAAAAACAAAA////////////////AwAAAP//////////////////////////////////////////////////////////AgAAAP//////////AQAAAAAAAAD/////////////////////AwAAAP////////////////////////////////////////////////////8DAAAA/////////////////////wAAAAD/////////////////////AQAAAP///////////////wIAAAD///////////////////////////////8DAAAA/////////////////////wAAAAD///////////////8CAAAAAQAAAP////////////////////////////////////////////////////8DAAAA/////////////////////wAAAAD///////////////8CAAAAAQAAAP////////////////////////////////////////////////////8DAAAA/////////////////////wAAAAD///////////////8CAAAAAQAAAP////////////////////////////////////////////////////8DAAAA/////////////////////wAAAAD///////////////8CAAAAAQAAAP////////////////////////////////////////////////////8BAAAAAgAAAP///////////////wAAAAD/////////////////////AwAAAP////////////////////////////////////////////////////8BAAAAAgAAAP///////////////wAAAAD/////////////////////AwAAAP////////////////////////////////////////////////////8BAAAAAgAAAP///////////////wAAAAD/////////////////////AwAAAP////////////////////////////////////////////////////8BAAAAAgAAAP///////////////wAAAAD/////////////////////AwAAAP///////////////////////////////wIAAAD///////////////8BAAAA/////////////////////wAAAAD/////////////////////AwAAAP////////////////////////////////////////////////////8DAAAA/////////////////////wAAAAABAAAA//////////8CAAAA//////////////////////////////////////////////////////////8DAAAA////////////////AgAAAAAAAAABAAAA//////////////////////////////////////////////////////////////////////////8DAAAA////////////////AgAAAAAAAAABAAAA//////////////////////////////////////////////////////////////////////////8DAAAA////////////////AgAAAAAAAAABAAAA//////////////////////////////////////////////////////////////////////////8DAAAAAQAAAP//////////AgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAACAAAAAAAAAAIAAAABAAAAAQAAAAIAAAACAAAAAAAAAAUAAAAFAAAAAAAAAAIAAAACAAAAAwAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAgAAAAEAAAACAAAAAgAAAAIAAAAAAAAABQAAAAYAAAAAAAAAAgAAAAIAAAADAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAgAAAAAAAAACAAAAAQAAAAMAAAACAAAAAgAAAAAAAAAFAAAABwAAAAAAAAACAAAAAgAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAACAAAAAAAAAAIAAAABAAAABAAAAAIAAAACAAAAAAAAAAUAAAAIAAAAAAAAAAIAAAACAAAAAwAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAIAAAAAAAAAAgAAAAEAAAAAAAAAAgAAAAIAAAAAAAAABQAAAAkAAAAAAAAAAgAAAAIAAAADAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAgAAAAIAAAAAAAAAAwAAAA4AAAACAAAAAAAAAAIAAAADAAAAAAAAAAAAAAACAAAAAgAAAAMAAAAGAAAAAAAAAAAAAAAAAAAAAAAAAAsAAAACAAAAAgAAAAAAAAADAAAACgAAAAIAAAAAAAAAAgAAAAMAAAABAAAAAAAAAAIAAAACAAAAAwAAAAcAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAIAAAACAAAAAAAAAAMAAAALAAAAAgAAAAAAAAACAAAAAwAAAAIAAAAAAAAAAgAAAAIAAAADAAAACAAAAAAAAAAAAAAAAAAAAAAAAAANAAAAAgAAAAIAAAAAAAAAAwAAAAwAAAACAAAAAAAAAAIAAAADAAAAAwAAAAAAAAACAAAAAgAAAAMAAAAJAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAACAAAAAgAAAAAAAAADAAAADQAAAAIAAAAAAAAAAgAAAAMAAAAEAAAAAAAAAAIAAAACAAAAAwAAAAoAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAIAAAACAAAAAAAAAAMAAAAGAAAAAgAAAAAAAAACAAAAAwAAAA8AAAAAAAAAAgAAAAIAAAADAAAACwAAAAAAAAAAAAAAAAAAAAAAAAAGAAAAAgAAAAIAAAAAAAAAAwAAAAcAAAACAAAAAAAAAAIAAAADAAAAEAAAAAAAAAACAAAAAgAAAAMAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAcAAAACAAAAAgAAAAAAAAADAAAACAAAAAIAAAAAAAAAAgAAAAMAAAARAAAAAAAAAAIAAAACAAAAAwAAAA0AAAAAAAAAAAAAAAAAAAAAAAAACAAAAAIAAAACAAAAAAAAAAMAAAAJAAAAAgAAAAAAAAACAAAAAwAAABIAAAAAAAAAAgAAAAIAAAADAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAJAAAAAgAAAAIAAAAAAAAAAwAAAAUAAAACAAAAAAAAAAIAAAADAAAAEwAAAAAAAAACAAAAAgAAAAMAAAAPAAAAAAAAAAAAAAAAAAAAAAAAABAAAAACAAAAAAAAAAIAAAABAAAAEwAAAAIAAAACAAAAAAAAAAUAAAAKAAAAAAAAAAIAAAACAAAAAwAAABAAAAAAAAAAAAAAAAAAAAAAAAAAEQAAAAIAAAAAAAAAAgAAAAEAAAAPAAAAAgAAAAIAAAAAAAAABQAAAAsAAAAAAAAAAgAAAAIAAAADAAAAEQAAAAAAAAAAAAAAAAAAAAAAAAASAAAAAgAAAAAAAAACAAAAAQAAABAAAAACAAAAAgAAAAAAAAAFAAAADAAAAAAAAAACAAAAAgAAAAMAAAASAAAAAAAAAAAAAAAAAAAAAAAAABMAAAACAAAAAAAAAAIAAAABAAAAEQAAAAIAAAACAAAAAAAAAAUAAAANAAAAAAAAAAIAAAACAAAAAwAAABMAAAAAAAAAAAAAAAAAAAAAAAAADwAAAAIAAAAAAAAAAgAAAAEAAAASAAAAAgAAAAIAAAAAAAAABQAAAA4AAAAAAAAAAgAAAAIAAAADAAAAAgAAAAEAAAAAAAAAAQAAAAIAAAAAAAAAAAAAAAIAAAABAAAAAAAAAAEAAAACAAAAAQAAAAAAAAACAAAAAAAAAAUAAAAEAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAFAAAABAAAAAAAAAABAAAABQAAAAQAAAAAAAAABQAAAAAAAAACAAAAAQAAAAAAAAABAAAAAgAAAAAAAAAAAAAAAgAAAAEAAAAAAAAAAQAAAAIAAAABAAAAAAAAAAIAAAACAAAAAAAAAAEAAAAAAAAAAAAAAAUAAAAEAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAFAAAABAAAAAAAAAABAAAABQAAAAQAAAAAAAAABQAAAAUAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAABAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAEAAAAAAAAAAAEAAAAAAQAAAAAAAAAAAQAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAABAAAAAAAAAAAAAQAAAAAAAAAAAAA6B6FaUp9QQTPXMuL4myJBraiDfBwx9UBYJseitzTIQOL5if9jqZtAnXX+Z+ycb0C3pucbhRBCQG8wJBYqpRRAlWbDCzCY5z/eFWBUEve6P/+qo4Q50Y4/D9YM3iCcYT8fcA2QJSA0P4ADxu0qAAc/BNcGolVJ2j5d9FACqwquPh9z7MthtI9CSUSYJke/YUJQ/64OyjU0Qpi0+HCmFQdCm3GfIVdh2kHsJ11kAyauQYC3UDFJOoFBSJsFV1OwU0FK5fcxX4AmQWhy/zZIt/lACqaCPsBjzUDbdUNIScugQMYQlVJ4MXNANiuq8GTvRUDxTXnulxEZQFZ8QX5kpuw/qmG/JwYFlEAluh3Q6DB+QKn4vyNq0GZAKOXekas+UUB8xabXXhI6QG63C2pLtSNAdDBtyNfLDUDyOcu67ID2P0rCMvRXAeE/Ki2TSVyzyT9Dk+8Sz2uzP5J+w5ARWp0/NQAoOiMuhj9YnP+RyMJwPxgW7TvQVFk/KgsLYF0kQz9g5dAC6IwzQcgHPVvDex1B1XjppodHBkHJq3OMM9fwQNvcmJ7wddlAInGPpQs/w0BRobq5EBmtQJZ2ai7n+ZVAtv2G5E+bgECG+gIfKBlpQK5f8jdI91JAL39sL/WpPEB8rGxhDqklQK6yUf43XhBAxL9y/tK8+D86XyZpgrHiPwAAAAD/////AAAAAAAAAAAAAAAAAAAAAAAAAAD/////////////////////////////////////AAAAAP////8AAAAAAAAAAAAAAAABAAAAAAAAAAAAAAD/////AAAAAAAAAAABAAAAAQAAAAAAAAAAAAAA/////wAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAP////8FAAAABQAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////////////////////////////////////wAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////////////////////////////////////8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAFAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////////////////////////////////////AAAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAEAAAABAAAAAAAAAAEAAAAAAAAABQAAAAEAAAABAAAAAAAAAAAAAAABAAAAAQAAAAAAAAABAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAQAAAAAAAQABAAABAQAAAAAAAQAAAAEAAAABAAEAAAAAAAAAAAAAAAAAAAAAquJYWJZl+D9jaeZNtj/zPwwdI9KqaeO/qGefXwdHdz+q4lhYlmX4P+OrlPMN3PI/DB0j0qpp47+7SQLV4VIEQKriWFiWZfg/r2kma3tz8T82eQmLqNIGwMRIWXMqSvo/fcCszPux9j+jara6ozTwP6hnn18HR3c/MSoKLequ8r+SabgA2nj0P7jBLbDOHO8/1Ym/ICfH4T+6lxjvlFXHv73m373LRPU/0vXyDVxo7T+ToKRHJXMAQF/33578aPE/pAyy64tD9T8+U/hCvyruPwxv8Y7YYwLAuXYr8NAiCEB4+LDK0Sn0P1Qeuy4j+eo/OMx50n7K7L+TrGB/nyf8v5ehC2fbYPM/aXMKexiT6z8mFRIMjg/zP7yUVwGGBNw/E6opHERf8z/z0wR2g9DqPw4pBpcOhvu/NbA29uWAA8DMaTExyXzyP02biiQ+Ruk/S8jz2/FKBEB1pzZnpbb9P7pQU4wLfPI//7ZcQXeG6D9CqEQvAYoIwDB2VB6sSgRAVyv8H5We8T+EHWF8XNPmPzB2wT8Nrrg/SEi+cX+w4L8of+GtdSDxP1sjk5AdouU/6ZjOVru13r8K0obqI6bxvwVbdNXyhfA/w5GG024n5z+rwmtMzP8BwLw9pSX49QXABe/2uQxP8D+b6wCzCvXkP7uGT87fK+Q/pz/JWw4coj+qoBf2J0nwP/yE3PUo0+I/vFJeHcaC+D96luSIqvntP/bf8sHUYu8/gZNN41mL4z9bhOqVOF4FwO6lmAh1hQhAbCVxbdhk7z+1C8NdDcfiPwG36x/0OQBAx0WJ76c2+D9nlSHXANfuP2HlfZ3gqOE/EwnVlVPg9r96+oHzEH//v5bXzdT1Auw/DM3GwLsA4D9p/8uoKcr+v+U9x5DQVAPAehjSdghb7D9sc1IetODgP8MVwwB1pu6/azPk6OGe978W8t/TUc3rP+0QMvYfP+A/RsG/QpSE8D+l3uwScxzgPwQaifgujuw/k1Vti1I43z8MAwLnSh0GQH5nYnwwZgJAiGUzWC5s6j8WyyI/BbLgPw4iUapGeQJAB3W+imnp/j9BLWR4ssrpP2t+gG5Pstk/cpBsfm6DCMCOpU9dOZsFQEv8nFypHeo/ehJ6i+6S2D9jqlGEmarLv7STC5TRiOa/bC+x8WZD6D9H3yUkWpDZP8gZvmCMuQLAreY19/eRBsCoPOc8UzzpP6KI/QV+y9g/t/MoboyWzT+Hv5q3Zu3Mvy2xROCT4uY/9gQitMMg1T9abAqhWMDkv1oLTavoUfG/PMUJP9CD5j+fHRX3t6fSPz7W2gk6bvs/WRnuHwqN9D8YFturGCTmP1EZczv0b9I/5t4exabB5D/1ESLh5fTEP9X2z6SYweQ/6lv3I2zT0D9zkRGNUNMAQKoSvc4EIfs/Xggt8wQI5T+mJHHg/w/SP4lhT/9t8vQ/DrZ/DbwH7D+XlhbYZrjkP34LIpFt6c4/lwfp8fLX9L+j96CTTf76v3WdNhEv9uM/d8c3o4lV0D/vFdCHVcsFwAHeDq0F1QhApbYqcZiN5D9KoilqByXLPwX0/diA0vq/0fo0GxnxAMBbaTkvlCzjP/RrFrWXrMs/UYTrky7jA0DB9f4FiZYAQEGAk/3QzeE/r/TeqE8t0D/OqjlsnPbvvz8RKU8JOfW/smSEbK/O4T8MzuyPm3DDP/rFtctq9gZAfb1EVEaSA0Dts5dVInnhP18SFMc79MM/7y34cw6LAMDFrRJsZO0DwC2KLvLSYuA/hx5wcUHewz+49SnK/4ruPyeS0PX9a+E/ZxaaLvvZ3z8WPu5T2QS8Pygo4RIvMqa/BJ0Kqsd0279cKW4ay8jdP3b05bmZ364/10/qtdxk2r+Bcz6CDMvpv54qOw+Amdw/qLV71pW7sT/YKc80nIPUP8OfIaBJ77G/LyTuD1un2z+diYu8efWzP1wU7ACkfwjAZroyPL1yBkAmv3lKJJbbPysKSE4W+p0/dIgqY79TA8ATLTOQ3tsGwJ2zweD/Xdg/XO/jXeFUaL8VW2qLFKfov1cA9Aa6XfK/tIa7YGgI2T+f3hu/sxqPv2nXdPpf3Pc/jkw8Jbda8j+tT/z8tGPVP1yBHpJd35k/KYvYOy1s8j/yz+kCQjPrP9+agH7x59g/PZfJ9aBhpr/rDKzvYBb+PwtkiaGCt/c/vb1mVr+f1T/JIHwHc8Govw7aeF6+9vG/Xv7kD6fp979isYioQYHVP7AIQZuSFrG/3z1AdUTnAUDN3XY9O7f9P0AdQ9ljYNQ/dJANJPTOrb8kLECUiiPlP4yF7UgmStA/9xGmXxCG1T9qZzix4W2zv2SGJRJVrPe/Fh9a2M/B/b8IexzFCoPSP9y1QFD2bLe/Q86cWLJe/b+mOOfYm78BwOTjkPAGE9E/8aPCUKu/ub9pPZyLCiUGwBA7Mev/BQlALOmrlRi+0j+AMJ/dKULBv7iLtL6a6QRAEMDV/yajAUDa62dE3crJP1P70RgBUbq/38hVnR6esT/s1tG10Z/Ov/zLwalHPss/dTS9NKTXx78nMcRzCIEHQAabxDsAmQRA0tyLK3gSyT+Aui7nOhDGv5Gs58z3WgHATN3forJuBMCAui7nOhDGP9Lciyt4Esm/WAJyHQ4c7z8UP5HFIs3iP3U0vTSk18c//MvBqUc+y7+cvv8HLg/Kvy1I/mHsI+K/U/vRGAFRuj/a62dE3crJv8p+WV8KlQjAuQ/nOP43B0CAMJ/dKULBPyzpq5UYvtK/ZoU+VoLh4L9etLlRUfvtv/GjwlCrv7k/5OOQ8AYT0b9DfT9FhufXPwUX8hJp+4u/3LVAUPZstz8IexzFCoPSv9+L609E5fQ/q9Fz7X2J7T9qZzix4W2zP/cRpl8QhtW/vtNilqGX+j8MOy7QJoL0P3SQDST0zq0/QB1D2WNg1L8IIjSvGNkDwGB8Jou2GAfAsAhBm5IWsT9isYioQYHVvyS9D3zb6uy/gnwRa7uM9L/JIHwHc8GoP729Zla/n9W/CsAHJZwmAEDEW6OYT1r6Pz2XyfWgYaY/35qAfvHn2L83Tdy4lS30vxf2/gZ0jPq/XIEekl3fmb+tT/z8tGPVvybPr2zJ1/+/K7mJ0ypVAsCf3hu/sxqPPwCGu2BoCNm/5oITrpZn+r+UDUyDP+n/v1zv413hVGg/nbPB4P9d2L9MlmkxNvgCQMtZlKE85v8/KwpIThb6nb8mv3lKJJbbv8+SZsTvOOc/pQCIIOYw0j+diYu8efWzvy8k7g9bp9u/kxYDa+pKtD9XlYvA8HnVv6i1e9aVu7G/nio7D4CZ3L/WR6rNh5EGwCkgQweBkghAdvTluZnfrr9cKW4ay8jdvxbjhr1f1QVAR5C0MzivAkAWPu5T2QS8v2cWmi772d+/cKj4lzLJCEBx2QJfYrMFQIcecHFB3sO/LYou8tJi4L+jr7lhO38BwIcI0Nb7xgTAXxIUxzv0w7/ts5dVInnhv0T+l8DZLfE/MP3FoFvS5D8MzuyPm3DDv7JkhGyvzuG/tzhzRIRc0b9Ovv3/0z7mv6/03qhPLdC/m4CT/dDN4b9dwjU5VCQBQBBJX1ntCv0/9GsWtZesy79baTkvlCzjv1mjYgEz++S/oW6KnOQW8b9KoilqByXLv6W2KnGYjeS/SmaKz3Vx9z+BZB5yxGHwP3fHN6OJVdC/dZ02ES/2478PuaBjLrXaP4/JU81pPaO/fgsikW3pzr+XlhbYZrjkv4tSn7YDbP0/f2LnFKlF9z+mJHHg/w/Sv14ILfMECOW/mfg4qYhR/b+OP+RQDCACwOpb9yNs09C/1fbPpJjB5L9pN2WOVZ3wv3hHy9nxIve/URlzO/Rv0r8YFturGCTmv1d1/KKR8QPA8gsy9qzSB8CfHRX3t6fSvzzFCT/Qg+a/EYStnrzV9r/2QJqI7Lb9v/YEIrTDINW/LbFE4JPi5r/7kQEs5fEDQHunnf4GeQBAooj9BX7L2L+oPOc8Uzzpv+ydYY2SSAfAL4HK6CRTB0BH3yUkWpDZv2wvsfFmQ+i/Ik0Yzruh6T8fM3LoGoDUP3oSeovukti/S/ycXKkd6r9rEv+7UWcHQCRIQe/GfwNAa36Abk+y2b9BLWR4ssrpv9KT87qa0bM/FTyktw823L8WyyI/BbLgv4hlM1gubOq/DizMp9Ki6r8b5ckdjVrzv5NVbYtSON+/BBqJ+C6O7L/dUBFqgyXYv00Wh18r7+q/7RAy9h8/4L8W8t/TUc3rv4RM5DKx3wDAfvWIj94aBcBsc1IetODgv3oY0nYIW+y/oGcTFF54AUDkJqS/FKX6PwzNxsC7AOC/ltfN1PUC7L+5Wrz/zHnzP6688w2rNOc/YeV9neCo4b9nlSHXANfuvw9RsxKjY/s/1V8GteXE8j+1C8NdDcfiv2wlcW3YZO+/IOywaA7Q8b9bFP+4Tg36v4GTTeNZi+O/9t/ywdRi77+tRc3yFR7eP2bkcHXJkLO//ITc9SjT4r+qoBf2J0nwv2YHKoswwfm/iQcLspCjAcCb6wCzCvXkvwXv9rkMT/C/YkuwYAMXBMApCNUai9kIwMORhtNuJ+e/BVt01fKF8L+ZqWEfvIjsP6h693QZYNk/WyOTkB2i5b8of+GtdSDxvwpaaulDSwVADMQAX+lOAECEHWF8XNPmv1cr/B+VnvG/XyFG6opcCMD/mtR32/UEQP+2XEF3hui/ulBTjAt88r/imfCfRP+yP9zbvtc8XeO/TZuKJD5G6b/MaTExyXzyvxiTQeElXOO/rbJRQVGN9L/z0wR2g9DqvxOqKRxEX/O/FDGCEei99j9x8zV4VYTmP2lzCnsYk+u/l6ELZ9tg878pRXacaDT/v3k6GZRqoQXAVB67LiP56r94+LDK0Sn0vwO6pZ9b7wFAvK0nKVcc9j8+U/hCvyruv6QMsuuLQ/W/FPhKFYv46j8MyxaDTOW/v9L18g1caO2/vebfvctE9b/7GD8ZrF3xv3gx1AR9bQDAuMEtsM4c77+SabgA2nj0v5xKFIwxsATArKNSBaKsB0Cjara6ozTwv33ArMz7sfa/dF2U0FcWCcDxL357DJX/P69pJmt7c/G/quJYWJZl+L/YntVJlnrSP4sRLzXM+fe/46uU8w3c8r+q4lhYlmX4v85lu5+QRwRAsI0H/WU8479jaeZNtj/zv6riWFiWZfi/sI0H/WU847/OZbufkEcEQHAoPUBrnss/9exKzDtFtT88wM8kax+gP9OqeKeAYog/MW0ItiZvcj+ph+smvt5bP2lCaV5dEUU/StaUmQDaLz+kK9y22BMYP0O3whZuMwI/IIbgZGWE6z7UkjYaEM3UPuezxwa9cr8+LybxRMnFpz6E1N8DbPiRPsYjySMvK3s+//////8fAAj//////zMQCP////9/MiAI/////28yMAj/////YzJACP///z9iMlAI////N2IyYAj///8zYjJwCP//vzNiMoAI//+rM2IykAj/f6szYjKgCP8PqzNiMrAI/wOrM2IywAi/A6szYjLQCJ8DqzNiMuAImQOrM2Iy8Aj//////z8PCP//////Kx8I/////38pLwj/////Pyk/CP////85KU8I////PzgpXwj///8POClvCP///w44KX8I//8fDjgpjwj//w8OOCmfCP9/DQ44Ka8I/w8NDjgpvwj/DQ0OOCnPCP8MDQ44Kd8IxwwNDjgp7wjEDA0OOCn/CAcAAAAHAAAAAQAAAAIAAAAEAAAAAwAAAAAAAAAAAAAABwAAAAMAAAABAAAAAgAAAAUAAAAEAAAAAAAAAAAAAAAEAAAABAAAAAAAAAACAAAAAQAAAAMAAAAOAAAABgAAAAsAAAACAAAABwAAAAEAAAAYAAAABQAAAAoAAAABAAAABgAAAAAAAAAmAAAABwAAAAwAAAADAAAACAAAAAIAAAAxAAAACQAAAA4AAAAAAAAABQAAAAQAAAA6AAAACAAAAA0AAAAEAAAACQAAAAMAAAA/AAAACwAAAAYAAAAPAAAACgAAABAAAABIAAAADAAAAAcAAAAQAAAACwAAABEAAABTAAAACgAAAAUAAAATAAAADgAAAA8AAABhAAAADQAAAAgAAAARAAAADAAAABIAAABrAAAADgAAAAkAAAASAAAADQAAABMAAAB1AAAADwAAABMAAAARAAAAEgAAABAAAAAGAAAAAgAAAAMAAAAFAAAABAAAAAAAAAAAAAAAAAAAAAYAAAACAAAAAwAAAAEAAAAFAAAABAAAAAAAAAAAAAAABwAAAAUAAAADAAAABAAAAAEAAAAAAAAAAgAAAAAAAAACAAAAAwAAAAEAAAAFAAAABAAAAAYAAAAAAAAAAAAAABgtRFT7Ifk/GC1EVPsh+b8YLURU+yEJQBgtRFT7IQnAYWxnb3MuYwBoM05laWdoYm9yUm90YXRpb25zAGNvb3JkaWprLmMAX3VwQXA3Q2hlY2tlZABfdXBBcDdyQ2hlY2tlZABkaXJlY3RlZEVkZ2UuYwBkaXJlY3RlZEVkZ2VUb0JvdW5kYXJ5AGFkamFjZW50RmFjZURpclt0bXBGaWprLmZhY2VdW2ZpamsuZmFjZV0gPT0gS0kAZmFjZWlqay5jAF9mYWNlSWprUGVudFRvQ2VsbEJvdW5kYXJ5AGFkamFjZW50RmFjZURpcltjZW50ZXJJSksuZmFjZV1bZmFjZTJdID09IEtJAF9mYWNlSWprVG9DZWxsQm91bmRhcnkAaDNJbmRleC5jAGNvbXBhY3RDZWxscwBsYXRMbmdUb0NlbGwAY2VsbFRvQ2hpbGRQb3MAdmFsaWRhdGVDaGlsZFBvcwBsYXRMbmcuYwBjZWxsQXJlYVJhZHMyAHBvbHlnb24tPm5leHQgPT0gTlVMTABsaW5rZWRHZW8uYwBhZGROZXdMaW5rZWRQb2x5Z29uAG5leHQgIT0gTlVMTABsb29wICE9IE5VTEwAYWRkTmV3TGlua2VkTG9vcABwb2x5Z29uLT5maXJzdCA9PSBOVUxMAGFkZExpbmtlZExvb3AAY29vcmQgIT0gTlVMTABhZGRMaW5rZWRDb29yZABsb29wLT5maXJzdCA9PSBOVUxMAGlubmVyTG9vcHMgIT0gTlVMTABub3JtYWxpemVNdWx0aVBvbHlnb24AYmJveGVzICE9IE5VTEwAY2FuZGlkYXRlcyAhPSBOVUxMAGZpbmRQb2x5Z29uRm9ySG9sZQBjYW5kaWRhdGVCQm94ZXMgIT0gTlVMTAByZXZEaXIgIT0gSU5WQUxJRF9ESUdJVABsb2NhbGlqLmMAY2VsbFRvTG9jYWxJamsAYmFzZUNlbGwgIT0gb3JpZ2luQmFzZUNlbGwAIShvcmlnaW5PblBlbnQgJiYgaW5kZXhPblBlbnQpAGJhc2VDZWxsID09IG9yaWdpbkJhc2VDZWxsAGJhc2VDZWxsICE9IElOVkFMSURfQkFTRV9DRUxMAGxvY2FsSWprVG9DZWxsACFfaXNCYXNlQ2VsbFBlbnRhZ29uKGJhc2VDZWxsKQBiYXNlQ2VsbFJvdGF0aW9ucyA+PSAwAGdyaWRQYXRoQ2VsbHMAcG9seWZpbGwuYwBpdGVyU3RlcFBvbHlnb25Db21wYWN0ADAAdmVydGV4LmMAdmVydGV4Um90YXRpb25zAGNlbGxUb1ZlcnRleABncmFwaC0+YnVja2V0cyAhPSBOVUxMAHZlcnRleEdyYXBoLmMAaW5pdFZlcnRleEdyYXBoAG5vZGUgIT0gTlVMTABhZGRWZXJ0ZXhOb2Rl";var Mr=28640;function Yr(lt,pt,Ot,dt){Pi("Assertion failed: "+z(lt)+", at: "+[pt?z(pt):"unknown filename",Ot,dt?z(dt):"unknown function"])}function zr(){return ee.length}function Jt(lt,pt,Ot){ae.set(ae.subarray(pt,pt+Ot),lt)}function Tr(lt){return e.___errno_location&&(Te[e.___errno_location()>>2]=lt),lt}function Gt(lt){Pi("OOM")}function ii(lt){try{var pt=new ArrayBuffer(lt);return pt.byteLength!=lt?void 0:(new Int8Array(pt).set(ee),Ir(pt),K(pt),1)}catch{}}function Jr(lt){var pt=zr(),Ot=16777216,dt=2147483648-Ot;if(lt>dt)return!1;for(var A=16777216,ce=Math.max(pt,A);ce<lt;)ce<=536870912?ce=de(2*ce,Ot):ce=Math.min(de((3*ce+2147483648)/4,Ot),dt);var Ur=ii(ce);return!!Ur}var Wr=typeof atob=="function"?atob:function(lt){var pt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Ot="",dt,A,ce,Ur,Kr,_n,vr,yr=0;lt=lt.replace(/[^A-Za-z0-9\+\/\=]/g,"");do Ur=pt.indexOf(lt.charAt(yr++)),Kr=pt.indexOf(lt.charAt(yr++)),_n=pt.indexOf(lt.charAt(yr++)),vr=pt.indexOf(lt.charAt(yr++)),dt=Ur<<2|Kr>>4,A=(Kr&15)<<4|_n>>2,ce=(_n&3)<<6|vr,Ot=Ot+String.fromCharCode(dt),_n!==64&&(Ot=Ot+String.fromCharCode(A)),vr!==64&&(Ot=Ot+String.fromCharCode(ce));while(yr<lt.length);return Ot};function qr(lt){try{for(var pt=Wr(lt),Ot=new Uint8Array(pt.length),dt=0;dt<pt.length;++dt)Ot[dt]=pt.charCodeAt(dt);return Ot}catch{throw new Error("Converting base64 string to bytes failed.")}}function yn(lt){if(Zt(lt))return qr(lt.slice(qt.length))}var fr={Math,Int8Array,Int32Array,Uint8Array,Float32Array,Float64Array},bn={b:u,c:g,d:Yr,e:Tr,f:zr,g:Jt,h:Jr,i:Gt,o:Mr,p:Ee},ct=(function(lt,pt,Ot){"almost asm";var dt=new lt.Int8Array(Ot),A=new lt.Int32Array(Ot);new lt.Uint8Array(Ot),new lt.Float32Array(Ot);var ce=new lt.Float64Array(Ot),Ur=pt.o|0,Kr=pt.p|0,_n=lt.Math.floor,vr=lt.Math.abs,yr=lt.Math.sqrt,yi=lt.Math.pow,Lr=lt.Math.cos,wr=lt.Math.sin,Qn=lt.Math.tan,Is=lt.Math.acos,Nl=lt.Math.asin,ma=lt.Math.atan,Di=lt.Math.atan2,Ka=lt.Math.ceil,en=lt.Math.imul,Ic=lt.Math.min,Nc=lt.Math.max,oi=lt.Math.clz32,gr=pt.b,we=pt.c,hr=pt.d,Ga=pt.e,$o=pt.f,vf=pt.g,fi=pt.h,Mc=pt.i,he=28656;function hi(h){return dt=new Int8Array(h),A=new Int32Array(h),ce=new Float64Array(h),Ot=h,!0}function Ml(h){h=h|0;var f=0;return f=he,he=he+h|0,he=he+15&-16,f|0}function zo(){return he|0}function qs(h){h=h|0,he=h}function Ll(h,f){h=h|0,he=h}function ns(h,f){h=h|0,f=f|0;var p=0,v=0,y=0;return(h|0)<0?(f=2,f|0):(h|0)>13780509?(f=ol(15,f)|0,f|0):(p=((h|0)<0)<<31>>31,y=I(h|0,p|0,3,0)|0,v=we()|0,p=tr(h|0,p|0,1,0)|0,p=I(y|0,v|0,p|0,we()|0)|0,p=tr(p|0,we()|0,1,0)|0,h=we()|0,A[f>>2]=p,A[f+4>>2]=h,f=0,f|0)}function di(h,f,p,v){return h=h|0,f=f|0,p=p|0,v=v|0,is(h,f,p,v,0)|0}function is(h,f,p,v,y){h=h|0,f=f|0,p=p|0,v=v|0,y=y|0;var w=0,S=0,k=0,M=0,j=0;if(M=he,he=he+16|0,S=M,!(Lc(h,f,p,v,y)|0))return v=0,he=M,v|0;do if((p|0)>=0){if((p|0)>13780509){if(w=ol(15,S)|0,w|0)break;k=S,S=A[k>>2]|0,k=A[k+4>>2]|0}else w=((p|0)<0)<<31>>31,j=I(p|0,w|0,3,0)|0,k=we()|0,w=tr(p|0,w|0,1,0)|0,w=I(j|0,k|0,w|0,we()|0)|0,w=tr(w|0,we()|0,1,0)|0,k=we()|0,A[S>>2]=w,A[S+4>>2]=k,S=w;if(Oe(v|0,0,S<<3|0)|0,y|0){Oe(y|0,0,S<<2|0)|0,w=bo(h,f,p,v,y,S,k,0)|0;break}w=co(S,4)|0,w?(j=bo(h,f,p,v,w,S,k,0)|0,er(w),w=j):w=13}else w=2;while(!1);return j=w,he=M,j|0}function Lc(h,f,p,v,y){h=h|0,f=f|0,p=p|0,v=v|0,y=y|0;var w=0,S=0,k=0,M=0,j=0,Y=0,ve=0,Pe=0,_e=0,ye=0,je=0;if(je=he,he=he+16|0,_e=je,ye=je+8|0,Pe=_e,A[Pe>>2]=h,A[Pe+4>>2]=f,(p|0)<0)return ye=2,he=je,ye|0;if(w=v,A[w>>2]=h,A[w+4>>2]=f,w=(y|0)!=0,w&&(A[y>>2]=0),Qr(h,f)|0)return ye=9,he=je,ye|0;A[ye>>2]=0;e:do if((p|0)>=1)if(w)for(Y=1,j=0,ve=0,Pe=1,w=h;;){if(!(j|ve)){if(w=Dn(w,f,4,ye,_e)|0,w|0)break e;if(f=_e,w=A[f>>2]|0,f=A[f+4>>2]|0,Qr(w,f)|0){w=9;break e}}if(w=Dn(w,f,A[26800+(ve<<2)>>2]|0,ye,_e)|0,w|0)break e;if(f=_e,w=A[f>>2]|0,f=A[f+4>>2]|0,h=v+(Y<<3)|0,A[h>>2]=w,A[h+4>>2]=f,A[y+(Y<<2)>>2]=Pe,h=j+1|0,S=(h|0)==(Pe|0),k=ve+1|0,M=(k|0)==6,Qr(w,f)|0){w=9;break e}if(Pe=Pe+(M&S&1)|0,(Pe|0)>(p|0)){w=0;break}else Y=Y+1|0,j=S?0:h,ve=S?M?0:k:ve}else for(Y=1,j=0,ve=0,Pe=1,w=h;;){if(!(j|ve)){if(w=Dn(w,f,4,ye,_e)|0,w|0)break e;if(f=_e,w=A[f>>2]|0,f=A[f+4>>2]|0,Qr(w,f)|0){w=9;break e}}if(w=Dn(w,f,A[26800+(ve<<2)>>2]|0,ye,_e)|0,w|0)break e;if(f=_e,w=A[f>>2]|0,f=A[f+4>>2]|0,h=v+(Y<<3)|0,A[h>>2]=w,A[h+4>>2]=f,h=j+1|0,S=(h|0)==(Pe|0),k=ve+1|0,M=(k|0)==6,Qr(w,f)|0){w=9;break e}if(Pe=Pe+(M&S&1)|0,(Pe|0)>(p|0)){w=0;break}else Y=Y+1|0,j=S?0:h,ve=S?M?0:k:ve}else w=0;while(!1);return ye=w,he=je,ye|0}function bo(h,f,p,v,y,w,S,k){h=h|0,f=f|0,p=p|0,v=v|0,y=y|0,w=w|0,S=S|0,k=k|0;var M=0,j=0,Y=0,ve=0,Pe=0,_e=0,ye=0,je=0,Fe=0,Ge=0;if(je=he,he=he+16|0,_e=je+8|0,ye=je,M=J(h|0,f|0,w|0,S|0)|0,Y=we()|0,ve=v+(M<<3)|0,Fe=ve,Ge=A[Fe>>2]|0,Fe=A[Fe+4>>2]|0,j=(Ge|0)==(h|0)&(Fe|0)==(f|0),!((Ge|0)==0&(Fe|0)==0|j))do M=tr(M|0,Y|0,1,0)|0,M=W(M|0,we()|0,w|0,S|0)|0,Y=we()|0,ve=v+(M<<3)|0,Ge=ve,Fe=A[Ge>>2]|0,Ge=A[Ge+4>>2]|0,j=(Fe|0)==(h|0)&(Ge|0)==(f|0);while(!((Fe|0)==0&(Ge|0)==0|j));if(M=y+(M<<2)|0,j&&(A[M>>2]|0)<=(k|0)||(Ge=ve,A[Ge>>2]=h,A[Ge+4>>2]=f,A[M>>2]=k,(k|0)>=(p|0)))return Ge=0,he=je,Ge|0;switch(j=k+1|0,A[_e>>2]=0,M=Dn(h,f,2,_e,ye)|0,M|0){case 9:{Pe=9;break}case 0:{M=ye,M=bo(A[M>>2]|0,A[M+4>>2]|0,p,v,y,w,S,j)|0,M||(Pe=9);break}}e:do if((Pe|0)==9){switch(A[_e>>2]=0,M=Dn(h,f,3,_e,ye)|0,M|0){case 9:break;case 0:{if(M=ye,M=bo(A[M>>2]|0,A[M+4>>2]|0,p,v,y,w,S,j)|0,M|0)break e;break}default:break e}switch(A[_e>>2]=0,M=Dn(h,f,1,_e,ye)|0,M|0){case 9:break;case 0:{if(M=ye,M=bo(A[M>>2]|0,A[M+4>>2]|0,p,v,y,w,S,j)|0,M|0)break e;break}default:break e}switch(A[_e>>2]=0,M=Dn(h,f,5,_e,ye)|0,M|0){case 9:break;case 0:{if(M=ye,M=bo(A[M>>2]|0,A[M+4>>2]|0,p,v,y,w,S,j)|0,M|0)break e;break}default:break e}switch(A[_e>>2]=0,M=Dn(h,f,4,_e,ye)|0,M|0){case 9:break;case 0:{if(M=ye,M=bo(A[M>>2]|0,A[M+4>>2]|0,p,v,y,w,S,j)|0,M|0)break e;break}default:break e}switch(A[_e>>2]=0,M=Dn(h,f,6,_e,ye)|0,M|0){case 9:break;case 0:{if(M=ye,M=bo(A[M>>2]|0,A[M+4>>2]|0,p,v,y,w,S,j)|0,M|0)break e;break}default:break e}return Ge=0,he=je,Ge|0}while(!1);return Ge=M,he=je,Ge|0}function Dn(h,f,p,v,y){h=h|0,f=f|0,p=p|0,v=v|0,y=y|0;var w=0,S=0,k=0,M=0,j=0,Y=0,ve=0,Pe=0,_e=0,ye=0;if(p>>>0>6)return y=1,y|0;if(ve=(A[v>>2]|0)%6|0,A[v>>2]=ve,(ve|0)>0){w=0;do p=ze(p)|0,w=w+1|0;while((w|0)<(A[v>>2]|0))}if(ve=re(h|0,f|0,45)|0,we()|0,Y=ve&127,Y>>>0>121)return y=5,y|0;M=Wn(h,f)|0,w=re(h|0,f|0,52)|0,we()|0,w=w&15;e:do if(!w)j=8;else{for(;;){if(S=(15-w|0)*3|0,k=re(h|0,f|0,S|0)|0,we()|0,k=k&7,(k|0)==7){f=5;break}if(ye=(Ci(w)|0)==0,w=w+-1|0,Pe=ie(7,0,S|0)|0,f=f&~(we()|0),_e=ie(A[(ye?432:16)+(k*28|0)+(p<<2)>>2]|0,0,S|0)|0,S=we()|0,p=A[(ye?640:224)+(k*28|0)+(p<<2)>>2]|0,h=_e|h&~Pe,f=S|f,!p){p=0;break e}if(!w){j=8;break e}}return f|0}while(!1);(j|0)==8&&(ye=A[848+(Y*28|0)+(p<<2)>>2]|0,_e=ie(ye|0,0,45)|0,h=_e|h,f=we()|0|f&-1040385,p=A[4272+(Y*28|0)+(p<<2)>>2]|0,(ye&127|0)==127&&(ye=ie(A[848+(Y*28|0)+20>>2]|0,0,45)|0,f=we()|0|f&-1040385,p=A[4272+(Y*28|0)+20>>2]|0,h=qo(ye|h,f)|0,f=we()|0,A[v>>2]=(A[v>>2]|0)+1)),k=re(h|0,f|0,45)|0,we()|0,k=k&127;e:do if(dn(k)|0){t:do if((Wn(h,f)|0)==1){if((Y|0)!=(k|0))if(br(k,A[7696+(Y*28|0)>>2]|0)|0){h=Xo(h,f)|0,S=1,f=we()|0;break}else hr(27795,26864,533,26872);switch(M|0){case 3:{h=qo(h,f)|0,f=we()|0,A[v>>2]=(A[v>>2]|0)+1,S=0;break t}case 5:{h=Xo(h,f)|0,f=we()|0,A[v>>2]=(A[v>>2]|0)+5,S=0;break t}case 0:return ye=9,ye|0;default:return ye=1,ye|0}}else S=0;while(!1);if((p|0)>0){w=0;do h=Vn(h,f)|0,f=we()|0,w=w+1|0;while((w|0)!=(p|0))}if((Y|0)!=(k|0)){if(!(Yi(k)|0)){if((S|0)!=0|(Wn(h,f)|0)!=5)break;A[v>>2]=(A[v>>2]|0)+1;break}switch(ve&127){case 8:case 118:break e}(Wn(h,f)|0)!=3&&(A[v>>2]=(A[v>>2]|0)+1)}}else if((p|0)>0){w=0;do h=qo(h,f)|0,f=we()|0,w=w+1|0;while((w|0)!=(p|0))}while(!1);return A[v>>2]=((A[v>>2]|0)+p|0)%6|0,ye=y,A[ye>>2]=h,A[ye+4>>2]=f,ye=0,ye|0}function Xs(h,f,p,v){return h=h|0,f=f|0,p=p|0,v=v|0,Dl(h,f,p,v)|0?(Oe(v|0,0,p*48|0)|0,v=ln(h,f,p,v)|0,v|0):(v=0,v|0)}function Dl(h,f,p,v){h=h|0,f=f|0,p=p|0,v=v|0;var y=0,w=0,S=0,k=0,M=0,j=0,Y=0,ve=0,Pe=0,_e=0,ye=0;if(ye=he,he=he+16|0,Pe=ye,_e=ye+8|0,ve=Pe,A[ve>>2]=h,A[ve+4>>2]=f,(p|0)<0)return _e=2,he=ye,_e|0;if(!p)return _e=v,A[_e>>2]=h,A[_e+4>>2]=f,_e=0,he=ye,_e|0;A[_e>>2]=0;e:do if(Qr(h,f)|0)h=9;else{y=0,ve=h;do{if(h=Dn(ve,f,4,_e,Pe)|0,h|0)break e;if(f=Pe,ve=A[f>>2]|0,f=A[f+4>>2]|0,y=y+1|0,Qr(ve,f)|0){h=9;break e}}while((y|0)<(p|0));Y=v,A[Y>>2]=ve,A[Y+4>>2]=f,Y=p+-1|0,j=0,h=1;do{if(y=26800+(j<<2)|0,(j|0)==5)for(S=A[y>>2]|0,w=0,y=h;;){if(h=Pe,h=Dn(A[h>>2]|0,A[h+4>>2]|0,S,_e,Pe)|0,h|0)break e;if((w|0)!=(Y|0))if(M=Pe,k=A[M>>2]|0,M=A[M+4>>2]|0,h=v+(y<<3)|0,A[h>>2]=k,A[h+4>>2]=M,!(Qr(k,M)|0))h=y+1|0;else{h=9;break e}else h=y;if(w=w+1|0,(w|0)>=(p|0))break;y=h}else for(S=Pe,M=A[y>>2]|0,k=0,y=h,w=A[S>>2]|0,S=A[S+4>>2]|0;;){if(h=Dn(w,S,M,_e,Pe)|0,h|0)break e;if(S=Pe,w=A[S>>2]|0,S=A[S+4>>2]|0,h=v+(y<<3)|0,A[h>>2]=w,A[h+4>>2]=S,h=y+1|0,Qr(w,S)|0){h=9;break e}if(k=k+1|0,(k|0)>=(p|0))break;y=h}j=j+1|0}while(j>>>0<6);h=Pe,h=(ve|0)==(A[h>>2]|0)&&(f|0)==(A[h+4>>2]|0)?0:9}while(!1);return _e=h,he=ye,_e|0}function ln(h,f,p,v){h=h|0,f=f|0,p=p|0,v=v|0;var y=0,w=0,S=0,k=0,M=0,j=0,Y=0,ve=0,Pe=0;if(ve=he,he=he+16|0,S=ve,!p)return A[v>>2]=h,A[v+4>>2]=f,v=0,he=ve,v|0;do if((p|0)>=0){if((p|0)>13780509){if(y=ol(15,S)|0,y|0)break;w=S,y=A[w>>2]|0,w=A[w+4>>2]|0}else y=((p|0)<0)<<31>>31,Y=I(p|0,y|0,3,0)|0,w=we()|0,y=tr(p|0,y|0,1,0)|0,y=I(Y|0,w|0,y|0,we()|0)|0,y=tr(y|0,we()|0,1,0)|0,w=we()|0,Y=S,A[Y>>2]=y,A[Y+4>>2]=w;if(j=co(y,8)|0,!j)y=13;else{if(Y=co(y,4)|0,!Y){er(j),y=13;break}if(y=bo(h,f,p,j,Y,y,w,0)|0,y|0){er(j),er(Y);break}if(f=A[S>>2]|0,S=A[S+4>>2]|0,(S|0)>0|(S|0)==0&f>>>0>0){y=0,k=0,M=0;do h=j+(k<<3)|0,w=A[h>>2]|0,h=A[h+4>>2]|0,!((w|0)==0&(h|0)==0)&&(A[Y+(k<<2)>>2]|0)==(p|0)&&(Pe=v+(y<<3)|0,A[Pe>>2]=w,A[Pe+4>>2]=h,y=y+1|0),k=tr(k|0,M|0,1,0)|0,M=we()|0;while((M|0)<(S|0)|(M|0)==(S|0)&k>>>0<f>>>0)}er(j),er(Y),y=0}}else y=2;while(!1);return Pe=y,he=ve,Pe|0}function va(h,f,p,v){h=h|0,f=f|0,p=p|0,v=v|0;var y=0,w=0,S=0,k=0,M=0,j=0;for(k=he,he=he+16|0,w=k,S=k+8|0,y=(Qr(h,f)|0)==0,y=y?1:2;;){if(A[S>>2]=0,j=(Dn(h,f,y,S,w)|0)==0,M=w,j&((A[M>>2]|0)==(p|0)?(A[M+4>>2]|0)==(v|0):0)){h=4;break}if(y=y+1|0,y>>>0>=7){y=7,h=4;break}}return(h|0)==4?(he=k,y|0):0}function Qa(h,f,p,v){h=h|0,f=f|0,p=p|0,v=v|0;var y=0,w=0,S=0,k=0,M=0,j=0;if(k=he,he=he+48|0,y=k+16|0,w=k+8|0,S=k,p=al(p)|0,p|0)return S=p,he=k,S|0;if(j=h,M=A[j+4>>2]|0,p=w,A[p>>2]=A[j>>2],A[p+4>>2]=M,Rh(w,y),p=jl(y,f,S)|0,!p){if(f=A[w>>2]|0,w=A[h+8>>2]|0,(w|0)>0){y=A[h+12>>2]|0,p=0;do f=(A[y+(p<<3)>>2]|0)+f|0,p=p+1|0;while((p|0)<(w|0))}p=S,y=A[p>>2]|0,p=A[p+4>>2]|0,w=((f|0)<0)<<31>>31,(p|0)<(w|0)|(p|0)==(w|0)&y>>>0<f>>>0?(p=S,A[p>>2]=f,A[p+4>>2]=w,p=w):f=y,M=tr(f|0,p|0,12,0)|0,j=we()|0,p=S,A[p>>2]=M,A[p+4>>2]=j,p=v,A[p>>2]=M,A[p+4>>2]=j,p=0}return j=p,he=k,j|0}function Dc(h,f,p,v,y,w,S){h=h|0,f=f|0,p=p|0,v=v|0,y=y|0,w=w|0,S=S|0;var k=0,M=0,j=0,Y=0,ve=0,Pe=0,_e=0,ye=0,je=0,Fe=0,Ge=0,qe=0,Ye=0,Ue=0,yt=0,Mt=0,Rt=0,jt=0,Lt=0,Ut=0,Bt=0,Ct=0,vt=0,Xt=0,dr=0,rr=0,cr=0,$r=0,si=0;if(dr=he,he=he+64|0,Bt=dr+48|0,Ct=dr+32|0,vt=dr+24|0,yt=dr+8|0,Mt=dr,M=A[h>>2]|0,(M|0)<=0)return Xt=0,he=dr,Xt|0;for(Rt=h+4|0,jt=Bt+8|0,Lt=Ct+8|0,Ut=yt+8|0,k=0,Ye=0;;){j=A[Rt>>2]|0,qe=j+(Ye<<4)|0,A[Bt>>2]=A[qe>>2],A[Bt+4>>2]=A[qe+4>>2],A[Bt+8>>2]=A[qe+8>>2],A[Bt+12>>2]=A[qe+12>>2],(Ye|0)==(M+-1|0)?(A[Ct>>2]=A[j>>2],A[Ct+4>>2]=A[j+4>>2],A[Ct+8>>2]=A[j+8>>2],A[Ct+12>>2]=A[j+12>>2]):(qe=j+(Ye+1<<4)|0,A[Ct>>2]=A[qe>>2],A[Ct+4>>2]=A[qe+4>>2],A[Ct+8>>2]=A[qe+8>>2],A[Ct+12>>2]=A[qe+12>>2]),M=ku(Bt,Ct,v,vt)|0;e:do if(M)j=0,k=M;else if(M=vt,j=A[M>>2]|0,M=A[M+4>>2]|0,(M|0)>0|(M|0)==0&j>>>0>0){Ge=0,qe=0;t:for(;;){if(cr=1/(+(j>>>0)+4294967296*+(M|0)),si=+ce[Bt>>3],M=Fn(j|0,M|0,Ge|0,qe|0)|0,$r=+(M>>>0)+4294967296*+(we()|0),rr=+(Ge>>>0)+4294967296*+(qe|0),ce[yt>>3]=cr*(si*$r)+cr*(+ce[Ct>>3]*rr),ce[Ut>>3]=cr*(+ce[jt>>3]*$r)+cr*(+ce[Lt>>3]*rr),M=rl(yt,v,Mt)|0,M|0){k=M;break}Fe=Mt,je=A[Fe>>2]|0,Fe=A[Fe+4>>2]|0,Pe=J(je|0,Fe|0,f|0,p|0)|0,Y=we()|0,M=S+(Pe<<3)|0,ve=M,j=A[ve>>2]|0,ve=A[ve+4>>2]|0;r:do if((j|0)==0&(ve|0)==0)Ue=M,Xt=16;else for(_e=0,ye=0;;){if((_e|0)>(p|0)|(_e|0)==(p|0)&ye>>>0>f>>>0){k=1;break t}if((j|0)==(je|0)&(ve|0)==(Fe|0))break r;if(M=tr(Pe|0,Y|0,1,0)|0,Pe=W(M|0,we()|0,f|0,p|0)|0,Y=we()|0,ye=tr(ye|0,_e|0,1,0)|0,_e=we()|0,M=S+(Pe<<3)|0,ve=M,j=A[ve>>2]|0,ve=A[ve+4>>2]|0,(j|0)==0&(ve|0)==0){Ue=M,Xt=16;break}}while(!1);if((Xt|0)==16&&(Xt=0,!((je|0)==0&(Fe|0)==0))&&(ye=Ue,A[ye>>2]=je,A[ye+4>>2]=Fe,ye=w+(A[y>>2]<<3)|0,A[ye>>2]=je,A[ye+4>>2]=Fe,ye=y,ye=tr(A[ye>>2]|0,A[ye+4>>2]|0,1,0)|0,je=we()|0,Fe=y,A[Fe>>2]=ye,A[Fe+4>>2]=je),Ge=tr(Ge|0,qe|0,1,0)|0,qe=we()|0,M=vt,j=A[M>>2]|0,M=A[M+4>>2]|0,!((M|0)>(qe|0)|(M|0)==(qe|0)&j>>>0>Ge>>>0)){j=1;break e}}j=0}else j=1;while(!1);if(Ye=Ye+1|0,!j){Xt=21;break}if(M=A[h>>2]|0,(Ye|0)>=(M|0)){k=0,Xt=21;break}}return(Xt|0)==21?(he=dr,k|0):0}function yf(h,f,p,v){h=h|0,f=f|0,p=p|0,v=v|0;var y=0,w=0,S=0,k=0,M=0,j=0,Y=0,ve=0,Pe=0,_e=0,ye=0,je=0,Fe=0,Ge=0,qe=0,Ye=0,Ue=0,yt=0,Mt=0,Rt=0,jt=0,Lt=0,Ut=0,Bt=0,Ct=0,vt=0,Xt=0,dr=0,rr=0,cr=0,$r=0;if($r=he,he=he+112|0,Xt=$r+80|0,M=$r+72|0,dr=$r,rr=$r+56|0,y=al(p)|0,y|0)return cr=y,he=$r,cr|0;if(j=h+8|0,cr=qn((A[j>>2]<<5)+32|0)|0,!cr)return cr=13,he=$r,cr|0;if(ll(h,cr),y=al(p)|0,!y){if(Ct=h,vt=A[Ct+4>>2]|0,y=M,A[y>>2]=A[Ct>>2],A[y+4>>2]=vt,Rh(M,Xt),y=jl(Xt,f,dr)|0,y)Ct=0,vt=0;else{if(y=A[M>>2]|0,w=A[j>>2]|0,(w|0)>0){S=A[h+12>>2]|0,p=0;do y=(A[S+(p<<3)>>2]|0)+y|0,p=p+1|0;while((p|0)!=(w|0));p=y}else p=y;y=dr,w=A[y>>2]|0,y=A[y+4>>2]|0,S=((p|0)<0)<<31>>31,(y|0)<(S|0)|(y|0)==(S|0)&w>>>0<p>>>0?(y=dr,A[y>>2]=p,A[y+4>>2]=S,y=S):p=w,Ct=tr(p|0,y|0,12,0)|0,vt=we()|0,y=dr,A[y>>2]=Ct,A[y+4>>2]=vt,y=0}if(!y){if(p=co(Ct,8)|0,!p)return er(cr),cr=13,he=$r,cr|0;if(k=co(Ct,8)|0,!k)return er(cr),er(p),cr=13,he=$r,cr|0;Ut=Xt,A[Ut>>2]=0,A[Ut+4>>2]=0,Ut=h,Bt=A[Ut+4>>2]|0,y=M,A[y>>2]=A[Ut>>2],A[y+4>>2]=Bt,y=Dc(M,Ct,vt,f,Xt,p,k)|0;e:do if(y)er(p),er(k),er(cr);else{t:do if((A[j>>2]|0)>0){for(S=h+12|0,w=0;y=Dc((A[S>>2]|0)+(w<<3)|0,Ct,vt,f,Xt,p,k)|0,w=w+1|0,!(y|0);)if((w|0)>=(A[j>>2]|0))break t;er(p),er(k),er(cr);break e}while(!1);(vt|0)>0|(vt|0)==0&Ct>>>0>0&&Oe(k|0,0,Ct<<3|0)|0,Bt=Xt,Ut=A[Bt+4>>2]|0;t:do if((Ut|0)>0|(Ut|0)==0&(A[Bt>>2]|0)>>>0>0){Rt=p,jt=k,Lt=p,Ut=k,Bt=p,y=p,Ue=p,yt=k,Mt=k,p=k;r:for(;;){for(Fe=0,Ge=0,qe=0,Ye=0,w=0,S=0;;){k=dr,M=k+56|0;do A[k>>2]=0,k=k+4|0;while((k|0)<(M|0));if(f=Rt+(Fe<<3)|0,j=A[f>>2]|0,f=A[f+4>>2]|0,Lc(j,f,1,dr,0)|0){k=dr,M=k+56|0;do A[k>>2]=0,k=k+4|0;while((k|0)<(M|0));k=co(7,4)|0,k|0&&(bo(j,f,1,dr,k,7,0,0)|0,er(k))}for(je=0;;){ye=dr+(je<<3)|0,_e=A[ye>>2]|0,ye=A[ye+4>>2]|0;i:do if((_e|0)==0&(ye|0)==0)k=w,M=S;else{if(Y=J(_e|0,ye|0,Ct|0,vt|0)|0,j=we()|0,k=v+(Y<<3)|0,f=k,M=A[f>>2]|0,f=A[f+4>>2]|0,!((M|0)==0&(f|0)==0)){ve=0,Pe=0;do{if((ve|0)>(vt|0)|(ve|0)==(vt|0)&Pe>>>0>Ct>>>0)break r;if((M|0)==(_e|0)&(f|0)==(ye|0)){k=w,M=S;break i}k=tr(Y|0,j|0,1,0)|0,Y=W(k|0,we()|0,Ct|0,vt|0)|0,j=we()|0,Pe=tr(Pe|0,ve|0,1,0)|0,ve=we()|0,k=v+(Y<<3)|0,f=k,M=A[f>>2]|0,f=A[f+4>>2]|0}while(!((M|0)==0&(f|0)==0))}if((_e|0)==0&(ye|0)==0){k=w,M=S;break}To(_e,ye,rr)|0,Zl(h,cr,rr)|0&&(Pe=tr(w|0,S|0,1,0)|0,S=we()|0,ve=k,A[ve>>2]=_e,A[ve+4>>2]=ye,w=jt+(w<<3)|0,A[w>>2]=_e,A[w+4>>2]=ye,w=Pe),k=w,M=S}while(!1);if(je=je+1|0,je>>>0>=7)break;w=k,S=M}if(Fe=tr(Fe|0,Ge|0,1,0)|0,Ge=we()|0,qe=tr(qe|0,Ye|0,1,0)|0,Ye=we()|0,S=Xt,w=A[S>>2]|0,S=A[S+4>>2]|0,(Ye|0)<(S|0)|(Ye|0)==(S|0)&qe>>>0<w>>>0)w=k,S=M;else break}if((S|0)>0|(S|0)==0&w>>>0>0){w=0,S=0;do Ye=Rt+(w<<3)|0,A[Ye>>2]=0,A[Ye+4>>2]=0,w=tr(w|0,S|0,1,0)|0,S=we()|0,Ye=Xt,qe=A[Ye+4>>2]|0;while((S|0)<(qe|0)|((S|0)==(qe|0)?w>>>0<(A[Ye>>2]|0)>>>0:0))}if(Ye=Xt,A[Ye>>2]=k,A[Ye+4>>2]=M,(M|0)>0|(M|0)==0&k>>>0>0)je=p,Fe=Mt,Ge=Bt,qe=yt,Ye=jt,p=Ue,Mt=y,yt=Lt,Ue=je,y=Fe,Bt=Ut,Ut=Ge,Lt=qe,jt=Rt,Rt=Ye;else break t}er(Lt),er(Ut),er(cr),y=1;break e}else y=k;while(!1);er(cr),er(p),er(y),y=0}while(!1);return cr=y,he=$r,cr|0}}return er(cr),cr=y,he=$r,cr|0}function bf(h,f,p){h=h|0,f=f|0,p=p|0;var v=0,y=0,w=0,S=0,k=0,M=0,j=0,Y=0;if(Y=he,he=he+176|0,M=Y,(f|0)<1)return oa(p,0,0),j=0,he=Y,j|0;for(k=h,k=re(A[k>>2]|0,A[k+4>>2]|0,52)|0,we()|0,oa(p,(f|0)>6?f:6,k&15),k=0;v=h+(k<<3)|0,v=Yo(A[v>>2]|0,A[v+4>>2]|0,M)|0,!(v|0);){if(v=A[M>>2]|0,(v|0)>0){S=0;do w=M+8+(S<<4)|0,S=S+1|0,v=M+8+(((S|0)%(v|0)|0)<<4)|0,y=$i(p,v,w)|0,y?mn(p,y)|0:ul(p,w,v)|0,v=A[M>>2]|0;while((S|0)<(v|0))}if(k=k+1|0,(k|0)>=(f|0)){v=0,j=13;break}}return(j|0)==13?(he=Y,v|0):(ps(p),j=v,he=Y,j|0)}function Bc(h,f,p){h=h|0,f=f|0,p=p|0;var v=0,y=0,w=0,S=0;if(w=he,he=he+32|0,v=w,y=w+16|0,h=bf(h,f,y)|0,h|0)return p=h,he=w,p|0;if(A[p>>2]=0,A[p+4>>2]=0,A[p+8>>2]=0,h=pn(y)|0,h|0)do{f=Hc(p)|0;do ao(f,h)|0,S=h+16|0,A[v>>2]=A[S>>2],A[v+4>>2]=A[S+4>>2],A[v+8>>2]=A[S+8>>2],A[v+12>>2]=A[S+12>>2],mn(y,h)|0,h=ko(y,v)|0;while((h|0)!=0);h=pn(y)|0}while((h|0)!=0);return ps(y),h=Sf(p)|0,h?(Ko(p),S=h,he=w,S|0):(S=0,he=w,S|0)}function dn(h){return h=h|0,h>>>0>121?(h=0,h|0):(h=A[7696+(h*28|0)+16>>2]|0,h|0)}function Yi(h){return h=h|0,(h|0)==4|(h|0)==117|0}function Ns(h){return h=h|0,A[11120+((A[h>>2]|0)*216|0)+((A[h+4>>2]|0)*72|0)+((A[h+8>>2]|0)*24|0)+(A[h+12>>2]<<3)>>2]|0}function _o(h){return h=h|0,A[11120+((A[h>>2]|0)*216|0)+((A[h+4>>2]|0)*72|0)+((A[h+8>>2]|0)*24|0)+(A[h+12>>2]<<3)+4>>2]|0}function os(h,f){h=h|0,f=f|0,h=7696+(h*28|0)|0,A[f>>2]=A[h>>2],A[f+4>>2]=A[h+4>>2],A[f+8>>2]=A[h+8>>2],A[f+12>>2]=A[h+12>>2]}function Bl(h,f){h=h|0,f=f|0;var p=0,v=0;if(f>>>0>20)return f=-1,f|0;do if((A[11120+(f*216|0)>>2]|0)!=(h|0))if((A[11120+(f*216|0)+8>>2]|0)!=(h|0))if((A[11120+(f*216|0)+16>>2]|0)!=(h|0))if((A[11120+(f*216|0)+24>>2]|0)!=(h|0))if((A[11120+(f*216|0)+32>>2]|0)!=(h|0))if((A[11120+(f*216|0)+40>>2]|0)!=(h|0))if((A[11120+(f*216|0)+48>>2]|0)!=(h|0))if((A[11120+(f*216|0)+56>>2]|0)!=(h|0))if((A[11120+(f*216|0)+64>>2]|0)!=(h|0))if((A[11120+(f*216|0)+72>>2]|0)!=(h|0))if((A[11120+(f*216|0)+80>>2]|0)!=(h|0))if((A[11120+(f*216|0)+88>>2]|0)!=(h|0))if((A[11120+(f*216|0)+96>>2]|0)!=(h|0))if((A[11120+(f*216|0)+104>>2]|0)!=(h|0))if((A[11120+(f*216|0)+112>>2]|0)!=(h|0))if((A[11120+(f*216|0)+120>>2]|0)!=(h|0))if((A[11120+(f*216|0)+128>>2]|0)!=(h|0))if((A[11120+(f*216|0)+136>>2]|0)==(h|0))h=2,p=1,v=2;else{if((A[11120+(f*216|0)+144>>2]|0)==(h|0)){h=0,p=2,v=0;break}if((A[11120+(f*216|0)+152>>2]|0)==(h|0)){h=0,p=2,v=1;break}if((A[11120+(f*216|0)+160>>2]|0)==(h|0)){h=0,p=2,v=2;break}if((A[11120+(f*216|0)+168>>2]|0)==(h|0)){h=1,p=2,v=0;break}if((A[11120+(f*216|0)+176>>2]|0)==(h|0)){h=1,p=2,v=1;break}if((A[11120+(f*216|0)+184>>2]|0)==(h|0)){h=1,p=2,v=2;break}if((A[11120+(f*216|0)+192>>2]|0)==(h|0)){h=2,p=2,v=0;break}if((A[11120+(f*216|0)+200>>2]|0)==(h|0)){h=2,p=2,v=1;break}if((A[11120+(f*216|0)+208>>2]|0)==(h|0)){h=2,p=2,v=2;break}else h=-1;return h|0}else h=2,p=1,v=1;else h=2,p=1,v=0;else h=1,p=1,v=2;else h=1,p=1,v=1;else h=1,p=1,v=0;else h=0,p=1,v=2;else h=0,p=1,v=1;else h=0,p=1,v=0;else h=2,p=0,v=2;else h=2,p=0,v=1;else h=2,p=0,v=0;else h=1,p=0,v=2;else h=1,p=0,v=1;else h=1,p=0,v=0;else h=0,p=0,v=2;else h=0,p=0,v=1;else h=0,p=0,v=0;while(!1);return f=A[11120+(f*216|0)+(p*72|0)+(h*24|0)+(v<<3)+4>>2]|0,f|0}function br(h,f){return h=h|0,f=f|0,(A[7696+(h*28|0)+20>>2]|0)==(f|0)?(f=1,f|0):(f=(A[7696+(h*28|0)+24>>2]|0)==(f|0),f|0)}function ss(h,f){return h=h|0,f=f|0,A[848+(h*28|0)+(f<<2)>>2]|0}function Pu(h,f){return h=h|0,f=f|0,(A[848+(h*28|0)>>2]|0)==(f|0)?(f=0,f|0):(A[848+(h*28|0)+4>>2]|0)==(f|0)?(f=1,f|0):(A[848+(h*28|0)+8>>2]|0)==(f|0)?(f=2,f|0):(A[848+(h*28|0)+12>>2]|0)==(f|0)?(f=3,f|0):(A[848+(h*28|0)+16>>2]|0)==(f|0)?(f=4,f|0):(A[848+(h*28|0)+20>>2]|0)==(f|0)?(f=5,f|0):((A[848+(h*28|0)+24>>2]|0)==(f|0)?6:7)|0}function _f(){return 122}function Wo(h){h=h|0;var f=0,p=0,v=0;f=0;do ie(f|0,0,45)|0,v=we()|0|134225919,p=h+(f<<3)|0,A[p>>2]=-1,A[p+4>>2]=v,f=f+1|0;while((f|0)!=122);return 0}function ya(h){h=h|0;var f=0,p=0,v=0;return v=+ce[h+16>>3],p=+ce[h+24>>3],f=v-p,+(v<p?f+6.283185307179586:f)}function Cu(h){return h=h|0,+ce[h+16>>3]<+ce[h+24>>3]|0}function Fc(h){return h=h|0,+(+ce[h>>3]-+ce[h+8>>3])}function ba(h,f){h=h|0,f=f|0;var p=0,v=0,y=0;return p=+ce[f>>3],!(p>=+ce[h+8>>3])||!(p<=+ce[h>>3])?(f=0,f|0):(v=+ce[h+16>>3],p=+ce[h+24>>3],y=+ce[f+8>>3],f=y>=p,h=y<=v&1,v<p?f&&(h=1):f||(h=0),f=(h|0)!=0,f|0)}function Fl(h,f){h=h|0,f=f|0;var p=0,v=0,y=0,w=0,S=0,k=0,M=0,j=0,Y=0;return+ce[h>>3]<+ce[f+8>>3]||+ce[h+8>>3]>+ce[f>>3]?(v=0,v|0):(w=+ce[h+16>>3],p=h+24|0,Y=+ce[p>>3],S=w<Y,v=f+16|0,j=+ce[v>>3],y=f+24|0,M=+ce[y>>3],k=j<M,f=Y-j<M-w,h=S?k|f?1:2:0,f=k?S?1:f?2:1:0,w=+ki(w,h),w<+ki(+ce[y>>3],f)||(Y=+ki(+ce[p>>3],h),Y>+ki(+ce[v>>3],f))?(k=0,k|0):(k=1,k|0))}function Ms(h,f,p,v){h=h|0,f=f|0,p=p|0,v=v|0;var y=0,w=0,S=0,k=0,M=0;w=+ce[h+16>>3],M=+ce[h+24>>3],h=w<M,k=+ce[f+16>>3],S=+ce[f+24>>3],y=k<S,f=M-k<S-w,A[p>>2]=h?y|f?1:2:0,A[v>>2]=y?h?1:f?2:1:0}function Za(h,f){h=h|0,f=f|0;var p=0,v=0,y=0,w=0,S=0,k=0,M=0,j=0,Y=0;return+ce[h>>3]<+ce[f>>3]||+ce[h+8>>3]>+ce[f+8>>3]?(v=0,v|0):(v=h+16|0,M=+ce[v>>3],w=+ce[h+24>>3],S=M<w,p=f+16|0,Y=+ce[p>>3],y=f+24|0,j=+ce[y>>3],k=Y<j,f=w-Y<j-M,h=S?k|f?1:2:0,f=k?S?1:f?2:1:0,w=+ki(w,h),w<=+ki(+ce[y>>3],f)?(Y=+ki(+ce[v>>3],h),k=Y>=+ki(+ce[p>>3],f),k|0):(k=0,k|0))}function io(h,f){h=h|0,f=f|0;var p=0,v=0,y=0,w=0,S=0,k=0;y=he,he=he+176|0,v=y,A[v>>2]=4,k=+ce[f>>3],ce[v+8>>3]=k,w=+ce[f+16>>3],ce[v+16>>3]=w,ce[v+24>>3]=k,k=+ce[f+24>>3],ce[v+32>>3]=k,S=+ce[f+8>>3],ce[v+40>>3]=S,ce[v+48>>3]=k,ce[v+56>>3]=S,ce[v+64>>3]=w,f=v+72|0,p=f+96|0;do A[f>>2]=0,f=f+4|0;while((f|0)<(p|0));ot(h|0,v|0,168)|0,he=y}function jl(h,f,p){h=h|0,f=f|0,p=p|0;var v=0,y=0,w=0,S=0,k=0,M=0,j=0,Y=0,ve=0,Pe=0,_e=0,ye=0,je=0,Fe=0;ye=he,he=he+288|0,Y=ye+264|0,ve=ye+96|0,j=ye,k=j,M=k+96|0;do A[k>>2]=0,k=k+4|0;while((k|0)<(M|0));return f=Bn(f,j)|0,f|0?(_e=f,he=ye,_e|0):(M=j,j=A[M>>2]|0,M=A[M+4>>2]|0,To(j,M,Y)|0,Yo(j,M,ve)|0,S=+il(Y,ve+8|0),ce[Y>>3]=+ce[h>>3],M=Y+8|0,ce[M>>3]=+ce[h+16>>3],ce[ve>>3]=+ce[h+8>>3],j=ve+8|0,ce[j>>3]=+ce[h+24>>3],y=+il(Y,ve),Fe=+ce[M>>3]-+ce[j>>3],w=+vr(+Fe),je=+ce[Y>>3]-+ce[ve>>3],v=+vr(+je),!(Fe==0|je==0)&&(Fe=+Ce(+w,+v),Fe=+Ka(+(y*y/+Re(+(Fe/+Re(+w,+v)),3)/(S*(S*2.59807621135)*.8))),ce[Ur>>3]=Fe,Pe=~~Fe>>>0,_e=+vr(Fe)>=1?Fe>0?~~+Ic(+_n(Fe/4294967296),4294967295)>>>0:~~+Ka((Fe-+(~~Fe>>>0))/4294967296)>>>0:0,(A[Ur+4>>2]&2146435072|0)!=2146435072)?(ve=(Pe|0)==0&(_e|0)==0,f=p,A[f>>2]=ve?1:Pe,A[f+4>>2]=ve?0:_e,f=0):f=1,_e=f,he=ye,_e|0)}function ku(h,f,p,v){h=h|0,f=f|0,p=p|0,v=v|0;var y=0,w=0,S=0,k=0,M=0,j=0,Y=0;j=he,he=he+288|0,S=j+264|0,k=j+96|0,M=j,y=M,w=y+96|0;do A[y>>2]=0,y=y+4|0;while((y|0)<(w|0));return p=Bn(p,M)|0,p|0?(v=p,he=j,v|0):(p=M,y=A[p>>2]|0,p=A[p+4>>2]|0,To(y,p,S)|0,Yo(y,p,k)|0,Y=+il(S,k+8|0),Y=+Ka(+(+il(h,f)/(Y*2))),ce[Ur>>3]=Y,p=~~Y>>>0,y=+vr(Y)>=1?Y>0?~~+Ic(+_n(Y/4294967296),4294967295)>>>0:~~+Ka((Y-+(~~Y>>>0))/4294967296)>>>0:0,(A[Ur+4>>2]&2146435072|0)==2146435072?(v=1,he=j,v|0):(M=(p|0)==0&(y|0)==0,A[v>>2]=M?1:p,A[v+4>>2]=M?0:y,v=0,he=j,v|0))}function Ou(h,f){h=h|0,f=+f;var p=0,v=0,y=0,w=0,S=0,k=0,M=0,j=0,Y=0;w=h+16|0,S=+ce[w>>3],p=h+24|0,y=+ce[p>>3],v=S-y,v=S<y?v+6.283185307179586:v,j=+ce[h>>3],k=h+8|0,M=+ce[k>>3],Y=j-M,v=(v*f-v)*.5,f=(Y*f-Y)*.5,j=j+f,ce[h>>3]=j>1.5707963267948966?1.5707963267948966:j,f=M-f,ce[k>>3]=f<-1.5707963267948966?-1.5707963267948966:f,f=S+v,f=f>3.141592653589793?f+-6.283185307179586:f,ce[w>>3]=f<-3.141592653589793?f+6.283185307179586:f,f=y-v,f=f>3.141592653589793?f+-6.283185307179586:f,ce[p>>3]=f<-3.141592653589793?f+6.283185307179586:f}function jc(h,f,p,v){h=h|0,f=f|0,p=p|0,v=v|0,A[h>>2]=f,A[h+4>>2]=p,A[h+8>>2]=v}function as(h,f){h=h|0,f=f|0;var p=0,v=0,y=0,w=0,S=0,k=0,M=0,j=0,Y=0,ve=0,Pe=0;ve=f+8|0,A[ve>>2]=0,M=+ce[h>>3],S=+vr(+M),j=+ce[h+8>>3],k=+vr(+j)*1.1547005383792515,S=S+k*.5,p=~~S,h=~~k,S=S-+(p|0),k=k-+(h|0);do if(S<.5)if(S<.3333333333333333)if(A[f>>2]=p,k<(S+1)*.5){A[f+4>>2]=h;break}else{h=h+1|0,A[f+4>>2]=h;break}else if(Pe=1-S,h=(!(k<Pe)&1)+h|0,A[f+4>>2]=h,Pe<=k&k<S*2){p=p+1|0,A[f>>2]=p;break}else{A[f>>2]=p;break}else{if(!(S<.6666666666666666))if(p=p+1|0,A[f>>2]=p,k<S*.5){A[f+4>>2]=h;break}else{h=h+1|0,A[f+4>>2]=h;break}if(k<1-S){if(A[f+4>>2]=h,S*2+-1<k){A[f>>2]=p;break}}else h=h+1|0,A[f+4>>2]=h;p=p+1|0,A[f>>2]=p}while(!1);do if(M<0)if(h&1){Y=(h+1|0)/2|0,Y=Fn(p|0,((p|0)<0)<<31>>31|0,Y|0,((Y|0)<0)<<31>>31|0)|0,p=~~(+(p|0)-((+(Y>>>0)+4294967296*+(we()|0))*2+1)),A[f>>2]=p;break}else{Y=(h|0)/2|0,Y=Fn(p|0,((p|0)<0)<<31>>31|0,Y|0,((Y|0)<0)<<31>>31|0)|0,p=~~(+(p|0)-(+(Y>>>0)+4294967296*+(we()|0))*2),A[f>>2]=p;break}while(!1);Y=f+4|0,j<0&&(p=p-((h<<1|1|0)/2|0)|0,A[f>>2]=p,h=0-h|0,A[Y>>2]=h),v=h-p|0,(p|0)<0?(y=0-p|0,A[Y>>2]=v,A[ve>>2]=y,A[f>>2]=0,h=v,p=0):y=0,(h|0)<0&&(p=p-h|0,A[f>>2]=p,y=y-h|0,A[ve>>2]=y,A[Y>>2]=0,h=0),w=p-y|0,v=h-y|0,(y|0)<0&&(A[f>>2]=w,A[Y>>2]=v,A[ve>>2]=0,h=v,p=w,y=0),v=(h|0)<(p|0)?h:p,v=(y|0)<(v|0)?y:v,!((v|0)<=0)&&(A[f>>2]=p-v,A[Y>>2]=h-v,A[ve>>2]=y-v)}function Zn(h){h=h|0;var f=0,p=0,v=0,y=0,w=0,S=0;f=A[h>>2]|0,S=h+4|0,p=A[S>>2]|0,(f|0)<0&&(p=p-f|0,A[S>>2]=p,w=h+8|0,A[w>>2]=(A[w>>2]|0)-f,A[h>>2]=0,f=0),(p|0)<0?(f=f-p|0,A[h>>2]=f,w=h+8|0,y=(A[w>>2]|0)-p|0,A[w>>2]=y,A[S>>2]=0,p=0):(y=h+8|0,w=y,y=A[y>>2]|0),(y|0)<0&&(f=f-y|0,A[h>>2]=f,p=p-y|0,A[S>>2]=p,A[w>>2]=0,y=0),v=(p|0)<(f|0)?p:f,v=(y|0)<(v|0)?y:v,!((v|0)<=0)&&(A[h>>2]=f-v,A[S>>2]=p-v,A[w>>2]=y-v)}function Vo(h,f){h=h|0,f=f|0;var p=0,v=0;v=A[h+8>>2]|0,p=+((A[h+4>>2]|0)-v|0),ce[f>>3]=+((A[h>>2]|0)-v|0)-p*.5,ce[f+8>>3]=p*.8660254037844386}function Tn(h,f,p){h=h|0,f=f|0,p=p|0,A[p>>2]=(A[f>>2]|0)+(A[h>>2]|0),A[p+4>>2]=(A[f+4>>2]|0)+(A[h+4>>2]|0),A[p+8>>2]=(A[f+8>>2]|0)+(A[h+8>>2]|0)}function Ls(h,f,p){h=h|0,f=f|0,p=p|0,A[p>>2]=(A[h>>2]|0)-(A[f>>2]|0),A[p+4>>2]=(A[h+4>>2]|0)-(A[f+4>>2]|0),A[p+8>>2]=(A[h+8>>2]|0)-(A[f+8>>2]|0)}function _a(h,f){h=h|0,f=f|0;var p=0,v=0;p=en(A[h>>2]|0,f)|0,A[h>>2]=p,p=h+4|0,v=en(A[p>>2]|0,f)|0,A[p>>2]=v,h=h+8|0,f=en(A[h>>2]|0,f)|0,A[h>>2]=f}function Ja(h){h=h|0;var f=0,p=0,v=0,y=0,w=0,S=0,k=0;S=A[h>>2]|0,k=(S|0)<0,v=(A[h+4>>2]|0)-(k?S:0)|0,w=(v|0)<0,y=(w?0-v|0:0)+((A[h+8>>2]|0)-(k?S:0))|0,p=(y|0)<0,h=p?0:y,f=(w?0:v)-(p?y:0)|0,y=(k?0:S)-(w?v:0)-(p?y:0)|0,p=(f|0)<(y|0)?f:y,p=(h|0)<(p|0)?h:p,v=(p|0)>0,h=h-(v?p:0)|0,f=f-(v?p:0)|0;e:do switch(y-(v?p:0)|0){case 0:switch(f|0){case 0:return k=(h|0)==0?0:(h|0)==1?1:7,k|0;case 1:return k=(h|0)==0?2:(h|0)==1?3:7,k|0;default:break e}case 1:switch(f|0){case 0:return k=(h|0)==0?4:(h|0)==1?5:7,k|0;case 1:{if(!h)h=6;else break e;return h|0}default:break e}}while(!1);return k=7,k|0}function Ul(h){h=h|0;var f=0,p=0,v=0,y=0,w=0,S=0,k=0,M=0,j=0;if(M=h+8|0,S=A[M>>2]|0,k=(A[h>>2]|0)-S|0,j=h+4|0,S=(A[j>>2]|0)-S|0,k>>>0>715827881|S>>>0>715827881){if(v=(k|0)>0,y=2147483647-k|0,w=-2147483648-k|0,(v?(y|0)<(k|0):(w|0)>(k|0))||(p=k<<1,v?(2147483647-p|0)<(k|0):(-2147483648-p|0)>(k|0))||((S|0)>0?(2147483647-S|0)<(S|0):(-2147483648-S|0)>(S|0))||(f=k*3|0,p=S<<1,(v?(y|0)<(p|0):(w|0)>(p|0))||((k|0)>-1?(f|-2147483648|0)>=(S|0):(f^-2147483648|0)<(S|0))))return j=1,j|0}else p=S<<1,f=k*3|0;return v=Go(+(f-S|0)*.14285714285714285)|0,A[h>>2]=v,y=Go(+(p+k|0)*.14285714285714285)|0,A[j>>2]=y,A[M>>2]=0,p=(y|0)<(v|0),f=p?v:y,p=p?y:v,(p|0)<0&&(((p|0)==-2147483648||((f|0)>0?(2147483647-f|0)<(p|0):(-2147483648-f|0)>(p|0)))&&hr(27795,26892,354,26903),((f|0)>-1?(f|-2147483648|0)>=(p|0):(f^-2147483648|0)<(p|0))&&hr(27795,26892,354,26903)),f=y-v|0,(v|0)<0?(p=0-v|0,A[j>>2]=f,A[M>>2]=p,A[h>>2]=0,v=0):(f=y,p=0),(f|0)<0&&(v=v-f|0,A[h>>2]=v,p=p-f|0,A[M>>2]=p,A[j>>2]=0,f=0),w=v-p|0,y=f-p|0,(p|0)<0?(A[h>>2]=w,A[j>>2]=y,A[M>>2]=0,f=y,y=w,p=0):y=v,v=(f|0)<(y|0)?f:y,v=(p|0)<(v|0)?p:v,(v|0)<=0?(j=0,j|0):(A[h>>2]=y-v,A[j>>2]=f-v,A[M>>2]=p-v,j=0,j|0)}function ls(h){h=h|0;var f=0,p=0,v=0,y=0,w=0,S=0,k=0,M=0;if(S=h+8|0,y=A[S>>2]|0,w=(A[h>>2]|0)-y|0,k=h+4|0,y=(A[k>>2]|0)-y|0,w>>>0>715827881|y>>>0>715827881){if(p=(w|0)>0,(p?(2147483647-w|0)<(w|0):(-2147483648-w|0)>(w|0))||(f=w<<1,v=(y|0)>0,v?(2147483647-y|0)<(y|0):(-2147483648-y|0)>(y|0)))return k=1,k|0;if(M=y<<1,(v?(2147483647-M|0)<(y|0):(-2147483648-M|0)>(y|0))||(p?(2147483647-f|0)<(y|0):(-2147483648-f|0)>(y|0))||(p=y*3|0,(y|0)>-1?(p|-2147483648|0)>=(w|0):(p^-2147483648|0)<(w|0)))return M=1,M|0}else p=y*3|0,f=w<<1;return v=Go(+(f+y|0)*.14285714285714285)|0,A[h>>2]=v,y=Go(+(p-w|0)*.14285714285714285)|0,A[k>>2]=y,A[S>>2]=0,p=(y|0)<(v|0),f=p?v:y,p=p?y:v,(p|0)<0&&(((p|0)==-2147483648||((f|0)>0?(2147483647-f|0)<(p|0):(-2147483648-f|0)>(p|0)))&&hr(27795,26892,402,26917),((f|0)>-1?(f|-2147483648|0)>=(p|0):(f^-2147483648|0)<(p|0))&&hr(27795,26892,402,26917)),f=y-v|0,(v|0)<0?(p=0-v|0,A[k>>2]=f,A[S>>2]=p,A[h>>2]=0,v=0):(f=y,p=0),(f|0)<0&&(v=v-f|0,A[h>>2]=v,p=p-f|0,A[S>>2]=p,A[k>>2]=0,f=0),w=v-p|0,y=f-p|0,(p|0)<0?(A[h>>2]=w,A[k>>2]=y,A[S>>2]=0,f=y,y=w,p=0):y=v,v=(f|0)<(y|0)?f:y,v=(p|0)<(v|0)?p:v,(v|0)<=0?(M=0,M|0):(A[h>>2]=y-v,A[k>>2]=f-v,A[S>>2]=p-v,M=0,M|0)}function Ys(h){h=h|0;var f=0,p=0,v=0,y=0,w=0,S=0,k=0;S=h+8|0,p=A[S>>2]|0,f=(A[h>>2]|0)-p|0,k=h+4|0,p=(A[k>>2]|0)-p|0,v=Go(+((f*3|0)-p|0)*.14285714285714285)|0,A[h>>2]=v,f=Go(+((p<<1)+f|0)*.14285714285714285)|0,A[k>>2]=f,A[S>>2]=0,p=f-v|0,(v|0)<0?(w=0-v|0,A[k>>2]=p,A[S>>2]=w,A[h>>2]=0,f=p,v=0,p=w):p=0,(f|0)<0&&(v=v-f|0,A[h>>2]=v,p=p-f|0,A[S>>2]=p,A[k>>2]=0,f=0),w=v-p|0,y=f-p|0,(p|0)<0?(A[h>>2]=w,A[k>>2]=y,A[S>>2]=0,f=y,y=w,p=0):y=v,v=(f|0)<(y|0)?f:y,v=(p|0)<(v|0)?p:v,!((v|0)<=0)&&(A[h>>2]=y-v,A[k>>2]=f-v,A[S>>2]=p-v)}function Bi(h){h=h|0;var f=0,p=0,v=0,y=0,w=0,S=0,k=0;S=h+8|0,p=A[S>>2]|0,f=(A[h>>2]|0)-p|0,k=h+4|0,p=(A[k>>2]|0)-p|0,v=Go(+((f<<1)+p|0)*.14285714285714285)|0,A[h>>2]=v,f=Go(+((p*3|0)-f|0)*.14285714285714285)|0,A[k>>2]=f,A[S>>2]=0,p=f-v|0,(v|0)<0?(w=0-v|0,A[k>>2]=p,A[S>>2]=w,A[h>>2]=0,f=p,v=0,p=w):p=0,(f|0)<0&&(v=v-f|0,A[h>>2]=v,p=p-f|0,A[S>>2]=p,A[k>>2]=0,f=0),w=v-p|0,y=f-p|0,(p|0)<0?(A[h>>2]=w,A[k>>2]=y,A[S>>2]=0,f=y,y=w,p=0):y=v,v=(f|0)<(y|0)?f:y,v=(p|0)<(v|0)?p:v,!((v|0)<=0)&&(A[h>>2]=y-v,A[k>>2]=f-v,A[S>>2]=p-v)}function oo(h){h=h|0;var f=0,p=0,v=0,y=0,w=0,S=0,k=0;f=A[h>>2]|0,S=h+4|0,p=A[S>>2]|0,k=h+8|0,v=A[k>>2]|0,y=p+(f*3|0)|0,A[h>>2]=y,p=v+(p*3|0)|0,A[S>>2]=p,f=(v*3|0)+f|0,A[k>>2]=f,v=p-y|0,(y|0)<0?(f=f-y|0,A[S>>2]=v,A[k>>2]=f,A[h>>2]=0,p=v,v=0):v=y,(p|0)<0&&(v=v-p|0,A[h>>2]=v,f=f-p|0,A[k>>2]=f,A[S>>2]=0,p=0),w=v-f|0,y=p-f|0,(f|0)<0?(A[h>>2]=w,A[S>>2]=y,A[k>>2]=0,v=w,f=0):y=p,p=(y|0)<(v|0)?y:v,p=(f|0)<(p|0)?f:p,!((p|0)<=0)&&(A[h>>2]=v-p,A[S>>2]=y-p,A[k>>2]=f-p)}function cs(h){h=h|0;var f=0,p=0,v=0,y=0,w=0,S=0,k=0;y=A[h>>2]|0,S=h+4|0,f=A[S>>2]|0,k=h+8|0,p=A[k>>2]|0,v=(f*3|0)+y|0,y=p+(y*3|0)|0,A[h>>2]=y,A[S>>2]=v,f=(p*3|0)+f|0,A[k>>2]=f,p=v-y|0,(y|0)<0?(f=f-y|0,A[S>>2]=p,A[k>>2]=f,A[h>>2]=0,y=0):p=v,(p|0)<0&&(y=y-p|0,A[h>>2]=y,f=f-p|0,A[k>>2]=f,A[S>>2]=0,p=0),w=y-f|0,v=p-f|0,(f|0)<0?(A[h>>2]=w,A[S>>2]=v,A[k>>2]=0,y=w,f=0):v=p,p=(v|0)<(y|0)?v:y,p=(f|0)<(p|0)?f:p,!((p|0)<=0)&&(A[h>>2]=y-p,A[S>>2]=v-p,A[k>>2]=f-p)}function F(h,f){h=h|0,f=f|0;var p=0,v=0,y=0,w=0,S=0,k=0;(f+-1|0)>>>0>=6||(y=(A[15440+(f*12|0)>>2]|0)+(A[h>>2]|0)|0,A[h>>2]=y,k=h+4|0,v=(A[15440+(f*12|0)+4>>2]|0)+(A[k>>2]|0)|0,A[k>>2]=v,S=h+8|0,f=(A[15440+(f*12|0)+8>>2]|0)+(A[S>>2]|0)|0,A[S>>2]=f,p=v-y|0,(y|0)<0?(f=f-y|0,A[k>>2]=p,A[S>>2]=f,A[h>>2]=0,v=0):(p=v,v=y),(p|0)<0&&(v=v-p|0,A[h>>2]=v,f=f-p|0,A[S>>2]=f,A[k>>2]=0,p=0),w=v-f|0,y=p-f|0,(f|0)<0?(A[h>>2]=w,A[k>>2]=y,A[S>>2]=0,v=w,f=0):y=p,p=(y|0)<(v|0)?y:v,p=(f|0)<(p|0)?f:p,!((p|0)<=0)&&(A[h>>2]=v-p,A[k>>2]=y-p,A[S>>2]=f-p))}function fe(h){h=h|0;var f=0,p=0,v=0,y=0,w=0,S=0,k=0;y=A[h>>2]|0,S=h+4|0,f=A[S>>2]|0,k=h+8|0,p=A[k>>2]|0,v=f+y|0,y=p+y|0,A[h>>2]=y,A[S>>2]=v,f=p+f|0,A[k>>2]=f,p=v-y|0,(y|0)<0?(f=f-y|0,A[S>>2]=p,A[k>>2]=f,A[h>>2]=0,v=0):(p=v,v=y),(p|0)<0&&(v=v-p|0,A[h>>2]=v,f=f-p|0,A[k>>2]=f,A[S>>2]=0,p=0),w=v-f|0,y=p-f|0,(f|0)<0?(A[h>>2]=w,A[S>>2]=y,A[k>>2]=0,v=w,f=0):y=p,p=(y|0)<(v|0)?y:v,p=(f|0)<(p|0)?f:p,!((p|0)<=0)&&(A[h>>2]=v-p,A[S>>2]=y-p,A[k>>2]=f-p)}function Ne(h){h=h|0;var f=0,p=0,v=0,y=0,w=0,S=0,k=0;f=A[h>>2]|0,S=h+4|0,v=A[S>>2]|0,k=h+8|0,p=A[k>>2]|0,y=v+f|0,A[h>>2]=y,v=p+v|0,A[S>>2]=v,f=p+f|0,A[k>>2]=f,p=v-y|0,(y|0)<0?(f=f-y|0,A[S>>2]=p,A[k>>2]=f,A[h>>2]=0,v=0):(p=v,v=y),(p|0)<0&&(v=v-p|0,A[h>>2]=v,f=f-p|0,A[k>>2]=f,A[S>>2]=0,p=0),w=v-f|0,y=p-f|0,(f|0)<0?(A[h>>2]=w,A[S>>2]=y,A[k>>2]=0,v=w,f=0):y=p,p=(y|0)<(v|0)?y:v,p=(f|0)<(p|0)?f:p,!((p|0)<=0)&&(A[h>>2]=v-p,A[S>>2]=y-p,A[k>>2]=f-p)}function ze(h){switch(h=h|0,h|0){case 1:{h=5;break}case 5:{h=4;break}case 4:{h=6;break}case 6:{h=2;break}case 2:{h=3;break}case 3:{h=1;break}}return h|0}function Ze(h){switch(h=h|0,h|0){case 1:{h=3;break}case 3:{h=2;break}case 2:{h=6;break}case 6:{h=4;break}case 4:{h=5;break}case 5:{h=1;break}}return h|0}function gt(h){h=h|0;var f=0,p=0,v=0,y=0,w=0,S=0,k=0;f=A[h>>2]|0,S=h+4|0,p=A[S>>2]|0,k=h+8|0,v=A[k>>2]|0,y=p+(f<<1)|0,A[h>>2]=y,p=v+(p<<1)|0,A[S>>2]=p,f=(v<<1)+f|0,A[k>>2]=f,v=p-y|0,(y|0)<0?(f=f-y|0,A[S>>2]=v,A[k>>2]=f,A[h>>2]=0,p=v,v=0):v=y,(p|0)<0&&(v=v-p|0,A[h>>2]=v,f=f-p|0,A[k>>2]=f,A[S>>2]=0,p=0),w=v-f|0,y=p-f|0,(f|0)<0?(A[h>>2]=w,A[S>>2]=y,A[k>>2]=0,v=w,f=0):y=p,p=(y|0)<(v|0)?y:v,p=(f|0)<(p|0)?f:p,!((p|0)<=0)&&(A[h>>2]=v-p,A[S>>2]=y-p,A[k>>2]=f-p)}function _t(h){h=h|0;var f=0,p=0,v=0,y=0,w=0,S=0,k=0;y=A[h>>2]|0,S=h+4|0,f=A[S>>2]|0,k=h+8|0,p=A[k>>2]|0,v=(f<<1)+y|0,y=p+(y<<1)|0,A[h>>2]=y,A[S>>2]=v,f=(p<<1)+f|0,A[k>>2]=f,p=v-y|0,(y|0)<0?(f=f-y|0,A[S>>2]=p,A[k>>2]=f,A[h>>2]=0,y=0):p=v,(p|0)<0&&(y=y-p|0,A[h>>2]=y,f=f-p|0,A[k>>2]=f,A[S>>2]=0,p=0),w=y-f|0,v=p-f|0,(f|0)<0?(A[h>>2]=w,A[S>>2]=v,A[k>>2]=0,y=w,f=0):v=p,p=(v|0)<(y|0)?v:y,p=(f|0)<(p|0)?f:p,!((p|0)<=0)&&(A[h>>2]=y-p,A[S>>2]=v-p,A[k>>2]=f-p)}function Ht(h,f){h=h|0,f=f|0;var p=0,v=0,y=0,w=0,S=0,k=0;return S=(A[h>>2]|0)-(A[f>>2]|0)|0,k=(S|0)<0,v=(A[h+4>>2]|0)-(A[f+4>>2]|0)-(k?S:0)|0,w=(v|0)<0,y=(k?0-S|0:0)+(A[h+8>>2]|0)-(A[f+8>>2]|0)+(w?0-v|0:0)|0,h=(y|0)<0,f=h?0:y,p=(w?0:v)-(h?y:0)|0,y=(k?0:S)-(w?v:0)-(h?y:0)|0,h=(p|0)<(y|0)?p:y,h=(f|0)<(h|0)?f:h,v=(h|0)>0,f=f-(v?h:0)|0,p=p-(v?h:0)|0,h=y-(v?h:0)|0,h=(h|0)>-1?h:0-h|0,p=(p|0)>-1?p:0-p|0,f=(f|0)>-1?f:0-f|0,f=(p|0)>(f|0)?p:f,((h|0)>(f|0)?h:f)|0}function ar(h,f){h=h|0,f=f|0;var p=0;p=A[h+8>>2]|0,A[f>>2]=(A[h>>2]|0)-p,A[f+4>>2]=(A[h+4>>2]|0)-p}function Pr(h,f){h=h|0,f=f|0;var p=0,v=0,y=0,w=0,S=0,k=0;return v=A[h>>2]|0,A[f>>2]=v,y=A[h+4>>2]|0,S=f+4|0,A[S>>2]=y,k=f+8|0,A[k>>2]=0,p=(y|0)<(v|0),h=p?v:y,p=p?y:v,(p|0)<0&&((p|0)==-2147483648||((h|0)>0?(2147483647-h|0)<(p|0):(-2147483648-h|0)>(p|0))||((h|0)>-1?(h|-2147483648|0)>=(p|0):(h^-2147483648|0)<(p|0)))?(f=1,f|0):(h=y-v|0,(v|0)<0?(p=0-v|0,A[S>>2]=h,A[k>>2]=p,A[f>>2]=0,v=0):(h=y,p=0),(h|0)<0&&(v=v-h|0,A[f>>2]=v,p=p-h|0,A[k>>2]=p,A[S>>2]=0,h=0),w=v-p|0,y=h-p|0,(p|0)<0?(A[f>>2]=w,A[S>>2]=y,A[k>>2]=0,h=y,y=w,p=0):y=v,v=(h|0)<(y|0)?h:y,v=(p|0)<(v|0)?p:v,(v|0)<=0?(f=0,f|0):(A[f>>2]=y-v,A[S>>2]=h-v,A[k>>2]=p-v,f=0,f|0))}function Nr(h){h=h|0;var f=0,p=0,v=0,y=0;f=h+8|0,y=A[f>>2]|0,p=y-(A[h>>2]|0)|0,A[h>>2]=p,v=h+4|0,h=(A[v>>2]|0)-y|0,A[v>>2]=h,A[f>>2]=0-(h+p)}function on(h){h=h|0;var f=0,p=0,v=0,y=0,w=0,S=0,k=0;p=A[h>>2]|0,f=0-p|0,A[h>>2]=f,S=h+8|0,A[S>>2]=0,k=h+4|0,v=A[k>>2]|0,y=v+p|0,(p|0)>0?(A[k>>2]=y,A[S>>2]=p,A[h>>2]=0,f=0,v=y):p=0,(v|0)<0?(w=f-v|0,A[h>>2]=w,p=p-v|0,A[S>>2]=p,A[k>>2]=0,y=w-p|0,f=0-p|0,(p|0)<0?(A[h>>2]=y,A[k>>2]=f,A[S>>2]=0,v=f,p=0):(v=0,y=w)):y=f,f=(v|0)<(y|0)?v:y,f=(p|0)<(f|0)?p:f,!((f|0)<=0)&&(A[h>>2]=y-f,A[k>>2]=v-f,A[S>>2]=p-f)}function zn(h,f,p,v,y){h=h|0,f=f|0,p=p|0,v=v|0,y=y|0;var w=0,S=0,k=0,M=0,j=0,Y=0,ve=0;if(ve=he,he=he+64|0,Y=ve,k=ve+56|0,!(!0&(f&2013265920|0)==134217728&(!0&(v&2013265920|0)==134217728)))return y=5,he=ve,y|0;if((h|0)==(p|0)&(f|0)==(v|0))return A[y>>2]=0,y=0,he=ve,y|0;if(S=re(h|0,f|0,52)|0,we()|0,S=S&15,j=re(p|0,v|0,52)|0,we()|0,(S|0)!=(j&15|0))return y=12,he=ve,y|0;if(w=S+-1|0,S>>>0>1){el(h,f,w,Y)|0,el(p,v,w,k)|0,j=Y,M=A[j>>2]|0,j=A[j+4>>2]|0;e:do if((M|0)==(A[k>>2]|0)&&(j|0)==(A[k+4>>2]|0)){S=(S^15)*3|0,w=re(h|0,f|0,S|0)|0,we()|0,w=w&7,S=re(p|0,v|0,S|0)|0,we()|0,S=S&7;do if((w|0)==0|(S|0)==0)A[y>>2]=1,w=0;else if((w|0)==7)w=5;else{if((w|0)==1|(S|0)==1&&Qr(M,j)|0){w=5;break}if((A[15536+(w<<2)>>2]|0)!=(S|0)&&(A[15568+(w<<2)>>2]|0)!=(S|0))break e;A[y>>2]=1,w=0}while(!1);return y=w,he=ve,y|0}while(!1)}w=Y,S=w+56|0;do A[w>>2]=0,w=w+4|0;while((w|0)<(S|0));return di(h,f,1,Y)|0,f=Y,!((A[f>>2]|0)==(p|0)&&(A[f+4>>2]|0)==(v|0))&&(f=Y+8|0,!((A[f>>2]|0)==(p|0)&&(A[f+4>>2]|0)==(v|0)))&&(f=Y+16|0,!((A[f>>2]|0)==(p|0)&&(A[f+4>>2]|0)==(v|0)))&&(f=Y+24|0,!((A[f>>2]|0)==(p|0)&&(A[f+4>>2]|0)==(v|0)))&&(f=Y+32|0,!((A[f>>2]|0)==(p|0)&&(A[f+4>>2]|0)==(v|0)))&&(f=Y+40|0,!((A[f>>2]|0)==(p|0)&&(A[f+4>>2]|0)==(v|0)))?(w=Y+48|0,w=((A[w>>2]|0)==(p|0)?(A[w+4>>2]|0)==(v|0):0)&1):w=1,A[y>>2]=w,y=0,he=ve,y|0}function Ai(h,f,p,v,y){return h=h|0,f=f|0,p=p|0,v=v|0,y=y|0,p=va(h,f,p,v)|0,(p|0)==7?(y=11,y|0):(v=ie(p|0,0,56)|0,f=f&-2130706433|(we()|0)|268435456,A[y>>2]=h|v,A[y+4>>2]=f,y=0,y|0)}function Pn(h,f,p){return h=h|0,f=f|0,p=p|0,!0&(f&2013265920|0)==268435456?(A[p>>2]=h,A[p+4>>2]=f&-2130706433|134217728,p=0,p|0):(p=6,p|0)}function bi(h,f,p){h=h|0,f=f|0,p=p|0;var v=0,y=0,w=0;return y=he,he=he+16|0,v=y,A[v>>2]=0,!0&(f&2013265920|0)==268435456?(w=re(h|0,f|0,56)|0,we()|0,v=Dn(h,f&-2130706433|134217728,w&7,v,p)|0,he=y,v|0):(v=6,he=y,v|0)}function Jn(h,f){h=h|0,f=f|0;var p=0;switch(p=re(h|0,f|0,56)|0,we()|0,p&7){case 0:case 7:return p=0,p|0}return p=f&-2130706433|134217728,!(!0&(f&2013265920|0)==268435456)||!0&(f&117440512|0)==16777216&(Qr(h,p)|0)!=0?(p=0,p|0):(p=zc(h,p)|0,p|0)}function Fi(h,f,p){h=h|0,f=f|0,p=p|0;var v=0,y=0,w=0,S=0;return y=he,he=he+16|0,v=y,!0&(f&2013265920|0)==268435456?(w=f&-2130706433|134217728,S=p,A[S>>2]=h,A[S+4>>2]=w,A[v>>2]=0,f=re(h|0,f|0,56)|0,we()|0,v=Dn(h,w,f&7,v,p+8|0)|0,he=y,v|0):(v=6,he=y,v|0)}function wa(h,f,p){h=h|0,f=f|0,p=p|0;var v=0,y=0;return y=(Qr(h,f)|0)==0,f=f&-2130706433,v=p,A[v>>2]=y?h:0,A[v+4>>2]=y?f|285212672:0,v=p+8|0,A[v>>2]=h,A[v+4>>2]=f|301989888,v=p+16|0,A[v>>2]=h,A[v+4>>2]=f|318767104,v=p+24|0,A[v>>2]=h,A[v+4>>2]=f|335544320,v=p+32|0,A[v>>2]=h,A[v+4>>2]=f|352321536,p=p+40|0,A[p>>2]=h,A[p+4>>2]=f|369098752,0}function wo(h,f,p){h=h|0,f=f|0,p=p|0;var v=0,y=0,w=0,S=0;return S=he,he=he+16|0,y=S,w=f&-2130706433|134217728,!0&(f&2013265920|0)==268435456?(v=re(h|0,f|0,56)|0,we()|0,v=pp(h,w,v&7)|0,(v|0)==-1?(A[p>>2]=0,w=6,he=S,w|0):(Eo(h,w,y)|0&&hr(27795,26932,282,26947),f=re(h|0,f|0,52)|0,we()|0,f=f&15,Qr(h,w)|0?Ks(y,f,v,2,p):Ea(y,f,v,2,p),w=0,he=S,w|0)):(w=6,he=S,w|0)}function xa(h,f,p){h=h|0,f=f|0,p=p|0;var v=0,y=0;v=he,he=he+16|0,y=v,$l(h,f,p,y),as(y,p+4|0),he=v}function $l(h,f,p,v){h=h|0,f=f|0,p=p|0,v=v|0;var y=0,w=0,S=0,k=0,M=0;if(k=he,he=he+16|0,M=k,Uc(h,p,M),w=+Is(+(1-+ce[M>>3]*.5)),w<1e-16){A[v>>2]=0,A[v+4>>2]=0,A[v+8>>2]=0,A[v+12>>2]=0,he=k;return}if(M=A[p>>2]|0,y=+ce[15920+(M*24|0)>>3],y=+so(y-+so(+wf(15600+(M<<4)|0,h))),Ci(f)|0?S=+so(y+-.3334731722518321):S=y,y=+Qn(+w)*2.618033988749896,(f|0)>0){h=0;do y=y*2.6457513110645907,h=h+1|0;while((h|0)!=(f|0))}w=+Lr(+S)*y,ce[v>>3]=w,S=+wr(+S)*y,ce[v+8>>3]=S,he=k}function Uc(h,f,p){h=h|0,f=f|0,p=p|0;var v=0,y=0,w=0;if(w=he,he=he+32|0,y=w,Ap(h,y),A[f>>2]=0,ce[p>>3]=5,v=+sn(16400,y),v<+ce[p>>3]&&(A[f>>2]=0,ce[p>>3]=v),v=+sn(16424,y),v<+ce[p>>3]&&(A[f>>2]=1,ce[p>>3]=v),v=+sn(16448,y),v<+ce[p>>3]&&(A[f>>2]=2,ce[p>>3]=v),v=+sn(16472,y),v<+ce[p>>3]&&(A[f>>2]=3,ce[p>>3]=v),v=+sn(16496,y),v<+ce[p>>3]&&(A[f>>2]=4,ce[p>>3]=v),v=+sn(16520,y),v<+ce[p>>3]&&(A[f>>2]=5,ce[p>>3]=v),v=+sn(16544,y),v<+ce[p>>3]&&(A[f>>2]=6,ce[p>>3]=v),v=+sn(16568,y),v<+ce[p>>3]&&(A[f>>2]=7,ce[p>>3]=v),v=+sn(16592,y),v<+ce[p>>3]&&(A[f>>2]=8,ce[p>>3]=v),v=+sn(16616,y),v<+ce[p>>3]&&(A[f>>2]=9,ce[p>>3]=v),v=+sn(16640,y),v<+ce[p>>3]&&(A[f>>2]=10,ce[p>>3]=v),v=+sn(16664,y),v<+ce[p>>3]&&(A[f>>2]=11,ce[p>>3]=v),v=+sn(16688,y),v<+ce[p>>3]&&(A[f>>2]=12,ce[p>>3]=v),v=+sn(16712,y),v<+ce[p>>3]&&(A[f>>2]=13,ce[p>>3]=v),v=+sn(16736,y),v<+ce[p>>3]&&(A[f>>2]=14,ce[p>>3]=v),v=+sn(16760,y),v<+ce[p>>3]&&(A[f>>2]=15,ce[p>>3]=v),v=+sn(16784,y),v<+ce[p>>3]&&(A[f>>2]=16,ce[p>>3]=v),v=+sn(16808,y),v<+ce[p>>3]&&(A[f>>2]=17,ce[p>>3]=v),v=+sn(16832,y),v<+ce[p>>3]&&(A[f>>2]=18,ce[p>>3]=v),v=+sn(16856,y),!(v<+ce[p>>3])){he=w;return}A[f>>2]=19,ce[p>>3]=v,he=w}function us(h,f,p,v,y){h=h|0,f=f|0,p=p|0,v=v|0,y=y|0;var w=0,S=0,k=0;if(w=+ia(h),w<1e-16){f=15600+(f<<4)|0,A[y>>2]=A[f>>2],A[y+4>>2]=A[f+4>>2],A[y+8>>2]=A[f+8>>2],A[y+12>>2]=A[f+12>>2];return}if(S=+Di(+ +ce[h+8>>3],+ +ce[h>>3]),(p|0)>0){h=0;do w=w*.37796447300922725,h=h+1|0;while((h|0)!=(p|0))}k=w*.3333333333333333,v?(p=(Ci(p)|0)==0,w=+ma(+((p?k:k*.37796447300922725)*.381966011250105))):(w=+ma(+(w*.381966011250105)),Ci(p)|0&&(S=+so(S+.3334731722518321))),Eh(15600+(f<<4)|0,+so(+ce[15920+(f*24|0)>>3]-S),w,y)}function zl(h,f,p){h=h|0,f=f|0,p=p|0;var v=0,y=0;v=he,he=he+16|0,y=v,Vo(h+4|0,y),us(y,A[h>>2]|0,f,0,p),he=v}function Ks(h,f,p,v,y){h=h|0,f=f|0,p=p|0,v=v|0,y=y|0;var w=0,S=0,k=0,M=0,j=0,Y=0,ve=0,Pe=0,_e=0,ye=0,je=0,Fe=0,Ge=0,qe=0,Ye=0,Ue=0,yt=0,Mt=0,Rt=0,jt=0,Lt=0,Ut=0,Bt=0,Ct=0,vt=0,Xt=0,dr=0,rr=0;if(Xt=he,he=he+272|0,w=Xt+256|0,qe=Xt+240|0,Bt=Xt,Ct=Xt+224|0,vt=Xt+208|0,Ye=Xt+176|0,Ue=Xt+160|0,yt=Xt+192|0,Mt=Xt+144|0,Rt=Xt+128|0,jt=Xt+112|0,Lt=Xt+96|0,Ut=Xt+80|0,A[w>>2]=f,A[qe>>2]=A[h>>2],A[qe+4>>2]=A[h+4>>2],A[qe+8>>2]=A[h+8>>2],A[qe+12>>2]=A[h+12>>2],Sa(qe,w,Bt),A[y>>2]=0,qe=v+p+((v|0)==5&1)|0,(qe|0)<=(p|0)){he=Xt;return}M=A[w>>2]|0,j=Ct+4|0,Y=Ye+4|0,ve=p+5|0,Pe=16880+(M<<2)|0,_e=16960+(M<<2)|0,ye=Rt+8|0,je=jt+8|0,Fe=Lt+8|0,Ge=vt+4|0,k=p;e:for(;;){S=Bt+(((k|0)%5|0)<<4)|0,A[vt>>2]=A[S>>2],A[vt+4>>2]=A[S+4>>2],A[vt+8>>2]=A[S+8>>2],A[vt+12>>2]=A[S+12>>2];do;while((ei(vt,M,0,1)|0)==2);if((k|0)>(p|0)&(Ci(f)|0)!=0){if(A[Ye>>2]=A[vt>>2],A[Ye+4>>2]=A[vt+4>>2],A[Ye+8>>2]=A[vt+8>>2],A[Ye+12>>2]=A[vt+12>>2],Vo(j,Ue),v=A[Ye>>2]|0,w=A[17040+(v*80|0)+(A[Ct>>2]<<2)>>2]|0,A[Ye>>2]=A[18640+(v*80|0)+(w*20|0)>>2],S=A[18640+(v*80|0)+(w*20|0)+16>>2]|0,(S|0)>0){h=0;do fe(Y),h=h+1|0;while((h|0)<(S|0))}switch(S=18640+(v*80|0)+(w*20|0)+4|0,A[yt>>2]=A[S>>2],A[yt+4>>2]=A[S+4>>2],A[yt+8>>2]=A[S+8>>2],_a(yt,(A[Pe>>2]|0)*3|0),Tn(Y,yt,Y),Zn(Y),Vo(Y,Mt),dr=+(A[_e>>2]|0),ce[Rt>>3]=dr*3,ce[ye>>3]=0,rr=dr*-1.5,ce[jt>>3]=rr,ce[je>>3]=dr*2.598076211353316,ce[Lt>>3]=rr,ce[Fe>>3]=dr*-2.598076211353316,A[17040+((A[Ye>>2]|0)*80|0)+(A[vt>>2]<<2)>>2]|0){case 1:{h=jt,v=Rt;break}case 3:{h=Lt,v=jt;break}case 2:{h=Rt,v=Lt;break}default:{h=12;break e}}Jl(Ue,Mt,v,h,Ut),us(Ut,A[Ye>>2]|0,M,1,y+8+(A[y>>2]<<4)|0),A[y>>2]=(A[y>>2]|0)+1}if((k|0)<(ve|0)&&(Vo(Ge,Ye),us(Ye,A[vt>>2]|0,M,1,y+8+(A[y>>2]<<4)|0),A[y>>2]=(A[y>>2]|0)+1),A[Ct>>2]=A[vt>>2],A[Ct+4>>2]=A[vt+4>>2],A[Ct+8>>2]=A[vt+8>>2],A[Ct+12>>2]=A[vt+12>>2],k=k+1|0,(k|0)>=(qe|0)){h=3;break}}if((h|0)==3){he=Xt;return}else(h|0)==12&&hr(26970,27017,572,27027)}function Sa(h,f,p){h=h|0,f=f|0,p=p|0;var v=0,y=0,w=0,S=0,k=0,M=0;M=he,he=he+128|0,v=M+64|0,y=M,w=v,S=20240,k=w+60|0;do A[w>>2]=A[S>>2],w=w+4|0,S=S+4|0;while((w|0)<(k|0));w=y,S=20304,k=w+60|0;do A[w>>2]=A[S>>2],w=w+4|0,S=S+4|0;while((w|0)<(k|0));k=(Ci(A[f>>2]|0)|0)==0,v=k?v:y,y=h+4|0,gt(y),_t(y),Ci(A[f>>2]|0)|0&&(cs(y),A[f>>2]=(A[f>>2]|0)+1),A[p>>2]=A[h>>2],f=p+4|0,Tn(y,v,f),Zn(f),A[p+16>>2]=A[h>>2],f=p+20|0,Tn(y,v+12|0,f),Zn(f),A[p+32>>2]=A[h>>2],f=p+36|0,Tn(y,v+24|0,f),Zn(f),A[p+48>>2]=A[h>>2],f=p+52|0,Tn(y,v+36|0,f),Zn(f),A[p+64>>2]=A[h>>2],p=p+68|0,Tn(y,v+48|0,p),Zn(p),he=M}function ei(h,f,p,v){h=h|0,f=f|0,p=p|0,v=v|0;var y=0,w=0,S=0,k=0,M=0,j=0,Y=0,ve=0,Pe=0,_e=0,ye=0;if(ye=he,he=he+32|0,Pe=ye+12|0,k=ye,_e=h+4|0,ve=A[16960+(f<<2)>>2]|0,Y=(v|0)!=0,ve=Y?ve*3|0:ve,y=A[_e>>2]|0,j=h+8|0,S=A[j>>2]|0,Y){if(w=h+12|0,v=A[w>>2]|0,y=S+y+v|0,(y|0)==(ve|0))return _e=1,he=ye,_e|0;M=w}else M=h+12|0,v=A[M>>2]|0,y=S+y+v|0;if((y|0)<=(ve|0))return _e=0,he=ye,_e|0;do if((v|0)>0){if(v=A[h>>2]|0,(S|0)>0){w=18640+(v*80|0)+60|0,v=h;break}v=18640+(v*80|0)+40|0,p?(jc(Pe,ve,0,0),Ls(_e,Pe,k),Ne(k),Tn(k,Pe,_e),w=v,v=h):(w=v,v=h)}else w=18640+((A[h>>2]|0)*80|0)+20|0,v=h;while(!1);if(A[v>>2]=A[w>>2],y=w+16|0,(A[y>>2]|0)>0){v=0;do fe(_e),v=v+1|0;while((v|0)<(A[y>>2]|0))}return h=w+4|0,A[Pe>>2]=A[h>>2],A[Pe+4>>2]=A[h+4>>2],A[Pe+8>>2]=A[h+8>>2],f=A[16880+(f<<2)>>2]|0,_a(Pe,Y?f*3|0:f),Tn(_e,Pe,_e),Zn(_e),Y?v=((A[j>>2]|0)+(A[_e>>2]|0)+(A[M>>2]|0)|0)==(ve|0)?1:2:v=2,_e=v,he=ye,_e|0}function Wl(h,f){h=h|0,f=f|0;var p=0;do p=ei(h,f,0,1)|0;while((p|0)==2);return p|0}function Ea(h,f,p,v,y){h=h|0,f=f|0,p=p|0,v=v|0,y=y|0;var w=0,S=0,k=0,M=0,j=0,Y=0,ve=0,Pe=0,_e=0,ye=0,je=0,Fe=0,Ge=0,qe=0,Ye=0,Ue=0,yt=0,Mt=0,Rt=0,jt=0,Lt=0,Ut=0,Bt=0;if(Lt=he,he=he+240|0,w=Lt+224|0,yt=Lt+208|0,Mt=Lt,Rt=Lt+192|0,jt=Lt+176|0,Fe=Lt+160|0,Ge=Lt+144|0,qe=Lt+128|0,Ye=Lt+112|0,Ue=Lt+96|0,A[w>>2]=f,A[yt>>2]=A[h>>2],A[yt+4>>2]=A[h+4>>2],A[yt+8>>2]=A[h+8>>2],A[yt+12>>2]=A[h+12>>2],$c(yt,w,Mt),A[y>>2]=0,je=v+p+((v|0)==6&1)|0,(je|0)<=(p|0)){he=Lt;return}M=A[w>>2]|0,j=p+6|0,Y=16960+(M<<2)|0,ve=Ge+8|0,Pe=qe+8|0,_e=Ye+8|0,ye=Rt+4|0,S=0,k=p,v=-1;e:for(;;){if(w=(k|0)%6|0,h=Mt+(w<<4)|0,A[Rt>>2]=A[h>>2],A[Rt+4>>2]=A[h+4>>2],A[Rt+8>>2]=A[h+8>>2],A[Rt+12>>2]=A[h+12>>2],h=S,S=ei(Rt,M,0,1)|0,(k|0)>(p|0)&(Ci(f)|0)!=0&&(h|0)!=1&&(A[Rt>>2]|0)!=(v|0)){switch(Vo(Mt+(((w+5|0)%6|0)<<4)+4|0,jt),Vo(Mt+(w<<4)+4|0,Fe),Ut=+(A[Y>>2]|0),ce[Ge>>3]=Ut*3,ce[ve>>3]=0,Bt=Ut*-1.5,ce[qe>>3]=Bt,ce[Pe>>3]=Ut*2.598076211353316,ce[Ye>>3]=Bt,ce[_e>>3]=Ut*-2.598076211353316,w=A[yt>>2]|0,A[17040+(w*80|0)+(((v|0)==(w|0)?A[Rt>>2]|0:v)<<2)>>2]|0){case 1:{h=qe,v=Ge;break}case 3:{h=Ye,v=qe;break}case 2:{h=Ge,v=Ye;break}default:{h=8;break e}}Jl(jt,Fe,v,h,Ue),!(ji(jt,Ue)|0)&&!(ji(Fe,Ue)|0)&&(us(Ue,A[yt>>2]|0,M,1,y+8+(A[y>>2]<<4)|0),A[y>>2]=(A[y>>2]|0)+1)}if((k|0)<(j|0)&&(Vo(ye,jt),us(jt,A[Rt>>2]|0,M,1,y+8+(A[y>>2]<<4)|0),A[y>>2]=(A[y>>2]|0)+1),k=k+1|0,(k|0)>=(je|0)){h=3;break}else v=A[Rt>>2]|0}if((h|0)==3){he=Lt;return}else(h|0)==8&&hr(27054,27017,737,27099)}function $c(h,f,p){h=h|0,f=f|0,p=p|0;var v=0,y=0,w=0,S=0,k=0,M=0;M=he,he=he+160|0,v=M+80|0,y=M,w=v,S=20368,k=w+72|0;do A[w>>2]=A[S>>2],w=w+4|0,S=S+4|0;while((w|0)<(k|0));w=y,S=20448,k=w+72|0;do A[w>>2]=A[S>>2],w=w+4|0,S=S+4|0;while((w|0)<(k|0));k=(Ci(A[f>>2]|0)|0)==0,v=k?v:y,y=h+4|0,gt(y),_t(y),Ci(A[f>>2]|0)|0&&(cs(y),A[f>>2]=(A[f>>2]|0)+1),A[p>>2]=A[h>>2],f=p+4|0,Tn(y,v,f),Zn(f),A[p+16>>2]=A[h>>2],f=p+20|0,Tn(y,v+12|0,f),Zn(f),A[p+32>>2]=A[h>>2],f=p+36|0,Tn(y,v+24|0,f),Zn(f),A[p+48>>2]=A[h>>2],f=p+52|0,Tn(y,v+36|0,f),Zn(f),A[p+64>>2]=A[h>>2],f=p+68|0,Tn(y,v+48|0,f),Zn(f),A[p+80>>2]=A[h>>2],p=p+84|0,Tn(y,v+60|0,p),Zn(p),he=M}function Ru(h,f){return h=h|0,f=f|0,f=re(h|0,f|0,52)|0,we()|0,f&15|0}function Ki(h,f){return h=h|0,f=f|0,f=re(h|0,f|0,45)|0,we()|0,f&127|0}function Ds(h,f,p,v){return h=h|0,f=f|0,p=p|0,v=v|0,(p+-1|0)>>>0>14?(v=4,v|0):(p=re(h|0,f|0,(15-p|0)*3|0)|0,we()|0,A[v>>2]=p&7,v=0,v|0)}function Gs(h,f,p,v){h=h|0,f=f|0,p=p|0,v=v|0;var y=0,w=0,S=0,k=0,M=0,j=0;if(h>>>0>15)return v=4,v|0;if(f>>>0>121)return v=17,v|0;S=ie(h|0,0,52)|0,y=we()|0,k=ie(f|0,0,45)|0,y=y|(we()|0)|134225919;e:do if((h|0)>=1){for(k=1,S=(dt[20528+f>>0]|0)!=0,w=-1;;){if(f=A[p+(k+-1<<2)>>2]|0,f>>>0>6){y=18,f=10;break}if(!((f|0)==0|S^1))if((f|0)==1){y=19,f=10;break}else S=0;if(j=(15-k|0)*3|0,M=ie(7,0,j|0)|0,y=y&~(we()|0),f=ie(f|0,((f|0)<0)<<31>>31|0,j|0)|0,w=f|w&~M,y=we()|0|y,(k|0)<(h|0))k=k+1|0;else break e}if((f|0)==10)return y|0}else w=-1;while(!1);return j=v,A[j>>2]=w,A[j+4>>2]=y,j=0,j|0}function zc(h,f){h=h|0,f=f|0;var p=0,v=0,y=0,w=0,S=0;return!(!0&(f&-16777216|0)==134217728)||(v=re(h|0,f|0,52)|0,we()|0,v=v&15,p=re(h|0,f|0,45)|0,we()|0,p=p&127,p>>>0>121)?(h=0,h|0):(S=(v^15)*3|0,y=re(h|0,f|0,S|0)|0,S=ie(y|0,we()|0,S|0)|0,y=we()|0,w=Fn(-1227133514,-1171,S|0,y|0)|0,!((S&613566756&w|0)==0&(y&4681&(we()|0)|0)==0)||(S=(v*3|0)+19|0,w=ie(~h|0,~f|0,S|0)|0,S=re(w|0,we()|0,S|0)|0,!((v|0)==15|(S|0)==0&(we()|0)==0))?(S=0,S|0):!(dt[20528+p>>0]|0)||(f=f&8191,(h|0)==0&(f|0)==0)?(S=1,S|0):(S=Se(h|0,f|0)|0,we()|0,((63-S|0)%3|0|0)!=0|0))}function Ho(h,f){h=h|0,f=f|0;var p=0,v=0,y=0,w=0,S=0;return!0&(f&-16777216|0)==134217728&&(v=re(h|0,f|0,52)|0,we()|0,v=v&15,p=re(h|0,f|0,45)|0,we()|0,p=p&127,p>>>0<=121)&&(S=(v^15)*3|0,y=re(h|0,f|0,S|0)|0,S=ie(y|0,we()|0,S|0)|0,y=we()|0,w=Fn(-1227133514,-1171,S|0,y|0)|0,(S&613566756&w|0)==0&(y&4681&(we()|0)|0)==0)&&(S=(v*3|0)+19|0,w=ie(~h|0,~f|0,S|0)|0,S=re(w|0,we()|0,S|0)|0,(v|0)==15|(S|0)==0&(we()|0)==0)&&(!(dt[20528+p>>0]|0)||(p=f&8191,(h|0)==0&(p|0)==0)||(S=Se(h|0,p|0)|0,we()|0,(63-S|0)%3|0|0))||Jn(h,f)|0?(S=1,S|0):(S=(Pf(h,f)|0)!=0&1,S|0)}function Qs(h,f,p,v){h=h|0,f=f|0,p=p|0,v=v|0;var y=0,w=0,S=0,k=0;if(y=ie(f|0,0,52)|0,w=we()|0,p=ie(p|0,0,45)|0,p=w|(we()|0)|134225919,(f|0)<1){w=-1,v=p,f=h,A[f>>2]=w,h=h+4|0,A[h>>2]=v;return}for(w=1,y=-1;S=(15-w|0)*3|0,k=ie(7,0,S|0)|0,p=p&~(we()|0),S=ie(v|0,0,S|0)|0,y=y&~k|S,p=p|(we()|0),(w|0)!=(f|0);)w=w+1|0;k=h,S=k,A[S>>2]=y,k=k+4|0,A[k>>2]=p}function el(h,f,p,v){h=h|0,f=f|0,p=p|0,v=v|0;var y=0,w=0;if(w=re(h|0,f|0,52)|0,we()|0,w=w&15,p>>>0>15)return v=4,v|0;if((w|0)<(p|0))return v=12,v|0;if((w|0)==(p|0))return A[v>>2]=h,A[v+4>>2]=f,v=0,v|0;if(y=ie(p|0,0,52)|0,y=y|h,h=we()|0|f&-15728641,(w|0)>(p|0))do f=ie(7,0,(14-p|0)*3|0)|0,p=p+1|0,y=f|y,h=we()|0|h;while((p|0)<(w|0));return A[v>>2]=y,A[v+4>>2]=h,v=0,v|0}function Zs(h,f,p,v){h=h|0,f=f|0,p=p|0,v=v|0;var y=0,w=0,S=0;if(w=re(h|0,f|0,52)|0,we()|0,w=w&15,!((p|0)<16&(w|0)<=(p|0)))return v=4,v|0;y=p-w|0,p=re(h|0,f|0,45)|0,we()|0;e:do if(!(dn(p&127)|0))p=hs(7,0,y,((y|0)<0)<<31>>31)|0,y=we()|0;else{t:do if(w|0){for(p=1;S=ie(7,0,(15-p|0)*3|0)|0,!!((S&h|0)==0&((we()|0)&f|0)==0);)if(p>>>0<w>>>0)p=p+1|0;else break t;p=hs(7,0,y,((y|0)<0)<<31>>31)|0,y=we()|0;break e}while(!1);p=hs(7,0,y,((y|0)<0)<<31>>31)|0,p=I(p|0,we()|0,5,0)|0,p=tr(p|0,we()|0,-5,-1)|0,p=gs(p|0,we()|0,6,0)|0,p=tr(p|0,we()|0,1,0)|0,y=we()|0}while(!1);return S=v,A[S>>2]=p,A[S+4>>2]=y,S=0,S|0}function Qr(h,f){h=h|0,f=f|0;var p=0,v=0,y=0;if(y=re(h|0,f|0,45)|0,we()|0,!(dn(y&127)|0))return y=0,y|0;y=re(h|0,f|0,52)|0,we()|0,y=y&15;e:do if(!y)p=0;else for(v=1;;){if(p=re(h|0,f|0,(15-v|0)*3|0)|0,we()|0,p=p&7,p|0)break e;if(v>>>0<y>>>0)v=v+1|0;else{p=0;break}}while(!1);return y=(p|0)==0&1,y|0}function fs(h,f,p,v){h=h|0,f=f|0,p=p|0,v=v|0;var y=0,w=0,S=0,k=0;if(S=he,he=he+16|0,w=S,An(w,h,f,p),f=w,h=A[f>>2]|0,f=A[f+4>>2]|0,(h|0)==0&(f|0)==0)return he=S,0;y=0,p=0;do k=v+(y<<3)|0,A[k>>2]=h,A[k+4>>2]=f,y=tr(y|0,p|0,1,0)|0,p=we()|0,ti(w),k=w,h=A[k>>2]|0,f=A[k+4>>2]|0;while(!((h|0)==0&(f|0)==0));return he=S,0}function xo(h,f,p,v){return h=h|0,f=f|0,p=p|0,v=v|0,(v|0)<(p|0)?(p=f,v=h,gr(p|0),v|0):(p=ie(-1,-1,((v-p|0)*3|0)+3|0)|0,v=ie(~p|0,~(we()|0)|0,(15-v|0)*3|0)|0,p=~(we()|0)&f,v=~v&h,gr(p|0),v|0)}function So(h,f,p,v){h=h|0,f=f|0,p=p|0,v=v|0;var y=0;return y=re(h|0,f|0,52)|0,we()|0,y=y&15,(p|0)<16&(y|0)<=(p|0)?((y|0)<(p|0)&&(y=ie(-1,-1,((p+-1-y|0)*3|0)+3|0)|0,y=ie(~y|0,~(we()|0)|0,(15-p|0)*3|0)|0,f=~(we()|0)&f,h=~y&h),y=ie(p|0,0,52)|0,p=f&-15728641|(we()|0),A[v>>2]=h|y,A[v+4>>2]=p,v=0,v|0):(v=4,v|0)}function tl(h,f,p,v){h=h|0,f=f|0,p=p|0,v=v|0;var y=0,w=0,S=0,k=0,M=0,j=0,Y=0,ve=0,Pe=0,_e=0,ye=0,je=0,Fe=0,Ge=0,qe=0,Ye=0,Ue=0,yt=0,Mt=0,Rt=0,jt=0,Lt=0,Ut=0,Bt=0,Ct=0,vt=0;if((p|0)==0&(v|0)==0)return vt=0,vt|0;if(y=h,w=A[y>>2]|0,y=A[y+4>>2]|0,!0&(y&15728640|0)==0){if(!((v|0)>0|(v|0)==0&p>>>0>0)||(vt=f,A[vt>>2]=w,A[vt+4>>2]=y,(p|0)==1&(v|0)==0))return vt=0,vt|0;y=1,w=0;do Bt=h+(y<<3)|0,Ct=A[Bt+4>>2]|0,vt=f+(y<<3)|0,A[vt>>2]=A[Bt>>2],A[vt+4>>2]=Ct,y=tr(y|0,w|0,1,0)|0,w=we()|0;while((w|0)<(v|0)|(w|0)==(v|0)&y>>>0<p>>>0);return y=0,y|0}if(Ut=p<<3,Ct=qn(Ut)|0,!Ct)return vt=13,vt|0;if(ot(Ct|0,h|0,Ut|0)|0,Bt=co(p,8)|0,!Bt)return er(Ct),vt=13,vt|0;e:for(;;){y=Ct,j=A[y>>2]|0,y=A[y+4>>2]|0,jt=re(j|0,y|0,52)|0,we()|0,jt=jt&15,Lt=jt+-1|0,Rt=(jt|0)!=0,Mt=(v|0)>0|(v|0)==0&p>>>0>0;t:do if(Rt&Mt){if(qe=ie(Lt|0,0,52)|0,Ye=we()|0,Lt>>>0>15){if(!((j|0)==0&(y|0)==0)){vt=16;break e}for(w=0,h=0;;){if(w=tr(w|0,h|0,1,0)|0,h=we()|0,!((h|0)<(v|0)|(h|0)==(v|0)&w>>>0<p>>>0))break t;if(S=Ct+(w<<3)|0,yt=A[S>>2]|0,S=A[S+4>>2]|0,!((yt|0)==0&(S|0)==0)){y=S,vt=16;break e}}}for(k=j,h=y,w=0,S=0;;){if(!((k|0)==0&(h|0)==0)){if(!(!0&(h&117440512|0)==0)){vt=21;break e}if(Y=re(k|0,h|0,52)|0,we()|0,Y=Y&15,(Y|0)<(Lt|0)){y=12,vt=27;break e}if((Y|0)!=(Lt|0)&&(k=k|qe,h=h&-15728641|Ye,Y>>>0>=jt>>>0)){M=Lt;do yt=ie(7,0,(14-M|0)*3|0)|0,M=M+1|0,k=yt|k,h=we()|0|h;while(M>>>0<Y>>>0)}if(Pe=J(k|0,h|0,p|0,v|0)|0,_e=we()|0,M=Bt+(Pe<<3)|0,Y=M,ve=A[Y>>2]|0,Y=A[Y+4>>2]|0,!((ve|0)==0&(Y|0)==0)){Fe=0,Ge=0;do{if((Fe|0)>(v|0)|(Fe|0)==(v|0)&Ge>>>0>p>>>0){vt=31;break e}if((ve|0)==(k|0)&(Y&-117440513|0)==(h|0)){ye=re(ve|0,Y|0,56)|0,we()|0,ye=ye&7,je=ye+1|0,yt=re(ve|0,Y|0,45)|0,we()|0;r:do if(!(dn(yt&127)|0))Y=7;else{if(ve=re(ve|0,Y|0,52)|0,we()|0,ve=ve&15,!ve){Y=6;break}for(Y=1;;){if(yt=ie(7,0,(15-Y|0)*3|0)|0,!((yt&k|0)==0&((we()|0)&h|0)==0)){Y=7;break r}if(Y>>>0<ve>>>0)Y=Y+1|0;else{Y=6;break}}}while(!1);if((ye+2|0)>>>0>Y>>>0){vt=41;break e}yt=ie(je|0,0,56)|0,h=we()|0|h&-117440513,Ue=M,A[Ue>>2]=0,A[Ue+4>>2]=0,k=yt|k}else Pe=tr(Pe|0,_e|0,1,0)|0,Pe=W(Pe|0,we()|0,p|0,v|0)|0,_e=we()|0;Ge=tr(Ge|0,Fe|0,1,0)|0,Fe=we()|0,M=Bt+(Pe<<3)|0,Y=M,ve=A[Y>>2]|0,Y=A[Y+4>>2]|0}while(!((ve|0)==0&(Y|0)==0))}yt=M,A[yt>>2]=k,A[yt+4>>2]=h}if(w=tr(w|0,S|0,1,0)|0,S=we()|0,!((S|0)<(v|0)|(S|0)==(v|0)&w>>>0<p>>>0))break t;h=Ct+(w<<3)|0,k=A[h>>2]|0,h=A[h+4>>2]|0}}while(!1);if(yt=tr(p|0,v|0,5,0)|0,Ue=we()|0,Ue>>>0<0|(Ue|0)==0&yt>>>0<11){vt=85;break}if(yt=gs(p|0,v|0,6,0)|0,we()|0,yt=co(yt,8)|0,!yt){vt=48;break}do if(Mt){for(je=0,h=0,ye=0,Fe=0;;){if(Y=Bt+(je<<3)|0,S=Y,w=A[S>>2]|0,S=A[S+4>>2]|0,(w|0)==0&(S|0)==0)Ue=ye;else{ve=re(w|0,S|0,56)|0,we()|0,ve=ve&7,k=ve+1|0,Pe=S&-117440513,Ue=re(w|0,S|0,45)|0,we()|0;t:do if(dn(Ue&127)|0){if(_e=re(w|0,S|0,52)|0,we()|0,_e=_e&15,_e|0)for(M=1;;){if(Ue=ie(7,0,(15-M|0)*3|0)|0,!((w&Ue|0)==0&(Pe&(we()|0)|0)==0))break t;if(M>>>0<_e>>>0)M=M+1|0;else break}S=ie(k|0,0,56)|0,w=S|w,S=we()|0|Pe,k=Y,A[k>>2]=w,A[k+4>>2]=S,k=ve+2|0}while(!1);(k|0)==7?(Ue=yt+(h<<3)|0,A[Ue>>2]=w,A[Ue+4>>2]=S&-117440513,h=tr(h|0,ye|0,1,0)|0,Ue=we()|0):Ue=ye}if(je=tr(je|0,Fe|0,1,0)|0,Fe=we()|0,(Fe|0)<(v|0)|(Fe|0)==(v|0)&je>>>0<p>>>0)ye=Ue;else break}if(Mt){if(Ge=Lt>>>0>15,qe=ie(Lt|0,0,52)|0,Ye=we()|0,!Rt){for(w=0,M=0,k=0,S=0;(j|0)==0&(y|0)==0||(Lt=f+(w<<3)|0,A[Lt>>2]=j,A[Lt+4>>2]=y,w=tr(w|0,M|0,1,0)|0,M=we()|0),k=tr(k|0,S|0,1,0)|0,S=we()|0,!!((S|0)<(v|0)|(S|0)==(v|0)&k>>>0<p>>>0);)y=Ct+(k<<3)|0,j=A[y>>2]|0,y=A[y+4>>2]|0;y=Ue;break}for(w=0,M=0,S=0,k=0;;){do if(!((j|0)==0&(y|0)==0)){if(_e=re(j|0,y|0,52)|0,we()|0,_e=_e&15,Ge|(_e|0)<(Lt|0)){vt=80;break e}if((_e|0)!=(Lt|0)){if(Y=j|qe,ve=y&-15728641|Ye,_e>>>0>=jt>>>0){Pe=Lt;do Rt=ie(7,0,(14-Pe|0)*3|0)|0,Pe=Pe+1|0,Y=Rt|Y,ve=we()|0|ve;while(Pe>>>0<_e>>>0)}}else Y=j,ve=y;ye=J(Y|0,ve|0,p|0,v|0)|0,Pe=0,_e=0,Fe=we()|0;do{if((Pe|0)>(v|0)|(Pe|0)==(v|0)&_e>>>0>p>>>0){vt=81;break e}if(Rt=Bt+(ye<<3)|0,je=A[Rt+4>>2]|0,(je&-117440513|0)==(ve|0)&&(A[Rt>>2]|0)==(Y|0)){vt=65;break}Rt=tr(ye|0,Fe|0,1,0)|0,ye=W(Rt|0,we()|0,p|0,v|0)|0,Fe=we()|0,_e=tr(_e|0,Pe|0,1,0)|0,Pe=we()|0,Rt=Bt+(ye<<3)|0}while(!((A[Rt>>2]|0)==(Y|0)&&(A[Rt+4>>2]|0)==(ve|0)));if((vt|0)==65&&(vt=0,!0&(je&117440512|0)==100663296))break;Rt=f+(w<<3)|0,A[Rt>>2]=j,A[Rt+4>>2]=y,w=tr(w|0,M|0,1,0)|0,M=we()|0}while(!1);if(S=tr(S|0,k|0,1,0)|0,k=we()|0,!((k|0)<(v|0)|(k|0)==(v|0)&S>>>0<p>>>0))break;y=Ct+(S<<3)|0,j=A[y>>2]|0,y=A[y+4>>2]|0}y=Ue}else w=0,y=Ue}else w=0,h=0,y=0;while(!1);if(Oe(Bt|0,0,Ut|0)|0,ot(Ct|0,yt|0,h<<3|0)|0,er(yt),(h|0)==0&(y|0)==0){vt=89;break}else f=f+(w<<3)|0,v=y,p=h}if((vt|0)==16)!0&(y&117440512|0)==0?(y=4,vt=27):vt=21;else if((vt|0)==31)hr(27795,27122,620,27132);else{if((vt|0)==41)return er(Ct),er(Bt),vt=10,vt|0;if((vt|0)==48)return er(Ct),er(Bt),vt=13,vt|0;(vt|0)==80?hr(27795,27122,711,27132):(vt|0)==81?hr(27795,27122,723,27132):(vt|0)==85&&(ot(f|0,Ct|0,p<<3|0)|0,vt=89)}return(vt|0)==21?(er(Ct),er(Bt),vt=5,vt|0):(vt|0)==27?(er(Ct),er(Bt),vt=y,vt|0):(vt|0)==89?(er(Ct),er(Bt),vt=0,vt|0):0}function Js(h,f,p,v,y,w,S){h=h|0,f=f|0,p=p|0,v=v|0,y=y|0,w=w|0,S=S|0;var k=0,M=0,j=0,Y=0,ve=0,Pe=0,_e=0,ye=0,je=0;if(je=he,he=he+16|0,ye=je,!((p|0)>0|(p|0)==0&f>>>0>0))return ye=0,he=je,ye|0;if((S|0)>=16)return ye=12,he=je,ye|0;Pe=0,_e=0,ve=0,k=0;e:for(;;){if(j=h+(Pe<<3)|0,M=A[j>>2]|0,j=A[j+4>>2]|0,Y=re(M|0,j|0,52)|0,we()|0,(Y&15|0)>(S|0)){k=12,M=11;break}if(An(ye,M,j,S),Y=ye,j=A[Y>>2]|0,Y=A[Y+4>>2]|0,(j|0)==0&(Y|0)==0)M=ve;else{M=ve;do{if(!((k|0)<(w|0)|(k|0)==(w|0)&M>>>0<y>>>0)){M=10;break e}ve=v+(M<<3)|0,A[ve>>2]=j,A[ve+4>>2]=Y,M=tr(M|0,k|0,1,0)|0,k=we()|0,ti(ye),ve=ye,j=A[ve>>2]|0,Y=A[ve+4>>2]|0}while(!((j|0)==0&(Y|0)==0))}if(Pe=tr(Pe|0,_e|0,1,0)|0,_e=we()|0,(_e|0)<(p|0)|(_e|0)==(p|0)&Pe>>>0<f>>>0)ve=M;else{k=0,M=11;break}}return(M|0)==10?(ye=14,he=je,ye|0):(M|0)==11?(he=je,k|0):0}function Ta(h,f,p,v,y){h=h|0,f=f|0,p=p|0,v=v|0,y=y|0;var w=0,S=0,k=0,M=0,j=0,Y=0,ve=0,Pe=0;Pe=he,he=he+16|0,ve=Pe;e:do if((p|0)>0|(p|0)==0&f>>>0>0){for(j=0,S=0,w=0,Y=0;;){if(M=h+(j<<3)|0,k=A[M>>2]|0,M=A[M+4>>2]|0,!((k|0)==0&(M|0)==0)&&(M=(Zs(k,M,v,ve)|0)==0,k=ve,S=tr(A[k>>2]|0,A[k+4>>2]|0,S|0,w|0)|0,w=we()|0,!M)){w=12;break}if(j=tr(j|0,Y|0,1,0)|0,Y=we()|0,!((Y|0)<(p|0)|(Y|0)==(p|0)&j>>>0<f>>>0))break e}return he=Pe,w|0}else S=0,w=0;while(!1);return A[y>>2]=S,A[y+4>>2]=w,y=0,he=Pe,y|0}function Pa(h,f){return h=h|0,f=f|0,f=re(h|0,f|0,52)|0,we()|0,f&1|0}function Wn(h,f){h=h|0,f=f|0;var p=0,v=0,y=0;if(y=re(h|0,f|0,52)|0,we()|0,y=y&15,!y)return y=0,y|0;for(v=1;;){if(p=re(h|0,f|0,(15-v|0)*3|0)|0,we()|0,p=p&7,p|0){v=5;break}if(v>>>0<y>>>0)v=v+1|0;else{p=0,v=5;break}}return(v|0)==5?p|0:0}function Vn(h,f){h=h|0,f=f|0;var p=0,v=0,y=0,w=0,S=0,k=0,M=0;if(M=re(h|0,f|0,52)|0,we()|0,M=M&15,!M)return k=f,M=h,gr(k|0),M|0;for(k=1,p=0;;){w=(15-k|0)*3|0,v=ie(7,0,w|0)|0,y=we()|0,S=re(h|0,f|0,w|0)|0,we()|0,w=ie(ze(S&7)|0,0,w|0)|0,S=we()|0,h=w|h&~v,f=S|f&~y;e:do if(!p)if((w&v|0)==0&(S&y|0)==0)p=0;else if(v=re(h|0,f|0,52)|0,we()|0,v=v&15,!v)p=1;else{p=1;t:for(;;){switch(S=re(h|0,f|0,(15-p|0)*3|0)|0,we()|0,S&7){case 1:break t;case 0:break;default:{p=1;break e}}if(p>>>0<v>>>0)p=p+1|0;else{p=1;break e}}for(p=1;;)if(S=(15-p|0)*3|0,y=re(h|0,f|0,S|0)|0,we()|0,w=ie(7,0,S|0)|0,f=f&~(we()|0),S=ie(ze(y&7)|0,0,S|0)|0,h=h&~w|S,f=f|(we()|0),p>>>0<v>>>0)p=p+1|0;else{p=1;break}}while(!1);if(k>>>0<M>>>0)k=k+1|0;else break}return gr(f|0),h|0}function qo(h,f){h=h|0,f=f|0;var p=0,v=0,y=0,w=0,S=0;if(v=re(h|0,f|0,52)|0,we()|0,v=v&15,!v)return p=f,v=h,gr(p|0),v|0;for(p=1;w=(15-p|0)*3|0,S=re(h|0,f|0,w|0)|0,we()|0,y=ie(7,0,w|0)|0,f=f&~(we()|0),w=ie(ze(S&7)|0,0,w|0)|0,h=w|h&~y,f=we()|0|f,p>>>0<v>>>0;)p=p+1|0;return gr(f|0),h|0}function ea(h,f){h=h|0,f=f|0;var p=0,v=0,y=0,w=0,S=0,k=0,M=0;if(M=re(h|0,f|0,52)|0,we()|0,M=M&15,!M)return k=f,M=h,gr(k|0),M|0;for(k=1,p=0;;){w=(15-k|0)*3|0,v=ie(7,0,w|0)|0,y=we()|0,S=re(h|0,f|0,w|0)|0,we()|0,w=ie(Ze(S&7)|0,0,w|0)|0,S=we()|0,h=w|h&~v,f=S|f&~y;e:do if(!p)if((w&v|0)==0&(S&y|0)==0)p=0;else if(v=re(h|0,f|0,52)|0,we()|0,v=v&15,!v)p=1;else{p=1;t:for(;;){switch(S=re(h|0,f|0,(15-p|0)*3|0)|0,we()|0,S&7){case 1:break t;case 0:break;default:{p=1;break e}}if(p>>>0<v>>>0)p=p+1|0;else{p=1;break e}}for(p=1;;)if(y=(15-p|0)*3|0,w=ie(7,0,y|0)|0,S=f&~(we()|0),f=re(h|0,f|0,y|0)|0,we()|0,f=ie(Ze(f&7)|0,0,y|0)|0,h=h&~w|f,f=S|(we()|0),p>>>0<v>>>0)p=p+1|0;else{p=1;break}}while(!1);if(k>>>0<M>>>0)k=k+1|0;else break}return gr(f|0),h|0}function Xo(h,f){h=h|0,f=f|0;var p=0,v=0,y=0,w=0,S=0;if(v=re(h|0,f|0,52)|0,we()|0,v=v&15,!v)return p=f,v=h,gr(p|0),v|0;for(p=1;S=(15-p|0)*3|0,w=ie(7,0,S|0)|0,y=f&~(we()|0),f=re(h|0,f|0,S|0)|0,we()|0,f=ie(Ze(f&7)|0,0,S|0)|0,h=f|h&~w,f=we()|0|y,p>>>0<v>>>0;)p=p+1|0;return gr(f|0),h|0}function Vl(h,f){h=h|0,f=f|0;var p=0,v=0,y=0,w=0,S=0,k=0,M=0,j=0,Y=0;if(M=he,he=he+64|0,k=M+40|0,v=M+24|0,y=M+12|0,w=M,ie(f|0,0,52)|0,p=we()|0|134225919,!f)return(A[h+4>>2]|0)>2||(A[h+8>>2]|0)>2||(A[h+12>>2]|0)>2?(S=0,k=0,gr(S|0),he=M,k|0):(ie(Ns(h)|0,0,45)|0,S=we()|0|p,k=-1,gr(S|0),he=M,k|0);if(A[k>>2]=A[h>>2],A[k+4>>2]=A[h+4>>2],A[k+8>>2]=A[h+8>>2],A[k+12>>2]=A[h+12>>2],S=k+4|0,(f|0)>0)for(h=-1;A[v>>2]=A[S>>2],A[v+4>>2]=A[S+4>>2],A[v+8>>2]=A[S+8>>2],f&1?(Ys(S),A[y>>2]=A[S>>2],A[y+4>>2]=A[S+4>>2],A[y+8>>2]=A[S+8>>2],oo(y)):(Bi(S),A[y>>2]=A[S>>2],A[y+4>>2]=A[S+4>>2],A[y+8>>2]=A[S+8>>2],cs(y)),Ls(v,y,w),Zn(w),Y=(15-f|0)*3|0,j=ie(7,0,Y|0)|0,p=p&~(we()|0),Y=ie(Ja(w)|0,0,Y|0)|0,h=Y|h&~j,p=we()|0|p,(f|0)>1;)f=f+-1|0;else h=-1;e:do if((A[S>>2]|0)<=2&&(A[k+8>>2]|0)<=2&&(A[k+12>>2]|0)<=2){if(v=Ns(k)|0,f=ie(v|0,0,45)|0,f=f|h,h=we()|0|p&-1040385,w=_o(k)|0,!(dn(v)|0)){if((w|0)<=0)break;for(y=0;;){if(v=re(f|0,h|0,52)|0,we()|0,v=v&15,v)for(p=1;Y=(15-p|0)*3|0,k=re(f|0,h|0,Y|0)|0,we()|0,j=ie(7,0,Y|0)|0,h=h&~(we()|0),Y=ie(ze(k&7)|0,0,Y|0)|0,f=f&~j|Y,h=h|(we()|0),p>>>0<v>>>0;)p=p+1|0;if(y=y+1|0,(y|0)==(w|0))break e}}y=re(f|0,h|0,52)|0,we()|0,y=y&15;t:do if(y){p=1;r:for(;;){switch(Y=re(f|0,h|0,(15-p|0)*3|0)|0,we()|0,Y&7){case 1:break r;case 0:break;default:break t}if(p>>>0<y>>>0)p=p+1|0;else break t}if(br(v,A[k>>2]|0)|0)for(p=1;k=(15-p|0)*3|0,j=ie(7,0,k|0)|0,Y=h&~(we()|0),h=re(f|0,h|0,k|0)|0,we()|0,h=ie(Ze(h&7)|0,0,k|0)|0,f=f&~j|h,h=Y|(we()|0),p>>>0<y>>>0;)p=p+1|0;else for(p=1;Y=(15-p|0)*3|0,k=re(f|0,h|0,Y|0)|0,we()|0,j=ie(7,0,Y|0)|0,h=h&~(we()|0),Y=ie(ze(k&7)|0,0,Y|0)|0,f=f&~j|Y,h=h|(we()|0),p>>>0<y>>>0;)p=p+1|0}while(!1);if((w|0)>0){p=0;do f=Vn(f,h)|0,h=we()|0,p=p+1|0;while((p|0)!=(w|0))}}else f=0,h=0;while(!1);return j=h,Y=f,gr(j|0),he=M,Y|0}function Ci(h){return h=h|0,(h|0)%2|0|0}function rl(h,f,p){h=h|0,f=f|0,p=p|0;var v=0,y=0;return y=he,he=he+16|0,v=y,f>>>0>15?(v=4,he=y,v|0):(A[h+4>>2]&2146435072|0)==2146435072||(A[h+8+4>>2]&2146435072|0)==2146435072?(v=3,he=y,v|0):(xa(h,f,v),f=Vl(v,f)|0,v=we()|0,A[p>>2]=f,A[p+4>>2]=v,(f|0)==0&(v|0)==0&&hr(27795,27122,1050,27145),v=0,he=y,v|0)}function nl(h,f,p){h=h|0,f=f|0,p=p|0;var v=0,y=0,w=0,S=0;if(y=p+4|0,w=re(h|0,f|0,52)|0,we()|0,w=w&15,S=re(h|0,f|0,45)|0,we()|0,v=(w|0)==0,dn(S&127)|0){if(v)return S=1,S|0;v=1}else{if(v)return S=0,S|0;(A[y>>2]|0)==0&&(A[p+8>>2]|0)==0?v=(A[p+12>>2]|0)!=0&1:v=1}for(p=1;p&1?oo(y):cs(y),S=re(h|0,f|0,(15-p|0)*3|0)|0,we()|0,F(y,S&7),p>>>0<w>>>0;)p=p+1|0;return v|0}function Eo(h,f,p){h=h|0,f=f|0,p=p|0;var v=0,y=0,w=0,S=0,k=0,M=0,j=0,Y=0;if(Y=he,he=he+16|0,M=Y,j=re(h|0,f|0,45)|0,we()|0,j=j&127,j>>>0>121)return A[p>>2]=0,A[p+4>>2]=0,A[p+8>>2]=0,A[p+12>>2]=0,j=5,he=Y,j|0;e:do if((dn(j)|0)!=0&&(w=re(h|0,f|0,52)|0,we()|0,w=w&15,(w|0)!=0)){v=1;t:for(;;){switch(k=re(h|0,f|0,(15-v|0)*3|0)|0,we()|0,k&7){case 5:break t;case 0:break;default:{v=f;break e}}if(v>>>0<w>>>0)v=v+1|0;else{v=f;break e}}for(y=1,v=f;f=(15-y|0)*3|0,S=ie(7,0,f|0)|0,k=v&~(we()|0),v=re(h|0,v|0,f|0)|0,we()|0,v=ie(Ze(v&7)|0,0,f|0)|0,h=h&~S|v,v=k|(we()|0),y>>>0<w>>>0;)y=y+1|0}else v=f;while(!1);if(k=7696+(j*28|0)|0,A[p>>2]=A[k>>2],A[p+4>>2]=A[k+4>>2],A[p+8>>2]=A[k+8>>2],A[p+12>>2]=A[k+12>>2],!(nl(h,v,p)|0))return j=0,he=Y,j|0;if(S=p+4|0,A[M>>2]=A[S>>2],A[M+4>>2]=A[S+4>>2],A[M+8>>2]=A[S+8>>2],w=re(h|0,v|0,52)|0,we()|0,k=w&15,w&1?(cs(S),w=k+1|0):w=k,!(dn(j)|0))v=0;else{e:do if(!k)v=0;else for(f=1;;){if(y=re(h|0,v|0,(15-f|0)*3|0)|0,we()|0,y=y&7,y|0){v=y;break e}if(f>>>0<k>>>0)f=f+1|0;else{v=0;break}}while(!1);v=(v|0)==4&1}if(!(ei(p,w,v,0)|0))(w|0)!=(k|0)&&(A[S>>2]=A[M>>2],A[S+4>>2]=A[M+4>>2],A[S+8>>2]=A[M+8>>2]);else{if(dn(j)|0)do;while((ei(p,w,0,0)|0)!=0);(w|0)!=(k|0)&&Bi(S)}return j=0,he=Y,j|0}function To(h,f,p){h=h|0,f=f|0,p=p|0;var v=0,y=0,w=0;return w=he,he=he+16|0,v=w,y=Eo(h,f,v)|0,y|0?(he=w,y|0):(y=re(h|0,f|0,52)|0,we()|0,zl(v,y&15,p),y=0,he=w,y|0)}function Yo(h,f,p){h=h|0,f=f|0,p=p|0;var v=0,y=0,w=0,S=0,k=0;if(S=he,he=he+16|0,w=S,v=Eo(h,f,w)|0,v|0)return w=v,he=S,w|0;v=re(h|0,f|0,45)|0,we()|0,v=(dn(v&127)|0)==0,y=re(h|0,f|0,52)|0,we()|0,y=y&15;e:do if(!v){if(y|0)for(v=1;;){if(k=ie(7,0,(15-v|0)*3|0)|0,!((k&h|0)==0&((we()|0)&f|0)==0))break e;if(v>>>0<y>>>0)v=v+1|0;else break}return Ks(w,y,0,5,p),k=0,he=S,k|0}while(!1);return Ea(w,y,0,6,p),k=0,he=S,k|0}function Hl(h,f,p){h=h|0,f=f|0,p=p|0;var v=0,y=0,w=0;if(y=re(h|0,f|0,45)|0,we()|0,!(dn(y&127)|0))return y=2,A[p>>2]=y,0;if(y=re(h|0,f|0,52)|0,we()|0,y=y&15,!y)return y=5,A[p>>2]=y,0;for(v=1;;){if(w=ie(7,0,(15-v|0)*3|0)|0,!((w&h|0)==0&((we()|0)&f|0)==0)){v=2,h=6;break}if(v>>>0<y>>>0)v=v+1|0;else{v=5,h=6;break}}return(h|0)==6&&(A[p>>2]=v),0}function Ca(h,f,p){h=h|0,f=f|0,p=p|0;var v=0,y=0,w=0,S=0,k=0,M=0,j=0,Y=0,ve=0;ve=he,he=he+128|0,j=ve+112|0,w=ve+96|0,Y=ve,y=re(h|0,f|0,52)|0,we()|0,k=y&15,A[j>>2]=k,S=re(h|0,f|0,45)|0,we()|0,S=S&127;e:do if(dn(S)|0){if(k|0)for(v=1;;){if(M=ie(7,0,(15-v|0)*3|0)|0,!((M&h|0)==0&((we()|0)&f|0)==0)){y=0;break e}if(v>>>0<k>>>0)v=v+1|0;else break}if(y&1)y=1;else return M=ie(k+1|0,0,52)|0,Y=we()|0|f&-15728641,j=ie(7,0,(14-k|0)*3|0)|0,Y=Ca((M|h)&~j,Y&~(we()|0),p)|0,he=ve,Y|0}else y=0;while(!1);if(v=Eo(h,f,w)|0,!v){y?(Sa(w,j,Y),M=5):($c(w,j,Y),M=6);e:do if(dn(S)|0)if(!k)h=5;else for(v=1;;){if(S=ie(7,0,(15-v|0)*3|0)|0,!((S&h|0)==0&((we()|0)&f|0)==0)){h=2;break e}if(v>>>0<k>>>0)v=v+1|0;else{h=5;break}}else h=2;while(!1);Oe(p|0,-1,h<<2|0)|0;e:do if(y)for(w=0;;){if(S=Y+(w<<4)|0,Wl(S,A[j>>2]|0)|0,S=A[S>>2]|0,k=A[p>>2]|0,(k|0)==-1|(k|0)==(S|0))v=p;else{y=0;do{if(y=y+1|0,y>>>0>=h>>>0){v=1;break e}v=p+(y<<2)|0,k=A[v>>2]|0}while(!((k|0)==-1|(k|0)==(S|0)))}if(A[v>>2]=S,w=w+1|0,w>>>0>=M>>>0){v=0;break}}else for(w=0;;){if(S=Y+(w<<4)|0,ei(S,A[j>>2]|0,0,1)|0,S=A[S>>2]|0,k=A[p>>2]|0,(k|0)==-1|(k|0)==(S|0))v=p;else{y=0;do{if(y=y+1|0,y>>>0>=h>>>0){v=1;break e}v=p+(y<<2)|0,k=A[v>>2]|0}while(!((k|0)==-1|(k|0)==(S|0)))}if(A[v>>2]=S,w=w+1|0,w>>>0>=M>>>0){v=0;break}}while(!1)}return Y=v,he=ve,Y|0}function ql(){return 12}function Bn(h,f){h=h|0,f=f|0;var p=0,v=0,y=0,w=0,S=0,k=0,M=0;if(h>>>0>15)return k=4,k|0;if(ie(h|0,0,52)|0,k=we()|0|134225919,!h){p=0,v=0;do dn(v)|0&&(ie(v|0,0,45)|0,S=k|(we()|0),h=f+(p<<3)|0,A[h>>2]=-1,A[h+4>>2]=S,p=p+1|0),v=v+1|0;while((v|0)!=122);return p=0,p|0}p=0,S=0;do{if(dn(S)|0){for(ie(S|0,0,45)|0,v=1,y=-1,w=k|(we()|0);M=ie(7,0,(15-v|0)*3|0)|0,y=y&~M,w=w&~(we()|0),(v|0)!=(h|0);)v=v+1|0;M=f+(p<<3)|0,A[M>>2]=y,A[M+4>>2]=w,p=p+1|0}S=S+1|0}while((S|0)!=122);return p=0,p|0}function Po(h,f,p,v){h=h|0,f=f|0,p=p|0,v=v|0;var y=0,w=0,S=0,k=0,M=0,j=0,Y=0,ve=0,Pe=0,_e=0,ye=0,je=0,Fe=0,Ge=0,qe=0;if(qe=he,he=he+16|0,Fe=qe,Ge=re(h|0,f|0,52)|0,we()|0,Ge=Ge&15,p>>>0>15)return Ge=4,he=qe,Ge|0;if((Ge|0)<(p|0))return Ge=12,he=qe,Ge|0;if((Ge|0)!=(p|0))if(w=ie(p|0,0,52)|0,w=w|h,k=we()|0|f&-15728641,(Ge|0)>(p|0)){M=p;do je=ie(7,0,(14-M|0)*3|0)|0,M=M+1|0,w=je|w,k=we()|0|k;while((M|0)<(Ge|0));je=w}else je=w;else je=h,k=f;ye=re(je|0,k|0,45)|0,we()|0;e:do if(dn(ye&127)|0){if(M=re(je|0,k|0,52)|0,we()|0,M=M&15,M|0)for(w=1;;){if(ye=ie(7,0,(15-w|0)*3|0)|0,!((ye&je|0)==0&((we()|0)&k|0)==0)){j=33;break e}if(w>>>0<M>>>0)w=w+1|0;else break}if(ye=v,A[ye>>2]=0,A[ye+4>>2]=0,(Ge|0)>(p|0)){for(ye=f&-15728641,_e=Ge;;){if(Pe=_e,_e=_e+-1|0,_e>>>0>15|(Ge|0)<(_e|0)){j=19;break}if((Ge|0)!=(_e|0))if(w=ie(_e|0,0,52)|0,w=w|h,M=we()|0|ye,(Ge|0)<(Pe|0))ve=w;else{j=_e;do ve=ie(7,0,(14-j|0)*3|0)|0,j=j+1|0,w=ve|w,M=we()|0|M;while((j|0)<(Ge|0));ve=w}else ve=h,M=f;if(Y=re(ve|0,M|0,45)|0,we()|0,!(dn(Y&127)|0))w=0;else{Y=re(ve|0,M|0,52)|0,we()|0,Y=Y&15;t:do if(!Y)w=0;else for(j=1;;){if(w=re(ve|0,M|0,(15-j|0)*3|0)|0,we()|0,w=w&7,w|0)break t;if(j>>>0<Y>>>0)j=j+1|0;else{w=0;break}}while(!1);w=(w|0)==0&1}if(M=re(h|0,f|0,(15-Pe|0)*3|0)|0,we()|0,M=M&7,(M|0)==7){y=5,j=42;break}if(w=(w|0)!=0,(M|0)==1&w){y=5,j=42;break}if(ve=M+(((M|0)!=0&w)<<31>>31)|0,ve|0&&(j=Ge-Pe|0,j=hs(7,0,j,((j|0)<0)<<31>>31)|0,Y=we()|0,w?(w=I(j|0,Y|0,5,0)|0,w=tr(w|0,we()|0,-5,-1)|0,w=gs(w|0,we()|0,6,0)|0,w=tr(w|0,we()|0,1,0)|0,M=we()|0):(w=j,M=Y),Pe=ve+-1|0,Pe=I(j|0,Y|0,Pe|0,((Pe|0)<0)<<31>>31|0)|0,Pe=tr(w|0,M|0,Pe|0,we()|0)|0,ve=we()|0,Y=v,Y=tr(Pe|0,ve|0,A[Y>>2]|0,A[Y+4>>2]|0)|0,ve=we()|0,Pe=v,A[Pe>>2]=Y,A[Pe+4>>2]=ve),(_e|0)<=(p|0)){j=37;break}}if((j|0)==19)hr(27795,27122,1367,27158);else if((j|0)==37){S=v,y=A[S+4>>2]|0,S=A[S>>2]|0;break}else if((j|0)==42)return he=qe,y|0}else y=0,S=0}else j=33;while(!1);e:do if((j|0)==33)if(ye=v,A[ye>>2]=0,A[ye+4>>2]=0,(Ge|0)>(p|0)){for(w=Ge;;){if(y=re(h|0,f|0,(15-w|0)*3|0)|0,we()|0,y=y&7,(y|0)==7){y=5;break}if(S=Ge-w|0,S=hs(7,0,S,((S|0)<0)<<31>>31)|0,y=I(S|0,we()|0,y|0,0)|0,S=we()|0,ye=v,S=tr(A[ye>>2]|0,A[ye+4>>2]|0,y|0,S|0)|0,y=we()|0,ye=v,A[ye>>2]=S,A[ye+4>>2]=y,w=w+-1|0,(w|0)<=(p|0))break e}return he=qe,y|0}else y=0,S=0;while(!1);return Zs(je,k,Ge,Fe)|0&&hr(27795,27122,1327,27173),Ge=Fe,Fe=A[Ge+4>>2]|0,((y|0)>-1|(y|0)==-1&S>>>0>4294967295)&((Fe|0)>(y|0)|((Fe|0)==(y|0)?(A[Ge>>2]|0)>>>0>S>>>0:0))?(Ge=0,he=qe,Ge|0):(hr(27795,27122,1407,27158),0)}function cn(h,f,p,v,y,w){h=h|0,f=f|0,p=p|0,v=v|0,y=y|0,w=w|0;var S=0,k=0,M=0,j=0,Y=0,ve=0,Pe=0,_e=0,ye=0,je=0;if(ve=he,he=he+16|0,S=ve,y>>>0>15)return w=4,he=ve,w|0;if(k=re(p|0,v|0,52)|0,we()|0,k=k&15,(k|0)>(y|0))return w=12,he=ve,w|0;if(Zs(p,v,y,S)|0&&hr(27795,27122,1327,27173),Y=S,j=A[Y+4>>2]|0,!(((f|0)>-1|(f|0)==-1&h>>>0>4294967295)&((j|0)>(f|0)|((j|0)==(f|0)?(A[Y>>2]|0)>>>0>h>>>0:0))))return w=2,he=ve,w|0;Y=y-k|0,y=ie(y|0,0,52)|0,M=we()|0|v&-15728641,j=w,A[j>>2]=y|p,A[j+4>>2]=M,j=re(p|0,v|0,45)|0,we()|0;e:do if(dn(j&127)|0){if(k|0)for(S=1;;){if(j=ie(7,0,(15-S|0)*3|0)|0,!((j&p|0)==0&((we()|0)&v|0)==0))break e;if(S>>>0<k>>>0)S=S+1|0;else break}if((Y|0)<1)return w=0,he=ve,w|0;for(j=k^15,v=-1,M=1,S=1;;){k=Y-M|0,k=hs(7,0,k,((k|0)<0)<<31>>31)|0,p=we()|0;do if(S)if(S=I(k|0,p|0,5,0)|0,S=tr(S|0,we()|0,-5,-1)|0,S=gs(S|0,we()|0,6,0)|0,y=we()|0,(f|0)>(y|0)|(f|0)==(y|0)&h>>>0>S>>>0){f=tr(h|0,f|0,-1,-1)|0,f=Fn(f|0,we()|0,S|0,y|0)|0,S=we()|0,Pe=w,ye=A[Pe>>2]|0,Pe=A[Pe+4>>2]|0,je=(j+v|0)*3|0,_e=ie(7,0,je|0)|0,Pe=Pe&~(we()|0),v=gs(f|0,S|0,k|0,p|0)|0,h=we()|0,y=tr(v|0,h|0,2,0)|0,je=ie(y|0,we()|0,je|0)|0,Pe=we()|0|Pe,y=w,A[y>>2]=je|ye&~_e,A[y+4>>2]=Pe,h=I(v|0,h|0,k|0,p|0)|0,h=Fn(f|0,S|0,h|0,we()|0)|0,S=0,f=we()|0;break}else{je=w,_e=A[je>>2]|0,je=A[je+4>>2]|0,ye=ie(7,0,(j+v|0)*3|0)|0,je=je&~(we()|0),S=w,A[S>>2]=_e&~ye,A[S+4>>2]=je,S=1;break}else _e=w,y=A[_e>>2]|0,_e=A[_e+4>>2]|0,v=(j+v|0)*3|0,Pe=ie(7,0,v|0)|0,_e=_e&~(we()|0),je=gs(h|0,f|0,k|0,p|0)|0,S=we()|0,v=ie(je|0,S|0,v|0)|0,_e=we()|0|_e,ye=w,A[ye>>2]=v|y&~Pe,A[ye+4>>2]=_e,S=I(je|0,S|0,k|0,p|0)|0,h=Fn(h|0,f|0,S|0,we()|0)|0,S=0,f=we()|0;while(!1);if((Y|0)>(M|0))v=~M,M=M+1|0;else{f=0;break}}return he=ve,f|0}while(!1);if((Y|0)<1)return je=0,he=ve,je|0;for(y=k^15,S=1;;)if(ye=Y-S|0,ye=hs(7,0,ye,((ye|0)<0)<<31>>31)|0,je=we()|0,M=w,p=A[M>>2]|0,M=A[M+4>>2]|0,k=(y-S|0)*3|0,v=ie(7,0,k|0)|0,M=M&~(we()|0),Pe=gs(h|0,f|0,ye|0,je|0)|0,_e=we()|0,k=ie(Pe|0,_e|0,k|0)|0,M=we()|0|M,j=w,A[j>>2]=k|p&~v,A[j+4>>2]=M,je=I(Pe|0,_e|0,ye|0,je|0)|0,h=Fn(h|0,f|0,je|0,we()|0)|0,f=we()|0,(Y|0)<=(S|0)){f=0;break}else S=S+1|0;return he=ve,f|0}function An(h,f,p,v){h=h|0,f=f|0,p=p|0,v=v|0;var y=0,w=0,S=0;y=re(f|0,p|0,52)|0,we()|0,y=y&15,(f|0)==0&(p|0)==0|((v|0)>15|(y|0)>(v|0))?(w=-1,f=-1,p=0,y=0):(f=xo(f,p,y+1|0,v)|0,S=(we()|0)&-15728641,p=ie(v|0,0,52)|0,p=f|p,S=S|(we()|0),f=(Qr(p,S)|0)==0,w=y,f=f?-1:v,y=S),S=h,A[S>>2]=p,A[S+4>>2]=y,A[h+8>>2]=w,A[h+12>>2]=f}function Hn(h,f,p,v){h=h|0,f=f|0,p=p|0,v=v|0;var y=0,w=0;if(y=re(h|0,f|0,52)|0,we()|0,y=y&15,w=v+8|0,A[w>>2]=y,(h|0)==0&(f|0)==0|((p|0)>15|(y|0)>(p|0))){p=v,A[p>>2]=0,A[p+4>>2]=0,A[w>>2]=-1,A[v+12>>2]=-1;return}if(h=xo(h,f,y+1|0,p)|0,w=(we()|0)&-15728641,y=ie(p|0,0,52)|0,y=h|y,w=w|(we()|0),h=v,A[h>>2]=y,A[h+4>>2]=w,h=v+12|0,Qr(y,w)|0){A[h>>2]=p;return}else{A[h>>2]=-1;return}}function ti(h){h=h|0;var f=0,p=0,v=0,y=0,w=0,S=0,k=0,M=0,j=0;if(p=h,f=A[p>>2]|0,p=A[p+4>>2]|0,!((f|0)==0&(p|0)==0)&&(v=re(f|0,p|0,52)|0,we()|0,v=v&15,k=ie(1,0,(v^15)*3|0)|0,f=tr(k|0,we()|0,f|0,p|0)|0,p=we()|0,k=h,A[k>>2]=f,A[k+4>>2]=p,k=h+8|0,S=A[k>>2]|0,!((v|0)<(S|0)))){for(M=h+12|0,w=v;;){if((w|0)==(S|0)){v=5;break}if(j=(w|0)==(A[M>>2]|0),y=(15-w|0)*3|0,v=re(f|0,p|0,y|0)|0,we()|0,v=v&7,j&((v|0)==1&!0)){v=7;break}if(!((v|0)==7&!0)){v=10;break}if(j=ie(1,0,y|0)|0,f=tr(f|0,p|0,j|0,we()|0)|0,p=we()|0,j=h,A[j>>2]=f,A[j+4>>2]=p,(w|0)>(S|0))w=w+-1|0;else{v=10;break}}if((v|0)==5){j=h,A[j>>2]=0,A[j+4>>2]=0,A[k>>2]=-1,A[M>>2]=-1;return}else if((v|0)==7){S=ie(1,0,y|0)|0,S=tr(f|0,p|0,S|0,we()|0)|0,k=we()|0,j=h,A[j>>2]=S,A[j+4>>2]=k,A[M>>2]=w+-1;return}else if((v|0)==10)return}}function so(h){h=+h;var f=0;return f=h<0?h+6.283185307179586:h,+(h>=6.283185307179586?f+-6.283185307179586:f)}function ta(h,f){return h=h|0,f=f|0,+vr(+(+ce[h>>3]-+ce[f>>3]))<17453292519943298e-27?(f=+vr(+(+ce[h+8>>3]-+ce[f+8>>3]))<17453292519943298e-27,f|0):(f=0,f|0)}function ki(h,f){switch(h=+h,f=f|0,f|0){case 1:{h=h<0?h+6.283185307179586:h;break}case 2:{h=h>0?h+-6.283185307179586:h;break}}return+h}function ka(h,f){h=h|0,f=f|0;var p=0,v=0,y=0,w=0;return y=+ce[f>>3],v=+ce[h>>3],w=+wr(+((y-v)*.5)),p=+wr(+((+ce[f+8>>3]-+ce[h+8>>3])*.5)),p=w*w+p*(+Lr(+y)*+Lr(+v)*p),+(+Di(+ +yr(+p),+ +yr(+(1-p)))*2)}function il(h,f){h=h|0,f=f|0;var p=0,v=0,y=0,w=0;return y=+ce[f>>3],v=+ce[h>>3],w=+wr(+((y-v)*.5)),p=+wr(+((+ce[f+8>>3]-+ce[h+8>>3])*.5)),p=w*w+p*(+Lr(+y)*+Lr(+v)*p),+(+Di(+ +yr(+p),+ +yr(+(1-p)))*2*6371.007180918475)}function Wc(h,f){h=h|0,f=f|0;var p=0,v=0,y=0,w=0;return y=+ce[f>>3],v=+ce[h>>3],w=+wr(+((y-v)*.5)),p=+wr(+((+ce[f+8>>3]-+ce[h+8>>3])*.5)),p=w*w+p*(+Lr(+y)*+Lr(+v)*p),+(+Di(+ +yr(+p),+ +yr(+(1-p)))*2*6371.007180918475*1e3)}function wf(h,f){h=h|0,f=f|0;var p=0,v=0,y=0,w=0,S=0;return w=+ce[f>>3],v=+Lr(+w),y=+ce[f+8>>3]-+ce[h+8>>3],S=v*+wr(+y),p=+ce[h>>3],+ +Di(+S,+(+wr(+w)*+Lr(+p)-+Lr(+y)*(v*+wr(+p))))}function Eh(h,f,p,v){h=h|0,f=+f,p=+p,v=v|0;var y=0,w=0,S=0,k=0;if(p<1e-16){A[v>>2]=A[h>>2],A[v+4>>2]=A[h+4>>2],A[v+8>>2]=A[h+8>>2],A[v+12>>2]=A[h+12>>2];return}w=f<0?f+6.283185307179586:f,w=f>=6.283185307179586?w+-6.283185307179586:w;do if(w<1e-16)f=+ce[h>>3]+p,ce[v>>3]=f,y=v;else{if(y=+vr(+(w+-3.141592653589793))<1e-16,f=+ce[h>>3],y){f=f-p,ce[v>>3]=f,y=v;break}if(S=+Lr(+p),p=+wr(+p),f=S*+wr(+f)+ +Lr(+w)*(p*+Lr(+f)),f=f>1?1:f,f=+Nl(+(f<-1?-1:f)),ce[v>>3]=f,+vr(+(f+-1.5707963267948966))<1e-16){ce[v>>3]=1.5707963267948966,ce[v+8>>3]=0;return}if(+vr(+(f+1.5707963267948966))<1e-16){ce[v>>3]=-1.5707963267948966,ce[v+8>>3]=0;return}if(k=1/+Lr(+f),w=p*+wr(+w)*k,p=+ce[h>>3],f=k*((S-+wr(+f)*+wr(+p))/+Lr(+p)),S=w>1?1:w,f=f>1?1:f,f=+ce[h+8>>3]+ +Di(+(S<-1?-1:S),+(f<-1?-1:f)),f>3.141592653589793)do f=f+-6.283185307179586;while(f>3.141592653589793);if(f<-3.141592653589793)do f=f+6.283185307179586;while(f<-3.141592653589793);ce[v+8>>3]=f;return}while(!1);if(+vr(+(f+-1.5707963267948966))<1e-16){ce[y>>3]=1.5707963267948966,ce[v+8>>3]=0;return}if(+vr(+(f+1.5707963267948966))<1e-16){ce[y>>3]=-1.5707963267948966,ce[v+8>>3]=0;return}if(f=+ce[h+8>>3],f>3.141592653589793)do f=f+-6.283185307179586;while(f>3.141592653589793);if(f<-3.141592653589793)do f=f+6.283185307179586;while(f<-3.141592653589793);ce[v+8>>3]=f}function Vc(h,f){return h=h|0,f=f|0,h>>>0>15?(f=4,f|0):(ce[f>>3]=+ce[20656+(h<<3)>>3],f=0,f|0)}function Xl(h,f){return h=h|0,f=f|0,h>>>0>15?(f=4,f|0):(ce[f>>3]=+ce[20784+(h<<3)>>3],f=0,f|0)}function Yl(h,f){return h=h|0,f=f|0,h>>>0>15?(f=4,f|0):(ce[f>>3]=+ce[20912+(h<<3)>>3],f=0,f|0)}function Th(h,f){return h=h|0,f=f|0,h>>>0>15?(f=4,f|0):(ce[f>>3]=+ce[21040+(h<<3)>>3],f=0,f|0)}function ol(h,f){h=h|0,f=f|0;var p=0;return h>>>0>15?(f=4,f|0):(p=hs(7,0,h,((h|0)<0)<<31>>31)|0,p=I(p|0,we()|0,120,0)|0,h=we()|0,A[f>>2]=p|2,A[f+4>>2]=h,f=0,f|0)}function xf(h,f,p){h=h|0,f=f|0,p=p|0;var v=0,y=0,w=0,S=0,k=0,M=0,j=0,Y=0,ve=0,Pe=0;return Pe=+ce[f>>3],Y=+ce[h>>3],M=+wr(+((Pe-Y)*.5)),w=+ce[f+8>>3],j=+ce[h+8>>3],S=+wr(+((w-j)*.5)),k=+Lr(+Y),ve=+Lr(+Pe),S=M*M+S*(ve*k*S),S=+Di(+ +yr(+S),+ +yr(+(1-S)))*2,M=+ce[p>>3],Pe=+wr(+((M-Pe)*.5)),v=+ce[p+8>>3],w=+wr(+((v-w)*.5)),y=+Lr(+M),w=Pe*Pe+w*(ve*y*w),w=+Di(+ +yr(+w),+ +yr(+(1-w)))*2,M=+wr(+((Y-M)*.5)),v=+wr(+((j-v)*.5)),v=M*M+v*(k*y*v),v=+Di(+ +yr(+v),+ +yr(+(1-v)))*2,y=(S+w+v)*.5,+(+ma(+ +yr(+(+Qn(+(y*.5))*+Qn(+((y-S)*.5))*+Qn(+((y-w)*.5))*+Qn(+((y-v)*.5)))))*4)}function Iu(h,f,p){h=h|0,f=f|0,p=p|0;var v=0,y=0,w=0,S=0,k=0;if(k=he,he=he+192|0,w=k+168|0,S=k,y=To(h,f,w)|0,y|0)return p=y,he=k,p|0;if(Yo(h,f,S)|0&&hr(27795,27190,415,27199),f=A[S>>2]|0,(f|0)>0){if(v=+xf(S+8|0,S+8+(((f|0)!=1&1)<<4)|0,w)+0,(f|0)!=1){h=1;do y=h,h=h+1|0,v=v+ +xf(S+8+(y<<4)|0,S+8+(((h|0)%(f|0)|0)<<4)|0,w);while((h|0)<(f|0))}}else v=0;return ce[p>>3]=v,p=0,he=k,p|0}function Ph(h,f,p){return h=h|0,f=f|0,p=p|0,h=Iu(h,f,p)|0,h|0||(ce[p>>3]=+ce[p>>3]*6371.007180918475*6371.007180918475),h|0}function Ch(h,f,p){return h=h|0,f=f|0,p=p|0,h=Iu(h,f,p)|0,h|0||(ce[p>>3]=+ce[p>>3]*6371.007180918475*6371.007180918475*1e3*1e3),h|0}function kh(h,f,p){h=h|0,f=f|0,p=p|0;var v=0,y=0,w=0,S=0,k=0,M=0,j=0,Y=0;if(k=he,he=he+176|0,S=k,h=wo(h,f,S)|0,h|0)return S=h,he=k,S|0;if(ce[p>>3]=0,h=A[S>>2]|0,(h|0)<=1)return S=0,he=k,S|0;f=h+-1|0,h=0,v=+ce[S+8>>3],y=+ce[S+16>>3],w=0;do h=h+1|0,j=v,v=+ce[S+8+(h<<4)>>3],Y=+wr(+((v-j)*.5)),M=y,y=+ce[S+8+(h<<4)+8>>3],M=+wr(+((y-M)*.5)),M=Y*Y+M*(+Lr(+v)*+Lr(+j)*M),w=w+ +Di(+ +yr(+M),+ +yr(+(1-M)))*2;while((h|0)<(f|0));return ce[p>>3]=w,S=0,he=k,S|0}function Oh(h,f,p){h=h|0,f=f|0,p=p|0;var v=0,y=0,w=0,S=0,k=0,M=0,j=0,Y=0;if(k=he,he=he+176|0,S=k,h=wo(h,f,S)|0,h|0)return S=h,w=+ce[p>>3],w=w*6371.007180918475,ce[p>>3]=w,he=k,S|0;if(ce[p>>3]=0,h=A[S>>2]|0,(h|0)<=1)return S=0,w=0,w=w*6371.007180918475,ce[p>>3]=w,he=k,S|0;f=h+-1|0,h=0,v=+ce[S+8>>3],y=+ce[S+16>>3],w=0;do h=h+1|0,j=v,v=+ce[S+8+(h<<4)>>3],Y=+wr(+((v-j)*.5)),M=y,y=+ce[S+8+(h<<4)+8>>3],M=+wr(+((y-M)*.5)),M=Y*Y+M*(+Lr(+j)*+Lr(+v)*M),w=w+ +Di(+ +yr(+M),+ +yr(+(1-M)))*2;while((h|0)!=(f|0));return ce[p>>3]=w,S=0,Y=w,Y=Y*6371.007180918475,ce[p>>3]=Y,he=k,S|0}function ra(h,f,p){h=h|0,f=f|0,p=p|0;var v=0,y=0,w=0,S=0,k=0,M=0,j=0,Y=0;if(k=he,he=he+176|0,S=k,h=wo(h,f,S)|0,h|0)return S=h,w=+ce[p>>3],w=w*6371.007180918475,w=w*1e3,ce[p>>3]=w,he=k,S|0;if(ce[p>>3]=0,h=A[S>>2]|0,(h|0)<=1)return S=0,w=0,w=w*6371.007180918475,w=w*1e3,ce[p>>3]=w,he=k,S|0;f=h+-1|0,h=0,v=+ce[S+8>>3],y=+ce[S+16>>3],w=0;do h=h+1|0,j=v,v=+ce[S+8+(h<<4)>>3],Y=+wr(+((v-j)*.5)),M=y,y=+ce[S+8+(h<<4)+8>>3],M=+wr(+((y-M)*.5)),M=Y*Y+M*(+Lr(+j)*+Lr(+v)*M),w=w+ +Di(+ +yr(+M),+ +yr(+(1-M)))*2;while((h|0)!=(f|0));return ce[p>>3]=w,S=0,Y=w,Y=Y*6371.007180918475,Y=Y*1e3,ce[p>>3]=Y,he=k,S|0}function Hc(h){h=h|0;var f=0,p=0,v=0;return f=co(1,12)|0,f||hr(27280,27235,49,27293),p=h+4|0,v=A[p>>2]|0,v|0?(v=v+8|0,A[v>>2]=f,A[p>>2]=f,f|0):(A[h>>2]|0&&hr(27310,27235,61,27333),v=h,A[v>>2]=f,A[p>>2]=f,f|0)}function ao(h,f){h=h|0,f=f|0;var p=0,v=0;return v=qn(24)|0,v||hr(27347,27235,78,27361),A[v>>2]=A[f>>2],A[v+4>>2]=A[f+4>>2],A[v+8>>2]=A[f+8>>2],A[v+12>>2]=A[f+12>>2],A[v+16>>2]=0,f=h+4|0,p=A[f>>2]|0,p|0?(A[p+16>>2]=v,A[f>>2]=v,v|0):(A[h>>2]|0&&hr(27376,27235,82,27361),A[h>>2]=v,A[f>>2]=v,v|0)}function Ko(h){h=h|0;var f=0,p=0,v=0,y=0;if(h)for(v=1;;){if(f=A[h>>2]|0,f|0)do{if(p=A[f>>2]|0,p|0)do y=p,p=A[p+16>>2]|0,er(y);while((p|0)!=0);y=f,f=A[f+8>>2]|0,er(y)}while((f|0)!=0);if(f=h,h=A[h+8>>2]|0,v||er(f),h)v=0;else break}}function Sf(h){h=h|0;var f=0,p=0,v=0,y=0,w=0,S=0,k=0,M=0,j=0,Y=0,ve=0,Pe=0,_e=0,ye=0,je=0,Fe=0,Ge=0,qe=0,Ye=0,Ue=0,yt=0,Mt=0,Rt=0,jt=0,Lt=0,Ut=0,Bt=0,Ct=0,vt=0,Xt=0,dr=0,rr=0;if(y=h+8|0,A[y>>2]|0)return rr=1,rr|0;if(v=A[h>>2]|0,!v)return rr=0,rr|0;f=v,p=0;do p=p+1|0,f=A[f+8>>2]|0;while((f|0)!=0);if(p>>>0<2)return rr=0,rr|0;Xt=qn(p<<2)|0,Xt||hr(27396,27235,317,27415),vt=qn(p<<5)|0,vt||hr(27437,27235,321,27415),A[h>>2]=0,Mt=h+4|0,A[Mt>>2]=0,A[y>>2]=0,p=0,Ct=0,yt=0,ve=0;e:for(;;){if(Y=A[v>>2]|0,Y){w=0,S=Y;do{if(M=+ce[S+8>>3],f=S,S=A[S+16>>2]|0,j=(S|0)==0,y=j?Y:S,k=+ce[y+8>>3],+vr(+(M-k))>3.141592653589793){rr=14;break}w=w+(k-M)*(+ce[f>>3]+ +ce[y>>3])}while(!j);if((rr|0)==14){rr=0,w=0,f=Y;do Ue=+ce[f+8>>3],Bt=f+16|0,Ut=A[Bt>>2]|0,Ut=(Ut|0)==0?Y:Ut,Ye=+ce[Ut+8>>3],w=w+(+ce[f>>3]+ +ce[Ut>>3])*((Ye<0?Ye+6.283185307179586:Ye)-(Ue<0?Ue+6.283185307179586:Ue)),f=A[((f|0)==0?v:Bt)>>2]|0;while((f|0)!=0)}w>0?(A[Xt+(Ct<<2)>>2]=v,Ct=Ct+1|0,y=yt,f=ve):rr=19}else rr=19;if((rr|0)==19){rr=0;do if(p){if(f=p+8|0,A[f>>2]|0){rr=21;break e}if(p=co(1,12)|0,!p){rr=23;break e}A[f>>2]=p,y=p+4|0,S=p,f=ve}else if(ve){y=Mt,S=ve+8|0,f=v,p=h;break}else if(A[h>>2]|0){rr=27;break e}else{y=Mt,S=h,f=v,p=h;break}while(!1);if(A[S>>2]=v,A[y>>2]=v,S=vt+(yt<<5)|0,j=A[v>>2]|0,j){for(Y=vt+(yt<<5)+8|0,ce[Y>>3]=17976931348623157e292,ve=vt+(yt<<5)+24|0,ce[ve>>3]=17976931348623157e292,ce[S>>3]=-17976931348623157e292,Pe=vt+(yt<<5)+16|0,ce[Pe>>3]=-17976931348623157e292,Ge=17976931348623157e292,qe=-17976931348623157e292,y=0,_e=j,M=17976931348623157e292,je=17976931348623157e292,Fe=-17976931348623157e292,k=-17976931348623157e292;w=+ce[_e>>3],Ue=+ce[_e+8>>3],_e=A[_e+16>>2]|0,ye=(_e|0)==0,Ye=+ce[(ye?j:_e)+8>>3],w<M&&(ce[Y>>3]=w,M=w),Ue<je&&(ce[ve>>3]=Ue,je=Ue),w>Fe?ce[S>>3]=w:w=Fe,Ue>k&&(ce[Pe>>3]=Ue,k=Ue),Ge=Ue>0&Ue<Ge?Ue:Ge,qe=Ue<0&Ue>qe?Ue:qe,y=y|+vr(+(Ue-Ye))>3.141592653589793,!ye;)Fe=w;y&&(ce[Pe>>3]=qe,ce[ve>>3]=Ge)}else A[S>>2]=0,A[S+4>>2]=0,A[S+8>>2]=0,A[S+12>>2]=0,A[S+16>>2]=0,A[S+20>>2]=0,A[S+24>>2]=0,A[S+28>>2]=0;y=yt+1|0}if(Bt=v+8|0,v=A[Bt>>2]|0,A[Bt>>2]=0,v)yt=y,ve=f;else{rr=45;break}}if((rr|0)==21)hr(27213,27235,35,27247);else if((rr|0)==23)hr(27267,27235,37,27247);else if((rr|0)==27)hr(27310,27235,61,27333);else if((rr|0)==45){e:do if((Ct|0)>0){for(Bt=(y|0)==0,Lt=y<<2,Ut=(h|0)==0,jt=0,f=0;;){if(Rt=A[Xt+(jt<<2)>>2]|0,Bt)rr=73;else{if(yt=qn(Lt)|0,!yt){rr=50;break}if(Mt=qn(Lt)|0,!Mt){rr=52;break}t:do if(Ut)p=0;else{for(y=0,p=0,S=h;v=vt+(y<<5)|0,Oa(A[S>>2]|0,v,A[Rt>>2]|0)|0?(A[yt+(p<<2)>>2]=S,A[Mt+(p<<2)>>2]=v,ye=p+1|0):ye=p,S=A[S+8>>2]|0,S;)y=y+1|0,p=ye;if((ye|0)>0)if(v=A[yt>>2]|0,(ye|0)==1)p=v;else for(Pe=0,_e=-1,p=v,ve=v;;){for(j=A[ve>>2]|0,v=0,S=0;y=A[A[yt+(S<<2)>>2]>>2]|0,(y|0)==(j|0)?Y=v:Y=v+((Oa(y,A[Mt+(S<<2)>>2]|0,A[j>>2]|0)|0)&1)|0,S=S+1|0,(S|0)!=(ye|0);)v=Y;if(y=(Y|0)>(_e|0),p=y?ve:p,v=Pe+1|0,(v|0)==(ye|0))break t;Pe=v,_e=y?Y:_e,ve=A[yt+(v<<2)>>2]|0}else p=0}while(!1);if(er(yt),er(Mt),p){if(y=p+4|0,v=A[y>>2]|0,v)p=v+8|0;else if(A[p>>2]|0){rr=70;break}A[p>>2]=Rt,A[y>>2]=Rt}else rr=73}if((rr|0)==73){if(rr=0,f=A[Rt>>2]|0,f|0)do Mt=f,f=A[f+16>>2]|0,er(Mt);while((f|0)!=0);er(Rt),f=1}if(jt=jt+1|0,(jt|0)>=(Ct|0)){dr=f;break e}}(rr|0)==50?hr(27452,27235,249,27471):(rr|0)==52?hr(27490,27235,252,27471):(rr|0)==70&&hr(27310,27235,61,27333)}else dr=0;while(!1);return er(Xt),er(vt),rr=dr,rr|0}return 0}function Oa(h,f,p){h=h|0,f=f|0,p=p|0;var v=0,y=0,w=0,S=0,k=0,M=0,j=0,Y=0;if(!(ba(f,p)|0)||(f=Cu(f)|0,v=+ce[p>>3],y=+ce[p+8>>3],y=f&y<0?y+6.283185307179586:y,h=A[h>>2]|0,!h))return h=0,h|0;if(f){f=0,j=y,p=h;e:for(;;){for(;S=+ce[p>>3],y=+ce[p+8>>3],p=p+16|0,Y=A[p>>2]|0,Y=(Y|0)==0?h:Y,w=+ce[Y>>3],k=+ce[Y+8>>3],S>w?(M=S,S=k):(M=w,w=S,S=y,y=k),v=v==w|v==M?v+2220446049250313e-31:v,!!(v<w|v>M);)if(p=A[p>>2]|0,!p){p=22;break e}if(k=S<0?S+6.283185307179586:S,S=y<0?y+6.283185307179586:y,j=k==j|S==j?j+-2220446049250313e-31:j,M=k+(S-k)*((v-w)/(M-w)),(M<0?M+6.283185307179586:M)>j&&(f=f^1),p=A[p>>2]|0,!p){p=22;break}}if((p|0)==22)return f|0}else{f=0,j=y,p=h;e:for(;;){for(;S=+ce[p>>3],y=+ce[p+8>>3],p=p+16|0,Y=A[p>>2]|0,Y=(Y|0)==0?h:Y,w=+ce[Y>>3],k=+ce[Y+8>>3],S>w?(M=S,S=k):(M=w,w=S,S=y,y=k),v=v==w|v==M?v+2220446049250313e-31:v,!!(v<w|v>M);)if(p=A[p>>2]|0,!p){p=22;break e}if(j=S==j|y==j?j+-2220446049250313e-31:j,S+(y-S)*((v-w)/(M-w))>j&&(f=f^1),p=A[p>>2]|0,!p){p=22;break}}if((p|0)==22)return f|0}return 0}function na(h,f,p,v,y){h=h|0,f=f|0,p=p|0,v=v|0,y=y|0;var w=0,S=0,k=0,M=0,j=0,Y=0,ve=0,Pe=0,_e=0,ye=0,je=0,Fe=0,Ge=0,qe=0;if(qe=he,he=he+32|0,Ge=qe+16|0,Fe=qe,w=re(h|0,f|0,52)|0,we()|0,w=w&15,_e=re(p|0,v|0,52)|0,we()|0,(w|0)!=(_e&15|0))return Ge=12,he=qe,Ge|0;if(j=re(h|0,f|0,45)|0,we()|0,j=j&127,Y=re(p|0,v|0,45)|0,we()|0,Y=Y&127,j>>>0>121|Y>>>0>121)return Ge=5,he=qe,Ge|0;if(_e=(j|0)!=(Y|0),_e){if(k=Pu(j,Y)|0,(k|0)==7)return Ge=1,he=qe,Ge|0;M=Pu(Y,j)|0,(M|0)==7?hr(27514,27538,161,27548):(ye=k,S=M)}else ye=0,S=0;ve=dn(j)|0,Pe=dn(Y)|0,A[Ge>>2]=0,A[Ge+4>>2]=0,A[Ge+8>>2]=0,A[Ge+12>>2]=0;do if(ye){if(Y=A[4272+(j*28|0)+(ye<<2)>>2]|0,k=(Y|0)>0,Pe)if(k){j=0,M=p,k=v;do M=ea(M,k)|0,k=we()|0,S=Ze(S)|0,(S|0)==1&&(S=Ze(1)|0),j=j+1|0;while((j|0)!=(Y|0));Y=S,j=M,M=k}else Y=S,j=p,M=v;else if(k){j=0,M=p,k=v;do M=Xo(M,k)|0,k=we()|0,S=Ze(S)|0,j=j+1|0;while((j|0)!=(Y|0));Y=S,j=M,M=k}else Y=S,j=p,M=v;if(nl(j,M,Ge)|0,_e||hr(27563,27538,191,27548),k=(ve|0)!=0,S=(Pe|0)!=0,k&S&&hr(27590,27538,192,27548),k){if(S=Wn(h,f)|0,(S|0)==7){w=5;break}if(dt[22e3+(S*7|0)+ye>>0]|0){w=1;break}M=A[21168+(S*28|0)+(ye<<2)>>2]|0,j=M}else if(S){if(S=Wn(j,M)|0,(S|0)==7){w=5;break}if(dt[22e3+(S*7|0)+Y>>0]|0){w=1;break}j=0,M=A[21168+(Y*28|0)+(S<<2)>>2]|0}else j=0,M=0;if((j|M|0)<0)w=5;else{if((M|0)>0){k=Ge+4|0,S=0;do Ne(k),S=S+1|0;while((S|0)!=(M|0))}if(A[Fe>>2]=0,A[Fe+4>>2]=0,A[Fe+8>>2]=0,F(Fe,ye),w|0)for(;Ci(w)|0?oo(Fe):cs(Fe),(w|0)>1;)w=w+-1|0;if((j|0)>0){w=0;do Ne(Fe),w=w+1|0;while((w|0)!=(j|0))}je=Ge+4|0,Tn(je,Fe,je),Zn(je),je=51}}else if(nl(p,v,Ge)|0,(ve|0)!=0&(Pe|0)!=0)if((Y|0)!=(j|0)&&hr(27621,27538,261,27548),S=Wn(h,f)|0,w=Wn(p,v)|0,(S|0)==7|(w|0)==7)w=5;else if(dt[22e3+(S*7|0)+w>>0]|0)w=1;else if(S=A[21168+(S*28|0)+(w<<2)>>2]|0,(S|0)>0){k=Ge+4|0,w=0;do Ne(k),w=w+1|0;while((w|0)!=(S|0));je=51}else je=51;else je=51;while(!1);return(je|0)==51&&(w=Ge+4|0,A[y>>2]=A[w>>2],A[y+4>>2]=A[w+4>>2],A[y+8>>2]=A[w+8>>2],w=0),Ge=w,he=qe,Ge|0}function qc(h,f,p,v){h=h|0,f=f|0,p=p|0,v=v|0;var y=0,w=0,S=0,k=0,M=0,j=0,Y=0,ve=0,Pe=0,_e=0,ye=0,je=0,Fe=0,Ge=0,qe=0,Ye=0;if(je=he,he=he+48|0,j=je+36|0,S=je+24|0,k=je+12|0,M=je,y=re(h|0,f|0,52)|0,we()|0,y=y&15,Pe=re(h|0,f|0,45)|0,we()|0,Pe=Pe&127,Pe>>>0>121)return v=5,he=je,v|0;if(Y=dn(Pe)|0,ie(y|0,0,52)|0,Fe=we()|0|134225919,w=v,A[w>>2]=-1,A[w+4>>2]=Fe,!y)return y=Ja(p)|0,(y|0)==7||(y=ss(Pe,y)|0,(y|0)==127)?(Fe=1,he=je,Fe|0):(_e=ie(y|0,0,45)|0,ye=we()|0,Pe=v,ye=A[Pe+4>>2]&-1040385|ye,Fe=v,A[Fe>>2]=A[Pe>>2]|_e,A[Fe+4>>2]=ye,Fe=0,he=je,Fe|0);for(A[j>>2]=A[p>>2],A[j+4>>2]=A[p+4>>2],A[j+8>>2]=A[p+8>>2],p=y;;){if(w=p,p=p+-1|0,A[S>>2]=A[j>>2],A[S+4>>2]=A[j+4>>2],A[S+8>>2]=A[j+8>>2],Ci(w)|0){if(y=Ul(j)|0,y|0){p=13;break}A[k>>2]=A[j>>2],A[k+4>>2]=A[j+4>>2],A[k+8>>2]=A[j+8>>2],oo(k)}else{if(y=ls(j)|0,y|0){p=13;break}A[k>>2]=A[j>>2],A[k+4>>2]=A[j+4>>2],A[k+8>>2]=A[j+8>>2],cs(k)}if(Ls(S,k,M),Zn(M),y=v,qe=A[y>>2]|0,y=A[y+4>>2]|0,Ye=(15-w|0)*3|0,Ge=ie(7,0,Ye|0)|0,y=y&~(we()|0),Ye=ie(Ja(M)|0,0,Ye|0)|0,y=we()|0|y,Fe=v,A[Fe>>2]=Ye|qe&~Ge,A[Fe+4>>2]=y,(w|0)<=1){p=14;break}}e:do if((p|0)!=13&&(p|0)==14)if((A[j>>2]|0)<=1&&(A[j+4>>2]|0)<=1&&(A[j+8>>2]|0)<=1){p=Ja(j)|0,y=ss(Pe,p)|0,(y|0)==127?M=0:M=dn(y)|0;t:do if(p){if(Y){if(y=Wn(h,f)|0,(y|0)==7){y=5;break e}if(w=A[21376+(y*28|0)+(p<<2)>>2]|0,(w|0)>0){y=p,p=0;do y=ze(y)|0,p=p+1|0;while((p|0)!=(w|0))}else y=p;if((y|0)==1){y=9;break e}p=ss(Pe,y)|0,(p|0)==127&&hr(27648,27538,411,27678),dn(p)|0?hr(27693,27538,412,27678):(ye=p,_e=w,ve=y)}else ye=y,_e=0,ve=p;if(k=A[4272+(Pe*28|0)+(ve<<2)>>2]|0,(k|0)<=-1&&hr(27724,27538,419,27678),!M){if((_e|0)<0){y=5;break e}if(_e|0){w=v,y=0,p=A[w>>2]|0,w=A[w+4>>2]|0;do p=qo(p,w)|0,w=we()|0,Ye=v,A[Ye>>2]=p,A[Ye+4>>2]=w,y=y+1|0;while((y|0)<(_e|0))}if((k|0)<=0){y=ye,p=58;break}for(w=v,y=0,p=A[w>>2]|0,w=A[w+4>>2]|0;;)if(p=qo(p,w)|0,w=we()|0,Ye=v,A[Ye>>2]=p,A[Ye+4>>2]=w,y=y+1|0,(y|0)==(k|0)){y=ye,p=58;break t}}if(S=Pu(ye,Pe)|0,(S|0)==7&&hr(27514,27538,428,27678),y=v,p=A[y>>2]|0,y=A[y+4>>2]|0,(k|0)>0){w=0;do p=qo(p,y)|0,y=we()|0,Ye=v,A[Ye>>2]=p,A[Ye+4>>2]=y,w=w+1|0;while((w|0)!=(k|0))}if(y=Wn(p,y)|0,(y|0)==7&&hr(27795,27538,440,27678),p=Yi(ye)|0,p=A[(p?21792:21584)+(S*28|0)+(y<<2)>>2]|0,(p|0)<0&&hr(27795,27538,454,27678),!p)y=ye,p=58;else{S=v,y=0,w=A[S>>2]|0,S=A[S+4>>2]|0;do w=Vn(w,S)|0,S=we()|0,Ye=v,A[Ye>>2]=w,A[Ye+4>>2]=S,y=y+1|0;while((y|0)<(p|0));y=ye,p=58}}else if((Y|0)!=0&(M|0)!=0){if(p=Wn(h,f)|0,w=v,w=Wn(A[w>>2]|0,A[w+4>>2]|0)|0,(p|0)==7|(w|0)==7){y=5;break e}if(w=A[21376+(p*28|0)+(w<<2)>>2]|0,(w|0)<0){y=5;break e}if(!w)p=59;else{k=v,p=0,S=A[k>>2]|0,k=A[k+4>>2]|0;do S=qo(S,k)|0,k=we()|0,Ye=v,A[Ye>>2]=S,A[Ye+4>>2]=k,p=p+1|0;while((p|0)<(w|0));p=58}}else p=58;while(!1);if((p|0)==58&&M&&(p=59),(p|0)==59&&(Ye=v,(Wn(A[Ye>>2]|0,A[Ye+4>>2]|0)|0)==1)){y=9;break}Ye=v,Ge=A[Ye>>2]|0,Ye=A[Ye+4>>2]&-1040385,qe=ie(y|0,0,45)|0,Ye=Ye|(we()|0),y=v,A[y>>2]=Ge|qe,A[y+4>>2]=Ye,y=0}else y=1;while(!1);return Ye=y,he=je,Ye|0}function Nu(h,f,p,v,y,w){h=h|0,f=f|0,p=p|0,v=v|0,y=y|0,w=w|0;var S=0,k=0;return k=he,he=he+16|0,S=k,y?h=15:(h=na(h,f,p,v,S)|0,h||(ar(S,w),h=0)),he=k,h|0}function Sn(h,f,p,v,y){h=h|0,f=f|0,p=p|0,v=v|0,y=y|0;var w=0,S=0;return S=he,he=he+16|0,w=S,v?p=15:(p=Pr(p,w)|0,p||(p=qc(h,f,w,y)|0)),he=S,p|0}function Ef(h,f,p,v,y){h=h|0,f=f|0,p=p|0,v=v|0,y=y|0;var w=0,S=0,k=0,M=0;return M=he,he=he+32|0,S=M+12|0,k=M,w=na(h,f,h,f,S)|0,w|0?(k=w,he=M,k|0):(h=na(h,f,p,v,k)|0,h|0?(k=h,he=M,k|0):(S=Ht(S,k)|0,k=y,A[k>>2]=S,A[k+4>>2]=((S|0)<0)<<31>>31,k=0,he=M,k|0))}function Xc(h,f,p,v,y){h=h|0,f=f|0,p=p|0,v=v|0,y=y|0;var w=0,S=0,k=0,M=0;return M=he,he=he+32|0,S=M+12|0,k=M,w=na(h,f,h,f,S)|0,!w&&(w=na(h,f,p,v,k)|0,!w)?(v=Ht(S,k)|0,v=tr(v|0,((v|0)<0)<<31>>31|0,1,0)|0,S=we()|0,k=y,A[k>>2]=v,A[k+4>>2]=S,k=0,he=M,k|0):(k=w,he=M,k|0)}function Kl(h,f,p,v,y){h=h|0,f=f|0,p=p|0,v=v|0,y=y|0;var w=0,S=0,k=0,M=0,j=0,Y=0,ve=0,Pe=0,_e=0,ye=0,je=0,Fe=0,Ge=0,qe=0,Ye=0,Ue=0,yt=0,Mt=0,Rt=0,jt=0;if(Rt=he,he=he+48|0,yt=Rt+24|0,S=Rt+12|0,Mt=Rt,w=na(h,f,h,f,yt)|0,!w&&(w=na(h,f,p,v,S)|0,!w)){Ye=Ht(yt,S)|0,Ue=((Ye|0)<0)<<31>>31,A[yt>>2]=0,A[yt+4>>2]=0,A[yt+8>>2]=0,A[S>>2]=0,A[S+4>>2]=0,A[S+8>>2]=0,na(h,f,h,f,yt)|0&&hr(27795,27538,692,27747),na(h,f,p,v,S)|0&&hr(27795,27538,697,27747),Nr(yt),Nr(S),Y=(Ye|0)==0?0:1/+(Ye|0),p=A[yt>>2]|0,je=Y*+((A[S>>2]|0)-p|0),Fe=yt+4|0,v=A[Fe>>2]|0,Ge=Y*+((A[S+4>>2]|0)-v|0),qe=yt+8|0,w=A[qe>>2]|0,Y=Y*+((A[S+8>>2]|0)-w|0),A[Mt>>2]=p,ve=Mt+4|0,A[ve>>2]=v,Pe=Mt+8|0,A[Pe>>2]=w;e:do if((Ye|0)<0)w=0;else for(_e=0,ye=0;;){M=+(ye>>>0)+4294967296*+(_e|0),jt=je*M+ +(p|0),k=Ge*M+ +(v|0),M=Y*M+ +(w|0),p=~~+Ve(+jt),S=~~+Ve(+k),w=~~+Ve(+M),jt=+vr(+(+(p|0)-jt)),k=+vr(+(+(S|0)-k)),M=+vr(+(+(w|0)-M));do if(jt>k&jt>M)p=0-(S+w)|0,v=S;else if(j=0-p|0,k>M){v=j-w|0;break}else{v=S,w=j-S|0;break}while(!1);if(A[Mt>>2]=p,A[ve>>2]=v,A[Pe>>2]=w,on(Mt),w=qc(h,f,Mt,y+(ye<<3)|0)|0,w|0)break e;if(!((_e|0)<(Ue|0)|(_e|0)==(Ue|0)&ye>>>0<Ye>>>0)){w=0;break e}p=tr(ye|0,_e|0,1,0)|0,v=we()|0,_e=v,ye=p,p=A[yt>>2]|0,v=A[Fe>>2]|0,w=A[qe>>2]|0}while(!1);return Mt=w,he=Rt,Mt|0}return Mt=w,he=Rt,Mt|0}function hs(h,f,p,v){h=h|0,f=f|0,p=p|0,v=v|0;var y=0,w=0,S=0;if((p|0)==0&(v|0)==0)return y=0,w=1,gr(y|0),w|0;w=h,y=f,h=1,f=0;do S=(p&1|0)==0&!0,h=I((S?1:w)|0,(S?0:y)|0,h|0,f|0)|0,f=we()|0,p=ue(p|0,v|0,1)|0,v=we()|0,w=I(w|0,y|0,w|0,y|0)|0,y=we()|0;while(!((p|0)==0&(v|0)==0));return gr(f|0),h|0}function Gl(h,f,p,v){h=h|0,f=f|0,p=p|0,v=v|0;var y=0,w=0,S=0,k=0,M=0,j=0,Y=0;k=he,he=he+16|0,w=k,S=re(h|0,f|0,52)|0,we()|0,S=S&15;do if(S){if(y=To(h,f,w)|0,!y){j=+ce[w>>3],M=1/+Lr(+j),Y=+ce[25968+(S<<3)>>3],ce[p>>3]=j+Y,ce[p+8>>3]=j-Y,j=+ce[w+8>>3],M=Y*M,ce[p+16>>3]=M+j,ce[p+24>>3]=j-M;break}return S=y,he=k,S|0}else{if(y=re(h|0,f|0,45)|0,we()|0,y=y&127,y>>>0>121)return S=5,he=k,S|0;w=22064+(y<<5)|0,A[p>>2]=A[w>>2],A[p+4>>2]=A[w+4>>2],A[p+8>>2]=A[w+8>>2],A[p+12>>2]=A[w+12>>2],A[p+16>>2]=A[w+16>>2],A[p+20>>2]=A[w+20>>2],A[p+24>>2]=A[w+24>>2],A[p+28>>2]=A[w+28>>2];break}while(!1);return Ou(p,v?1.4:1.1),v=26096+(S<<3)|0,(A[v>>2]|0)==(h|0)&&(A[v+4>>2]|0)==(f|0)&&(ce[p>>3]=1.5707963267948966),S=26224+(S<<3)|0,(A[S>>2]|0)==(h|0)&&(A[S+4>>2]|0)==(f|0)&&(ce[p+8>>3]=-1.5707963267948966),+ce[p>>3]!=1.5707963267948966&&+ce[p+8>>3]!=-1.5707963267948966?(S=0,he=k,S|0):(ce[p+16>>3]=3.141592653589793,ce[p+24>>3]=-3.141592653589793,S=0,he=k,S|0)}function Mu(h,f,p,v){h=h|0,f=f|0,p=p|0,v=v|0;var y=0,w=0,S=0,k=0,M=0,j=0,Y=0;j=he,he=he+48|0,S=j+32|0,w=j+40|0,k=j,Qs(S,0,0,0),M=A[S>>2]|0,S=A[S+4>>2]|0;do if(p>>>0<=15){if(y=al(v)|0,y|0){v=k,A[v>>2]=0,A[v+4>>2]=0,A[k+8>>2]=y,A[k+12>>2]=-1,v=k+16|0,M=k+29|0,A[v>>2]=0,A[v+4>>2]=0,A[v+8>>2]=0,dt[v+12>>0]=0,dt[M>>0]=dt[w>>0]|0,dt[M+1>>0]=dt[w+1>>0]|0,dt[M+2>>0]=dt[w+2>>0]|0;break}if(y=co((A[f+8>>2]|0)+1|0,32)|0,y){ll(f,y),Y=k,A[Y>>2]=M,A[Y+4>>2]=S,A[k+8>>2]=0,A[k+12>>2]=p,A[k+16>>2]=v,A[k+20>>2]=f,A[k+24>>2]=y,dt[k+28>>0]=0,M=k+29|0,dt[M>>0]=dt[w>>0]|0,dt[M+1>>0]=dt[w+1>>0]|0,dt[M+2>>0]=dt[w+2>>0]|0;break}else{v=k,A[v>>2]=0,A[v+4>>2]=0,A[k+8>>2]=13,A[k+12>>2]=-1,v=k+16|0,M=k+29|0,A[v>>2]=0,A[v+4>>2]=0,A[v+8>>2]=0,dt[v+12>>0]=0,dt[M>>0]=dt[w>>0]|0,dt[M+1>>0]=dt[w+1>>0]|0,dt[M+2>>0]=dt[w+2>>0]|0;break}}else M=k,A[M>>2]=0,A[M+4>>2]=0,A[k+8>>2]=4,A[k+12>>2]=-1,M=k+16|0,Y=k+29|0,A[M>>2]=0,A[M+4>>2]=0,A[M+8>>2]=0,dt[M+12>>0]=0,dt[Y>>0]=dt[w>>0]|0,dt[Y+1>>0]=dt[w+1>>0]|0,dt[Y+2>>0]=dt[w+2>>0]|0;while(!1);Ql(k),A[h>>2]=A[k>>2],A[h+4>>2]=A[k+4>>2],A[h+8>>2]=A[k+8>>2],A[h+12>>2]=A[k+12>>2],A[h+16>>2]=A[k+16>>2],A[h+20>>2]=A[k+20>>2],A[h+24>>2]=A[k+24>>2],A[h+28>>2]=A[k+28>>2],he=j}function Ql(h){h=h|0;var f=0,p=0,v=0,y=0,w=0,S=0,k=0,M=0,j=0,Y=0,ve=0,Pe=0,_e=0,ye=0,je=0,Fe=0,Ge=0,qe=0,Ye=0,Ue=0;if(Ue=he,he=he+336|0,_e=Ue+168|0,ye=Ue,v=h,p=A[v>>2]|0,v=A[v+4>>2]|0,(p|0)==0&(v|0)==0){he=Ue;return}if(f=h+28|0,dt[f>>0]|0?(p=sl(p,v)|0,v=we()|0):dt[f>>0]=1,Ye=h+20|0,!(A[A[Ye>>2]>>2]|0)){f=h+24|0,p=A[f>>2]|0,p|0&&er(p),qe=h,A[qe>>2]=0,A[qe+4>>2]=0,A[h+8>>2]=0,A[Ye>>2]=0,A[h+12>>2]=-1,A[h+16>>2]=0,A[f>>2]=0,he=Ue;return}qe=h+16|0,f=A[qe>>2]|0,y=f&15;e:do if((p|0)==0&(v|0)==0)Ge=h+24|0;else{je=h+12|0,ve=(y|0)==3,Y=f&255,M=(y|1|0)==3,Pe=h+24|0,j=(y+-1|0)>>>0<3,S=(y|2|0)==3,k=ye+8|0;t:for(;;){if(w=re(p|0,v|0,52)|0,we()|0,w=w&15,(w|0)==(A[je>>2]|0)){switch(Y&15){case 0:case 2:case 3:{if(y=To(p,v,_e)|0,y|0){Fe=15;break t}if(Zl(A[Ye>>2]|0,A[Pe>>2]|0,_e)|0){Fe=19;break t}break}}if(M&&(y=A[(A[Ye>>2]|0)+4>>2]|0,A[_e>>2]=A[y>>2],A[_e+4>>2]=A[y+4>>2],A[_e+8>>2]=A[y+8>>2],A[_e+12>>2]=A[y+12>>2],ba(26832,_e)|0)){if(rl(A[(A[Ye>>2]|0)+4>>2]|0,w,ye)|0){Fe=25;break}if(y=ye,(A[y>>2]|0)==(p|0)&&(A[y+4>>2]|0)==(v|0)){Fe=29;break}}if(j){if(y=Yo(p,v,_e)|0,y|0){Fe=32;break}if(Gl(p,v,ye,0)|0){Fe=36;break}if(S&&cl(A[Ye>>2]|0,A[Pe>>2]|0,_e,ye)|0){Fe=42;break}if(M&&Tf(A[Ye>>2]|0,A[Pe>>2]|0,_e,ye)|0){Fe=42;break}}if(ve){if(f=Gl(p,v,_e,1)|0,y=A[Pe>>2]|0,f|0){Fe=45;break}if(Fl(y,_e)|0){if(io(ye,_e),Za(_e,A[Pe>>2]|0)|0){Fe=53;break}if(Zl(A[Ye>>2]|0,A[Pe>>2]|0,k)|0){Fe=53;break}if(Tf(A[Ye>>2]|0,A[Pe>>2]|0,ye,_e)|0){Fe=53;break}}}}do if((w|0)<(A[je>>2]|0)){if(f=Gl(p,v,_e,1)|0,y=A[Pe>>2]|0,f|0){Fe=58;break t}if(!(Fl(y,_e)|0)){Fe=73;break}if(Za(A[Pe>>2]|0,_e)|0&&(io(ye,_e),cl(A[Ye>>2]|0,A[Pe>>2]|0,ye,_e)|0)){Fe=65;break t}if(p=So(p,v,w+1|0,ye)|0,p|0){Fe=67;break t}v=ye,p=A[v>>2]|0,v=A[v+4>>2]|0}else Fe=73;while(!1);if((Fe|0)==73&&(Fe=0,p=sl(p,v)|0,v=we()|0),(p|0)==0&(v|0)==0){Ge=Pe;break e}}switch(Fe|0){case 15:{f=A[Pe>>2]|0,f|0&&er(f),Fe=h,A[Fe>>2]=0,A[Fe+4>>2]=0,A[Ye>>2]=0,A[je>>2]=-1,A[qe>>2]=0,A[Pe>>2]=0,A[h+8>>2]=y,Fe=20;break}case 19:{A[h>>2]=p,A[h+4>>2]=v,Fe=20;break}case 25:{hr(27795,27761,470,27772);break}case 29:{A[h>>2]=p,A[h+4>>2]=v,he=Ue;return}case 32:{f=A[Pe>>2]|0,f|0&&er(f),Ge=h,A[Ge>>2]=0,A[Ge+4>>2]=0,A[Ye>>2]=0,A[je>>2]=-1,A[qe>>2]=0,A[Pe>>2]=0,A[h+8>>2]=y,he=Ue;return}case 36:{hr(27795,27761,493,27772);break}case 42:{A[h>>2]=p,A[h+4>>2]=v,he=Ue;return}case 45:{y|0&&er(y),Fe=h,A[Fe>>2]=0,A[Fe+4>>2]=0,A[Ye>>2]=0,A[je>>2]=-1,A[qe>>2]=0,A[Pe>>2]=0,A[h+8>>2]=f,Fe=55;break}case 53:{A[h>>2]=p,A[h+4>>2]=v,Fe=55;break}case 58:{y|0&&er(y),Fe=h,A[Fe>>2]=0,A[Fe+4>>2]=0,A[Ye>>2]=0,A[je>>2]=-1,A[qe>>2]=0,A[Pe>>2]=0,A[h+8>>2]=f,Fe=71;break}case 65:{A[h>>2]=p,A[h+4>>2]=v,Fe=71;break}case 67:{f=A[Pe>>2]|0,f|0&&er(f),Ge=h,A[Ge>>2]=0,A[Ge+4>>2]=0,A[Ye>>2]=0,A[je>>2]=-1,A[qe>>2]=0,A[Pe>>2]=0,A[h+8>>2]=p,he=Ue;return}}if((Fe|0)==20){he=Ue;return}else if((Fe|0)==55){he=Ue;return}else if((Fe|0)==71){he=Ue;return}}while(!1);f=A[Ge>>2]|0,f|0&&er(f),Fe=h,A[Fe>>2]=0,A[Fe+4>>2]=0,A[h+8>>2]=0,A[Ye>>2]=0,A[h+12>>2]=-1,A[qe>>2]=0,A[Ge>>2]=0,he=Ue}function sl(h,f){h=h|0,f=f|0;var p=0,v=0,y=0,w=0,S=0,k=0,M=0,j=0,Y=0,ve=0;ve=he,he=he+16|0,Y=ve,v=re(h|0,f|0,52)|0,we()|0,v=v&15,p=re(h|0,f|0,45)|0,we()|0;do if(v){for(;p=ie(v+4095|0,0,52)|0,y=we()|0|f&-15728641,w=(15-v|0)*3|0,S=ie(7,0,w|0)|0,k=we()|0,p=p|h|S,y=y|k,M=re(h|0,f|0,w|0)|0,we()|0,M=M&7,v=v+-1|0,!(M>>>0<6);)if(v)f=y,h=p;else{j=4;break}if((j|0)==4){p=re(p|0,y|0,45)|0,we()|0;break}return Y=(M|0)==0&(Qr(p,y)|0)!=0,Y=ie((Y?2:1)+M|0,0,w|0)|0,j=we()|0|f&~k,Y=Y|h&~S,gr(j|0),he=ve,Y|0}while(!1);return p=p&127,p>>>0>120?(j=0,Y=0,gr(j|0),he=ve,Y|0):(Qs(Y,0,p+1|0,0),j=A[Y+4>>2]|0,Y=A[Y>>2]|0,gr(j|0),he=ve,Y|0)}function qd(h,f,p,v,y,w){h=h|0,f=f|0,p=p|0,v=v|0,y=y|0,w=w|0;var S=0,k=0,M=0,j=0,Y=0,ve=0,Pe=0,_e=0,ye=0,je=0,Fe=0;Fe=he,he=he+160|0,ve=Fe+80|0,k=Fe+64|0,Pe=Fe+112|0,je=Fe,Mu(ve,h,f,p),j=ve,An(k,A[j>>2]|0,A[j+4>>2]|0,f),j=k,M=A[j>>2]|0,j=A[j+4>>2]|0,S=A[ve+8>>2]|0,_e=Pe+4|0,A[_e>>2]=A[ve>>2],A[_e+4>>2]=A[ve+4>>2],A[_e+8>>2]=A[ve+8>>2],A[_e+12>>2]=A[ve+12>>2],A[_e+16>>2]=A[ve+16>>2],A[_e+20>>2]=A[ve+20>>2],A[_e+24>>2]=A[ve+24>>2],A[_e+28>>2]=A[ve+28>>2],_e=je,A[_e>>2]=M,A[_e+4>>2]=j,_e=je+8|0,A[_e>>2]=S,h=je+12|0,f=Pe,p=h+36|0;do A[h>>2]=A[f>>2],h=h+4|0,f=f+4|0;while((h|0)<(p|0));if(Pe=je+48|0,A[Pe>>2]=A[k>>2],A[Pe+4>>2]=A[k+4>>2],A[Pe+8>>2]=A[k+8>>2],A[Pe+12>>2]=A[k+12>>2],(M|0)==0&(j|0)==0)return je=S,he=Fe,je|0;p=je+16|0,Y=je+24|0,ve=je+28|0,S=0,k=0,f=M,h=j;do{if(!((S|0)<(y|0)|(S|0)==(y|0)&k>>>0<v>>>0)){ye=4;break}if(j=k,k=tr(k|0,S|0,1,0)|0,S=we()|0,j=w+(j<<3)|0,A[j>>2]=f,A[j+4>>2]=h,ti(Pe),h=Pe,f=A[h>>2]|0,h=A[h+4>>2]|0,(f|0)==0&(h|0)==0){if(Ql(p),f=p,h=A[f>>2]|0,f=A[f+4>>2]|0,(h|0)==0&(f|0)==0){ye=10;break}Hn(h,f,A[ve>>2]|0,Pe),h=Pe,f=A[h>>2]|0,h=A[h+4>>2]|0}j=je,A[j>>2]=f,A[j+4>>2]=h}while(!((f|0)==0&(h|0)==0));return(ye|0)==4?(h=je+40|0,f=A[h>>2]|0,f|0&&er(f),ye=je+16|0,A[ye>>2]=0,A[ye+4>>2]=0,A[Y>>2]=0,A[je+36>>2]=0,A[ve>>2]=-1,A[je+32>>2]=0,A[h>>2]=0,Hn(0,0,0,Pe),A[je>>2]=0,A[je+4>>2]=0,A[_e>>2]=0,je=14,he=Fe,je|0):((ye|0)==10&&(A[je>>2]=0,A[je+4>>2]=0,A[_e>>2]=A[Y>>2]),je=A[_e>>2]|0,he=Fe,je|0)}function fp(h,f,p,v){h=h|0,f=f|0,p=p|0,v=v|0;var y=0,w=0,S=0,k=0,M=0,j=0,Y=0,ve=0,Pe=0,_e=0;if(ve=he,he=he+48|0,M=ve+32|0,k=ve+40|0,j=ve,!(A[h>>2]|0))return Y=v,A[Y>>2]=0,A[Y+4>>2]=0,Y=0,he=ve,Y|0;Qs(M,0,0,0),S=M,y=A[S>>2]|0,S=A[S+4>>2]|0;do if(f>>>0>15)Y=j,A[Y>>2]=0,A[Y+4>>2]=0,A[j+8>>2]=4,A[j+12>>2]=-1,Y=j+16|0,p=j+29|0,A[Y>>2]=0,A[Y+4>>2]=0,A[Y+8>>2]=0,dt[Y+12>>0]=0,dt[p>>0]=dt[k>>0]|0,dt[p+1>>0]=dt[k+1>>0]|0,dt[p+2>>0]=dt[k+2>>0]|0,p=4,Y=9;else{if(p=al(p)|0,p|0){M=j,A[M>>2]=0,A[M+4>>2]=0,A[j+8>>2]=p,A[j+12>>2]=-1,M=j+16|0,Y=j+29|0,A[M>>2]=0,A[M+4>>2]=0,A[M+8>>2]=0,dt[M+12>>0]=0,dt[Y>>0]=dt[k>>0]|0,dt[Y+1>>0]=dt[k+1>>0]|0,dt[Y+2>>0]=dt[k+2>>0]|0,Y=9;break}if(p=co((A[h+8>>2]|0)+1|0,32)|0,!p){Y=j,A[Y>>2]=0,A[Y+4>>2]=0,A[j+8>>2]=13,A[j+12>>2]=-1,Y=j+16|0,p=j+29|0,A[Y>>2]=0,A[Y+4>>2]=0,A[Y+8>>2]=0,dt[Y+12>>0]=0,dt[p>>0]=dt[k>>0]|0,dt[p+1>>0]=dt[k+1>>0]|0,dt[p+2>>0]=dt[k+2>>0]|0,p=13,Y=9;break}ll(h,p),_e=j,A[_e>>2]=y,A[_e+4>>2]=S,S=j+8|0,A[S>>2]=0,A[j+12>>2]=f,A[j+20>>2]=h,A[j+24>>2]=p,dt[j+28>>0]=0,y=j+29|0,dt[y>>0]=dt[k>>0]|0,dt[y+1>>0]=dt[k+1>>0]|0,dt[y+2>>0]=dt[k+2>>0]|0,A[j+16>>2]=3,Pe=+Fc(p),Pe=Pe*+ya(p),w=+vr(+ +ce[p>>3]),w=Pe/+Lr(+ +Re(+w,+ +vr(+ +ce[p+8>>3])))*6371.007180918475*6371.007180918475,y=j+12|0,p=A[y>>2]|0;e:do if((p|0)>0)do{if(Vc(p+-1|0,M)|0,!(w/+ce[M>>3]>10))break e;_e=A[y>>2]|0,p=_e+-1|0,A[y>>2]=p}while((_e|0)>1);while(!1);if(Ql(j),y=v,A[y>>2]=0,A[y+4>>2]=0,y=j,p=A[y>>2]|0,y=A[y+4>>2]|0,!((p|0)==0&(y|0)==0))do Zs(p,y,f,M)|0,k=M,h=v,k=tr(A[h>>2]|0,A[h+4>>2]|0,A[k>>2]|0,A[k+4>>2]|0)|0,h=we()|0,_e=v,A[_e>>2]=k,A[_e+4>>2]=h,Ql(j),_e=j,p=A[_e>>2]|0,y=A[_e+4>>2]|0;while(!((p|0)==0&(y|0)==0));p=A[S>>2]|0}while(!1);return _e=p,he=ve,_e|0}function Lu(h,f,p){h=h|0,f=f|0,p=p|0;var v=0,y=0,w=0,S=0,k=0,M=0,j=0,Y=0,ve=0,Pe=0;if(!(ba(f,p)|0)||(f=Cu(f)|0,v=+ce[p>>3],y=+ce[p+8>>3],y=f&y<0?y+6.283185307179586:y,Pe=A[h>>2]|0,(Pe|0)<=0))return Pe=0,Pe|0;if(ve=A[h+4>>2]|0,f){f=0,Y=y,p=-1,h=0;e:for(;;){for(j=h;S=+ce[ve+(j<<4)>>3],y=+ce[ve+(j<<4)+8>>3],h=(p+2|0)%(Pe|0)|0,w=+ce[ve+(h<<4)>>3],k=+ce[ve+(h<<4)+8>>3],S>w?(M=S,S=k):(M=w,w=S,S=y,y=k),v=v==w|v==M?v+2220446049250313e-31:v,!!(v<w|v>M);)if(p=j+1|0,(p|0)>=(Pe|0)){p=22;break e}else h=j,j=p,p=h;if(k=S<0?S+6.283185307179586:S,S=y<0?y+6.283185307179586:y,Y=k==Y|S==Y?Y+-2220446049250313e-31:Y,M=k+(S-k)*((v-w)/(M-w)),(M<0?M+6.283185307179586:M)>Y&&(f=f^1),h=j+1|0,(h|0)>=(Pe|0)){p=22;break}else p=j}if((p|0)==22)return f|0}else{f=0,Y=y,p=-1,h=0;e:for(;;){for(j=h;S=+ce[ve+(j<<4)>>3],y=+ce[ve+(j<<4)+8>>3],h=(p+2|0)%(Pe|0)|0,w=+ce[ve+(h<<4)>>3],k=+ce[ve+(h<<4)+8>>3],S>w?(M=S,S=k):(M=w,w=S,S=y,y=k),v=v==w|v==M?v+2220446049250313e-31:v,!!(v<w|v>M);)if(p=j+1|0,(p|0)>=(Pe|0)){p=22;break e}else h=j,j=p,p=h;if(Y=S==Y|y==Y?Y+-2220446049250313e-31:Y,S+(y-S)*((v-w)/(M-w))>Y&&(f=f^1),h=j+1|0,(h|0)>=(Pe|0)){p=22;break}else p=j}if((p|0)==22)return f|0}return 0}function Rh(h,f){h=h|0,f=f|0;var p=0,v=0,y=0,w=0,S=0,k=0,M=0,j=0,Y=0,ve=0,Pe=0,_e=0,ye=0,je=0,Fe=0,Ge=0,qe=0;if(ye=A[h>>2]|0,!ye){A[f>>2]=0,A[f+4>>2]=0,A[f+8>>2]=0,A[f+12>>2]=0,A[f+16>>2]=0,A[f+20>>2]=0,A[f+24>>2]=0,A[f+28>>2]=0;return}if(je=f+8|0,ce[je>>3]=17976931348623157e292,Fe=f+24|0,ce[Fe>>3]=17976931348623157e292,ce[f>>3]=-17976931348623157e292,Ge=f+16|0,ce[Ge>>3]=-17976931348623157e292,!((ye|0)<=0)){for(Pe=A[h+4>>2]|0,j=17976931348623157e292,Y=-17976931348623157e292,ve=0,h=-1,w=17976931348623157e292,S=17976931348623157e292,M=-17976931348623157e292,v=-17976931348623157e292,_e=0;p=+ce[Pe+(_e<<4)>>3],k=+ce[Pe+(_e<<4)+8>>3],h=h+2|0,y=+ce[Pe+(((h|0)==(ye|0)?0:h)<<4)+8>>3],p<w&&(ce[je>>3]=p,w=p),k<S&&(ce[Fe>>3]=k,S=k),p>M?ce[f>>3]=p:p=M,k>v&&(ce[Ge>>3]=k,v=k),j=k>0&k<j?k:j,Y=k<0&k>Y?k:Y,ve=ve|+vr(+(k-y))>3.141592653589793,h=_e+1|0,(h|0)!=(ye|0);)qe=_e,M=p,_e=h,h=qe;ve&&(ce[Ge>>3]=Y,ce[Fe>>3]=j)}}function al(h){return h=h|0,(h>>>0<4?0:15)|0}function ll(h,f){h=h|0,f=f|0;var p=0,v=0,y=0,w=0,S=0,k=0,M=0,j=0,Y=0,ve=0,Pe=0,_e=0,ye=0,je=0,Fe=0,Ge=0,qe=0,Ye=0,Ue=0,yt=0,Mt=0,Rt=0;if(ye=A[h>>2]|0,ye){if(je=f+8|0,ce[je>>3]=17976931348623157e292,Fe=f+24|0,ce[Fe>>3]=17976931348623157e292,ce[f>>3]=-17976931348623157e292,Ge=f+16|0,ce[Ge>>3]=-17976931348623157e292,(ye|0)>0){for(y=A[h+4>>2]|0,Pe=17976931348623157e292,_e=-17976931348623157e292,v=0,p=-1,M=17976931348623157e292,j=17976931348623157e292,ve=-17976931348623157e292,S=-17976931348623157e292,qe=0;w=+ce[y+(qe<<4)>>3],Y=+ce[y+(qe<<4)+8>>3],Mt=p+2|0,k=+ce[y+(((Mt|0)==(ye|0)?0:Mt)<<4)+8>>3],w<M&&(ce[je>>3]=w,M=w),Y<j&&(ce[Fe>>3]=Y,j=Y),w>ve?ce[f>>3]=w:w=ve,Y>S&&(ce[Ge>>3]=Y,S=Y),Pe=Y>0&Y<Pe?Y:Pe,_e=Y<0&Y>_e?Y:_e,v=v|+vr(+(Y-k))>3.141592653589793,p=qe+1|0,(p|0)!=(ye|0);)Mt=qe,ve=w,qe=p,p=Mt;v&&(ce[Ge>>3]=_e,ce[Fe>>3]=Pe)}}else A[f>>2]=0,A[f+4>>2]=0,A[f+8>>2]=0,A[f+12>>2]=0,A[f+16>>2]=0,A[f+20>>2]=0,A[f+24>>2]=0,A[f+28>>2]=0;if(Mt=h+8|0,p=A[Mt>>2]|0,!((p|0)<=0)){yt=h+12|0,Ue=0;do if(y=A[yt>>2]|0,v=Ue,Ue=Ue+1|0,Fe=f+(Ue<<5)|0,Ge=A[y+(v<<3)>>2]|0,Ge){if(qe=f+(Ue<<5)+8|0,ce[qe>>3]=17976931348623157e292,h=f+(Ue<<5)+24|0,ce[h>>3]=17976931348623157e292,ce[Fe>>3]=-17976931348623157e292,Ye=f+(Ue<<5)+16|0,ce[Ye>>3]=-17976931348623157e292,(Ge|0)>0){for(ye=A[y+(v<<3)+4>>2]|0,Pe=17976931348623157e292,_e=-17976931348623157e292,y=0,v=-1,je=0,M=17976931348623157e292,j=17976931348623157e292,Y=-17976931348623157e292,S=-17976931348623157e292;w=+ce[ye+(je<<4)>>3],ve=+ce[ye+(je<<4)+8>>3],v=v+2|0,k=+ce[ye+(((v|0)==(Ge|0)?0:v)<<4)+8>>3],w<M&&(ce[qe>>3]=w,M=w),ve<j&&(ce[h>>3]=ve,j=ve),w>Y?ce[Fe>>3]=w:w=Y,ve>S&&(ce[Ye>>3]=ve,S=ve),Pe=ve>0&ve<Pe?ve:Pe,_e=ve<0&ve>_e?ve:_e,y=y|+vr(+(ve-k))>3.141592653589793,v=je+1|0,(v|0)!=(Ge|0);)Rt=je,je=v,Y=w,v=Rt;y&&(ce[Ye>>3]=_e,ce[h>>3]=Pe)}}else A[Fe>>2]=0,A[Fe+4>>2]=0,A[Fe+8>>2]=0,A[Fe+12>>2]=0,A[Fe+16>>2]=0,A[Fe+20>>2]=0,A[Fe+24>>2]=0,A[Fe+28>>2]=0,p=A[Mt>>2]|0;while((Ue|0)<(p|0))}}function Zl(h,f,p){h=h|0,f=f|0,p=p|0;var v=0,y=0,w=0;if(!(Lu(h,f,p)|0))return y=0,y|0;if(y=h+8|0,(A[y>>2]|0)<=0)return y=1,y|0;for(v=h+12|0,h=0;;){if(w=h,h=h+1|0,Lu((A[v>>2]|0)+(w<<3)|0,f+(h<<5)|0,p)|0){h=0,v=6;break}if((h|0)>=(A[y>>2]|0)){h=1,v=6;break}}return(v|0)==6?h|0:0}function cl(h,f,p,v){h=h|0,f=f|0,p=p|0,v=v|0;var y=0,w=0,S=0,k=0,M=0,j=0,Y=0;if(j=he,he=he+16|0,k=j,S=p+8|0,!(Lu(h,f,S)|0))return M=0,he=j,M|0;M=h+8|0;e:do if((A[M>>2]|0)>0){for(w=h+12|0,y=0;;){if(Y=y,y=y+1|0,Lu((A[w>>2]|0)+(Y<<3)|0,f+(y<<5)|0,S)|0){y=0;break}if((y|0)>=(A[M>>2]|0))break e}return he=j,y|0}while(!1);if(Yc(h,f,p,v)|0)return Y=0,he=j,Y|0;A[k>>2]=A[p>>2],A[k+4>>2]=S,y=A[M>>2]|0;e:do if((y|0)>0)for(h=h+12|0,S=0,w=y;;){if(y=A[h>>2]|0,(A[y+(S<<3)>>2]|0)>0){if(Lu(k,v,A[y+(S<<3)+4>>2]|0)|0){y=0;break e}if(y=S+1|0,Yc((A[h>>2]|0)+(S<<3)|0,f+(y<<5)|0,p,v)|0){y=0;break e}w=A[M>>2]|0}else y=S+1|0;if((y|0)<(w|0))S=y;else{y=1;break}}else y=1;while(!1);return Y=y,he=j,Y|0}function Yc(h,f,p,v){h=h|0,f=f|0,p=p|0,v=v|0;var y=0,w=0,S=0,k=0,M=0,j=0,Y=0,ve=0,Pe=0,_e=0,ye=0,je=0,Fe=0,Ge=0,qe=0,Ye=0,Ue=0,yt=0,Mt=0,Rt=0,jt=0;if(Mt=he,he=he+176|0,qe=Mt+172|0,y=Mt+168|0,Ye=Mt,!(Fl(f,v)|0))return h=0,he=Mt,h|0;if(Ms(f,v,qe,y),ot(Ye|0,p|0,168)|0,(A[p>>2]|0)>0){f=0;do Rt=Ye+8+(f<<4)+8|0,Ge=+ki(+ce[Rt>>3],A[y>>2]|0),ce[Rt>>3]=Ge,f=f+1|0;while((f|0)<(A[p>>2]|0))}je=+ce[v>>3],Fe=+ce[v+8>>3],Ge=+ki(+ce[v+16>>3],A[y>>2]|0),_e=+ki(+ce[v+24>>3],A[y>>2]|0);e:do if((A[h>>2]|0)>0){if(v=h+4|0,y=A[Ye>>2]|0,(y|0)<=0){for(f=0;;)if(f=f+1|0,(f|0)>=(A[h>>2]|0)){f=0;break e}}for(p=0;;){if(f=A[v>>2]|0,Pe=+ce[f+(p<<4)>>3],ye=+ki(+ce[f+(p<<4)+8>>3],A[qe>>2]|0),f=A[v>>2]|0,p=p+1|0,Rt=(p|0)%(A[h>>2]|0)|0,w=+ce[f+(Rt<<4)>>3],S=+ki(+ce[f+(Rt<<4)+8>>3],A[qe>>2]|0),!(Pe>=je)|!(w>=je)&&!(Pe<=Fe)|!(w<=Fe)&&!(ye<=_e)|!(S<=_e)&&!(ye>=Ge)|!(S>=Ge)){ve=w-Pe,j=S-ye,f=0;do if(jt=f,f=f+1|0,Rt=(f|0)==(y|0)?0:f,w=+ce[Ye+8+(jt<<4)+8>>3],S=+ce[Ye+8+(Rt<<4)+8>>3]-w,k=+ce[Ye+8+(jt<<4)>>3],M=+ce[Ye+8+(Rt<<4)>>3]-k,Y=ve*S-j*M,Y!=0&&(Ue=ye-w,yt=Pe-k,M=(Ue*M-S*yt)/Y,!(M<0|M>1))&&(Y=(ve*Ue-j*yt)/Y,Y>=0&Y<=1)){f=1;break e}while((f|0)<(y|0))}if((p|0)>=(A[h>>2]|0)){f=0;break}}}else f=0;while(!1);return jt=f,he=Mt,jt|0}function Tf(h,f,p,v){h=h|0,f=f|0,p=p|0,v=v|0;var y=0,w=0,S=0;if(Yc(h,f,p,v)|0)return w=1,w|0;if(w=h+8|0,(A[w>>2]|0)<=0)return w=0,w|0;for(y=h+12|0,h=0;;){if(S=h,h=h+1|0,Yc((A[y>>2]|0)+(S<<3)|0,f+(h<<5)|0,p,v)|0){h=1,y=6;break}if((h|0)>=(A[w>>2]|0)){h=0,y=6;break}}return(y|0)==6?h|0:0}function Xd(){return 8}function Yd(){return 16}function hp(){return 168}function dp(){return 8}function Ih(){return 16}function lo(){return 12}function ds(){return 8}function Co(h){return h=h|0,+(+((A[h>>2]|0)>>>0)+4294967296*+(A[h+4>>2]|0))}function ia(h){h=h|0;var f=0,p=0;return p=+ce[h>>3],f=+ce[h+8>>3],+ +yr(+(p*p+f*f))}function Jl(h,f,p,v,y){h=h|0,f=f|0,p=p|0,v=v|0,y=y|0;var w=0,S=0,k=0,M=0,j=0,Y=0,ve=0,Pe=0;j=+ce[h>>3],M=+ce[f>>3]-j,k=+ce[h+8>>3],S=+ce[f+8>>3]-k,ve=+ce[p>>3],w=+ce[v>>3]-ve,Pe=+ce[p+8>>3],Y=+ce[v+8>>3]-Pe,w=(w*(k-Pe)-(j-ve)*Y)/(M*Y-S*w),ce[y>>3]=j+M*w,ce[y+8>>3]=k+S*w}function ji(h,f){return h=h|0,f=f|0,+vr(+(+ce[h>>3]-+ce[f>>3]))<11920928955078125e-23?(f=+vr(+(+ce[h+8>>3]-+ce[f+8>>3]))<11920928955078125e-23,f|0):(f=0,f|0)}function sn(h,f){h=h|0,f=f|0;var p=0,v=0,y=0;return y=+ce[h>>3]-+ce[f>>3],v=+ce[h+8>>3]-+ce[f+8>>3],p=+ce[h+16>>3]-+ce[f+16>>3],+(y*y+v*v+p*p)}function Ap(h,f){h=h|0,f=f|0;var p=0,v=0,y=0;p=+ce[h>>3],v=+Lr(+p),p=+wr(+p),ce[f+16>>3]=p,p=+ce[h+8>>3],y=v*+Lr(+p),ce[f>>3]=y,p=v*+wr(+p),ce[f+8>>3]=p}function pp(h,f,p){h=h|0,f=f|0,p=p|0;var v=0,y=0,w=0;if(w=he,he=he+16|0,y=w,v=Qr(h,f)|0,(p+-1|0)>>>0>5||(v=(v|0)!=0,(p|0)==1&v))return y=-1,he=w,y|0;do if(As(h,f,y)|0)v=-1;else if(v){v=((A[26352+(p<<2)>>2]|0)+5-(A[y>>2]|0)|0)%5|0;break}else{v=((A[26384+(p<<2)>>2]|0)+6-(A[y>>2]|0)|0)%6|0;break}while(!1);return y=v,he=w,y|0}function As(h,f,p){h=h|0,f=f|0,p=p|0;var v=0,y=0,w=0,S=0,k=0,M=0,j=0,Y=0;if(Y=he,he=he+32|0,k=Y+16|0,M=Y,v=Eo(h,f,k)|0,v|0)return p=v,he=Y,p|0;w=Ki(h,f)|0,j=Wn(h,f)|0,os(w,M),v=Bl(w,A[k>>2]|0)|0;do if(dn(w)|0){do switch(w|0){case 4:{y=0;break}case 14:{y=1;break}case 24:{y=2;break}case 38:{y=3;break}case 49:{y=4;break}case 58:{y=5;break}case 63:{y=6;break}case 72:{y=7;break}case 83:{y=8;break}case 97:{y=9;break}case 107:{y=10;break}case 117:{y=11;break}default:hr(27795,27797,75,27806)}while(!1);if(S=A[26416+(y*24|0)+8>>2]|0,f=A[26416+(y*24|0)+16>>2]|0,h=A[k>>2]|0,(h|0)!=(A[M>>2]|0)&&(M=Yi(w)|0,h=A[k>>2]|0,M|(h|0)==(f|0)&&(v=(v+1|0)%6|0)),(j|0)==3&(h|0)==(f|0)){v=(v+5|0)%6|0;break}(j|0)==5&(h|0)==(S|0)&&(v=(v+1|0)%6|0)}while(!1);return A[p>>2]=v,p=0,he=Y,p|0}function Ui(h,f,p,v){h=h|0,f=f|0,p=p|0,v=v|0;var y=0,w=0,S=0,k=0,M=0,j=0,Y=0,ve=0,Pe=0,_e=0,ye=0,je=0,Fe=0,Ge=0,qe=0,Ye=0;if(Ye=he,he=he+32|0,qe=Ye+24|0,Fe=Ye+20|0,ye=Ye+8|0,_e=Ye+16|0,Pe=Ye,M=(Qr(h,f)|0)==0,M=M?6:5,Y=re(h|0,f|0,52)|0,we()|0,Y=Y&15,M>>>0<=p>>>0)return v=2,he=Ye,v|0;ve=(Y|0)==0,!ve&&(je=ie(7,0,(Y^15)*3|0)|0,(je&h|0)==0&((we()|0)&f|0)==0)?y=p:w=4;e:do if((w|0)==4){if(y=(Qr(h,f)|0)!=0,((y?4:5)|0)<(p|0)||As(h,f,qe)|0||(w=(A[qe>>2]|0)+p|0,y?y=26704+(((w|0)%5|0)<<2)|0:y=26736+(((w|0)%6|0)<<2)|0,je=A[y>>2]|0,(je|0)==7))return v=1,he=Ye,v|0;A[Fe>>2]=0,y=Dn(h,f,je,Fe,ye)|0;do if(!y){if(k=ye,j=A[k>>2]|0,k=A[k+4>>2]|0,S=k>>>0<f>>>0|(k|0)==(f|0)&j>>>0<h>>>0,w=S?j:h,S=S?k:f,!ve&&(ve=ie(7,0,(Y^15)*3|0)|0,(j&ve|0)==0&(k&(we()|0)|0)==0))y=p;else{if(k=(p+-1+M|0)%(M|0)|0,y=Qr(h,f)|0,(k|0)<0&&hr(27795,27797,248,27822),M=(y|0)!=0,((M?4:5)|0)<(k|0)&&hr(27795,27797,248,27822),As(h,f,qe)|0&&hr(27795,27797,248,27822),y=(A[qe>>2]|0)+k|0,M?y=26704+(((y|0)%5|0)<<2)|0:y=26736+(((y|0)%6|0)<<2)|0,k=A[y>>2]|0,(k|0)==7&&hr(27795,27797,248,27822),A[_e>>2]=0,y=Dn(h,f,k,_e,Pe)|0,y|0)break;j=Pe,M=A[j>>2]|0,j=A[j+4>>2]|0;do if(j>>>0<S>>>0|(j|0)==(S|0)&M>>>0<w>>>0){if(Qr(M,j)|0?w=va(M,j,h,f)|0:w=A[26800+((((A[_e>>2]|0)+(A[26768+(k<<2)>>2]|0)|0)%6|0)<<2)>>2]|0,y=Qr(M,j)|0,(w+-1|0)>>>0>5){y=-1,w=M,S=j;break}if(y=(y|0)!=0,(w|0)==1&y){y=-1,w=M,S=j;break}do if(As(M,j,qe)|0)y=-1;else if(y){y=((A[26352+(w<<2)>>2]|0)+5-(A[qe>>2]|0)|0)%5|0;break}else{y=((A[26384+(w<<2)>>2]|0)+6-(A[qe>>2]|0)|0)%6|0;break}while(!1);w=M,S=j}else y=p;while(!1);k=ye,j=A[k>>2]|0,k=A[k+4>>2]|0}if((w|0)==(j|0)&(S|0)==(k|0)){if(M=(Qr(j,k)|0)!=0,M?h=va(j,k,h,f)|0:h=A[26800+((((A[Fe>>2]|0)+(A[26768+(je<<2)>>2]|0)|0)%6|0)<<2)>>2]|0,y=Qr(j,k)|0,(h+-1|0)>>>0<=5&&(Ge=(y|0)!=0,!((h|0)==1&Ge)))do if(As(j,k,qe)|0)y=-1;else if(Ge){y=((A[26352+(h<<2)>>2]|0)+5-(A[qe>>2]|0)|0)%5|0;break}else{y=((A[26384+(h<<2)>>2]|0)+6-(A[qe>>2]|0)|0)%6|0;break}while(!1);else y=-1;y=y+1|0,y=(y|0)==6|M&(y|0)==5?0:y}f=S,h=w;break e}while(!1);return v=y,he=Ye,v|0}while(!1);return Ge=ie(y|0,0,56)|0,qe=we()|0|f&-2130706433|536870912,A[v>>2]=Ge|h,A[v+4>>2]=qe,v=0,he=Ye,v|0}function ec(h,f,p){h=h|0,f=f|0,p=p|0;var v=0,y=0,w=0;return w=(Qr(h,f)|0)==0,v=Ui(h,f,0,p)|0,y=(v|0)==0,w?!y||(v=Ui(h,f,1,p+8|0)|0,v|0)||(v=Ui(h,f,2,p+16|0)|0,v|0)||(v=Ui(h,f,3,p+24|0)|0,v|0)||(v=Ui(h,f,4,p+32|0)|0,v)?(w=v,w|0):Ui(h,f,5,p+40|0)|0:!y||(v=Ui(h,f,1,p+8|0)|0,v|0)||(v=Ui(h,f,2,p+16|0)|0,v|0)||(v=Ui(h,f,3,p+24|0)|0,v|0)||(v=Ui(h,f,4,p+32|0)|0,v|0)?(w=v,w|0):(w=p+40|0,A[w>>2]=0,A[w+4>>2]=0,w=0,w|0)}function Du(h,f,p){h=h|0,f=f|0,p=p|0;var v=0,y=0,w=0,S=0,k=0,M=0;return M=he,he=he+192|0,y=M,w=M+168|0,S=re(h|0,f|0,56)|0,we()|0,S=S&7,k=f&-2130706433|134217728,v=Eo(h,k,w)|0,v|0?(k=v,he=M,k|0):(f=re(h|0,f|0,52)|0,we()|0,f=f&15,Qr(h,k)|0?Ks(w,f,S,1,y):Ea(w,f,S,1,y),k=y+8|0,A[p>>2]=A[k>>2],A[p+4>>2]=A[k+4>>2],A[p+8>>2]=A[k+8>>2],A[p+12>>2]=A[k+12>>2],k=0,he=M,k|0)}function Pf(h,f){h=h|0,f=f|0;var p=0,v=0,y=0,w=0;return y=he,he=he+16|0,p=y,!(!0&(f&2013265920|0)==536870912)||(v=f&-2130706433|134217728,!(zc(h,v)|0))?(v=0,he=y,v|0):(w=re(h|0,f|0,56)|0,we()|0,w=(Ui(h,v,w&7,p)|0)==0,v=p,v=w&((A[v>>2]|0)==(h|0)?(A[v+4>>2]|0)==(f|0):0)&1,he=y,v|0)}function oa(h,f,p){h=h|0,f=f|0,p=p|0;var v=0;(f|0)>0?(v=co(f,4)|0,A[h>>2]=v,v||hr(27835,27858,40,27872)):A[h>>2]=0,A[h+4>>2]=f,A[h+8>>2]=0,A[h+12>>2]=p}function ps(h){h=h|0;var f=0,p=0,v=0,y=0,w=0,S=0,k=0;y=h+4|0,w=h+12|0,S=h+8|0;e:for(;;){for(p=A[y>>2]|0,f=0;;){if((f|0)>=(p|0))break e;if(v=A[h>>2]|0,k=A[v+(f<<2)>>2]|0,!k)f=f+1|0;else break}f=v+(~~(+vr(+(+yi(10,+ +(15-(A[w>>2]|0)|0))*(+ce[k>>3]+ +ce[k+8>>3])))%+(p|0))>>>0<<2)|0,p=A[f>>2]|0;t:do if(p|0){if(v=k+32|0,(p|0)==(k|0))A[f>>2]=A[v>>2];else{if(p=p+32|0,f=A[p>>2]|0,!f)break;for(;(f|0)!=(k|0);)if(p=f+32|0,f=A[p>>2]|0,!f)break t;A[p>>2]=A[v>>2]}er(k),A[S>>2]=(A[S>>2]|0)+-1}while(!1)}er(A[h>>2]|0)}function pn(h){h=h|0;var f=0,p=0,v=0;for(v=A[h+4>>2]|0,p=0;;){if((p|0)>=(v|0)){f=0,p=4;break}if(f=A[(A[h>>2]|0)+(p<<2)>>2]|0,!f)p=p+1|0;else{p=4;break}}return(p|0)==4?f|0:0}function mn(h,f){h=h|0,f=f|0;var p=0,v=0,y=0,w=0;if(p=~~(+vr(+(+yi(10,+ +(15-(A[h+12>>2]|0)|0))*(+ce[f>>3]+ +ce[f+8>>3])))%+(A[h+4>>2]|0))>>>0,p=(A[h>>2]|0)+(p<<2)|0,v=A[p>>2]|0,!v)return w=1,w|0;w=f+32|0;do if((v|0)!=(f|0)){if(p=A[v+32>>2]|0,!p)return w=1,w|0;for(y=p;;){if((y|0)==(f|0)){y=8;break}if(p=A[y+32>>2]|0,p)v=y,y=p;else{p=1,y=10;break}}if((y|0)==8){A[v+32>>2]=A[w>>2];break}else if((y|0)==10)return p|0}else A[p>>2]=A[w>>2];while(!1);return er(f),w=h+8|0,A[w>>2]=(A[w>>2]|0)+-1,w=0,w|0}function ul(h,f,p){h=h|0,f=f|0,p=p|0;var v=0,y=0,w=0,S=0;w=qn(40)|0,w||hr(27888,27858,98,27901),A[w>>2]=A[f>>2],A[w+4>>2]=A[f+4>>2],A[w+8>>2]=A[f+8>>2],A[w+12>>2]=A[f+12>>2],y=w+16|0,A[y>>2]=A[p>>2],A[y+4>>2]=A[p+4>>2],A[y+8>>2]=A[p+8>>2],A[y+12>>2]=A[p+12>>2],A[w+32>>2]=0,y=~~(+vr(+(+yi(10,+ +(15-(A[h+12>>2]|0)|0))*(+ce[f>>3]+ +ce[f+8>>3])))%+(A[h+4>>2]|0))>>>0,y=(A[h>>2]|0)+(y<<2)|0,v=A[y>>2]|0;do if(!v)A[y>>2]=w;else{for(;!(ta(v,f)|0&&ta(v+16|0,p)|0);)if(y=A[v+32>>2]|0,v=(y|0)==0?v:y,!(A[v+32>>2]|0)){S=10;break}if((S|0)==10){A[v+32>>2]=w;break}return er(w),S=v,S|0}while(!1);return S=h+8|0,A[S>>2]=(A[S>>2]|0)+1,S=w,S|0}function $i(h,f,p){h=h|0,f=f|0,p=p|0;var v=0,y=0;if(y=~~(+vr(+(+yi(10,+ +(15-(A[h+12>>2]|0)|0))*(+ce[f>>3]+ +ce[f+8>>3])))%+(A[h+4>>2]|0))>>>0,y=A[(A[h>>2]|0)+(y<<2)>>2]|0,!y)return p=0,p|0;if(!p){for(h=y;;){if(ta(h,f)|0){v=10;break}if(h=A[h+32>>2]|0,!h){h=0,v=10;break}}if((v|0)==10)return h|0}for(h=y;;){if(ta(h,f)|0&&ta(h+16|0,p)|0){v=10;break}if(h=A[h+32>>2]|0,!h){h=0,v=10;break}}return(v|0)==10?h|0:0}function ko(h,f){h=h|0,f=f|0;var p=0;if(p=~~(+vr(+(+yi(10,+ +(15-(A[h+12>>2]|0)|0))*(+ce[f>>3]+ +ce[f+8>>3])))%+(A[h+4>>2]|0))>>>0,h=A[(A[h>>2]|0)+(p<<2)>>2]|0,!h)return p=0,p|0;for(;;){if(ta(h,f)|0){f=5;break}if(h=A[h+32>>2]|0,!h){h=0,f=5;break}}return(f|0)==5?h|0:0}function tc(){return 27920}function Go(h){return h=+h,~~+Xe(+h)|0}function qn(h){h=h|0;var f=0,p=0,v=0,y=0,w=0,S=0,k=0,M=0,j=0,Y=0,ve=0,Pe=0,_e=0,ye=0,je=0,Fe=0,Ge=0,qe=0,Ye=0,Ue=0,yt=0;yt=he,he=he+16|0,Pe=yt;do if(h>>>0<245){if(j=h>>>0<11?16:h+11&-8,h=j>>>3,ve=A[6981]|0,p=ve>>>h,p&3|0)return f=(p&1^1)+h|0,h=27964+(f<<1<<2)|0,p=h+8|0,v=A[p>>2]|0,y=v+8|0,w=A[y>>2]|0,(w|0)==(h|0)?A[6981]=ve&~(1<<f):(A[w+12>>2]=h,A[p>>2]=w),Ue=f<<3,A[v+4>>2]=Ue|3,Ue=v+Ue+4|0,A[Ue>>2]=A[Ue>>2]|1,Ue=y,he=yt,Ue|0;if(Y=A[6983]|0,j>>>0>Y>>>0){if(p|0)return f=2<<h,f=p<<h&(f|0-f),f=(f&0-f)+-1|0,k=f>>>12&16,f=f>>>k,p=f>>>5&8,f=f>>>p,w=f>>>2&4,f=f>>>w,h=f>>>1&2,f=f>>>h,v=f>>>1&1,v=(p|k|w|h|v)+(f>>>v)|0,f=27964+(v<<1<<2)|0,h=f+8|0,w=A[h>>2]|0,k=w+8|0,p=A[k>>2]|0,(p|0)==(f|0)?(h=ve&~(1<<v),A[6981]=h):(A[p+12>>2]=f,A[h>>2]=p,h=ve),Ue=v<<3,S=Ue-j|0,A[w+4>>2]=j|3,y=w+j|0,A[y+4>>2]=S|1,A[w+Ue>>2]=S,Y|0&&(v=A[6986]|0,f=Y>>>3,p=27964+(f<<1<<2)|0,f=1<<f,h&f?(h=p+8|0,f=A[h>>2]|0):(A[6981]=h|f,f=p,h=p+8|0),A[h>>2]=v,A[f+12>>2]=v,A[v+8>>2]=f,A[v+12>>2]=p),A[6983]=S,A[6986]=y,Ue=k,he=yt,Ue|0;if(w=A[6982]|0,w){for(p=(w&0-w)+-1|0,y=p>>>12&16,p=p>>>y,v=p>>>5&8,p=p>>>v,S=p>>>2&4,p=p>>>S,k=p>>>1&2,p=p>>>k,M=p>>>1&1,M=A[28228+((v|y|S|k|M)+(p>>>M)<<2)>>2]|0,p=M,k=M,M=(A[M+4>>2]&-8)-j|0;h=A[p+16>>2]|0,!(!h&&(h=A[p+20>>2]|0,!h));)S=(A[h+4>>2]&-8)-j|0,y=S>>>0<M>>>0,p=h,k=y?h:k,M=y?S:M;if(S=k+j|0,S>>>0>k>>>0){y=A[k+24>>2]|0,f=A[k+12>>2]|0;do if((f|0)==(k|0)){if(h=k+20|0,f=A[h>>2]|0,!f&&(h=k+16|0,f=A[h>>2]|0,!f)){p=0;break}for(;;)if(v=f+20|0,p=A[v>>2]|0,p)f=p,h=v;else if(v=f+16|0,p=A[v>>2]|0,p)f=p,h=v;else break;A[h>>2]=0,p=f}else p=A[k+8>>2]|0,A[p+12>>2]=f,A[f+8>>2]=p,p=f;while(!1);do if(y|0){if(f=A[k+28>>2]|0,h=28228+(f<<2)|0,(k|0)==(A[h>>2]|0)){if(A[h>>2]=p,!p){A[6982]=w&~(1<<f);break}}else if(Ue=y+16|0,A[((A[Ue>>2]|0)==(k|0)?Ue:y+20|0)>>2]=p,!p)break;A[p+24>>2]=y,f=A[k+16>>2]|0,f|0&&(A[p+16>>2]=f,A[f+24>>2]=p),f=A[k+20>>2]|0,f|0&&(A[p+20>>2]=f,A[f+24>>2]=p)}while(!1);return M>>>0<16?(Ue=M+j|0,A[k+4>>2]=Ue|3,Ue=k+Ue+4|0,A[Ue>>2]=A[Ue>>2]|1):(A[k+4>>2]=j|3,A[S+4>>2]=M|1,A[S+M>>2]=M,Y|0&&(v=A[6986]|0,f=Y>>>3,p=27964+(f<<1<<2)|0,f=1<<f,f&ve?(h=p+8|0,f=A[h>>2]|0):(A[6981]=f|ve,f=p,h=p+8|0),A[h>>2]=v,A[f+12>>2]=v,A[v+8>>2]=f,A[v+12>>2]=p),A[6983]=M,A[6986]=S),Ue=k+8|0,he=yt,Ue|0}else ve=j}else ve=j}else ve=j}else if(h>>>0<=4294967231)if(h=h+11|0,j=h&-8,v=A[6982]|0,v){y=0-j|0,h=h>>>8,h?j>>>0>16777215?M=31:(ve=(h+1048320|0)>>>16&8,je=h<<ve,k=(je+520192|0)>>>16&4,je=je<<k,M=(je+245760|0)>>>16&2,M=14-(k|ve|M)+(je<<M>>>15)|0,M=j>>>(M+7|0)&1|M<<1):M=0,p=A[28228+(M<<2)>>2]|0;e:do if(!p)p=0,h=0,je=61;else for(h=0,k=j<<((M|0)==31?0:25-(M>>>1)|0),w=0;;){if(S=(A[p+4>>2]&-8)-j|0,S>>>0<y>>>0)if(S)h=p,y=S;else{h=p,y=0,je=65;break e}if(je=A[p+20>>2]|0,p=A[p+16+(k>>>31<<2)>>2]|0,w=(je|0)==0|(je|0)==(p|0)?w:je,p)k=k<<1;else{p=w,je=61;break}}while(!1);if((je|0)==61){if((p|0)==0&(h|0)==0){if(h=2<<M,h=(h|0-h)&v,!h){ve=j;break}ve=(h&0-h)+-1|0,S=ve>>>12&16,ve=ve>>>S,w=ve>>>5&8,ve=ve>>>w,k=ve>>>2&4,ve=ve>>>k,M=ve>>>1&2,ve=ve>>>M,p=ve>>>1&1,h=0,p=A[28228+((w|S|k|M|p)+(ve>>>p)<<2)>>2]|0}p?je=65:(k=h,S=y)}if((je|0)==65)for(w=p;;)if(ve=(A[w+4>>2]&-8)-j|0,p=ve>>>0<y>>>0,y=p?ve:y,h=p?w:h,p=A[w+16>>2]|0,p||(p=A[w+20>>2]|0),p)w=p;else{k=h,S=y;break}if((k|0)!=0&&S>>>0<((A[6983]|0)-j|0)>>>0&&(Y=k+j|0,Y>>>0>k>>>0)){w=A[k+24>>2]|0,f=A[k+12>>2]|0;do if((f|0)==(k|0)){if(h=k+20|0,f=A[h>>2]|0,!f&&(h=k+16|0,f=A[h>>2]|0,!f)){f=0;break}for(;;)if(y=f+20|0,p=A[y>>2]|0,p)f=p,h=y;else if(y=f+16|0,p=A[y>>2]|0,p)f=p,h=y;else break;A[h>>2]=0}else Ue=A[k+8>>2]|0,A[Ue+12>>2]=f,A[f+8>>2]=Ue;while(!1);do if(w){if(h=A[k+28>>2]|0,p=28228+(h<<2)|0,(k|0)==(A[p>>2]|0)){if(A[p>>2]=f,!f){v=v&~(1<<h),A[6982]=v;break}}else if(Ue=w+16|0,A[((A[Ue>>2]|0)==(k|0)?Ue:w+20|0)>>2]=f,!f)break;A[f+24>>2]=w,h=A[k+16>>2]|0,h|0&&(A[f+16>>2]=h,A[h+24>>2]=f),h=A[k+20>>2]|0,h&&(A[f+20>>2]=h,A[h+24>>2]=f)}while(!1);e:do if(S>>>0<16)Ue=S+j|0,A[k+4>>2]=Ue|3,Ue=k+Ue+4|0,A[Ue>>2]=A[Ue>>2]|1;else{if(A[k+4>>2]=j|3,A[Y+4>>2]=S|1,A[Y+S>>2]=S,f=S>>>3,S>>>0<256){p=27964+(f<<1<<2)|0,h=A[6981]|0,f=1<<f,h&f?(h=p+8|0,f=A[h>>2]|0):(A[6981]=h|f,f=p,h=p+8|0),A[h>>2]=Y,A[f+12>>2]=Y,A[Y+8>>2]=f,A[Y+12>>2]=p;break}if(f=S>>>8,f?S>>>0>16777215?p=31:(Ye=(f+1048320|0)>>>16&8,Ue=f<<Ye,qe=(Ue+520192|0)>>>16&4,Ue=Ue<<qe,p=(Ue+245760|0)>>>16&2,p=14-(qe|Ye|p)+(Ue<<p>>>15)|0,p=S>>>(p+7|0)&1|p<<1):p=0,f=28228+(p<<2)|0,A[Y+28>>2]=p,h=Y+16|0,A[h+4>>2]=0,A[h>>2]=0,h=1<<p,!(v&h)){A[6982]=v|h,A[f>>2]=Y,A[Y+24>>2]=f,A[Y+12>>2]=Y,A[Y+8>>2]=Y;break}f=A[f>>2]|0;t:do if((A[f+4>>2]&-8|0)!=(S|0)){for(v=S<<((p|0)==31?0:25-(p>>>1)|0);p=f+16+(v>>>31<<2)|0,h=A[p>>2]|0,!!h;)if((A[h+4>>2]&-8|0)==(S|0)){f=h;break t}else v=v<<1,f=h;A[p>>2]=Y,A[Y+24>>2]=f,A[Y+12>>2]=Y,A[Y+8>>2]=Y;break e}while(!1);Ye=f+8|0,Ue=A[Ye>>2]|0,A[Ue+12>>2]=Y,A[Ye>>2]=Y,A[Y+8>>2]=Ue,A[Y+12>>2]=f,A[Y+24>>2]=0}while(!1);return Ue=k+8|0,he=yt,Ue|0}else ve=j}else ve=j;else ve=-1;while(!1);if(p=A[6983]|0,p>>>0>=ve>>>0)return f=p-ve|0,h=A[6986]|0,f>>>0>15?(Ue=h+ve|0,A[6986]=Ue,A[6983]=f,A[Ue+4>>2]=f|1,A[h+p>>2]=f,A[h+4>>2]=ve|3):(A[6983]=0,A[6986]=0,A[h+4>>2]=p|3,Ue=h+p+4|0,A[Ue>>2]=A[Ue>>2]|1),Ue=h+8|0,he=yt,Ue|0;if(S=A[6984]|0,S>>>0>ve>>>0)return qe=S-ve|0,A[6984]=qe,Ue=A[6987]|0,Ye=Ue+ve|0,A[6987]=Ye,A[Ye+4>>2]=qe|1,A[Ue+4>>2]=ve|3,Ue=Ue+8|0,he=yt,Ue|0;if(A[7099]|0?h=A[7101]|0:(A[7101]=4096,A[7100]=4096,A[7102]=-1,A[7103]=-1,A[7104]=0,A[7092]=0,A[7099]=Pe&-16^1431655768,h=4096),k=ve+48|0,M=ve+47|0,w=h+M|0,y=0-h|0,j=w&y,j>>>0<=ve>>>0||(h=A[7091]|0,h|0&&(Y=A[7089]|0,Pe=Y+j|0,Pe>>>0<=Y>>>0|Pe>>>0>h>>>0)))return Ue=0,he=yt,Ue|0;e:do if(A[7092]&4)f=0,je=143;else{p=A[6987]|0;t:do if(p){for(v=28372;Pe=A[v>>2]|0,!(Pe>>>0<=p>>>0&&(Pe+(A[v+4>>2]|0)|0)>>>0>p>>>0);)if(h=A[v+8>>2]|0,h)v=h;else{je=128;break t}if(f=w-S&y,f>>>0<2147483647)if(h=nt(f|0)|0,(h|0)==((A[v>>2]|0)+(A[v+4>>2]|0)|0)){if((h|0)!=-1){S=f,w=h,je=145;break e}}else v=h,je=136;else f=0}else je=128;while(!1);do if((je|0)==128)if(p=nt(0)|0,(p|0)!=-1&&(f=p,_e=A[7100]|0,ye=_e+-1|0,f=((ye&f|0)==0?0:(ye+f&0-_e)-f|0)+j|0,_e=A[7089]|0,ye=f+_e|0,f>>>0>ve>>>0&f>>>0<2147483647)){if(Pe=A[7091]|0,Pe|0&&ye>>>0<=_e>>>0|ye>>>0>Pe>>>0){f=0;break}if(h=nt(f|0)|0,(h|0)==(p|0)){S=f,w=p,je=145;break e}else v=h,je=136}else f=0;while(!1);do if((je|0)==136){if(p=0-f|0,!(k>>>0>f>>>0&(f>>>0<2147483647&(v|0)!=-1)))if((v|0)==-1){f=0;break}else{S=f,w=v,je=145;break e}if(h=A[7101]|0,h=M-f+h&0-h,h>>>0>=2147483647){S=f,w=v,je=145;break e}if((nt(h|0)|0)==-1){nt(p|0)|0,f=0;break}else{S=h+f|0,w=v,je=145;break e}}while(!1);A[7092]=A[7092]|4,je=143}while(!1);if((je|0)==143&&j>>>0<2147483647&&(qe=nt(j|0)|0,ye=nt(0)|0,Fe=ye-qe|0,Ge=Fe>>>0>(ve+40|0)>>>0,!((qe|0)==-1|Ge^1|qe>>>0<ye>>>0&((qe|0)!=-1&(ye|0)!=-1)^1))&&(S=Ge?Fe:f,w=qe,je=145),(je|0)==145){f=(A[7089]|0)+S|0,A[7089]=f,f>>>0>(A[7090]|0)>>>0&&(A[7090]=f),M=A[6987]|0;e:do if(M){for(f=28372;;){if(h=A[f>>2]|0,p=A[f+4>>2]|0,(w|0)==(h+p|0)){je=154;break}if(v=A[f+8>>2]|0,v)f=v;else break}if((je|0)==154&&(Ye=f+4|0,(A[f+12>>2]&8|0)==0)&&w>>>0>M>>>0&h>>>0<=M>>>0){A[Ye>>2]=p+S,Ue=(A[6984]|0)+S|0,qe=M+8|0,qe=(qe&7|0)==0?0:0-qe&7,Ye=M+qe|0,qe=Ue-qe|0,A[6987]=Ye,A[6984]=qe,A[Ye+4>>2]=qe|1,A[M+Ue+4>>2]=40,A[6988]=A[7103];break}for(w>>>0<(A[6985]|0)>>>0&&(A[6985]=w),p=w+S|0,f=28372;;){if((A[f>>2]|0)==(p|0)){je=162;break}if(h=A[f+8>>2]|0,h)f=h;else break}if((je|0)==162&&(A[f+12>>2]&8|0)==0){A[f>>2]=w,Y=f+4|0,A[Y>>2]=(A[Y>>2]|0)+S,Y=w+8|0,Y=w+((Y&7|0)==0?0:0-Y&7)|0,f=p+8|0,f=p+((f&7|0)==0?0:0-f&7)|0,j=Y+ve|0,k=f-Y-ve|0,A[Y+4>>2]=ve|3;t:do if((M|0)==(f|0))Ue=(A[6984]|0)+k|0,A[6984]=Ue,A[6987]=j,A[j+4>>2]=Ue|1;else{if((A[6986]|0)==(f|0)){Ue=(A[6983]|0)+k|0,A[6983]=Ue,A[6986]=j,A[j+4>>2]=Ue|1,A[j+Ue>>2]=Ue;break}if(h=A[f+4>>2]|0,(h&3|0)==1){S=h&-8,v=h>>>3;r:do if(h>>>0<256)if(h=A[f+8>>2]|0,p=A[f+12>>2]|0,(p|0)==(h|0)){A[6981]=A[6981]&~(1<<v);break}else{A[h+12>>2]=p,A[p+8>>2]=h;break}else{w=A[f+24>>2]|0,h=A[f+12>>2]|0;do if((h|0)==(f|0)){if(p=f+16|0,v=p+4|0,h=A[v>>2]|0,h)p=v;else if(h=A[p>>2]|0,!h){h=0;break}for(;;)if(y=h+20|0,v=A[y>>2]|0,v)h=v,p=y;else if(y=h+16|0,v=A[y>>2]|0,v)h=v,p=y;else break;A[p>>2]=0}else Ue=A[f+8>>2]|0,A[Ue+12>>2]=h,A[h+8>>2]=Ue;while(!1);if(!w)break;p=A[f+28>>2]|0,v=28228+(p<<2)|0;do if((A[v>>2]|0)!=(f|0)){if(Ue=w+16|0,A[((A[Ue>>2]|0)==(f|0)?Ue:w+20|0)>>2]=h,!h)break r}else{if(A[v>>2]=h,h|0)break;A[6982]=A[6982]&~(1<<p);break r}while(!1);if(A[h+24>>2]=w,p=f+16|0,v=A[p>>2]|0,v|0&&(A[h+16>>2]=v,A[v+24>>2]=h),p=A[p+4>>2]|0,!p)break;A[h+20>>2]=p,A[p+24>>2]=h}while(!1);f=f+S|0,y=S+k|0}else y=k;if(f=f+4|0,A[f>>2]=A[f>>2]&-2,A[j+4>>2]=y|1,A[j+y>>2]=y,f=y>>>3,y>>>0<256){p=27964+(f<<1<<2)|0,h=A[6981]|0,f=1<<f,h&f?(h=p+8|0,f=A[h>>2]|0):(A[6981]=h|f,f=p,h=p+8|0),A[h>>2]=j,A[f+12>>2]=j,A[j+8>>2]=f,A[j+12>>2]=p;break}f=y>>>8;do if(!f)v=0;else{if(y>>>0>16777215){v=31;break}Ye=(f+1048320|0)>>>16&8,Ue=f<<Ye,qe=(Ue+520192|0)>>>16&4,Ue=Ue<<qe,v=(Ue+245760|0)>>>16&2,v=14-(qe|Ye|v)+(Ue<<v>>>15)|0,v=y>>>(v+7|0)&1|v<<1}while(!1);if(f=28228+(v<<2)|0,A[j+28>>2]=v,h=j+16|0,A[h+4>>2]=0,A[h>>2]=0,h=A[6982]|0,p=1<<v,!(h&p)){A[6982]=h|p,A[f>>2]=j,A[j+24>>2]=f,A[j+12>>2]=j,A[j+8>>2]=j;break}f=A[f>>2]|0;r:do if((A[f+4>>2]&-8|0)!=(y|0)){for(v=y<<((v|0)==31?0:25-(v>>>1)|0);p=f+16+(v>>>31<<2)|0,h=A[p>>2]|0,!!h;)if((A[h+4>>2]&-8|0)==(y|0)){f=h;break r}else v=v<<1,f=h;A[p>>2]=j,A[j+24>>2]=f,A[j+12>>2]=j,A[j+8>>2]=j;break t}while(!1);Ye=f+8|0,Ue=A[Ye>>2]|0,A[Ue+12>>2]=j,A[Ye>>2]=j,A[j+8>>2]=Ue,A[j+12>>2]=f,A[j+24>>2]=0}while(!1);return Ue=Y+8|0,he=yt,Ue|0}for(f=28372;h=A[f>>2]|0,!(h>>>0<=M>>>0&&(Ue=h+(A[f+4>>2]|0)|0,Ue>>>0>M>>>0));)f=A[f+8>>2]|0;y=Ue+-47|0,h=y+8|0,h=y+((h&7|0)==0?0:0-h&7)|0,y=M+16|0,h=h>>>0<y>>>0?M:h,f=h+8|0,p=S+-40|0,qe=w+8|0,qe=(qe&7|0)==0?0:0-qe&7,Ye=w+qe|0,qe=p-qe|0,A[6987]=Ye,A[6984]=qe,A[Ye+4>>2]=qe|1,A[w+p+4>>2]=40,A[6988]=A[7103],p=h+4|0,A[p>>2]=27,A[f>>2]=A[7093],A[f+4>>2]=A[7094],A[f+8>>2]=A[7095],A[f+12>>2]=A[7096],A[7093]=w,A[7094]=S,A[7096]=0,A[7095]=f,f=h+24|0;do Ye=f,f=f+4|0,A[f>>2]=7;while((Ye+8|0)>>>0<Ue>>>0);if((h|0)!=(M|0)){if(w=h-M|0,A[p>>2]=A[p>>2]&-2,A[M+4>>2]=w|1,A[h>>2]=w,f=w>>>3,w>>>0<256){p=27964+(f<<1<<2)|0,h=A[6981]|0,f=1<<f,h&f?(h=p+8|0,f=A[h>>2]|0):(A[6981]=h|f,f=p,h=p+8|0),A[h>>2]=M,A[f+12>>2]=M,A[M+8>>2]=f,A[M+12>>2]=p;break}if(f=w>>>8,f?w>>>0>16777215?v=31:(Ye=(f+1048320|0)>>>16&8,Ue=f<<Ye,qe=(Ue+520192|0)>>>16&4,Ue=Ue<<qe,v=(Ue+245760|0)>>>16&2,v=14-(qe|Ye|v)+(Ue<<v>>>15)|0,v=w>>>(v+7|0)&1|v<<1):v=0,p=28228+(v<<2)|0,A[M+28>>2]=v,A[M+20>>2]=0,A[y>>2]=0,f=A[6982]|0,h=1<<v,!(f&h)){A[6982]=f|h,A[p>>2]=M,A[M+24>>2]=p,A[M+12>>2]=M,A[M+8>>2]=M;break}f=A[p>>2]|0;t:do if((A[f+4>>2]&-8|0)!=(w|0)){for(v=w<<((v|0)==31?0:25-(v>>>1)|0);p=f+16+(v>>>31<<2)|0,h=A[p>>2]|0,!!h;)if((A[h+4>>2]&-8|0)==(w|0)){f=h;break t}else v=v<<1,f=h;A[p>>2]=M,A[M+24>>2]=f,A[M+12>>2]=M,A[M+8>>2]=M;break e}while(!1);Ye=f+8|0,Ue=A[Ye>>2]|0,A[Ue+12>>2]=M,A[Ye>>2]=M,A[M+8>>2]=Ue,A[M+12>>2]=f,A[M+24>>2]=0}}else Ue=A[6985]|0,(Ue|0)==0|w>>>0<Ue>>>0&&(A[6985]=w),A[7093]=w,A[7094]=S,A[7096]=0,A[6990]=A[7099],A[6989]=-1,A[6994]=27964,A[6993]=27964,A[6996]=27972,A[6995]=27972,A[6998]=27980,A[6997]=27980,A[7e3]=27988,A[6999]=27988,A[7002]=27996,A[7001]=27996,A[7004]=28004,A[7003]=28004,A[7006]=28012,A[7005]=28012,A[7008]=28020,A[7007]=28020,A[7010]=28028,A[7009]=28028,A[7012]=28036,A[7011]=28036,A[7014]=28044,A[7013]=28044,A[7016]=28052,A[7015]=28052,A[7018]=28060,A[7017]=28060,A[7020]=28068,A[7019]=28068,A[7022]=28076,A[7021]=28076,A[7024]=28084,A[7023]=28084,A[7026]=28092,A[7025]=28092,A[7028]=28100,A[7027]=28100,A[7030]=28108,A[7029]=28108,A[7032]=28116,A[7031]=28116,A[7034]=28124,A[7033]=28124,A[7036]=28132,A[7035]=28132,A[7038]=28140,A[7037]=28140,A[7040]=28148,A[7039]=28148,A[7042]=28156,A[7041]=28156,A[7044]=28164,A[7043]=28164,A[7046]=28172,A[7045]=28172,A[7048]=28180,A[7047]=28180,A[7050]=28188,A[7049]=28188,A[7052]=28196,A[7051]=28196,A[7054]=28204,A[7053]=28204,A[7056]=28212,A[7055]=28212,Ue=S+-40|0,qe=w+8|0,qe=(qe&7|0)==0?0:0-qe&7,Ye=w+qe|0,qe=Ue-qe|0,A[6987]=Ye,A[6984]=qe,A[Ye+4>>2]=qe|1,A[w+Ue+4>>2]=40,A[6988]=A[7103];while(!1);if(f=A[6984]|0,f>>>0>ve>>>0)return qe=f-ve|0,A[6984]=qe,Ue=A[6987]|0,Ye=Ue+ve|0,A[6987]=Ye,A[Ye+4>>2]=qe|1,A[Ue+4>>2]=ve|3,Ue=Ue+8|0,he=yt,Ue|0}return Ue=tc()|0,A[Ue>>2]=12,Ue=0,he=yt,Ue|0}function er(h){h=h|0;var f=0,p=0,v=0,y=0,w=0,S=0,k=0,M=0;if(h){p=h+-8|0,y=A[6985]|0,h=A[h+-4>>2]|0,f=h&-8,M=p+f|0;do if(h&1)k=p,S=p;else{if(v=A[p>>2]|0,!(h&3)||(S=p+(0-v)|0,w=v+f|0,S>>>0<y>>>0))return;if((A[6986]|0)==(S|0)){if(h=M+4|0,f=A[h>>2]|0,(f&3|0)!=3){k=S,f=w;break}A[6983]=w,A[h>>2]=f&-2,A[S+4>>2]=w|1,A[S+w>>2]=w;return}if(p=v>>>3,v>>>0<256)if(h=A[S+8>>2]|0,f=A[S+12>>2]|0,(f|0)==(h|0)){A[6981]=A[6981]&~(1<<p),k=S,f=w;break}else{A[h+12>>2]=f,A[f+8>>2]=h,k=S,f=w;break}y=A[S+24>>2]|0,h=A[S+12>>2]|0;do if((h|0)==(S|0)){if(f=S+16|0,p=f+4|0,h=A[p>>2]|0,h)f=p;else if(h=A[f>>2]|0,!h){h=0;break}for(;;)if(v=h+20|0,p=A[v>>2]|0,p)h=p,f=v;else if(v=h+16|0,p=A[v>>2]|0,p)h=p,f=v;else break;A[f>>2]=0}else k=A[S+8>>2]|0,A[k+12>>2]=h,A[h+8>>2]=k;while(!1);if(y){if(f=A[S+28>>2]|0,p=28228+(f<<2)|0,(A[p>>2]|0)==(S|0)){if(A[p>>2]=h,!h){A[6982]=A[6982]&~(1<<f),k=S,f=w;break}}else if(k=y+16|0,A[((A[k>>2]|0)==(S|0)?k:y+20|0)>>2]=h,!h){k=S,f=w;break}A[h+24>>2]=y,f=S+16|0,p=A[f>>2]|0,p|0&&(A[h+16>>2]=p,A[p+24>>2]=h),f=A[f+4>>2]|0,f?(A[h+20>>2]=f,A[f+24>>2]=h,k=S,f=w):(k=S,f=w)}else k=S,f=w}while(!1);if(!(S>>>0>=M>>>0)&&(h=M+4|0,v=A[h>>2]|0,!!(v&1))){if(v&2)A[h>>2]=v&-2,A[k+4>>2]=f|1,A[S+f>>2]=f,y=f;else{if((A[6987]|0)==(M|0)){if(M=(A[6984]|0)+f|0,A[6984]=M,A[6987]=k,A[k+4>>2]=M|1,(k|0)!=(A[6986]|0))return;A[6986]=0,A[6983]=0;return}if((A[6986]|0)==(M|0)){M=(A[6983]|0)+f|0,A[6983]=M,A[6986]=S,A[k+4>>2]=M|1,A[S+M>>2]=M;return}y=(v&-8)+f|0,p=v>>>3;do if(v>>>0<256)if(f=A[M+8>>2]|0,h=A[M+12>>2]|0,(h|0)==(f|0)){A[6981]=A[6981]&~(1<<p);break}else{A[f+12>>2]=h,A[h+8>>2]=f;break}else{w=A[M+24>>2]|0,h=A[M+12>>2]|0;do if((h|0)==(M|0)){if(f=M+16|0,p=f+4|0,h=A[p>>2]|0,h)f=p;else if(h=A[f>>2]|0,!h){p=0;break}for(;;)if(v=h+20|0,p=A[v>>2]|0,p)h=p,f=v;else if(v=h+16|0,p=A[v>>2]|0,p)h=p,f=v;else break;A[f>>2]=0,p=h}else p=A[M+8>>2]|0,A[p+12>>2]=h,A[h+8>>2]=p,p=h;while(!1);if(w|0){if(h=A[M+28>>2]|0,f=28228+(h<<2)|0,(A[f>>2]|0)==(M|0)){if(A[f>>2]=p,!p){A[6982]=A[6982]&~(1<<h);break}}else if(v=w+16|0,A[((A[v>>2]|0)==(M|0)?v:w+20|0)>>2]=p,!p)break;A[p+24>>2]=w,h=M+16|0,f=A[h>>2]|0,f|0&&(A[p+16>>2]=f,A[f+24>>2]=p),h=A[h+4>>2]|0,h|0&&(A[p+20>>2]=h,A[h+24>>2]=p)}}while(!1);if(A[k+4>>2]=y|1,A[S+y>>2]=y,(k|0)==(A[6986]|0)){A[6983]=y;return}}if(h=y>>>3,y>>>0<256){p=27964+(h<<1<<2)|0,f=A[6981]|0,h=1<<h,f&h?(f=p+8|0,h=A[f>>2]|0):(A[6981]=f|h,h=p,f=p+8|0),A[f>>2]=k,A[h+12>>2]=k,A[k+8>>2]=h,A[k+12>>2]=p;return}h=y>>>8,h?y>>>0>16777215?v=31:(S=(h+1048320|0)>>>16&8,M=h<<S,w=(M+520192|0)>>>16&4,M=M<<w,v=(M+245760|0)>>>16&2,v=14-(w|S|v)+(M<<v>>>15)|0,v=y>>>(v+7|0)&1|v<<1):v=0,h=28228+(v<<2)|0,A[k+28>>2]=v,A[k+20>>2]=0,A[k+16>>2]=0,f=A[6982]|0,p=1<<v;e:do if(!(f&p))A[6982]=f|p,A[h>>2]=k,A[k+24>>2]=h,A[k+12>>2]=k,A[k+8>>2]=k;else{h=A[h>>2]|0;t:do if((A[h+4>>2]&-8|0)!=(y|0)){for(v=y<<((v|0)==31?0:25-(v>>>1)|0);p=h+16+(v>>>31<<2)|0,f=A[p>>2]|0,!!f;)if((A[f+4>>2]&-8|0)==(y|0)){h=f;break t}else v=v<<1,h=f;A[p>>2]=k,A[k+24>>2]=h,A[k+12>>2]=k,A[k+8>>2]=k;break e}while(!1);S=h+8|0,M=A[S>>2]|0,A[M+12>>2]=k,A[S>>2]=k,A[k+8>>2]=M,A[k+12>>2]=h,A[k+24>>2]=0}while(!1);if(M=(A[6989]|0)+-1|0,A[6989]=M,!(M|0)){for(h=28380;h=A[h>>2]|0,h;)h=h+8|0;A[6989]=-1}}}}function co(h,f){h=h|0,f=f|0;var p=0;return h?(p=en(f,h)|0,(f|h)>>>0>65535&&(p=((p>>>0)/(h>>>0)|0|0)==(f|0)?p:-1)):p=0,h=qn(p)|0,!h||!(A[h+-4>>2]&3)||Oe(h|0,0,p|0)|0,h|0}function tr(h,f,p,v){return h=h|0,f=f|0,p=p|0,v=v|0,p=h+p>>>0,gr(f+v+(p>>>0<h>>>0|0)>>>0|0),p|0|0}function Fn(h,f,p,v){return h=h|0,f=f|0,p=p|0,v=v|0,v=f-v-(p>>>0>h>>>0|0)>>>0,gr(v|0),h-p>>>0|0|0}function Nh(h){return h=h|0,(h?31-(oi(h^h-1)|0)|0:32)|0}function Bs(h,f,p,v,y){h=h|0,f=f|0,p=p|0,v=v|0,y=y|0;var w=0,S=0,k=0,M=0,j=0,Y=0,ve=0,Pe=0,_e=0,ye=0;if(Y=h,M=f,j=M,S=p,Pe=v,k=Pe,!j)return w=(y|0)!=0,k?w?(A[y>>2]=h|0,A[y+4>>2]=f&0,Pe=0,y=0,gr(Pe|0),y|0):(Pe=0,y=0,gr(Pe|0),y|0):(w&&(A[y>>2]=(Y>>>0)%(S>>>0),A[y+4>>2]=0),Pe=0,y=(Y>>>0)/(S>>>0)>>>0,gr(Pe|0),y|0);w=(k|0)==0;do if(S){if(!w){if(w=(oi(k|0)|0)-(oi(j|0)|0)|0,w>>>0<=31){ve=w+1|0,k=31-w|0,f=w-31>>31,S=ve,h=Y>>>(ve>>>0)&f|j<<k,f=j>>>(ve>>>0)&f,w=0,k=Y<<k;break}return y?(A[y>>2]=h|0,A[y+4>>2]=M|f&0,Pe=0,y=0,gr(Pe|0),y|0):(Pe=0,y=0,gr(Pe|0),y|0)}if(w=S-1|0,w&S|0){k=(oi(S|0)|0)+33-(oi(j|0)|0)|0,ye=64-k|0,ve=32-k|0,M=ve>>31,_e=k-32|0,f=_e>>31,S=k,h=ve-1>>31&j>>>(_e>>>0)|(j<<ve|Y>>>(k>>>0))&f,f=f&j>>>(k>>>0),w=Y<<ye&M,k=(j<<ye|Y>>>(_e>>>0))&M|Y<<ve&k-33>>31;break}return y|0&&(A[y>>2]=w&Y,A[y+4>>2]=0),(S|0)==1?(_e=M|f&0,ye=h|0|0,gr(_e|0),ye|0):(ye=Nh(S|0)|0,_e=j>>>(ye>>>0)|0,ye=j<<32-ye|Y>>>(ye>>>0)|0,gr(_e|0),ye|0)}else{if(w)return y|0&&(A[y>>2]=(j>>>0)%(S>>>0),A[y+4>>2]=0),_e=0,ye=(j>>>0)/(S>>>0)>>>0,gr(_e|0),ye|0;if(!Y)return y|0&&(A[y>>2]=0,A[y+4>>2]=(j>>>0)%(k>>>0)),_e=0,ye=(j>>>0)/(k>>>0)>>>0,gr(_e|0),ye|0;if(w=k-1|0,!(w&k))return y|0&&(A[y>>2]=h|0,A[y+4>>2]=w&j|f&0),_e=0,ye=j>>>((Nh(k|0)|0)>>>0),gr(_e|0),ye|0;if(w=(oi(k|0)|0)-(oi(j|0)|0)|0,w>>>0<=30){f=w+1|0,k=31-w|0,S=f,h=j<<k|Y>>>(f>>>0),f=j>>>(f>>>0),w=0,k=Y<<k;break}return y?(A[y>>2]=h|0,A[y+4>>2]=M|f&0,_e=0,ye=0,gr(_e|0),ye|0):(_e=0,ye=0,gr(_e|0),ye|0)}while(!1);if(!S)j=k,M=0,k=0;else{ve=p|0|0,Y=Pe|v&0,j=tr(ve|0,Y|0,-1,-1)|0,p=we()|0,M=k,k=0;do v=M,M=w>>>31|M<<1,w=k|w<<1,v=h<<1|v>>>31|0,Pe=h>>>31|f<<1|0,Fn(j|0,p|0,v|0,Pe|0)|0,ye=we()|0,_e=ye>>31|((ye|0)<0?-1:0)<<1,k=_e&1,h=Fn(v|0,Pe|0,_e&ve|0,(((ye|0)<0?-1:0)>>31|((ye|0)<0?-1:0)<<1)&Y|0)|0,f=we()|0,S=S-1|0;while((S|0)!=0);j=M,M=0}return S=0,y|0&&(A[y>>2]=h,A[y+4>>2]=f),_e=(w|0)>>>31|(j|S)<<1|(S<<1|w>>>31)&0|M,ye=(w<<1|0)&-2|k,gr(_e|0),ye|0}function gs(h,f,p,v){h=h|0,f=f|0,p=p|0,v=v|0;var y=0,w=0,S=0,k=0,M=0,j=0;return j=f>>31|((f|0)<0?-1:0)<<1,M=((f|0)<0?-1:0)>>31|((f|0)<0?-1:0)<<1,w=v>>31|((v|0)<0?-1:0)<<1,y=((v|0)<0?-1:0)>>31|((v|0)<0?-1:0)<<1,k=Fn(j^h|0,M^f|0,j|0,M|0)|0,S=we()|0,h=w^j,f=y^M,Fn((Bs(k,S,Fn(w^p|0,y^v|0,w|0,y|0)|0,we()|0,0)|0)^h|0,(we()|0)^f|0,h|0,f|0)|0}function C(h,f){h=h|0,f=f|0;var p=0,v=0,y=0,w=0;return w=h&65535,y=f&65535,p=en(y,w)|0,v=h>>>16,h=(p>>>16)+(en(y,v)|0)|0,y=f>>>16,f=en(y,w)|0,gr((h>>>16)+(en(y,v)|0)+(((h&65535)+f|0)>>>16)|0),h+f<<16|p&65535|0|0}function I(h,f,p,v){h=h|0,f=f|0,p=p|0,v=v|0;var y=0,w=0;return y=h,w=p,p=C(y,w)|0,h=we()|0,gr((en(f,w)|0)+(en(v,y)|0)+h|h&0|0),p|0|0|0}function W(h,f,p,v){h=h|0,f=f|0,p=p|0,v=v|0;var y=0,w=0,S=0,k=0,M=0,j=0;return y=he,he=he+16|0,k=y|0,S=f>>31|((f|0)<0?-1:0)<<1,w=((f|0)<0?-1:0)>>31|((f|0)<0?-1:0)<<1,j=v>>31|((v|0)<0?-1:0)<<1,M=((v|0)<0?-1:0)>>31|((v|0)<0?-1:0)<<1,h=Fn(S^h|0,w^f|0,S|0,w|0)|0,f=we()|0,Bs(h,f,Fn(j^p|0,M^v|0,j|0,M|0)|0,we()|0,k)|0,v=Fn(A[k>>2]^S|0,A[k+4>>2]^w|0,S|0,w|0)|0,p=we()|0,he=y,gr(p|0),v|0}function J(h,f,p,v){h=h|0,f=f|0,p=p|0,v=v|0;var y=0,w=0;return w=he,he=he+16|0,y=w|0,Bs(h,f,p,v,y)|0,he=w,gr(A[y+4>>2]|0),A[y>>2]|0|0}function ue(h,f,p){return h=h|0,f=f|0,p=p|0,(p|0)<32?(gr(f>>p|0),h>>>p|(f&(1<<p)-1)<<32-p):(gr(((f|0)<0?-1:0)|0),f>>p-32|0)}function re(h,f,p){return h=h|0,f=f|0,p=p|0,(p|0)<32?(gr(f>>>p|0),h>>>p|(f&(1<<p)-1)<<32-p):(gr(0),f>>>p-32|0)}function ie(h,f,p){return h=h|0,f=f|0,p=p|0,(p|0)<32?(gr(f<<p|(h&(1<<p)-1<<32-p)>>>32-p|0),h<<p):(gr(h<<p-32|0),0)}function Se(h,f,p){return h=h|0,f=f|0,f=oi(f)|0,(f|0)==32&&(f=f+(oi(h)|0)|0),gr(0),f|0}function Ce(h,f){return h=+h,f=+f,h!=h?+f:f!=f?+h:+Nc(+h,+f)}function Re(h,f){return h=+h,f=+f,h!=h?+f:f!=f?+h:+Ic(+h,+f)}function Ve(h){return h=+h,h>=0?+_n(h+.5):+Ka(h-.5)}function ot(h,f,p){h=h|0,f=f|0,p=p|0;var v=0,y=0,w=0;if((p|0)>=8192)return vf(h|0,f|0,p|0)|0,h|0;if(w=h|0,y=h+p|0,(h&3)==(f&3)){for(;h&3;){if(!p)return w|0;dt[h>>0]=dt[f>>0]|0,h=h+1|0,f=f+1|0,p=p-1|0}for(p=y&-4|0,v=p-64|0;(h|0)<=(v|0);)A[h>>2]=A[f>>2],A[h+4>>2]=A[f+4>>2],A[h+8>>2]=A[f+8>>2],A[h+12>>2]=A[f+12>>2],A[h+16>>2]=A[f+16>>2],A[h+20>>2]=A[f+20>>2],A[h+24>>2]=A[f+24>>2],A[h+28>>2]=A[f+28>>2],A[h+32>>2]=A[f+32>>2],A[h+36>>2]=A[f+36>>2],A[h+40>>2]=A[f+40>>2],A[h+44>>2]=A[f+44>>2],A[h+48>>2]=A[f+48>>2],A[h+52>>2]=A[f+52>>2],A[h+56>>2]=A[f+56>>2],A[h+60>>2]=A[f+60>>2],h=h+64|0,f=f+64|0;for(;(h|0)<(p|0);)A[h>>2]=A[f>>2],h=h+4|0,f=f+4|0}else for(p=y-4|0;(h|0)<(p|0);)dt[h>>0]=dt[f>>0]|0,dt[h+1>>0]=dt[f+1>>0]|0,dt[h+2>>0]=dt[f+2>>0]|0,dt[h+3>>0]=dt[f+3>>0]|0,h=h+4|0,f=f+4|0;for(;(h|0)<(y|0);)dt[h>>0]=dt[f>>0]|0,h=h+1|0,f=f+1|0;return w|0}function Oe(h,f,p){h=h|0,f=f|0,p=p|0;var v=0,y=0,w=0,S=0;if(w=h+p|0,f=f&255,(p|0)>=67){for(;h&3;)dt[h>>0]=f,h=h+1|0;for(v=w&-4|0,S=f|f<<8|f<<16|f<<24,y=v-64|0;(h|0)<=(y|0);)A[h>>2]=S,A[h+4>>2]=S,A[h+8>>2]=S,A[h+12>>2]=S,A[h+16>>2]=S,A[h+20>>2]=S,A[h+24>>2]=S,A[h+28>>2]=S,A[h+32>>2]=S,A[h+36>>2]=S,A[h+40>>2]=S,A[h+44>>2]=S,A[h+48>>2]=S,A[h+52>>2]=S,A[h+56>>2]=S,A[h+60>>2]=S,h=h+64|0;for(;(h|0)<(v|0);)A[h>>2]=S,h=h+4|0}for(;(h|0)<(w|0);)dt[h>>0]=f,h=h+1|0;return w-p|0}function Xe(h){return h=+h,h>=0?+_n(h+.5):+Ka(h-.5)}function nt(h){h=h|0;var f=0,p=0,v=0;return v=$o()|0,p=A[Kr>>2]|0,f=p+h|0,(h|0)>0&(f|0)<(p|0)|(f|0)<0?(Mc(f|0)|0,Ga(12),-1):(f|0)>(v|0)&&!(fi(f|0)|0)?(Ga(12),-1):(A[Kr>>2]=f,p|0)}return{___divdi3:gs,___muldi3:I,___remdi3:W,___uremdi3:J,_areNeighborCells:zn,_bitshift64Ashr:ue,_bitshift64Lshr:re,_bitshift64Shl:ie,_calloc:co,_cellAreaKm2:Ph,_cellAreaM2:Ch,_cellAreaRads2:Iu,_cellToBoundary:Yo,_cellToCenterChild:So,_cellToChildPos:Po,_cellToChildren:fs,_cellToChildrenSize:Zs,_cellToLatLng:To,_cellToLocalIj:Nu,_cellToParent:el,_cellToVertex:Ui,_cellToVertexes:ec,_cellsToDirectedEdge:Ai,_cellsToLinkedMultiPolygon:Bc,_childPosToCell:cn,_compactCells:tl,_constructCell:Gs,_destroyLinkedMultiPolygon:Ko,_directedEdgeToBoundary:wo,_directedEdgeToCells:Fi,_edgeLengthKm:Oh,_edgeLengthM:ra,_edgeLengthRads:kh,_emscripten_replace_memory:hi,_free:er,_getBaseCellNumber:Ki,_getDirectedEdgeDestination:bi,_getDirectedEdgeOrigin:Pn,_getHexagonAreaAvgKm2:Vc,_getHexagonAreaAvgM2:Xl,_getHexagonEdgeLengthAvgKm:Yl,_getHexagonEdgeLengthAvgM:Th,_getIcosahedronFaces:Ca,_getIndexDigit:Ds,_getNumCells:ol,_getPentagons:Bn,_getRes0Cells:Wo,_getResolution:Ru,_greatCircleDistanceKm:il,_greatCircleDistanceM:Wc,_greatCircleDistanceRads:ka,_gridDisk:di,_gridDiskDistances:is,_gridDistance:Ef,_gridPathCells:Kl,_gridPathCellsSize:Xc,_gridRing:Xs,_gridRingUnsafe:Dl,_i64Add:tr,_i64Subtract:Fn,_isPentagon:Qr,_isResClassIII:Pa,_isValidCell:zc,_isValidDirectedEdge:Jn,_isValidIndex:Ho,_isValidVertex:Pf,_latLngToCell:rl,_llvm_ctlz_i64:Se,_llvm_maxnum_f64:Ce,_llvm_minnum_f64:Re,_llvm_round_f64:Ve,_localIjToCell:Sn,_malloc:qn,_maxFaceCount:Hl,_maxGridDiskSize:ns,_maxPolygonToCellsSize:Qa,_maxPolygonToCellsSizeExperimental:fp,_memcpy:ot,_memset:Oe,_originToDirectedEdges:wa,_pentagonCount:ql,_polygonToCells:yf,_polygonToCellsExperimental:qd,_readInt64AsDoubleFromPointer:Co,_res0CellCount:_f,_round:Xe,_sbrk:nt,_sizeOfCellBoundary:hp,_sizeOfCoordIJ:ds,_sizeOfGeoLoop:dp,_sizeOfGeoPolygon:Ih,_sizeOfH3Index:Xd,_sizeOfLatLng:Yd,_sizeOfLinkedGeoPolygon:lo,_uncompactCells:Js,_uncompactCellsSize:Ta,_vertexToLatLng:Du,establishStackSpace:Ll,stackAlloc:Ml,stackRestore:qs,stackSave:zo}})(fr,bn,H);e.___divdi3=ct.___divdi3,e.___muldi3=ct.___muldi3,e.___remdi3=ct.___remdi3,e.___uremdi3=ct.___uremdi3,e._areNeighborCells=ct._areNeighborCells,e._bitshift64Ashr=ct._bitshift64Ashr,e._bitshift64Lshr=ct._bitshift64Lshr,e._bitshift64Shl=ct._bitshift64Shl,e._calloc=ct._calloc,e._cellAreaKm2=ct._cellAreaKm2,e._cellAreaM2=ct._cellAreaM2,e._cellAreaRads2=ct._cellAreaRads2,e._cellToBoundary=ct._cellToBoundary,e._cellToCenterChild=ct._cellToCenterChild,e._cellToChildPos=ct._cellToChildPos,e._cellToChildren=ct._cellToChildren,e._cellToChildrenSize=ct._cellToChildrenSize,e._cellToLatLng=ct._cellToLatLng,e._cellToLocalIj=ct._cellToLocalIj,e._cellToParent=ct._cellToParent,e._cellToVertex=ct._cellToVertex,e._cellToVertexes=ct._cellToVertexes,e._cellsToDirectedEdge=ct._cellsToDirectedEdge,e._cellsToLinkedMultiPolygon=ct._cellsToLinkedMultiPolygon,e._childPosToCell=ct._childPosToCell,e._compactCells=ct._compactCells,e._constructCell=ct._constructCell,e._destroyLinkedMultiPolygon=ct._destroyLinkedMultiPolygon,e._directedEdgeToBoundary=ct._directedEdgeToBoundary,e._directedEdgeToCells=ct._directedEdgeToCells,e._edgeLengthKm=ct._edgeLengthKm,e._edgeLengthM=ct._edgeLengthM,e._edgeLengthRads=ct._edgeLengthRads;var Ir=e._emscripten_replace_memory=ct._emscripten_replace_memory;e._free=ct._free,e._getBaseCellNumber=ct._getBaseCellNumber,e._getDirectedEdgeDestination=ct._getDirectedEdgeDestination,e._getDirectedEdgeOrigin=ct._getDirectedEdgeOrigin,e._getHexagonAreaAvgKm2=ct._getHexagonAreaAvgKm2,e._getHexagonAreaAvgM2=ct._getHexagonAreaAvgM2,e._getHexagonEdgeLengthAvgKm=ct._getHexagonEdgeLengthAvgKm,e._getHexagonEdgeLengthAvgM=ct._getHexagonEdgeLengthAvgM,e._getIcosahedronFaces=ct._getIcosahedronFaces,e._getIndexDigit=ct._getIndexDigit,e._getNumCells=ct._getNumCells,e._getPentagons=ct._getPentagons,e._getRes0Cells=ct._getRes0Cells,e._getResolution=ct._getResolution,e._greatCircleDistanceKm=ct._greatCircleDistanceKm,e._greatCircleDistanceM=ct._greatCircleDistanceM,e._greatCircleDistanceRads=ct._greatCircleDistanceRads,e._gridDisk=ct._gridDisk,e._gridDiskDistances=ct._gridDiskDistances,e._gridDistance=ct._gridDistance,e._gridPathCells=ct._gridPathCells,e._gridPathCellsSize=ct._gridPathCellsSize,e._gridRing=ct._gridRing,e._gridRingUnsafe=ct._gridRingUnsafe,e._i64Add=ct._i64Add,e._i64Subtract=ct._i64Subtract,e._isPentagon=ct._isPentagon,e._isResClassIII=ct._isResClassIII,e._isValidCell=ct._isValidCell,e._isValidDirectedEdge=ct._isValidDirectedEdge,e._isValidIndex=ct._isValidIndex,e._isValidVertex=ct._isValidVertex,e._latLngToCell=ct._latLngToCell,e._llvm_ctlz_i64=ct._llvm_ctlz_i64,e._llvm_maxnum_f64=ct._llvm_maxnum_f64,e._llvm_minnum_f64=ct._llvm_minnum_f64,e._llvm_round_f64=ct._llvm_round_f64,e._localIjToCell=ct._localIjToCell,e._malloc=ct._malloc,e._maxFaceCount=ct._maxFaceCount,e._maxGridDiskSize=ct._maxGridDiskSize,e._maxPolygonToCellsSize=ct._maxPolygonToCellsSize,e._maxPolygonToCellsSizeExperimental=ct._maxPolygonToCellsSizeExperimental,e._memcpy=ct._memcpy,e._memset=ct._memset,e._originToDirectedEdges=ct._originToDirectedEdges,e._pentagonCount=ct._pentagonCount,e._polygonToCells=ct._polygonToCells,e._polygonToCellsExperimental=ct._polygonToCellsExperimental,e._readInt64AsDoubleFromPointer=ct._readInt64AsDoubleFromPointer,e._res0CellCount=ct._res0CellCount,e._round=ct._round,e._sbrk=ct._sbrk,e._sizeOfCellBoundary=ct._sizeOfCellBoundary,e._sizeOfCoordIJ=ct._sizeOfCoordIJ,e._sizeOfGeoLoop=ct._sizeOfGeoLoop,e._sizeOfGeoPolygon=ct._sizeOfGeoPolygon,e._sizeOfH3Index=ct._sizeOfH3Index,e._sizeOfLatLng=ct._sizeOfLatLng,e._sizeOfLinkedGeoPolygon=ct._sizeOfLinkedGeoPolygon,e._uncompactCells=ct._uncompactCells,e._uncompactCellsSize=ct._uncompactCellsSize,e._vertexToLatLng=ct._vertexToLatLng,e.establishStackSpace=ct.establishStackSpace;var hn=e.stackAlloc=ct.stackAlloc,Dr=e.stackRestore=ct.stackRestore,mr=e.stackSave=ct.stackSave;if(e.asm=ct,e.cwrap=N,e.setValue=b,e.getValue=P,It){Zt(It)||(It=o(It));{bt();var nn=function(lt){lt.byteLength&&(lt=new Uint8Array(lt)),ae.set(lt,_),e.memoryInitializerRequest&&delete e.memoryInitializerRequest.response,Qt()},ga=function(){s(It,nn,function(){throw"could not load memory initializer "+It})},Ti=yn(It);if(Ti)nn(Ti.buffer);else if(e.memoryInitializerRequest){var Rs=function(){var lt=e.memoryInitializerRequest,pt=lt.response;if(lt.status!==200&&lt.status!==0){var Ot=yn(e.memoryInitializerRequestURL);if(Ot)pt=Ot.buffer;else{console.warn("a problem seems to have happened with Module.memoryInitializerRequest, status: "+lt.status+", retrying "+It),ga();return}}nn(pt)};e.memoryInitializerRequest.response?setTimeout(Rs,0):e.memoryInitializerRequest.addEventListener("load",Rs)}else ga()}}var no;$t=function lt(){no||pr(),no||($t=lt)};function pr(lt){if(Vt>0||(De(),Vt>0))return;function pt(){no||(no=!0,!E&&($e(),Le(),e.onRuntimeInitialized&&e.onRuntimeInitialized(),We()))}e.setStatus?(e.setStatus("Running..."),setTimeout(function(){setTimeout(function(){e.setStatus("")},1),pt()},1)):pt()}e.run=pr;function Pi(lt){throw e.onAbort&&e.onAbort(lt),lt+="",a(lt),l(lt),E=!0,"abort("+lt+"). Build with -s ASSERTIONS=1 for more info."}if(e.abort=Pi,e.preInit)for(typeof e.preInit=="function"&&(e.preInit=[e.preInit]);e.preInit.length>0;)e.preInit.pop()();return pr(),t})(typeof Li=="object"?Li:{}),Er="number",_r=Er,bA=Er,Cr=Er,kr=Er,Lo=Er,zt=Er,G0e=[["sizeOfH3Index",Er],["sizeOfLatLng",Er],["sizeOfCellBoundary",Er],["sizeOfGeoLoop",Er],["sizeOfGeoPolygon",Er],["sizeOfLinkedGeoPolygon",Er],["sizeOfCoordIJ",Er],["readInt64AsDoubleFromPointer",Er],["isValidCell",bA,[Cr,kr]],["isValidIndex",bA,[Cr,kr]],["latLngToCell",_r,[Er,Er,Lo,zt]],["cellToLatLng",_r,[Cr,kr,zt]],["cellToBoundary",_r,[Cr,kr,zt]],["maxGridDiskSize",_r,[Er,zt]],["gridDisk",_r,[Cr,kr,Er,zt]],["gridDiskDistances",_r,[Cr,kr,Er,zt,zt]],["gridRing",_r,[Cr,kr,Er,zt]],["gridRingUnsafe",_r,[Cr,kr,Er,zt]],["maxPolygonToCellsSize",_r,[zt,Lo,Er,zt]],["polygonToCells",_r,[zt,Lo,Er,zt]],["maxPolygonToCellsSizeExperimental",_r,[zt,Lo,Er,zt]],["polygonToCellsExperimental",_r,[zt,Lo,Er,Er,Er,zt]],["cellsToLinkedMultiPolygon",_r,[zt,Er,zt]],["destroyLinkedMultiPolygon",null,[zt]],["compactCells",_r,[zt,zt,Er,Er]],["uncompactCells",_r,[zt,Er,Er,zt,Er,Lo]],["uncompactCellsSize",_r,[zt,Er,Er,Lo,zt]],["isPentagon",bA,[Cr,kr]],["isResClassIII",bA,[Cr,kr]],["getBaseCellNumber",Er,[Cr,kr]],["getResolution",Er,[Cr,kr]],["getIndexDigit",Er,[Cr,kr,Er]],["constructCell",_r,[Er,Er,zt,zt]],["maxFaceCount",_r,[Cr,kr,zt]],["getIcosahedronFaces",_r,[Cr,kr,zt]],["cellToParent",_r,[Cr,kr,Lo,zt]],["cellToChildren",_r,[Cr,kr,Lo,zt]],["cellToCenterChild",_r,[Cr,kr,Lo,zt]],["cellToChildrenSize",_r,[Cr,kr,Lo,zt]],["cellToChildPos",_r,[Cr,kr,Lo,zt]],["childPosToCell",_r,[Er,Er,Cr,kr,Lo,zt]],["areNeighborCells",_r,[Cr,kr,Cr,kr,zt]],["cellsToDirectedEdge",_r,[Cr,kr,Cr,kr,zt]],["getDirectedEdgeOrigin",_r,[Cr,kr,zt]],["getDirectedEdgeDestination",_r,[Cr,kr,zt]],["isValidDirectedEdge",bA,[Cr,kr]],["directedEdgeToCells",_r,[Cr,kr,zt]],["originToDirectedEdges",_r,[Cr,kr,zt]],["directedEdgeToBoundary",_r,[Cr,kr,zt]],["gridDistance",_r,[Cr,kr,Cr,kr,zt]],["gridPathCells",_r,[Cr,kr,Cr,kr,zt]],["gridPathCellsSize",_r,[Cr,kr,Cr,kr,zt]],["cellToLocalIj",_r,[Cr,kr,Cr,kr,Er,zt]],["localIjToCell",_r,[Cr,kr,zt,Er,zt]],["getHexagonAreaAvgM2",_r,[Lo,zt]],["getHexagonAreaAvgKm2",_r,[Lo,zt]],["getHexagonEdgeLengthAvgM",_r,[Lo,zt]],["getHexagonEdgeLengthAvgKm",_r,[Lo,zt]],["greatCircleDistanceM",Er,[zt,zt]],["greatCircleDistanceKm",Er,[zt,zt]],["greatCircleDistanceRads",Er,[zt,zt]],["cellAreaM2",_r,[Cr,kr,zt]],["cellAreaKm2",_r,[Cr,kr,zt]],["cellAreaRads2",_r,[Cr,kr,zt]],["edgeLengthM",_r,[Cr,kr,zt]],["edgeLengthKm",_r,[Cr,kr,zt]],["edgeLengthRads",_r,[Cr,kr,zt]],["getNumCells",_r,[Lo,zt]],["getRes0Cells",_r,[zt]],["res0CellCount",Er],["getPentagons",_r,[Er,zt]],["pentagonCount",Er],["cellToVertex",_r,[Cr,kr,Er,zt]],["cellToVertexes",_r,[Cr,kr,zt]],["vertexToLatLng",_r,[Cr,kr,zt]],["isValidVertex",bA,[Cr,kr]]],Q0e=0,Z0e=1,J0e=2,epe=3,Kz=4,tpe=5,rpe=6,npe=7,ipe=8,ope=9,spe=10,ape=11,lpe=12,cpe=13,upe=14,fpe=15,hpe=16,dpe=17,Ape=18,ppe=19,Xi={};Xi[Q0e]="Success";Xi[Z0e]="The operation failed but a more specific error is not available";Xi[J0e]="Argument was outside of acceptable range";Xi[epe]="Latitude or longitude arguments were outside of acceptable range";Xi[Kz]="Resolution argument was outside of acceptable range";Xi[tpe]="Cell argument was not valid";Xi[rpe]="Directed edge argument was not valid";Xi[npe]="Undirected edge argument was not valid";Xi[ipe]="Vertex argument was not valid";Xi[ope]="Pentagon distortion was encountered";Xi[spe]="Duplicate input";Xi[ape]="Cell arguments were not neighbors";Xi[lpe]="Cell arguments had incompatible resolutions";Xi[cpe]="Memory allocation failed";Xi[upe]="Bounds of provided memory were insufficient";Xi[fpe]="Mode or flags argument was not valid";Xi[hpe]="Index argument was not valid";Xi[dpe]="Base cell number was outside of acceptable range";Xi[Ape]="Child indexing digits invalid";Xi[ppe]="Child indexing digits refer to a deleted subsequence";var Gz=1e3,gpe=1001,Qz=1002,ub={};ub[Gz]="Unknown unit";ub[gpe]="Array length out of bounds";ub[Qz]="Got unexpected null value for H3 index";var mpe="Unknown error";function Zz(t,e,r){var n=r&&"value"in r,i=new Error((t[e]||mpe)+" (code: "+e+(n?", value: "+r.value:"")+")");return i.code=e,i}function Jz(t,e){var r=arguments.length===2?{value:e}:{};return Zz(Xi,t,r)}function eW(t,e){var r=arguments.length===2?{value:e}:{};return Zz(ub,t,r)}function v0(t){if(t!==0)throw Jz(t)}var jo={};G0e.forEach(function(e){jo[e[0]]=Li.cwrap.apply(Li,e)});var jA=16,vpe=4,Cd=8,ype=8,mE=jo.sizeOfH3Index(),tW=jo.sizeOfLatLng(),bpe=jo.sizeOfCellBoundary();jo.sizeOfGeoPolygon();jo.sizeOfGeoLoop();jo.sizeOfLinkedGeoPolygon();jo.sizeOfCoordIJ();var $I={m:"m",m2:"m2",km:"km",km2:"km2",rads:"rads",rads2:"rads2"};function _pe(t){if(typeof t!="number"||t<0||t>15||Math.floor(t)!==t)throw Jz(Kz,t);return t}function wpe(t){if(!t)throw eW(Qz);return t}var xpe=/[^0-9a-fA-F]/;function y0(t){if(Array.isArray(t)&&t.length===2&&Number.isInteger(t[0])&&Number.isInteger(t[1]))return t;if(typeof t!="string"||xpe.test(t))return[0,0];var e=parseInt(t.substring(0,t.length-8),jA),r=parseInt(t.substring(t.length-8),jA);return[r,e]}function zI(t){if(t>=0)return t.toString(jA);t=t&2147483647;var e=rW(8,t.toString(jA)),r=(parseInt(e[0],jA)+8).toString(jA);return e=r+e.substring(1),e}function Spe(t,e){return zI(e)+rW(8,zI(t))}function rW(t,e){for(var r=t-e.length,n="",i=0;i<r;i++)n+="0";return n=n+e,n}function Epe(t,e){e===void 0&&(e=0);var r=Li.getValue(t+mE*e,"i32"),n=Li.getValue(t+mE*e+vpe,"i32");return n?Spe(r,n):null}function Tpe(t,e){return e===void 0&&(e=0),Li.getValue(t+Cd*e,"double")}function Ppe(t){return jo.readInt64AsDoubleFromPointer(t)}function _y(t){return Fpe(Li.getValue(t,"double"))}function Cpe(t){return[_y(t),_y(t+Cd)]}function kpe(t){return[_y(t+Cd),_y(t)]}function Ope(t,e,r){for(var n=Li.getValue(t,"i32"),i=t+Cd,o=[],s=kpe,a=0;a<n*2;a+=2)o.push(s(i+Cd*a));return o.push(o[0]),o}function Rpe(t){var e=y0(t),r=e[0],n=e[1];return!!jo.isPentagon(r,n)}function Ipe(t){var e=y0(t),r=e[0],n=e[1];return jo.isValidCell(r,n)?jo.getResolution(r,n):-1}function Npe(t,e,r){var n=Li._malloc(tW);Li.HEAPF64.set([t,e].map(Bpe),n/Cd);var i=Li._malloc(mE);try{return v0(jo.latLngToCell(n,r,i)),wpe(Epe(i))}finally{Li._free(i),Li._free(n)}}function pC(t){var e=Li._malloc(tW),r=y0(t),n=r[0],i=r[1];try{return v0(jo.cellToLatLng(n,i,e)),Cpe(e)}finally{Li._free(e)}}function Mpe(t,e){var r=Li._malloc(bpe),n=y0(t),i=n[0],o=n[1];try{return v0(jo.cellToBoundary(i,o,r)),Ope(r,e,e)}finally{Li._free(r)}}function Lpe(t,e){var r=y0(t),n=r[0],i=r[1],o=y0(e),s=o[0],a=o[1],l=Li._malloc(ype);try{return v0(jo.gridDistance(n,i,s,a,l)),Ppe(l)}finally{Li._free(l)}}function Dpe(t,e){_pe(t);var r=Li._malloc(Cd);try{switch(e){case $I.m:v0(jo.getHexagonEdgeLengthAvgM(t,r));break;case $I.km:v0(jo.getHexagonEdgeLengthAvgKm(t,r));break;default:throw eW(Gz,e)}return Tpe(r)}finally{Li._free(r)}}function Bpe(t){return t*Math.PI/180}function Fpe(t){return t*180/Math.PI}function nW(t,e){e=e===void 0?t[0][0]:e;for(const r of t){const n=r[0]-e;n>180?r[0]-=360:n<-180&&(r[0]+=360)}}function jpe(t,e,r){const[n,i]=pC(t),o=e.length;nW(e,i);const s=e[0]===e[o-1]?o-1:o;for(let a=0;a<s;a++)e[a][0]=Ed(i,e[a][0],r),e[a][1]=Ed(n,e[a][1],r)}function Upe(t,e,r){const n=t(e,r),[i,o]=pC(n);return[o,i]}function WI(t,e=1){const r=Mpe(t,!0);return e!==1?jpe(t,r,e):nW(r),r}function $pe(t){const e=new Float64Array(t.length*2);let r=0;for(const n of t)e[r++]=n[0],e[r++]=n[1];return e}const zpe=10;function Wpe(t,e){let r;return t==null?r=e:typeof t=="object"?r={...t,coverage:e}:r={getHexagon:t,coverage:e},r}const Vpe={...cb.defaultProps,highPrecision:"auto",coverage:{type:"number",min:0,max:1,value:1},centerHexagon:null,getHexagon:{type:"accessor",value:t=>t.hexagon},extruded:!0};class ep extends cC{initializeState(){ep._checkH3Lib(),this.state={edgeLengthKM:0,resolution:-1}}shouldUpdateState({changeFlags:e}){return this._shouldUseHighPrecision()?e.propsOrDataChanged:e.somethingChanged}updateState({props:e,changeFlags:r}){if(e.highPrecision!==!0&&(r.dataChanged||r.updateTriggersChanged&&r.updateTriggersChanged.getHexagon)){const n=this._calculateH3DataProps();this.setState(n)}this._updateVertices(this.context.viewport)}_calculateH3DataProps(){let e=-1,r=!1,n=!1;const{iterable:i,objectInfo:o}=sb(this.props.data);for(const s of i){o.index++;const a=this.props.getHexagon(s,o),l=Ipe(a);if(e<0){if(e=l,!this.props.highPrecision)break}else if(e!==l){n=!0;break}if(Rpe(a)){r=!0;break}}return{resolution:e,edgeLengthKM:e>=0?Dpe(e,"km"):0,hasMultipleRes:n,hasPentagon:r}}_shouldUseHighPrecision(){if(this.props.highPrecision==="auto"){const{resolution:e,hasPentagon:r,hasMultipleRes:n}=this.state,{viewport:i}=this.context;return!!(i!=null&&i.resolution)||n||r||e>=0&&e<=5}return this.props.highPrecision}_updateVertices(e){if(this._shouldUseHighPrecision())return;const{resolution:r,edgeLengthKM:n,centerHex:i}=this.state;if(r<0)return;const o=this.props.centerHexagon||Npe(e.latitude,e.longitude,r);if(i===o)return;if(i)try{if(Lpe(i,o)*n<zpe)return}catch{}const{unitsPerMeter:s}=e.distanceScales;let a=WI(o);const[l,c]=pC(o),[u,g]=e.projectFlat([c,l]);a=a.map(_=>{const b=e.projectFlat(_);return[(b[0]-u)/s[0],(b[1]-g)/s[1]]}),this.setState({centerHex:o,vertices:a})}renderLayers(){return this._shouldUseHighPrecision()?this._renderPolygonLayer():this._renderColumnLayer()}_getForwardProps(){const{elevationScale:e,material:r,coverage:n,extruded:i,wireframe:o,stroked:s,filled:a,lineWidthUnits:l,lineWidthScale:c,lineWidthMinPixels:u,lineWidthMaxPixels:g,getFillColor:_,getElevation:b,getLineColor:P,getLineWidth:E,transitions:T,updateTriggers:O}=this.props;return{elevationScale:e,extruded:i,coverage:n,wireframe:o,stroked:s,filled:a,lineWidthUnits:l,lineWidthScale:c,lineWidthMinPixels:u,lineWidthMaxPixels:g,material:r,getElevation:b,getFillColor:_,getLineColor:P,getLineWidth:E,transitions:T,updateTriggers:{getFillColor:O.getFillColor,getElevation:O.getElevation,getLineColor:O.getLineColor,getLineWidth:O.getLineWidth}}}_renderPolygonLayer(){const{data:e,getHexagon:r,updateTriggers:n,coverage:i}=this.props,o=this.getSubLayerClass("hexagon-cell-hifi",cb),s=this._getForwardProps();return s.updateTriggers.getPolygon=Wpe(n.getHexagon,i),new o(s,this.getSubLayerProps({id:"hexagon-cell-hifi",updateTriggers:s.updateTriggers}),{data:e,_normalize:!1,_windingOrder:"CCW",positionFormat:"XY",getPolygon:(a,l)=>{const c=r(a,l);return $pe(WI(c,i))}})}_renderColumnLayer(){const{data:e,getHexagon:r,updateTriggers:n}=this.props,i=this.getSubLayerClass("hexagon-cell",hC),o=this._getForwardProps();return o.updateTriggers.getPosition=n.getHexagon,new i(o,this.getSubLayerProps({id:"hexagon-cell",flatShading:!0,updateTriggers:o.updateTriggers}),{data:e,diskResolution:6,radius:1,vertices:this.state.vertices,getPosition:Upe.bind(null,r)})}}ep.defaultProps=Vpe;ep.layerName="H3HexagonLayer";ep._checkH3Lib=()=>{};const Hpe=Q.createContext(null);function qpe(t,e){const r=Array.isArray(t)?t[0]:t?t.x:0,n=Array.isArray(t)?t[1]:t?t.y:0,i=Array.isArray(e)?e[0]:e?e.x:0,o=Array.isArray(e)?e[1]:e?e.y:0;return r===i&&n===o}function su(t,e){if(t===e)return!0;if(!t||!e)return!1;if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(!su(t[r],e[r]))return!1;return!0}else if(Array.isArray(e))return!1;if(typeof t=="object"&&typeof e=="object"){const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(const i of r)if(!e.hasOwnProperty(i)||!su(t[i],e[i]))return!1;return!0}return!1}function VI(t){return{longitude:t.center.lng,latitude:t.center.lat,zoom:t.zoom,pitch:t.pitch,bearing:t.bearing,padding:t.padding}}function HI(t,e){const r=e.viewState||e,n={};if("longitude"in r&&"latitude"in r&&(r.longitude!==t.center.lng||r.latitude!==t.center.lat)){const i=t.center.constructor;n.center=new i(r.longitude,r.latitude)}return"zoom"in r&&r.zoom!==t.zoom&&(n.zoom=r.zoom),"bearing"in r&&r.bearing!==t.bearing&&(n.bearing=r.bearing),"pitch"in r&&r.pitch!==t.pitch&&(n.pitch=r.pitch),r.padding&&t.padding&&!su(r.padding,t.padding)&&(n.padding=r.padding),n}const Xpe=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function qI(t){if(!t)return null;if(typeof t=="string"||("toJS"in t&&(t=t.toJS()),!t.layers))return t;const e={};for(const n of t.layers)e[n.id]=n;const r=t.layers.map(n=>{let i=null;"interactive"in n&&(i=Object.assign({},n),delete i.interactive);const o=e[n.ref];if(o){i=i||Object.assign({},n),delete i.ref;for(const s of Xpe)s in o&&(i[s]=o[s])}return i||n});return{...t,layers:r}}const XI={version:8,sources:{},layers:[]},YI={mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",click:"onClick",dblclick:"onDblClick",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mouseout:"onMouseOut",contextmenu:"onContextMenu",touchstart:"onTouchStart",touchend:"onTouchEnd",touchmove:"onTouchMove",touchcancel:"onTouchCancel"},KI={movestart:"onMoveStart",move:"onMove",moveend:"onMoveEnd",dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd",zoomstart:"onZoomStart",zoom:"onZoom",zoomend:"onZoomEnd",rotatestart:"onRotateStart",rotate:"onRotate",rotateend:"onRotateEnd",pitchstart:"onPitchStart",pitch:"onPitch",pitchend:"onPitchEnd"},GI={wheel:"onWheel",boxzoomstart:"onBoxZoomStart",boxzoomend:"onBoxZoomEnd",boxzoomcancel:"onBoxZoomCancel",resize:"onResize",load:"onLoad",render:"onRender",idle:"onIdle",remove:"onRemove",data:"onData",styledata:"onStyleData",sourcedata:"onSourceData",error:"onError"},Ype=["minZoom","maxZoom","minPitch","maxPitch","maxBounds","projection","renderWorldCopies"],Kpe=["scrollZoom","boxZoom","dragRotate","dragPan","keyboard","doubleClickZoom","touchZoomRotate","touchPitch"];class b0{constructor(e,r,n){this._map=null,this._internalUpdate=!1,this._hoveredFeatures=null,this._propsedCameraUpdate=null,this._styleComponents={},this._onEvent=i=>{const o=this.props[GI[i.type]];o?o(i):i.type==="error"&&console.error(i.error)},this._onCameraEvent=i=>{if(this._internalUpdate)return;i.viewState=this._propsedCameraUpdate||VI(this._map.transform);const o=this.props[KI[i.type]];o&&o(i)},this._onCameraUpdate=i=>this._internalUpdate?i:(this._propsedCameraUpdate=VI(i),HI(i,this.props)),this._onPointerEvent=i=>{(i.type==="mousemove"||i.type==="mouseout")&&this._updateHover(i);const o=this.props[YI[i.type]];o&&(this.props.interactiveLayerIds&&i.type!=="mouseover"&&i.type!=="mouseout"&&(i.features=this._hoveredFeatures||this._queryRenderedFeatures(i.point)),o(i),delete i.features)},this._MapClass=e,this.props=r,this._initialize(n)}get map(){return this._map}setProps(e){const r=this.props;this.props=e;const n=this._updateSettings(e,r),i=this._updateSize(e),o=this._updateViewState(e);this._updateStyle(e,r),this._updateStyleComponents(e),this._updateHandlers(e,r),(n||i||o&&!this._map.isMoving())&&this.redraw()}static reuse(e,r){const n=b0.savedMaps.pop();if(!n)return null;const i=n.map,o=i.getContainer();for(r.className=o.className;o.childNodes.length>0;)r.appendChild(o.childNodes[0]);i._container=r;const s=i._resizeObserver;s&&(s.disconnect(),s.observe(r)),n.setProps({...e,styleDiffing:!1}),i.resize();const{initialViewState:a}=e;return a&&(a.bounds?i.fitBounds(a.bounds,{...a.fitBoundsOptions,duration:0}):n._updateViewState(a)),i.isStyleLoaded()?i.fire("load"):i.once("style.load",()=>i.fire("load")),i._update(),n}_initialize(e){const{props:r}=this,{mapStyle:n=XI}=r,i={...r,...r.initialViewState,container:e,style:qI(n)},o=i.initialViewState||i.viewState||i;if(Object.assign(i,{center:[o.longitude||0,o.latitude||0],zoom:o.zoom||0,pitch:o.pitch||0,bearing:o.bearing||0}),r.gl){const a=HTMLCanvasElement.prototype.getContext;HTMLCanvasElement.prototype.getContext=()=>(HTMLCanvasElement.prototype.getContext=a,r.gl)}const s=new this._MapClass(i);o.padding&&s.setPadding(o.padding),r.cursor&&(s.getCanvas().style.cursor=r.cursor),s.transformCameraUpdate=this._onCameraUpdate,s.on("style.load",()=>{var a;this._styleComponents={light:s.getLight(),sky:s.getSky(),projection:(a=s.getProjection)==null?void 0:a.call(s),terrain:s.getTerrain()},this._updateStyleComponents(this.props)}),s.on("sourcedata",()=>{this._updateStyleComponents(this.props)});for(const a in YI)s.on(a,this._onPointerEvent);for(const a in KI)s.on(a,this._onCameraEvent);for(const a in GI)s.on(a,this._onEvent);this._map=s}recycle(){const r=this.map.getContainer().querySelector("[mapboxgl-children]");r==null||r.remove(),b0.savedMaps.push(this)}destroy(){this._map.remove()}redraw(){const e=this._map;e.style&&(e._frame&&(e._frame.cancel(),e._frame=null),e._render())}_updateSize(e){const{viewState:r}=e;if(r){const n=this._map;if(r.width!==n.transform.width||r.height!==n.transform.height)return n.resize(),!0}return!1}_updateViewState(e){const r=this._map,n=r.transform;if(!r.isMoving()){const o=HI(n,e);if(Object.keys(o).length>0)return this._internalUpdate=!0,r.jumpTo(o),this._internalUpdate=!1,!0}return!1}_updateSettings(e,r){const n=this._map;let i=!1;for(const o of Ype)if(o in e&&!su(e[o],r[o])){i=!0;const s=n[`set${o[0].toUpperCase()}${o.slice(1)}`];s==null||s.call(n,e[o])}return i}_updateStyle(e,r){if(e.cursor!==r.cursor&&(this._map.getCanvas().style.cursor=e.cursor||""),e.mapStyle!==r.mapStyle){const{mapStyle:n=XI,styleDiffing:i=!0}=e,o={diff:i};"localIdeographFontFamily"in e&&(o.localIdeographFontFamily=e.localIdeographFontFamily),this._map.setStyle(qI(n),o)}}_updateStyleComponents({light:e,projection:r,sky:n,terrain:i}){var a,l;const o=this._map,s=this._styleComponents;o.style._loaded&&(e&&!su(e,s.light)&&(s.light=e,o.setLight(e)),r&&!su(r,s.projection)&&r!==((a=s.projection)==null?void 0:a.type)&&(s.projection=typeof r=="string"?{type:r}:r,(l=o.setProjection)==null||l.call(o,s.projection)),n&&!su(n,s.sky)&&(s.sky=n,o.setSky(n)),i!==void 0&&!su(i,s.terrain)&&(!i||o.getSource(i.source))&&(s.terrain=i,o.setTerrain(i)))}_updateHandlers(e,r){const n=this._map;for(const i of Kpe){const o=e[i]??!0,s=r[i]??!0;su(o,s)||(o?n[i].enable(o):n[i].disable())}}_queryRenderedFeatures(e){const r=this._map,{interactiveLayerIds:n=[]}=this.props;try{return r.queryRenderedFeatures(e,{layers:n.filter(r.getLayer.bind(r))})}catch{return[]}}_updateHover(e){var i;const{props:r}=this;if(r.interactiveLayerIds&&(r.onMouseMove||r.onMouseEnter||r.onMouseLeave)){const o=e.type,s=((i=this._hoveredFeatures)==null?void 0:i.length)>0,a=this._queryRenderedFeatures(e.point),l=a.length>0;!l&&s&&(e.type="mouseleave",this._onPointerEvent(e)),this._hoveredFeatures=a,l&&!s&&(e.type="mouseenter",this._onPointerEvent(e)),e.type=o}else this._hoveredFeatures=null}}b0.savedMaps=[];const Gpe=["setMaxBounds","setMinZoom","setMaxZoom","setMinPitch","setMaxPitch","setRenderWorldCopies","setProjection","setStyle","addSource","removeSource","addLayer","removeLayer","setLayerZoomRange","setFilter","setPaintProperty","setLayoutProperty","setLight","setTerrain","setFog","remove"];function Qpe(t){if(!t)return null;const e=t.map,r={getMap:()=>e};for(const n of Zpe(e))!(n in r)&&!Gpe.includes(n)&&(r[n]=e[n].bind(e));return r}function Zpe(t){const e=new Set;let r=t;for(;r;){for(const n of Object.getOwnPropertyNames(r))n[0]!=="_"&&typeof t[n]=="function"&&n!=="fire"&&n!=="setEventedParent"&&e.add(n);r=Object.getPrototypeOf(r)}return Array.from(e)}const Jpe=typeof document<"u"?Q.useLayoutEffect:Q.useEffect;function ege(t,e){const{RTLTextPlugin:r,maxParallelImageRequests:n,workerCount:i,workerUrl:o}=e;if(r&&t.getRTLTextPluginStatus&&t.getRTLTextPluginStatus()==="unavailable"){const{pluginUrl:s,lazy:a=!0}=typeof r=="string"?{pluginUrl:r}:r;t.setRTLTextPlugin(s,l=>{l&&console.error(l)},a)}n!==void 0&&t.setMaxParallelImageRequests(n),i!==void 0&&t.setWorkerCount(i),o!==void 0&&t.setWorkerUrl(o)}const fb=Q.createContext(null);function tge(t,e){const r=Q.useContext(Hpe),[n,i]=Q.useState(null),o=Q.useRef(),{current:s}=Q.useRef({mapLib:null,map:null});Q.useEffect(()=>{const c=t.mapLib;let u=!0,g;return Promise.resolve(c||KA(()=>import("./maplibre-gl-CcJ3PmXa.js").then(_=>_.m),[])).then(_=>{if(!u)return;if(!_)throw new Error("Invalid mapLib");const b="Map"in _?_:_.default;if(!b.Map)throw new Error("Invalid mapLib");ege(b,t),t.reuseMaps&&(g=b0.reuse(t,o.current)),g||(g=new b0(b.Map,t,o.current)),s.map=Qpe(g),s.mapLib=b,i(g),r==null||r.onMapMount(s.map,t.id)}).catch(_=>{const{onError:b}=t;b?b({type:"error",target:null,originalEvent:null,error:_}):console.error(_)}),()=>{u=!1,g&&(r==null||r.onMapUnmount(t.id),t.reuseMaps?g.recycle():g.destroy())}},[]),Jpe(()=>{n&&n.setProps(t)}),Q.useImperativeHandle(e,()=>s.map,[n]);const a=Q.useMemo(()=>({position:"relative",width:"100%",height:"100%",...t.style}),[t.style]),l={height:"100%"};return Q.createElement("div",{id:t.id,ref:o,style:a},n&&Q.createElement(fb.Provider,{value:s},Q.createElement("div",{"mapboxgl-children":"",style:l},t.children)))}const rge=Q.forwardRef(tge),nge=/box|flex|grid|column|lineHeight|fontWeight|opacity|order|tabSize|zIndex/;function Af(t,e){if(!t||!e)return;const r=t.style;for(const n in e){const i=e[n];Number.isFinite(i)&&!nge.test(n)?r[n]=`${i}px`:r[n]=i}}function iW(t,e){if(t===e)return null;const r=QI(t),n=QI(e),i=[];for(const o of n)r.has(o)||i.push(o);for(const o of r)n.has(o)||i.push(o);return i.length===0?null:i}function QI(t){return new Set(t?t.trim().split(/\s+/):[])}Q.memo(Q.forwardRef((t,e)=>{const{map:r,mapLib:n}=Q.useContext(fb),i=Q.useRef({props:t}),o=Q.useMemo(()=>{let O=!1;Q.Children.forEach(t.children,D=>{D&&(O=!0)});const L={...t,element:O?document.createElement("div"):void 0},N=new n.Marker(L);return N.setLngLat([t.longitude,t.latitude]),N.getElement().addEventListener("click",D=>{var B,z;(z=(B=i.current.props).onClick)==null||z.call(B,{type:"click",target:N,originalEvent:D})}),N.on("dragstart",D=>{var z,X;const B=D;B.lngLat=o.getLngLat(),(X=(z=i.current.props).onDragStart)==null||X.call(z,B)}),N.on("drag",D=>{var z,X;const B=D;B.lngLat=o.getLngLat(),(X=(z=i.current.props).onDrag)==null||X.call(z,B)}),N.on("dragend",D=>{var z,X;const B=D;B.lngLat=o.getLngLat(),(X=(z=i.current.props).onDragEnd)==null||X.call(z,B)}),N},[]);Q.useEffect(()=>(o.addTo(r.getMap()),()=>{o.remove()}),[]);const{longitude:s,latitude:a,offset:l,style:c,draggable:u=!1,popup:g=null,rotation:_=0,rotationAlignment:b="auto",pitchAlignment:P="auto"}=t;Q.useEffect(()=>{Af(o.getElement(),c)},[c]),Q.useImperativeHandle(e,()=>o,[]);const E=i.current.props;(o.getLngLat().lng!==s||o.getLngLat().lat!==a)&&o.setLngLat([s,a]),l&&!qpe(o.getOffset(),l)&&o.setOffset(l),o.isDraggable()!==u&&o.setDraggable(u),o.getRotation()!==_&&o.setRotation(_),o.getRotationAlignment()!==b&&o.setRotationAlignment(b),o.getPitchAlignment()!==P&&o.setPitchAlignment(P),o.getPopup()!==g&&o.setPopup(g);const T=iW(E.className,t.className);if(T)for(const O of T)o.toggleClassName(O);return i.current.props=t,Sm.createPortal(t.children,o.getElement())}));Q.memo(Q.forwardRef((t,e)=>{const{map:r,mapLib:n}=Q.useContext(fb),i=Q.useMemo(()=>document.createElement("div"),[]),o=Q.useRef({props:t}),s=Q.useMemo(()=>{const a={...t},l=new n.Popup(a);return l.setLngLat([t.longitude,t.latitude]),l.once("open",c=>{var u,g;(g=(u=o.current.props).onOpen)==null||g.call(u,c)}),l},[]);if(Q.useEffect(()=>{const a=l=>{var c,u;(u=(c=o.current.props).onClose)==null||u.call(c,l)};return s.on("close",a),s.setDOMContent(i).addTo(r.getMap()),()=>{s.off("close",a),s.isOpen()&&s.remove()}},[]),Q.useEffect(()=>{Af(s.getElement(),t.style)},[t.style]),Q.useImperativeHandle(e,()=>s,[]),s.isOpen()){const a=o.current.props;(s.getLngLat().lng!==t.longitude||s.getLngLat().lat!==t.latitude)&&s.setLngLat([t.longitude,t.latitude]),t.offset&&!su(a.offset,t.offset)&&s.setOffset(t.offset),(a.anchor!==t.anchor||a.maxWidth!==t.maxWidth)&&(s.options.anchor=t.anchor,s.setMaxWidth(t.maxWidth));const l=iW(a.className,t.className);if(l)for(const c of l)s.toggleClassName(c);o.current.props=t}return Sm.createPortal(t.children,i)}));function jd(t,e,r,n){const i=Q.useContext(fb),o=Q.useMemo(()=>t(i),[]);return Q.useEffect(()=>{const s=e,a=null,l=typeof e=="function"?e:null,{map:c}=i;return c.hasControl(o)||(c.addControl(o,s==null?void 0:s.position),a&&a(i)),()=>{l&&l(i),c.hasControl(o)&&c.removeControl(o)}},[]),o}function ige(t){const e=jd(({mapLib:r})=>new r.AttributionControl(t),{position:t.position});return Q.useEffect(()=>{Af(e._container,t.style)},[t.style]),null}Q.memo(ige);function oge(t){const e=jd(({mapLib:r})=>new r.FullscreenControl({container:t.containerId&&document.getElementById(t.containerId)}),{position:t.position});return Q.useEffect(()=>{Af(e._controlContainer,t.style)},[t.style]),null}Q.memo(oge);function sge(t,e){const r=Q.useRef({props:t}),n=jd(({mapLib:i})=>{const o=new i.GeolocateControl(t),s=o._setupUI;return o._setupUI=()=>{o._container.hasChildNodes()||s()},o.on("geolocate",a=>{var l,c;(c=(l=r.current.props).onGeolocate)==null||c.call(l,a)}),o.on("error",a=>{var l,c;(c=(l=r.current.props).onError)==null||c.call(l,a)}),o.on("outofmaxbounds",a=>{var l,c;(c=(l=r.current.props).onOutOfMaxBounds)==null||c.call(l,a)}),o.on("trackuserlocationstart",a=>{var l,c;(c=(l=r.current.props).onTrackUserLocationStart)==null||c.call(l,a)}),o.on("trackuserlocationend",a=>{var l,c;(c=(l=r.current.props).onTrackUserLocationEnd)==null||c.call(l,a)}),o},{position:t.position});return r.current.props=t,Q.useImperativeHandle(e,()=>n,[]),Q.useEffect(()=>{Af(n._container,t.style)},[t.style]),null}Q.memo(Q.forwardRef(sge));function age(t){const e=jd(({mapLib:r})=>new r.NavigationControl(t),{position:t.position});return Q.useEffect(()=>{Af(e._container,t.style)},[t.style]),null}Q.memo(age);function lge(t){const e=jd(({mapLib:o})=>new o.ScaleControl(t),{position:t.position}),r=Q.useRef(t),n=r.current;r.current=t;const{style:i}=t;return t.maxWidth!==void 0&&t.maxWidth!==n.maxWidth&&(e.options.maxWidth=t.maxWidth),t.unit!==void 0&&t.unit!==n.unit&&e.setUnit(t.unit),Q.useEffect(()=>{Af(e._container,i)},[i]),null}Q.memo(lge);function cge(t){const e=jd(({mapLib:r})=>new r.TerrainControl(t),{position:t.position});return Q.useEffect(()=>{Af(e._container,t.style)},[t.style]),null}Q.memo(cge);function uge(t){const e=jd(({mapLib:r})=>new r.LogoControl(t),{position:t.position});return Q.useEffect(()=>{Af(e._container,t.style)},[t.style]),null}Q.memo(uge);const Wf={"Kamrup Metropolitan":{lat:26.1445,lng:91.7362},Dibrugarh:{lat:27.4728,lng:94.912},Jorhat:{lat:26.7509,lng:94.2037},Sivasagar:{lat:26.98,lng:94.64},Tinsukia:{lat:27.4886,lng:95.3558},Cachar:{lat:24.8333,lng:92.7789},"Papum Pare":{lat:27.0844,lng:93.6053},Tawang:{lat:27.5861,lng:91.8594},"West Kameng":{lat:27.2645,lng:92.4159},Changlang:{lat:27.1247,lng:95.7181},"Imphal West":{lat:24.817,lng:93.9368},"Imphal East":{lat:24.82,lng:94},Churachandpur:{lat:24.3333,lng:93.6833},Thoubal:{lat:24.6333,lng:94.0167},"East Khasi Hills":{lat:25.5788,lng:91.8933},"West Garo Hills":{lat:25.5144,lng:90.2025},"Ri Bhoi":{lat:25.9,lng:91.8833},Aizawl:{lat:23.7307,lng:92.7176},Lunglei:{lat:22.8896,lng:92.7441},Champhai:{lat:23.4733,lng:93.3283},Kohima:{lat:25.6701,lng:94.1077},Dimapur:{lat:25.906,lng:93.7346},Mokokchung:{lat:26.3267,lng:94.5205},Gangtok:{lat:27.3389,lng:88.6065},Namchi:{lat:27.1667,lng:88.35},Gyalshing:{lat:27.2833,lng:88.2333},"West Tripura":{lat:23.8315,lng:91.2868},Gomati:{lat:23.5364,lng:91.488},"North Tripura":{lat:24.3757,lng:92.1642}},fge={longitude:93.9368,latitude:24.817,zoom:7,pitch:45,bearing:0},hge="https://basemaps.cartocdn.com/gl/dark-matter-gl-style/style.json",dge=[{hex:"895ba24892bffff",score:.9},{hex:"895ba248927ffff",score:.7},{hex:"895ba248937ffff",score:.3},{hex:"895ba248967ffff",score:.1}];function oW({data:t=[],district:e,velocity:r=0,className:n,layerMode:i="hex"}){const[o,s]=Q.useState(fge);Q.useEffect(()=>{if(e&&Wf[e]){const{lat:u,lng:g}=Wf[e];s(_=>({..._,longitude:g,latitude:u,zoom:10,transitionDuration:2e3,transitionInterpolator:new $Ae}))}},[e]);const a=r>5?[239,68,68]:[34,197,94],l=Q.useMemo(()=>t&&t.length>0?t:dge,[t]),c=[i==="hex"&&new ep({id:"h3-hexagon-layer",data:l,pickable:!0,wireframe:!1,filled:!0,extruded:!0,getHexagon:u=>u.hex,getFillColor:u=>{const g=u.score;return g>.8?[239,68,68]:g>.5?[245,158,11]:[16,185,129]},getElevation:u=>u.score*1e3,elevationScale:20,opacity:.6}),i==="markers"&&new pg({id:"risk-markers",data:l.map(u=>{const g=e&&Wf[e]?Wf[e]:{lat:24.817,lng:93.9368};return{position:[g.lng+(Math.random()-.5)*.1,g.lat+(Math.random()-.5)*.1],score:u.score,confidence:"High"}}),getPosition:u=>u.position,getFillColor:u=>u.score>.8?[239,68,68]:[245,158,11],getRadius:500,opacity:.8,stroked:!0,lineWidthMinPixels:2}),i==="heatmap"&&new pg({id:"heatmap-layer",data:l.map(u=>{const g=e&&Wf[e]?Wf[e]:{lat:24.817,lng:93.9368};return{position:[g.lng+(Math.random()-.5)*.1,g.lat+(Math.random()-.5)*.1],weight:u.score}}),getPosition:u=>u.position,getFillColor:[239,68,68],getRadius:2e3,opacity:.3,stroked:!1}),e&&Wf[e]?new pg({id:"district-highlight",data:[Wf[e]],getPosition:u=>[u.lng,u.lat],getRadius:5e3,stroked:!0,filled:!0,lineWidthMinPixels:2,getLineColor:a,getFillColor:i==="hex"?[...a,50]:[0,0,0,0],getLineWidth:2,opacity:1,animation:!0}):null];return V.jsxs("div",{className:Os("relative rounded border border-border overflow-hidden h-full w-full min-h-[300px]",n),children:[V.jsx(t0e,{viewState:o,onViewStateChange:({viewState:u})=>s(u),controller:!0,layers:c,getTooltip:({object:u})=>u&&`Risk Score: ${u.score}`,children:V.jsx(rge,{mapStyle:hge,reuseMaps:!0})}),V.jsxs("div",{className:"absolute top-2 right-2 bg-card/90 backdrop-blur p-2 rounded text-xs border border-border z-10 pointer-events-none",children:[V.jsx("div",{className:"font-semibold mb-1",children:i==="hex"?"Risk Extrusion":i==="markers"?"Incident Markers":"Heat Density"}),i==="hex"&&V.jsxs(V.Fragment,{children:[V.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[V.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-sm"})," High Velocity (Red)"]}),V.jsxs("div",{className:"flex items-center gap-2",children:[V.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-sm"})," Low Velocity (Green)"]})]})]})]})}function gC({level:t,className:e="",size:r="md"}){const n={low:"bg-severity-low",medium:"bg-severity-medium",high:"bg-severity-high",critical:"bg-severity-critical"},i={sm:"w-2 h-2",md:"w-3 h-3",lg:"w-4 h-4"};return V.jsx("span",{className:`inline-block rounded-full ${n[t]} ${i[r]} ${e}`,"aria-label":`${t} severity`})}function bl({className:t,...e}){return V.jsx("div",{"data-slot":"skeleton",className:Hs("bg-accent animate-pulse rounded-md",t),...e})}function Age({riskData:t,stats:e,loading:r,selectedDistrict:n}){var i,o;return r?V.jsxs("div",{className:"space-y-6",children:[V.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[V.jsx(bl,{className:"h-[180px] rounded-lg"}),V.jsx(bl,{className:"lg:col-span-2 h-[180px] rounded-lg"})]}),V.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[V.jsx(bl,{className:"lg:col-span-2 h-[300px] rounded-lg"}),V.jsxs("div",{className:"space-y-4",children:[V.jsx(bl,{className:"h-[140px] rounded-lg"}),V.jsx(bl,{className:"h-[140px] rounded-lg"})]})]})]}):t?V.jsxs("div",{className:"space-y-6",children:[V.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[V.jsx("div",{className:"lg:col-span-1",children:V.jsx(nre,{score:t.score,trend:t.trend,riskLevel:t.risk_level,lastUpdated:new Date(t.timestamp).toLocaleTimeString()})}),V.jsxs(uu,{className:"lg:col-span-2",children:[V.jsx(bd,{className:"pb-2",children:V.jsx(_d,{className:"text-base font-medium text-foreground-secondary uppercase tracking-wider",children:"Active Hotspots"})}),V.jsx(Z0,{children:V.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(t.hotspots||[]).slice(0,4).map((s,a)=>V.jsxs("div",{className:"flex items-center justify-between p-3 bg-background-tertiary rounded border border-border-subtle",children:[V.jsxs("div",{className:"flex items-center gap-3",children:[V.jsx(gC,{level:s.severity,size:"sm"}),V.jsx("span",{className:"font-medium text-foreground",children:s.location})]}),V.jsxs("span",{className:"text-xs text-foreground-tertiary tabular-nums",children:[s.incidents," Signals"]})]},a)),(((i=t.hotspots)==null?void 0:i.length)||0)===0&&V.jsx("div",{className:"col-span-2 text-sm text-foreground-tertiary italic",children:"No active hotspots detected in this district."})]})})]})]}),V.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[V.jsxs(uu,{className:"lg:col-span-2 overflow-hidden border-border-subtle",children:[V.jsx(bd,{className:"bg-card-header/50 border-b border-border pb-3",children:V.jsxs("div",{className:"flex items-center justify-between",children:[V.jsx(_d,{className:"text-base font-medium text-foreground",children:"Geographic Risk Preview"}),V.jsx("span",{className:"text-xs text-foreground-tertiary uppercase tracking-wider",children:"Live H3 Layer"})]})}),V.jsx("div",{className:"h-[250px] relative bg-background-tertiary",children:V.jsx(oW,{district:n,velocity:((o=t.components)==null?void 0:o.velocity)||0})})]}),V.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[V.jsxs(uu,{className:"p-4 flex items-center gap-4 border-border-subtle bg-card/50",children:[V.jsx("div",{className:"p-3 bg-primary/10 rounded text-primary",children:V.jsx(zG,{className:"w-5 h-5"})}),V.jsxs("div",{children:[V.jsx("p",{className:"text-xs text-foreground-secondary uppercase tracking-wider",children:"Signals Analyzed"}),V.jsx("p",{className:"text-2xl font-mono font-bold text-foreground",children:(e==null?void 0:e.total_messages)||0})]})]}),V.jsxs(uu,{className:"p-4 flex items-center gap-4 border-border-subtle bg-card/50",children:[V.jsx("div",{className:"p-3 bg-primary/10 rounded text-primary",children:V.jsx(qG,{className:"w-5 h-5"})}),V.jsxs("div",{children:[V.jsx("p",{className:"text-xs text-foreground-secondary uppercase tracking-wider",children:"Officer Reviews"}),V.jsx("p",{className:"text-2xl font-mono font-bold text-foreground",children:(e==null?void 0:e.reviews_submitted)||0})]})]})]})]})]}):V.jsxs("div",{className:"flex flex-col items-center justify-center p-12 py-24 text-center border border-dashed border-border rounded-lg bg-card/50",children:[V.jsx("div",{className:"rounded-full bg-background-tertiary p-3 mb-4",children:V.jsx(z1,{className:"w-6 h-6 text-foreground-tertiary"})}),V.jsx("h3",{className:"text-lg font-medium text-foreground",children:"No Intelligence Data"}),V.jsx("p",{className:"text-foreground-secondary max-w-sm mt-2",children:"Select a district with active data or ingest new intelligence to generate a risk profile."})]})}function pge({districts:t,onIngestComplete:e}){const[r,n]=Q.useState(t[0]||""),[i,o]=Q.useState(""),[s,a]=Q.useState("public_forum"),[l,c]=Q.useState("normal"),[u,g]=Q.useState(!1),[_,b]=Q.useState(null),P=async E=>{E.preventDefault(),g(!0),b(null);try{const T={district:r,text:i,source_type:s,geo_sensitivity:l};await fa.ingestMessage(T),await fa.analyzeDistrict(r),b({type:"success",message:"Message ingested and analyzed successfully."}),o(""),e()}catch(T){console.error(T),b({type:"error",message:"Failed to ingest message."})}finally{g(!1)}};return V.jsxs(uu,{className:"w-full bg-card border-border mb-6",children:[V.jsx(bd,{className:"pb-2 border-b border-border",children:V.jsxs(_d,{className:"flex items-center gap-2 text-lg font-medium text-foreground",children:[V.jsx(tQ,{className:"w-5 h-5 text-severity-low"}),"Ingest New Intelligence"]})}),V.jsx(Z0,{className:"pt-4",children:V.jsxs("form",{onSubmit:P,className:"space-y-4",children:[V.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[V.jsxs("div",{className:"space-y-1",children:[V.jsx("label",{className:"text-xs font-medium text-foreground-tertiary uppercase tracking-wider",children:"Target District"}),V.jsx("select",{value:r,onChange:E=>n(E.target.value),className:"w-full bg-background-tertiary border border-border rounded-md px-3 py-2 text-foreground focus:outline-none focus:ring-2 focus:ring-primary text-sm",children:t.map(E=>V.jsx("option",{value:E,children:E},E))})]}),V.jsxs("div",{className:"space-y-1",children:[V.jsx("label",{className:"text-xs font-medium text-foreground-tertiary uppercase tracking-wider",children:"Source Type"}),V.jsxs("select",{value:s,onChange:E=>a(E.target.value),className:"w-full bg-background-tertiary border border-border rounded-md px-3 py-2 text-foreground focus:outline-none focus:ring-2 focus:ring-primary text-sm",children:[V.jsx("option",{value:"public_forum",children:"Public Forum"}),V.jsx("option",{value:"news_report",children:"News Report"}),V.jsx("option",{value:"social_media",children:"Social Media (Public)"}),V.jsx("option",{value:"tip_line",children:"Anonymous Tip"})]})]}),V.jsxs("div",{className:"space-y-1",children:[V.jsx("label",{className:"text-xs font-medium text-foreground-tertiary uppercase tracking-wider",children:"Geo Sensitivity"}),V.jsxs("select",{value:l,onChange:E=>c(E.target.value),className:"w-full bg-background-tertiary border border-border rounded-md px-3 py-2 text-foreground focus:outline-none focus:ring-2 focus:ring-primary text-sm",children:[V.jsx("option",{value:"normal",children:"Normal Area"}),V.jsx("option",{value:"market",children:"Market / Commercial"}),V.jsx("option",{value:"highway",children:"Highway / Transit"}),V.jsx("option",{value:"sensitive_zone",children:"Sensitive Zone"})]})]})]}),V.jsxs("div",{className:"space-y-1",children:[V.jsx("label",{className:"text-xs font-medium text-foreground-tertiary uppercase tracking-wider",children:"Message Content"}),V.jsx("textarea",{value:i,onChange:E=>o(E.target.value),placeholder:"Paste text content here for analysis...",className:"w-full h-24 bg-background-tertiary border border-border rounded-md px-3 py-2 text-foreground focus:outline-none focus:ring-2 focus:ring-primary text-sm resize-none",required:!0})]}),V.jsx("div",{className:"flex items-center gap-4",children:V.jsx("div",{className:"flex-1",children:_&&V.jsxs("div",{className:`flex items-center gap-2 text-sm ${_.type==="success"?"text-severity-low":"text-severity-high"}`,children:[_.type==="success"?V.jsx(Mj,{className:"w-4 h-4"}):V.jsx(z1,{className:"w-4 h-4"}),_.message]})})}),V.jsxs("div",{className:"grid grid-cols-2 gap-4 bg-background-tertiary p-3 rounded-md border border-border",children:[V.jsxs("div",{className:"space-y-1",children:[V.jsx("label",{className:"text-xs font-medium text-foreground-tertiary uppercase tracking-wider",children:"Ingest Timestamp (IST)"}),V.jsx("div",{className:"font-mono text-sm text-foreground",children:new Date().toLocaleTimeString("en-IN",{timeZone:"Asia/Kolkata"})})]}),V.jsxs("div",{className:"space-y-1",children:[V.jsx("label",{className:"text-xs font-medium text-foreground-tertiary uppercase tracking-wider",children:"Data Classification"}),V.jsxs("div",{className:"font-mono text-sm text-foreground flex items-center gap-2",children:[V.jsx("span",{className:"w-2 h-2 rounded-full bg-severity-low"}),"Synthetic / Public"]})]})]}),V.jsxs("div",{className:"flex flex-col gap-2",children:[V.jsx("p",{className:"text-xs text-foreground-tertiary",children:"All ingested data in this pilot is synthetic or publicly available."}),V.jsx(o0,{type:"submit",variant:"default",className:"w-full bg-primary hover:bg-primary-hover text-primary-foreground",disabled:u||!r||!i,children:u?V.jsxs(V.Fragment,{children:[V.jsx(BG,{className:"w-4 h-4 mr-2 animate-spin"}),"Ingesting..."]}):"Ingest Intelligence"})]})]})})]})}function gge({districts:t,onIngestComplete:e}){return V.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[V.jsxs("div",{children:[V.jsx("h2",{className:"text-2xl font-bold tracking-tight text-foreground",children:"Ingest Intelligence"}),V.jsx("p",{className:"text-foreground-secondary mt-1",children:"Securely submit raw intelligence for AI processing and risk analysis. All inputs are logged and classified."})]}),V.jsx(pge,{districts:t,onIngestComplete:e}),V.jsxs("div",{className:"rounded-md bg-background-secondary border border-border p-4 mt-8",children:[V.jsx("h4",{className:"text-sm font-medium text-foreground mb-2",children:"Ingestion Guidelines"}),V.jsxs("ul",{className:"list-disc list-inside text-sm text-foreground-secondary space-y-1",children:[V.jsx("li",{children:"Ensure district selection matches the content source."}),V.jsx("li",{children:'Mark "Sensitive Zone" for intelligence related to border areas or critical infrastructure.'}),V.jsx("li",{children:"Verify source reliability before submission."})]})]})]})}function mge({primaryTrigger:t,contributingFactors:e}){return V.jsxs(Q2,{children:[V.jsx(TP,{children:V.jsx(PP,{children:"Risk Analysis"})}),V.jsxs(Z2,{className:"space-y-6",children:[V.jsxs("div",{className:"space-y-3",children:[V.jsxs("div",{className:"flex items-center gap-2",children:[V.jsx(Bj,{className:"w-4 h-4 text-severity-high"}),V.jsx("h4",{className:"text-foreground",children:"Primary Trigger"})]}),V.jsx("div",{className:"pl-6 p-4 bg-severity-high-bg border-l-4 border-severity-high rounded",children:V.jsx("p",{className:"text-severity-high-foreground",children:t})})]}),V.jsxs("div",{className:"space-y-3",children:[V.jsx("h4",{className:"text-foreground",children:"Contributing Factors"}),V.jsx("div",{className:"space-y-3",children:e.map((r,n)=>V.jsxs("div",{className:"flex items-start gap-3 p-3 bg-background-secondary rounded border border-border-subtle",children:[V.jsx(gC,{level:r.severity,className:"mt-1 flex-shrink-0"}),V.jsxs("div",{className:"flex-1 min-w-0",children:[V.jsx("p",{className:"text-foreground-secondary",children:r.label}),r.value&&V.jsx("p",{className:"text-xs text-foreground-tertiary mt-1",children:r.value})]})]},n))})]})]})]})}var Mw,ZI;function Aa(){if(ZI)return Mw;ZI=1;var t=Array.isArray;return Mw=t,Mw}var Lw,JI;function sW(){if(JI)return Lw;JI=1;var t=typeof yv=="object"&&yv&&yv.Object===Object&&yv;return Lw=t,Lw}var Dw,eN;function Eu(){if(eN)return Dw;eN=1;var t=sW(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return Dw=r,Dw}var Bw,tN;function Dm(){if(tN)return Bw;tN=1;var t=Eu(),e=t.Symbol;return Bw=e,Bw}var Fw,rN;function vge(){if(rN)return Fw;rN=1;var t=Dm(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,i=t?t.toStringTag:void 0;function o(s){var a=r.call(s,i),l=s[i];try{s[i]=void 0;var c=!0}catch{}var u=n.call(s);return c&&(a?s[i]=l:delete s[i]),u}return Fw=o,Fw}var jw,nN;function yge(){if(nN)return jw;nN=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return jw=r,jw}var Uw,iN;function pf(){if(iN)return Uw;iN=1;var t=Dm(),e=vge(),r=yge(),n="[object Null]",i="[object Undefined]",o=t?t.toStringTag:void 0;function s(a){return a==null?a===void 0?i:n:o&&o in Object(a)?e(a):r(a)}return Uw=s,Uw}var $w,oN;function gf(){if(oN)return $w;oN=1;function t(e){return e!=null&&typeof e=="object"}return $w=t,$w}var zw,sN;function tp(){if(sN)return zw;sN=1;var t=pf(),e=gf(),r="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&t(i)==r}return zw=n,zw}var Ww,aN;function mC(){if(aN)return Ww;aN=1;var t=Aa(),e=tp(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(o,s){if(t(o))return!1;var a=typeof o;return a=="number"||a=="symbol"||a=="boolean"||o==null||e(o)?!0:n.test(o)||!r.test(o)||s!=null&&o in Object(s)}return Ww=i,Ww}var Vw,lN;function yh(){if(lN)return Vw;lN=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return Vw=t,Vw}var Hw,cN;function vC(){if(cN)return Hw;cN=1;var t=pf(),e=yh(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function s(a){if(!e(a))return!1;var l=t(a);return l==n||l==i||l==r||l==o}return Hw=s,Hw}var qw,uN;function bge(){if(uN)return qw;uN=1;var t=Eu(),e=t["__core-js_shared__"];return qw=e,qw}var Xw,fN;function _ge(){if(fN)return Xw;fN=1;var t=bge(),e=(function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!e&&e in n}return Xw=r,Xw}var Yw,hN;function aW(){if(hN)return Yw;hN=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return Yw=r,Yw}var Kw,dN;function wge(){if(dN)return Kw;dN=1;var t=vC(),e=_ge(),r=yh(),n=aW(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,s=Function.prototype,a=Object.prototype,l=s.toString,c=a.hasOwnProperty,u=RegExp("^"+l.call(c).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function g(_){if(!r(_)||e(_))return!1;var b=t(_)?u:o;return b.test(n(_))}return Kw=g,Kw}var Gw,AN;function xge(){if(AN)return Gw;AN=1;function t(e,r){return e==null?void 0:e[r]}return Gw=t,Gw}var Qw,pN;function Ud(){if(pN)return Qw;pN=1;var t=wge(),e=xge();function r(n,i){var o=e(n,i);return t(o)?o:void 0}return Qw=r,Qw}var Zw,gN;function hb(){if(gN)return Zw;gN=1;var t=Ud(),e=t(Object,"create");return Zw=e,Zw}var Jw,mN;function Sge(){if(mN)return Jw;mN=1;var t=hb();function e(){this.__data__=t?t(null):{},this.size=0}return Jw=e,Jw}var ex,vN;function Ege(){if(vN)return ex;vN=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return ex=t,ex}var tx,yN;function Tge(){if(yN)return tx;yN=1;var t=hb(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(o){var s=this.__data__;if(t){var a=s[o];return a===e?void 0:a}return n.call(s,o)?s[o]:void 0}return tx=i,tx}var rx,bN;function Pge(){if(bN)return rx;bN=1;var t=hb(),e=Object.prototype,r=e.hasOwnProperty;function n(i){var o=this.__data__;return t?o[i]!==void 0:r.call(o,i)}return rx=n,rx}var nx,_N;function Cge(){if(_N)return nx;_N=1;var t=hb(),e="__lodash_hash_undefined__";function r(n,i){var o=this.__data__;return this.size+=this.has(n)?0:1,o[n]=t&&i===void 0?e:i,this}return nx=r,nx}var ix,wN;function kge(){if(wN)return ix;wN=1;var t=Sge(),e=Ege(),r=Tge(),n=Pge(),i=Cge();function o(s){var a=-1,l=s==null?0:s.length;for(this.clear();++a<l;){var c=s[a];this.set(c[0],c[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=r,o.prototype.has=n,o.prototype.set=i,ix=o,ix}var ox,xN;function Oge(){if(xN)return ox;xN=1;function t(){this.__data__=[],this.size=0}return ox=t,ox}var sx,SN;function yC(){if(SN)return sx;SN=1;function t(e,r){return e===r||e!==e&&r!==r}return sx=t,sx}var ax,EN;function db(){if(EN)return ax;EN=1;var t=yC();function e(r,n){for(var i=r.length;i--;)if(t(r[i][0],n))return i;return-1}return ax=e,ax}var lx,TN;function Rge(){if(TN)return lx;TN=1;var t=db(),e=Array.prototype,r=e.splice;function n(i){var o=this.__data__,s=t(o,i);if(s<0)return!1;var a=o.length-1;return s==a?o.pop():r.call(o,s,1),--this.size,!0}return lx=n,lx}var cx,PN;function Ige(){if(PN)return cx;PN=1;var t=db();function e(r){var n=this.__data__,i=t(n,r);return i<0?void 0:n[i][1]}return cx=e,cx}var ux,CN;function Nge(){if(CN)return ux;CN=1;var t=db();function e(r){return t(this.__data__,r)>-1}return ux=e,ux}var fx,kN;function Mge(){if(kN)return fx;kN=1;var t=db();function e(r,n){var i=this.__data__,o=t(i,r);return o<0?(++this.size,i.push([r,n])):i[o][1]=n,this}return fx=e,fx}var hx,ON;function Ab(){if(ON)return hx;ON=1;var t=Oge(),e=Rge(),r=Ige(),n=Nge(),i=Mge();function o(s){var a=-1,l=s==null?0:s.length;for(this.clear();++a<l;){var c=s[a];this.set(c[0],c[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=r,o.prototype.has=n,o.prototype.set=i,hx=o,hx}var dx,RN;function bC(){if(RN)return dx;RN=1;var t=Ud(),e=Eu(),r=t(e,"Map");return dx=r,dx}var Ax,IN;function Lge(){if(IN)return Ax;IN=1;var t=kge(),e=Ab(),r=bC();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return Ax=n,Ax}var px,NN;function Dge(){if(NN)return px;NN=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return px=t,px}var gx,MN;function pb(){if(MN)return gx;MN=1;var t=Dge();function e(r,n){var i=r.__data__;return t(n)?i[typeof n=="string"?"string":"hash"]:i.map}return gx=e,gx}var mx,LN;function Bge(){if(LN)return mx;LN=1;var t=pb();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return mx=e,mx}var vx,DN;function Fge(){if(DN)return vx;DN=1;var t=pb();function e(r){return t(this,r).get(r)}return vx=e,vx}var yx,BN;function jge(){if(BN)return yx;BN=1;var t=pb();function e(r){return t(this,r).has(r)}return yx=e,yx}var bx,FN;function Uge(){if(FN)return bx;FN=1;var t=pb();function e(r,n){var i=t(this,r),o=i.size;return i.set(r,n),this.size+=i.size==o?0:1,this}return bx=e,bx}var _x,jN;function _C(){if(jN)return _x;jN=1;var t=Lge(),e=Bge(),r=Fge(),n=jge(),i=Uge();function o(s){var a=-1,l=s==null?0:s.length;for(this.clear();++a<l;){var c=s[a];this.set(c[0],c[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=r,o.prototype.has=n,o.prototype.set=i,_x=o,_x}var wx,UN;function lW(){if(UN)return wx;UN=1;var t=_C(),e="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var o=function(){var s=arguments,a=i?i.apply(this,s):s[0],l=o.cache;if(l.has(a))return l.get(a);var c=n.apply(this,s);return o.cache=l.set(a,c)||l,c};return o.cache=new(r.Cache||t),o}return r.Cache=t,wx=r,wx}var xx,$N;function $ge(){if($N)return xx;$N=1;var t=lW(),e=500;function r(n){var i=t(n,function(s){return o.size===e&&o.clear(),s}),o=i.cache;return i}return xx=r,xx}var Sx,zN;function zge(){if(zN)return Sx;zN=1;var t=$ge(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(e,function(s,a,l,c){o.push(l?c.replace(r,"$1"):a||s)}),o});return Sx=n,Sx}var Ex,WN;function wC(){if(WN)return Ex;WN=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,o=Array(i);++n<i;)o[n]=r(e[n],n,e);return o}return Ex=t,Ex}var Tx,VN;function Wge(){if(VN)return Tx;VN=1;var t=Dm(),e=wC(),r=Aa(),n=tp(),i=t?t.prototype:void 0,o=i?i.toString:void 0;function s(a){if(typeof a=="string")return a;if(r(a))return e(a,s)+"";if(n(a))return o?o.call(a):"";var l=a+"";return l=="0"&&1/a==-1/0?"-0":l}return Tx=s,Tx}var Px,HN;function cW(){if(HN)return Px;HN=1;var t=Wge();function e(r){return r==null?"":t(r)}return Px=e,Px}var Cx,qN;function uW(){if(qN)return Cx;qN=1;var t=Aa(),e=mC(),r=zge(),n=cW();function i(o,s){return t(o)?o:e(o,s)?[o]:r(n(o))}return Cx=i,Cx}var kx,XN;function gb(){if(XN)return kx;XN=1;var t=tp();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return kx=e,kx}var Ox,YN;function xC(){if(YN)return Ox;YN=1;var t=uW(),e=gb();function r(n,i){i=t(i,n);for(var o=0,s=i.length;n!=null&&o<s;)n=n[e(i[o++])];return o&&o==s?n:void 0}return Ox=r,Ox}var Rx,KN;function fW(){if(KN)return Rx;KN=1;var t=xC();function e(r,n,i){var o=r==null?void 0:t(r,n);return o===void 0?i:o}return Rx=e,Rx}var Vge=fW();const Cl=Ln(Vge);var Ix,GN;function Hge(){if(GN)return Ix;GN=1;function t(e){return e==null}return Ix=t,Ix}var qge=Hge();const un=Ln(qge);var Nx,QN;function Xge(){if(QN)return Nx;QN=1;var t=pf(),e=Aa(),r=gf(),n="[object String]";function i(o){return typeof o=="string"||!e(o)&&r(o)&&t(o)==n}return Nx=i,Nx}var Yge=Xge();const Bm=Ln(Yge);var Kge=vC();const Gr=Ln(Kge);var Gge=yh();const rp=Ln(Gge);var Mx={exports:{}},kn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZN;function Qge(){if(ZN)return kn;ZN=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),s=Symbol.for("react.context"),a=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),b=Symbol.for("react.offscreen"),P;P=Symbol.for("react.module.reference");function E(T){if(typeof T=="object"&&T!==null){var O=T.$$typeof;switch(O){case t:switch(T=T.type,T){case r:case i:case n:case c:case u:return T;default:switch(T=T&&T.$$typeof,T){case a:case s:case l:case _:case g:case o:return T;default:return O}}case e:return O}}}return kn.ContextConsumer=s,kn.ContextProvider=o,kn.Element=t,kn.ForwardRef=l,kn.Fragment=r,kn.Lazy=_,kn.Memo=g,kn.Portal=e,kn.Profiler=i,kn.StrictMode=n,kn.Suspense=c,kn.SuspenseList=u,kn.isAsyncMode=function(){return!1},kn.isConcurrentMode=function(){return!1},kn.isContextConsumer=function(T){return E(T)===s},kn.isContextProvider=function(T){return E(T)===o},kn.isElement=function(T){return typeof T=="object"&&T!==null&&T.$$typeof===t},kn.isForwardRef=function(T){return E(T)===l},kn.isFragment=function(T){return E(T)===r},kn.isLazy=function(T){return E(T)===_},kn.isMemo=function(T){return E(T)===g},kn.isPortal=function(T){return E(T)===e},kn.isProfiler=function(T){return E(T)===i},kn.isStrictMode=function(T){return E(T)===n},kn.isSuspense=function(T){return E(T)===c},kn.isSuspenseList=function(T){return E(T)===u},kn.isValidElementType=function(T){return typeof T=="string"||typeof T=="function"||T===r||T===i||T===n||T===c||T===u||T===b||typeof T=="object"&&T!==null&&(T.$$typeof===_||T.$$typeof===g||T.$$typeof===o||T.$$typeof===s||T.$$typeof===l||T.$$typeof===P||T.getModuleId!==void 0)},kn.typeOf=E,kn}var JN;function Zge(){return JN||(JN=1,Mx.exports=Qge()),Mx.exports}var Jge=Zge(),Lx,e8;function hW(){if(e8)return Lx;e8=1;var t=pf(),e=gf(),r="[object Number]";function n(i){return typeof i=="number"||e(i)&&t(i)==r}return Lx=n,Lx}var Dx,t8;function eme(){if(t8)return Dx;t8=1;var t=hW();function e(r){return t(r)&&r!=+r}return Dx=e,Dx}var tme=eme();const np=Ln(tme);var rme=hW();const nme=Ln(rme);var vc=function(e){return e===0?0:e>0?1:-1},rd=function(e){return Bm(e)&&e.indexOf("%")===e.length-1},Dt=function(e){return nme(e)&&!np(e)},vo=function(e){return Dt(e)||Bm(e)},ime=0,Fm=function(e){var r=++ime;return"".concat(e||"").concat(r)},kd=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Dt(e)&&!Bm(e))return n;var o;if(rd(e)){var s=e.indexOf("%");o=r*parseFloat(e.slice(0,s))/100}else o=+e;return np(o)&&(o=n),i&&o>r&&(o=r),o},Zf=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},ome=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},_l=function(e,r){return Dt(e)&&Dt(r)?function(n){return e+n*(r-e)}:function(){return r}};function wy(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Cl(n,e))===r})}function GA(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function vE(t){"@babel/helpers - typeof";return vE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vE(t)}var sme=["viewBox","children"],ame=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],r8=["points","pathLength"],Bx={svg:sme,polygon:r8,polyline:r8},SC=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],xy=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(Q.isValidElement(e)&&(n=e.props),!rp(n))return null;var i={};return Object.keys(n).forEach(function(o){SC.includes(o)&&(i[o]=r||function(s){return n[o](n,s)})}),i},lme=function(e,r,n){return function(i){return e(r,n,i),null}},Sy=function(e,r,n){if(!rp(e)||vE(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var s=e[o];SC.includes(o)&&typeof s=="function"&&(i||(i={}),i[o]=lme(s,r,n))}),i},cme=["children"],ume=["children"];function n8(t,e){if(t==null)return{};var r=fme(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function fme(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function yE(t){"@babel/helpers - typeof";return yE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yE(t)}var i8={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ef=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},o8=null,Fx=null,EC=function t(e){if(e===o8&&Array.isArray(Fx))return Fx;var r=[];return Q.Children.forEach(e,function(n){un(n)||(Jge.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),Fx=r,o8=e,r};function bc(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return ef(i)}):n=[ef(e)],EC(t).forEach(function(i){var o=Cl(i,"type.displayName")||Cl(i,"type.name");n.indexOf(o)!==-1&&r.push(i)}),r}function ja(t,e){var r=bc(t,e);return r&&r[0]}var s8=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!Dt(n)||n<=0||!Dt(i)||i<=0)},hme=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],dme=function(e){return e&&e.type&&Bm(e.type)&&hme.indexOf(e.type)>=0},Ame=function(e){return e&&yE(e)==="object"&&"clipDot"in e},pme=function(e,r,n,i){var o,s=(o=Bx==null?void 0:Bx[i])!==null&&o!==void 0?o:[];return r.startsWith("data-")||!Gr(e)&&(i&&s.includes(r)||ame.includes(r))||n&&SC.includes(r)},an=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(Q.isValidElement(e)&&(i=e.props),!rp(i))return null;var o={};return Object.keys(i).forEach(function(s){var a;pme((a=i)===null||a===void 0?void 0:a[s],s,r,n)&&(o[s]=i[s])}),o},bE=function t(e,r){if(e===r)return!0;var n=Q.Children.count(e);if(n!==Q.Children.count(r))return!1;if(n===0)return!0;if(n===1)return a8(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var o=e[i],s=r[i];if(Array.isArray(o)||Array.isArray(s)){if(!t(o,s))return!1}else if(!a8(o,s))return!1}return!0},a8=function(e,r){if(un(e)&&un(r))return!0;if(!un(e)&&!un(r)){var n=e.props||{},i=n.children,o=n8(n,cme),s=r.props||{},a=s.children,l=n8(s,ume);return i&&a?GA(o,l)&&bE(i,a):!i&&!a?GA(o,l):!1}return!1},l8=function(e,r){var n=[],i={};return EC(e).forEach(function(o,s){if(dme(o))n.push(o);else if(o){var a=ef(o.type),l=r[a]||{},c=l.handler,u=l.once;if(c&&(!u||!i[a])){var g=c(o,a,s);n.push(g),i[a]=!0}}}),n},gme=function(e){var r=e&&e.type;return r&&i8[r]?i8[r]:null},mme=function(e,r){return EC(r).indexOf(e)},vme=["children","width","height","viewBox","className","style","title","desc"];function _E(){return _E=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_E.apply(this,arguments)}function yme(t,e){if(t==null)return{};var r=bme(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function bme(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function wE(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,o=t.className,s=t.style,a=t.title,l=t.desc,c=yme(t,vme),u=i||{width:r,height:n,x:0,y:0},g=fn("recharts-surface",o);return Ke.createElement("svg",_E({},an(c,!0,"svg"),{className:g,width:r,height:n,style:s,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),Ke.createElement("title",null,a),Ke.createElement("desc",null,l),e)}var _me=["children","className"];function xE(){return xE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xE.apply(this,arguments)}function wme(t,e){if(t==null)return{};var r=xme(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function xme(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Ei=Ke.forwardRef(function(t,e){var r=t.children,n=t.className,i=wme(t,_me),o=fn("recharts-layer",n);return Ke.createElement("g",xE({className:o},an(i,!0),{ref:e}),r)}),tf=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o]},jx,c8;function Sme(){if(c8)return jx;c8=1;function t(e,r,n){var i=-1,o=e.length;r<0&&(r=-r>o?0:o+r),n=n>o?o:n,n<0&&(n+=o),o=r>n?0:n-r>>>0,r>>>=0;for(var s=Array(o);++i<o;)s[i]=e[i+r];return s}return jx=t,jx}var Ux,u8;function Eme(){if(u8)return Ux;u8=1;var t=Sme();function e(r,n,i){var o=r.length;return i=i===void 0?o:i,!n&&i>=o?r:t(r,n,i)}return Ux=e,Ux}var $x,f8;function dW(){if(f8)return $x;f8=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,o="\\ufe0e\\ufe0f",s="\\u200d",a=RegExp("["+s+t+i+o+"]");function l(c){return a.test(c)}return $x=l,$x}var zx,h8;function Tme(){if(h8)return zx;h8=1;function t(e){return e.split("")}return zx=t,zx}var Wx,d8;function Pme(){if(d8)return Wx;d8=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,o="\\ufe0e\\ufe0f",s="["+t+"]",a="["+i+"]",l="\\ud83c[\\udffb-\\udfff]",c="(?:"+a+"|"+l+")",u="[^"+t+"]",g="(?:\\ud83c[\\udde6-\\uddff]){2}",_="[\\ud800-\\udbff][\\udc00-\\udfff]",b="\\u200d",P=c+"?",E="["+o+"]?",T="(?:"+b+"(?:"+[u,g,_].join("|")+")"+E+P+")*",O=E+P+T,L="(?:"+[u+a+"?",a,g,_,s].join("|")+")",N=RegExp(l+"(?="+l+")|"+L+O,"g");function D(B){return B.match(N)||[]}return Wx=D,Wx}var Vx,A8;function Cme(){if(A8)return Vx;A8=1;var t=Tme(),e=dW(),r=Pme();function n(i){return e(i)?r(i):t(i)}return Vx=n,Vx}var Hx,p8;function kme(){if(p8)return Hx;p8=1;var t=Eme(),e=dW(),r=Cme(),n=cW();function i(o){return function(s){s=n(s);var a=e(s)?r(s):void 0,l=a?a[0]:s.charAt(0),c=a?t(a,1).join(""):s.slice(1);return l[o]()+c}}return Hx=i,Hx}var qx,g8;function Ome(){if(g8)return qx;g8=1;var t=kme(),e=t("toUpperCase");return qx=e,qx}var Rme=Ome();const mb=Ln(Rme);function ni(t){return function(){return t}}const AW=Math.cos,Ey=Math.sin,Cc=Math.sqrt,Ty=Math.PI,vb=2*Ty,SE=Math.PI,EE=2*SE,Yh=1e-6,Ime=EE-Yh;function pW(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function Nme(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return pW;const r=10**e;return function(n){this._+=n[0];for(let i=1,o=n.length;i<o;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class Mme{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?pW:Nme(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,o,s){this._append`C${+e},${+r},${+n},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(e,r,n,i,o){if(e=+e,r=+r,n=+n,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,l=n-e,c=i-r,u=s-e,g=a-r,_=u*u+g*g;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(_>Yh)if(!(Math.abs(g*l-c*u)>Yh)||!o)this._append`L${this._x1=e},${this._y1=r}`;else{let b=n-s,P=i-a,E=l*l+c*c,T=b*b+P*P,O=Math.sqrt(E),L=Math.sqrt(_),N=o*Math.tan((SE-Math.acos((E+_-T)/(2*O*L)))/2),D=N/L,B=N/O;Math.abs(D-1)>Yh&&this._append`L${e+D*u},${r+D*g}`,this._append`A${o},${o},0,0,${+(g*b>u*P)},${this._x1=e+B*l},${this._y1=r+B*c}`}}arc(e,r,n,i,o,s){if(e=+e,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let a=n*Math.cos(i),l=n*Math.sin(i),c=e+a,u=r+l,g=1^s,_=s?i-o:o-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>Yh||Math.abs(this._y1-u)>Yh)&&this._append`L${c},${u}`,n&&(_<0&&(_=_%EE+EE),_>Ime?this._append`A${n},${n},0,1,${g},${e-a},${r-l}A${n},${n},0,1,${g},${this._x1=c},${this._y1=u}`:_>Yh&&this._append`A${n},${n},0,${+(_>=SE)},${g},${this._x1=e+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function TC(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new Mme(e)}function PC(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function gW(t){this._context=t}gW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function yb(t){return new gW(t)}function mW(t){return t[0]}function vW(t){return t[1]}function yW(t,e){var r=ni(!0),n=null,i=yb,o=null,s=TC(a);t=typeof t=="function"?t:t===void 0?mW:ni(t),e=typeof e=="function"?e:e===void 0?vW:ni(e);function a(l){var c,u=(l=PC(l)).length,g,_=!1,b;for(n==null&&(o=i(b=s())),c=0;c<=u;++c)!(c<u&&r(g=l[c],c,l))===_&&((_=!_)?o.lineStart():o.lineEnd()),_&&o.point(+t(g,c,l),+e(g,c,l));if(b)return o=null,b+""||null}return a.x=function(l){return arguments.length?(t=typeof l=="function"?l:ni(+l),a):t},a.y=function(l){return arguments.length?(e=typeof l=="function"?l:ni(+l),a):e},a.defined=function(l){return arguments.length?(r=typeof l=="function"?l:ni(!!l),a):r},a.curve=function(l){return arguments.length?(i=l,n!=null&&(o=i(n)),a):i},a.context=function(l){return arguments.length?(l==null?n=o=null:o=i(n=l),a):n},a}function Gv(t,e,r){var n=null,i=ni(!0),o=null,s=yb,a=null,l=TC(c);t=typeof t=="function"?t:t===void 0?mW:ni(+t),e=typeof e=="function"?e:ni(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?vW:ni(+r);function c(g){var _,b,P,E=(g=PC(g)).length,T,O=!1,L,N=new Array(E),D=new Array(E);for(o==null&&(a=s(L=l())),_=0;_<=E;++_){if(!(_<E&&i(T=g[_],_,g))===O)if(O=!O)b=_,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),P=_-1;P>=b;--P)a.point(N[P],D[P]);a.lineEnd(),a.areaEnd()}O&&(N[_]=+t(T,_,g),D[_]=+e(T,_,g),a.point(n?+n(T,_,g):N[_],r?+r(T,_,g):D[_]))}if(L)return a=null,L+""||null}function u(){return yW().defined(i).curve(s).context(o)}return c.x=function(g){return arguments.length?(t=typeof g=="function"?g:ni(+g),n=null,c):t},c.x0=function(g){return arguments.length?(t=typeof g=="function"?g:ni(+g),c):t},c.x1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:ni(+g),c):n},c.y=function(g){return arguments.length?(e=typeof g=="function"?g:ni(+g),r=null,c):e},c.y0=function(g){return arguments.length?(e=typeof g=="function"?g:ni(+g),c):e},c.y1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:ni(+g),c):r},c.lineX0=c.lineY0=function(){return u().x(t).y(e)},c.lineY1=function(){return u().x(t).y(r)},c.lineX1=function(){return u().x(n).y(e)},c.defined=function(g){return arguments.length?(i=typeof g=="function"?g:ni(!!g),c):i},c.curve=function(g){return arguments.length?(s=g,o!=null&&(a=s(o)),c):s},c.context=function(g){return arguments.length?(g==null?o=a=null:a=s(o=g),c):o},c}class bW{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function Lme(t){return new bW(t,!0)}function Dme(t){return new bW(t,!1)}const CC={draw(t,e){const r=Cc(e/Ty);t.moveTo(r,0),t.arc(0,0,r,0,vb)}},Bme={draw(t,e){const r=Cc(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},_W=Cc(1/3),Fme=_W*2,jme={draw(t,e){const r=Cc(e/Fme),n=r*_W;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},Ume={draw(t,e){const r=Cc(e),n=-r/2;t.rect(n,n,r,r)}},$me=.8908130915292852,wW=Ey(Ty/10)/Ey(7*Ty/10),zme=Ey(vb/10)*wW,Wme=-AW(vb/10)*wW,Vme={draw(t,e){const r=Cc(e*$me),n=zme*r,i=Wme*r;t.moveTo(0,-r),t.lineTo(n,i);for(let o=1;o<5;++o){const s=vb*o/5,a=AW(s),l=Ey(s);t.lineTo(l*r,-a*r),t.lineTo(a*n-l*i,l*n+a*i)}t.closePath()}},Xx=Cc(3),Hme={draw(t,e){const r=-Cc(e/(Xx*3));t.moveTo(0,r*2),t.lineTo(-Xx*r,-r),t.lineTo(Xx*r,-r),t.closePath()}},gl=-.5,ml=Cc(3)/2,TE=1/Cc(12),qme=(TE/2+1)*3,Xme={draw(t,e){const r=Cc(e/qme),n=r/2,i=r*TE,o=n,s=r*TE+r,a=-o,l=s;t.moveTo(n,i),t.lineTo(o,s),t.lineTo(a,l),t.lineTo(gl*n-ml*i,ml*n+gl*i),t.lineTo(gl*o-ml*s,ml*o+gl*s),t.lineTo(gl*a-ml*l,ml*a+gl*l),t.lineTo(gl*n+ml*i,gl*i-ml*n),t.lineTo(gl*o+ml*s,gl*s-ml*o),t.lineTo(gl*a+ml*l,gl*l-ml*a),t.closePath()}};function Yme(t,e){let r=null,n=TC(i);t=typeof t=="function"?t:ni(t||CC),e=typeof e=="function"?e:ni(e===void 0?64:+e);function i(){let o;if(r||(r=o=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),o)return r=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:ni(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:ni(+o),i):e},i.context=function(o){return arguments.length?(r=o??null,i):r},i}function Py(){}function Cy(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function xW(t){this._context=t}xW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Cy(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Cy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Kme(t){return new xW(t)}function SW(t){this._context=t}SW.prototype={areaStart:Py,areaEnd:Py,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Cy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Gme(t){return new SW(t)}function EW(t){this._context=t}EW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Cy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Qme(t){return new EW(t)}function TW(t){this._context=t}TW.prototype={areaStart:Py,areaEnd:Py,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Zme(t){return new TW(t)}function m8(t){return t<0?-1:1}function v8(t,e,r){var n=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(n||i<0&&-0),s=(r-t._y1)/(i||n<0&&-0),a=(o*i+s*n)/(n+i);return(m8(o)+m8(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function y8(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function Yx(t,e,r){var n=t._x0,i=t._y0,o=t._x1,s=t._y1,a=(o-n)/3;t._context.bezierCurveTo(n+a,i+a*e,o-a,s-a*r,o,s)}function ky(t){this._context=t}ky.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Yx(this,this._t0,y8(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Yx(this,y8(this,r=v8(this,t,e)),r);break;default:Yx(this,this._t0,r=v8(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function PW(t){this._context=new CW(t)}(PW.prototype=Object.create(ky.prototype)).point=function(t,e){ky.prototype.point.call(this,e,t)};function CW(t){this._context=t}CW.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,o){this._context.bezierCurveTo(e,t,n,r,o,i)}};function Jme(t){return new ky(t)}function eve(t){return new PW(t)}function kW(t){this._context=t}kW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=b8(t),i=b8(e),o=0,s=1;s<r;++o,++s)this._context.bezierCurveTo(n[0][o],i[0][o],n[1][o],i[1][o],t[s],e[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function b8(t){var e,r=t.length-1,n,i=new Array(r),o=new Array(r),s=new Array(r);for(i[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,s[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,s[e]-=n*s[e-1];for(i[r-1]=s[r-1]/o[r-1],e=r-2;e>=0;--e)i[e]=(s[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function tve(t){return new kW(t)}function bb(t,e){this._context=t,this._t=e}bb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function rve(t){return new bb(t,.5)}function nve(t){return new bb(t,0)}function ive(t){return new bb(t,1)}function _0(t,e){if((s=t.length)>1)for(var r=1,n,i,o=t[e[0]],s,a=o.length;r<s;++r)for(i=o,o=t[e[r]],n=0;n<a;++n)o[n][1]+=o[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function PE(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function ove(t,e){return t[e]}function sve(t){const e=[];return e.key=t,e}function ave(){var t=ni([]),e=PE,r=_0,n=ove;function i(o){var s=Array.from(t.apply(this,arguments),sve),a,l=s.length,c=-1,u;for(const g of o)for(a=0,++c;a<l;++a)(s[a][c]=[0,+n(g,s[a].key,c,o)]).data=g;for(a=0,u=PC(e(s));a<l;++a)s[u[a]].index=a;return r(s,u),s}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:ni(Array.from(o)),i):t},i.value=function(o){return arguments.length?(n=typeof o=="function"?o:ni(+o),i):n},i.order=function(o){return arguments.length?(e=o==null?PE:typeof o=="function"?o:ni(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(r=o??_0,i):r},i}function lve(t,e){if((n=t.length)>0){for(var r,n,i=0,o=t[0].length,s;i<o;++i){for(s=r=0;r<n;++r)s+=t[r][i][1]||0;if(s)for(r=0;r<n;++r)t[r][i][1]/=s}_0(t,e)}}function cve(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,o=n.length;r<o;++r){for(var s=0,a=0;s<i;++s)a+=t[s][r][1]||0;n[r][1]+=n[r][0]=-a/2}_0(t,e)}}function uve(t,e){if(!(!((s=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,o,s;n<o;++n){for(var a=0,l=0,c=0;a<s;++a){for(var u=t[e[a]],g=u[n][1]||0,_=u[n-1][1]||0,b=(g-_)/2,P=0;P<a;++P){var E=t[e[P]],T=E[n][1]||0,O=E[n-1][1]||0;b+=T-O}l+=g,c+=b*g}i[n-1][1]+=i[n-1][0]=r,l&&(r-=c/l)}i[n-1][1]+=i[n-1][0]=r,_0(t,e)}}function Bg(t){"@babel/helpers - typeof";return Bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bg(t)}var fve=["type","size","sizeType"];function CE(){return CE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},CE.apply(this,arguments)}function _8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function w8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_8(Object(r),!0).forEach(function(n){hve(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hve(t,e,r){return e=dve(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dve(t){var e=Ave(t,"string");return Bg(e)=="symbol"?e:e+""}function Ave(t,e){if(Bg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pve(t,e){if(t==null)return{};var r=gve(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function gve(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var OW={symbolCircle:CC,symbolCross:Bme,symbolDiamond:jme,symbolSquare:Ume,symbolStar:Vme,symbolTriangle:Hme,symbolWye:Xme},mve=Math.PI/180,vve=function(e){var r="symbol".concat(mb(e));return OW[r]||CC},yve=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*mve;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},bve=function(e,r){OW["symbol".concat(mb(e))]=r},kC=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,o=i===void 0?64:i,s=e.sizeType,a=s===void 0?"area":s,l=pve(e,fve),c=w8(w8({},l),{},{type:n,size:o,sizeType:a}),u=function(){var T=vve(n),O=Yme().type(T).size(yve(o,a,n));return O()},g=c.className,_=c.cx,b=c.cy,P=an(c,!0);return _===+_&&b===+b&&o===+o?Ke.createElement("path",CE({},P,{className:fn("recharts-symbols",g),transform:"translate(".concat(_,", ").concat(b,")"),d:u()})):null};kC.registerSymbol=bve;function w0(t){"@babel/helpers - typeof";return w0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w0(t)}function kE(){return kE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kE.apply(this,arguments)}function x8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _ve(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?x8(Object(r),!0).forEach(function(n){Fg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):x8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xve(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,IW(n.key),n)}}function Sve(t,e,r){return e&&xve(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Eve(t,e,r){return e=Oy(e),Tve(t,RW()?Reflect.construct(e,r||[],Oy(t).constructor):e.apply(t,r))}function Tve(t,e){if(e&&(w0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pve(t)}function Pve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function RW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RW=function(){return!!t})()}function Oy(t){return Oy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Oy(t)}function Cve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&OE(t,e)}function OE(t,e){return OE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},OE(t,e)}function Fg(t,e,r){return e=IW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function IW(t){var e=kve(t,"string");return w0(e)=="symbol"?e:e+""}function kve(t,e){if(w0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(w0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vl=32,OC=(function(t){function e(){return wve(this,e),Eve(this,e,arguments)}return Cve(e,t),Sve(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,o=vl/2,s=vl/6,a=vl/3,l=n.inactive?i:n.color;if(n.type==="plainline")return Ke.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:o,x2:vl,y2:o,className:"recharts-legend-icon"});if(n.type==="line")return Ke.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*a,",").concat(o,`
            H`).concat(vl,"M").concat(2*a,",").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(a,",").concat(o),className:"recharts-legend-icon"});if(n.type==="rect")return Ke.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(vl/8,"h").concat(vl,"v").concat(vl*3/4,"h").concat(-vl,"z"),className:"recharts-legend-icon"});if(Ke.isValidElement(n.legendIcon)){var c=_ve({},n);return delete c.legendIcon,Ke.cloneElement(n.legendIcon,c)}return Ke.createElement(kC,{fill:l,cx:o,cy:o,size:vl,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,o=i.payload,s=i.iconSize,a=i.layout,l=i.formatter,c=i.inactiveColor,u={x:0,y:0,width:vl,height:vl},g={display:a==="horizontal"?"inline-block":"block",marginRight:10},_={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(b,P){var E=b.formatter||l,T=fn(Fg(Fg({"recharts-legend-item":!0},"legend-item-".concat(P),!0),"inactive",b.inactive));if(b.type==="none")return null;var O=Gr(b.value)?null:b.value;tf(!Gr(b.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var L=b.inactive?c:b.color;return Ke.createElement("li",kE({className:T,style:g,key:"legend-item-".concat(P)},Sy(n.props,b,P)),Ke.createElement(wE,{width:s,height:s,viewBox:u,style:_},n.renderIcon(b)),Ke.createElement("span",{className:"recharts-legend-item-text",style:{color:L}},E?E(O,b,P):O))})}},{key:"render",value:function(){var n=this.props,i=n.payload,o=n.layout,s=n.align;if(!i||!i.length)return null;var a={padding:0,margin:0,textAlign:o==="horizontal"?s:"left"};return Ke.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}])})(Q.PureComponent);Fg(OC,"displayName","Legend");Fg(OC,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Kx,S8;function Ove(){if(S8)return Kx;S8=1;var t=Ab();function e(){this.__data__=new t,this.size=0}return Kx=e,Kx}var Gx,E8;function Rve(){if(E8)return Gx;E8=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return Gx=t,Gx}var Qx,T8;function Ive(){if(T8)return Qx;T8=1;function t(e){return this.__data__.get(e)}return Qx=t,Qx}var Zx,P8;function Nve(){if(P8)return Zx;P8=1;function t(e){return this.__data__.has(e)}return Zx=t,Zx}var Jx,C8;function Mve(){if(C8)return Jx;C8=1;var t=Ab(),e=bC(),r=_C(),n=200;function i(o,s){var a=this.__data__;if(a instanceof t){var l=a.__data__;if(!e||l.length<n-1)return l.push([o,s]),this.size=++a.size,this;a=this.__data__=new r(l)}return a.set(o,s),this.size=a.size,this}return Jx=i,Jx}var e3,k8;function NW(){if(k8)return e3;k8=1;var t=Ab(),e=Ove(),r=Rve(),n=Ive(),i=Nve(),o=Mve();function s(a){var l=this.__data__=new t(a);this.size=l.size}return s.prototype.clear=e,s.prototype.delete=r,s.prototype.get=n,s.prototype.has=i,s.prototype.set=o,e3=s,e3}var t3,O8;function Lve(){if(O8)return t3;O8=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return t3=e,t3}var r3,R8;function Dve(){if(R8)return r3;R8=1;function t(e){return this.__data__.has(e)}return r3=t,r3}var n3,I8;function MW(){if(I8)return n3;I8=1;var t=_C(),e=Lve(),r=Dve();function n(i){var o=-1,s=i==null?0:i.length;for(this.__data__=new t;++o<s;)this.add(i[o])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,n3=n,n3}var i3,N8;function LW(){if(N8)return i3;N8=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(e[n],n,e))return!0;return!1}return i3=t,i3}var o3,M8;function DW(){if(M8)return o3;M8=1;function t(e,r){return e.has(r)}return o3=t,o3}var s3,L8;function BW(){if(L8)return s3;L8=1;var t=MW(),e=LW(),r=DW(),n=1,i=2;function o(s,a,l,c,u,g){var _=l&n,b=s.length,P=a.length;if(b!=P&&!(_&&P>b))return!1;var E=g.get(s),T=g.get(a);if(E&&T)return E==a&&T==s;var O=-1,L=!0,N=l&i?new t:void 0;for(g.set(s,a),g.set(a,s);++O<b;){var D=s[O],B=a[O];if(c)var z=_?c(B,D,O,a,s,g):c(D,B,O,s,a,g);if(z!==void 0){if(z)continue;L=!1;break}if(N){if(!e(a,function(X,Z){if(!r(N,Z)&&(D===X||u(D,X,l,c,g)))return N.push(Z)})){L=!1;break}}else if(!(D===B||u(D,B,l,c,g))){L=!1;break}}return g.delete(s),g.delete(a),L}return s3=o,s3}var a3,D8;function Bve(){if(D8)return a3;D8=1;var t=Eu(),e=t.Uint8Array;return a3=e,a3}var l3,B8;function Fve(){if(B8)return l3;B8=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i,o){n[++r]=[o,i]}),n}return l3=t,l3}var c3,F8;function RC(){if(F8)return c3;F8=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i){n[++r]=i}),n}return c3=t,c3}var u3,j8;function jve(){if(j8)return u3;j8=1;var t=Dm(),e=Bve(),r=yC(),n=BW(),i=Fve(),o=RC(),s=1,a=2,l="[object Boolean]",c="[object Date]",u="[object Error]",g="[object Map]",_="[object Number]",b="[object RegExp]",P="[object Set]",E="[object String]",T="[object Symbol]",O="[object ArrayBuffer]",L="[object DataView]",N=t?t.prototype:void 0,D=N?N.valueOf:void 0;function B(z,X,Z,G,de,H,ee){switch(Z){case L:if(z.byteLength!=X.byteLength||z.byteOffset!=X.byteOffset)return!1;z=z.buffer,X=X.buffer;case O:return!(z.byteLength!=X.byteLength||!H(new e(z),new e(X)));case l:case c:case _:return r(+z,+X);case u:return z.name==X.name&&z.message==X.message;case b:case E:return z==X+"";case g:var ae=i;case P:var le=G&s;if(ae||(ae=o),z.size!=X.size&&!le)return!1;var Te=ee.get(z);if(Te)return Te==X;G|=a,ee.set(z,X);var te=n(ae(z),ae(X),G,de,H,ee);return ee.delete(z),te;case T:if(D)return D.call(z)==D.call(X)}return!1}return u3=B,u3}var f3,U8;function FW(){if(U8)return f3;U8=1;function t(e,r){for(var n=-1,i=r.length,o=e.length;++n<i;)e[o+n]=r[n];return e}return f3=t,f3}var h3,$8;function Uve(){if($8)return h3;$8=1;var t=FW(),e=Aa();function r(n,i,o){var s=i(n);return e(n)?s:t(s,o(n))}return h3=r,h3}var d3,z8;function $ve(){if(z8)return d3;z8=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,o=0,s=[];++n<i;){var a=e[n];r(a,n,e)&&(s[o++]=a)}return s}return d3=t,d3}var A3,W8;function zve(){if(W8)return A3;W8=1;function t(){return[]}return A3=t,A3}var p3,V8;function Wve(){if(V8)return p3;V8=1;var t=$ve(),e=zve(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(s){return s==null?[]:(s=Object(s),t(i(s),function(a){return n.call(s,a)}))}:e;return p3=o,p3}var g3,H8;function Vve(){if(H8)return g3;H8=1;function t(e,r){for(var n=-1,i=Array(e);++n<e;)i[n]=r(n);return i}return g3=t,g3}var m3,q8;function Hve(){if(q8)return m3;q8=1;var t=pf(),e=gf(),r="[object Arguments]";function n(i){return e(i)&&t(i)==r}return m3=n,m3}var v3,X8;function IC(){if(X8)return v3;X8=1;var t=Hve(),e=gf(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,o=t((function(){return arguments})())?t:function(s){return e(s)&&n.call(s,"callee")&&!i.call(s,"callee")};return v3=o,v3}var rg={exports:{}},y3,Y8;function qve(){if(Y8)return y3;Y8=1;function t(){return!1}return y3=t,y3}rg.exports;var K8;function jW(){return K8||(K8=1,(function(t,e){var r=Eu(),n=qve(),i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s?r.Buffer:void 0,l=a?a.isBuffer:void 0,c=l||n;t.exports=c})(rg,rg.exports)),rg.exports}var b3,G8;function NC(){if(G8)return b3;G8=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,i){var o=typeof n;return i=i??t,!!i&&(o=="number"||o!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return b3=r,b3}var _3,Q8;function MC(){if(Q8)return _3;Q8=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return _3=e,_3}var w3,Z8;function Xve(){if(Z8)return w3;Z8=1;var t=pf(),e=MC(),r=gf(),n="[object Arguments]",i="[object Array]",o="[object Boolean]",s="[object Date]",a="[object Error]",l="[object Function]",c="[object Map]",u="[object Number]",g="[object Object]",_="[object RegExp]",b="[object Set]",P="[object String]",E="[object WeakMap]",T="[object ArrayBuffer]",O="[object DataView]",L="[object Float32Array]",N="[object Float64Array]",D="[object Int8Array]",B="[object Int16Array]",z="[object Int32Array]",X="[object Uint8Array]",Z="[object Uint8ClampedArray]",G="[object Uint16Array]",de="[object Uint32Array]",H={};H[L]=H[N]=H[D]=H[B]=H[z]=H[X]=H[Z]=H[G]=H[de]=!0,H[n]=H[i]=H[T]=H[o]=H[O]=H[s]=H[a]=H[l]=H[c]=H[u]=H[g]=H[_]=H[b]=H[P]=H[E]=!1;function ee(ae){return r(ae)&&e(ae.length)&&!!H[t(ae)]}return w3=ee,w3}var x3,J8;function UW(){if(J8)return x3;J8=1;function t(e){return function(r){return e(r)}}return x3=t,x3}var ng={exports:{}};ng.exports;var eM;function Yve(){return eM||(eM=1,(function(t,e){var r=sW(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===n,s=o&&r.process,a=(function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}})();t.exports=a})(ng,ng.exports)),ng.exports}var S3,tM;function $W(){if(tM)return S3;tM=1;var t=Xve(),e=UW(),r=Yve(),n=r&&r.isTypedArray,i=n?e(n):t;return S3=i,S3}var E3,rM;function Kve(){if(rM)return E3;rM=1;var t=Vve(),e=IC(),r=Aa(),n=jW(),i=NC(),o=$W(),s=Object.prototype,a=s.hasOwnProperty;function l(c,u){var g=r(c),_=!g&&e(c),b=!g&&!_&&n(c),P=!g&&!_&&!b&&o(c),E=g||_||b||P,T=E?t(c.length,String):[],O=T.length;for(var L in c)(u||a.call(c,L))&&!(E&&(L=="length"||b&&(L=="offset"||L=="parent")||P&&(L=="buffer"||L=="byteLength"||L=="byteOffset")||i(L,O)))&&T.push(L);return T}return E3=l,E3}var T3,nM;function Gve(){if(nM)return T3;nM=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||t;return r===i}return T3=e,T3}var P3,iM;function zW(){if(iM)return P3;iM=1;function t(e,r){return function(n){return e(r(n))}}return P3=t,P3}var C3,oM;function Qve(){if(oM)return C3;oM=1;var t=zW(),e=t(Object.keys,Object);return C3=e,C3}var k3,sM;function Zve(){if(sM)return k3;sM=1;var t=Gve(),e=Qve(),r=Object.prototype,n=r.hasOwnProperty;function i(o){if(!t(o))return e(o);var s=[];for(var a in Object(o))n.call(o,a)&&a!="constructor"&&s.push(a);return s}return k3=i,k3}var O3,aM;function jm(){if(aM)return O3;aM=1;var t=vC(),e=MC();function r(n){return n!=null&&e(n.length)&&!t(n)}return O3=r,O3}var R3,lM;function _b(){if(lM)return R3;lM=1;var t=Kve(),e=Zve(),r=jm();function n(i){return r(i)?t(i):e(i)}return R3=n,R3}var I3,cM;function Jve(){if(cM)return I3;cM=1;var t=Uve(),e=Wve(),r=_b();function n(i){return t(i,r,e)}return I3=n,I3}var N3,uM;function e1e(){if(uM)return N3;uM=1;var t=Jve(),e=1,r=Object.prototype,n=r.hasOwnProperty;function i(o,s,a,l,c,u){var g=a&e,_=t(o),b=_.length,P=t(s),E=P.length;if(b!=E&&!g)return!1;for(var T=b;T--;){var O=_[T];if(!(g?O in s:n.call(s,O)))return!1}var L=u.get(o),N=u.get(s);if(L&&N)return L==s&&N==o;var D=!0;u.set(o,s),u.set(s,o);for(var B=g;++T<b;){O=_[T];var z=o[O],X=s[O];if(l)var Z=g?l(X,z,O,s,o,u):l(z,X,O,o,s,u);if(!(Z===void 0?z===X||c(z,X,a,l,u):Z)){D=!1;break}B||(B=O=="constructor")}if(D&&!B){var G=o.constructor,de=s.constructor;G!=de&&"constructor"in o&&"constructor"in s&&!(typeof G=="function"&&G instanceof G&&typeof de=="function"&&de instanceof de)&&(D=!1)}return u.delete(o),u.delete(s),D}return N3=i,N3}var M3,fM;function t1e(){if(fM)return M3;fM=1;var t=Ud(),e=Eu(),r=t(e,"DataView");return M3=r,M3}var L3,hM;function r1e(){if(hM)return L3;hM=1;var t=Ud(),e=Eu(),r=t(e,"Promise");return L3=r,L3}var D3,dM;function WW(){if(dM)return D3;dM=1;var t=Ud(),e=Eu(),r=t(e,"Set");return D3=r,D3}var B3,AM;function n1e(){if(AM)return B3;AM=1;var t=Ud(),e=Eu(),r=t(e,"WeakMap");return B3=r,B3}var F3,pM;function i1e(){if(pM)return F3;pM=1;var t=t1e(),e=bC(),r=r1e(),n=WW(),i=n1e(),o=pf(),s=aW(),a="[object Map]",l="[object Object]",c="[object Promise]",u="[object Set]",g="[object WeakMap]",_="[object DataView]",b=s(t),P=s(e),E=s(r),T=s(n),O=s(i),L=o;return(t&&L(new t(new ArrayBuffer(1)))!=_||e&&L(new e)!=a||r&&L(r.resolve())!=c||n&&L(new n)!=u||i&&L(new i)!=g)&&(L=function(N){var D=o(N),B=D==l?N.constructor:void 0,z=B?s(B):"";if(z)switch(z){case b:return _;case P:return a;case E:return c;case T:return u;case O:return g}return D}),F3=L,F3}var j3,gM;function o1e(){if(gM)return j3;gM=1;var t=NW(),e=BW(),r=jve(),n=e1e(),i=i1e(),o=Aa(),s=jW(),a=$W(),l=1,c="[object Arguments]",u="[object Array]",g="[object Object]",_=Object.prototype,b=_.hasOwnProperty;function P(E,T,O,L,N,D){var B=o(E),z=o(T),X=B?u:i(E),Z=z?u:i(T);X=X==c?g:X,Z=Z==c?g:Z;var G=X==g,de=Z==g,H=X==Z;if(H&&s(E)){if(!s(T))return!1;B=!0,G=!1}if(H&&!G)return D||(D=new t),B||a(E)?e(E,T,O,L,N,D):r(E,T,X,O,L,N,D);if(!(O&l)){var ee=G&&b.call(E,"__wrapped__"),ae=de&&b.call(T,"__wrapped__");if(ee||ae){var le=ee?E.value():E,Te=ae?T.value():T;return D||(D=new t),N(le,Te,O,L,D)}}return H?(D||(D=new t),n(E,T,O,L,N,D)):!1}return j3=P,j3}var U3,mM;function LC(){if(mM)return U3;mM=1;var t=o1e(),e=gf();function r(n,i,o,s,a){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:t(n,i,o,s,r,a)}return U3=r,U3}var $3,vM;function s1e(){if(vM)return $3;vM=1;var t=NW(),e=LC(),r=1,n=2;function i(o,s,a,l){var c=a.length,u=c,g=!l;if(o==null)return!u;for(o=Object(o);c--;){var _=a[c];if(g&&_[2]?_[1]!==o[_[0]]:!(_[0]in o))return!1}for(;++c<u;){_=a[c];var b=_[0],P=o[b],E=_[1];if(g&&_[2]){if(P===void 0&&!(b in o))return!1}else{var T=new t;if(l)var O=l(P,E,b,o,s,T);if(!(O===void 0?e(E,P,r|n,l,T):O))return!1}}return!0}return $3=i,$3}var z3,yM;function VW(){if(yM)return z3;yM=1;var t=yh();function e(r){return r===r&&!t(r)}return z3=e,z3}var W3,bM;function a1e(){if(bM)return W3;bM=1;var t=VW(),e=_b();function r(n){for(var i=e(n),o=i.length;o--;){var s=i[o],a=n[s];i[o]=[s,a,t(a)]}return i}return W3=r,W3}var V3,_M;function HW(){if(_M)return V3;_M=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return V3=t,V3}var H3,wM;function l1e(){if(wM)return H3;wM=1;var t=s1e(),e=a1e(),r=HW();function n(i){var o=e(i);return o.length==1&&o[0][2]?r(o[0][0],o[0][1]):function(s){return s===i||t(s,i,o)}}return H3=n,H3}var q3,xM;function c1e(){if(xM)return q3;xM=1;function t(e,r){return e!=null&&r in Object(e)}return q3=t,q3}var X3,SM;function u1e(){if(SM)return X3;SM=1;var t=uW(),e=IC(),r=Aa(),n=NC(),i=MC(),o=gb();function s(a,l,c){l=t(l,a);for(var u=-1,g=l.length,_=!1;++u<g;){var b=o(l[u]);if(!(_=a!=null&&c(a,b)))break;a=a[b]}return _||++u!=g?_:(g=a==null?0:a.length,!!g&&i(g)&&n(b,g)&&(r(a)||e(a)))}return X3=s,X3}var Y3,EM;function f1e(){if(EM)return Y3;EM=1;var t=c1e(),e=u1e();function r(n,i){return n!=null&&e(n,i,t)}return Y3=r,Y3}var K3,TM;function h1e(){if(TM)return K3;TM=1;var t=LC(),e=fW(),r=f1e(),n=mC(),i=VW(),o=HW(),s=gb(),a=1,l=2;function c(u,g){return n(u)&&i(g)?o(s(u),g):function(_){var b=e(_,u);return b===void 0&&b===g?r(_,u):t(g,b,a|l)}}return K3=c,K3}var G3,PM;function ip(){if(PM)return G3;PM=1;function t(e){return e}return G3=t,G3}var Q3,CM;function d1e(){if(CM)return Q3;CM=1;function t(e){return function(r){return r==null?void 0:r[e]}}return Q3=t,Q3}var Z3,kM;function A1e(){if(kM)return Z3;kM=1;var t=xC();function e(r){return function(n){return t(n,r)}}return Z3=e,Z3}var J3,OM;function p1e(){if(OM)return J3;OM=1;var t=d1e(),e=A1e(),r=mC(),n=gb();function i(o){return r(o)?t(n(o)):e(o)}return J3=i,J3}var e5,RM;function bh(){if(RM)return e5;RM=1;var t=l1e(),e=h1e(),r=ip(),n=Aa(),i=p1e();function o(s){return typeof s=="function"?s:s==null?r:typeof s=="object"?n(s)?e(s[0],s[1]):t(s):i(s)}return e5=o,e5}var t5,IM;function qW(){if(IM)return t5;IM=1;function t(e,r,n,i){for(var o=e.length,s=n+(i?1:-1);i?s--:++s<o;)if(r(e[s],s,e))return s;return-1}return t5=t,t5}var r5,NM;function g1e(){if(NM)return r5;NM=1;function t(e){return e!==e}return r5=t,r5}var n5,MM;function m1e(){if(MM)return n5;MM=1;function t(e,r,n){for(var i=n-1,o=e.length;++i<o;)if(e[i]===r)return i;return-1}return n5=t,n5}var i5,LM;function v1e(){if(LM)return i5;LM=1;var t=qW(),e=g1e(),r=m1e();function n(i,o,s){return o===o?r(i,o,s):t(i,e,s)}return i5=n,i5}var o5,DM;function y1e(){if(DM)return o5;DM=1;var t=v1e();function e(r,n){var i=r==null?0:r.length;return!!i&&t(r,n,0)>-1}return o5=e,o5}var s5,BM;function b1e(){if(BM)return s5;BM=1;function t(e,r,n){for(var i=-1,o=e==null?0:e.length;++i<o;)if(n(r,e[i]))return!0;return!1}return s5=t,s5}var a5,FM;function _1e(){if(FM)return a5;FM=1;function t(){}return a5=t,a5}var l5,jM;function w1e(){if(jM)return l5;jM=1;var t=WW(),e=_1e(),r=RC(),n=1/0,i=t&&1/r(new t([,-0]))[1]==n?function(o){return new t(o)}:e;return l5=i,l5}var c5,UM;function x1e(){if(UM)return c5;UM=1;var t=MW(),e=y1e(),r=b1e(),n=DW(),i=w1e(),o=RC(),s=200;function a(l,c,u){var g=-1,_=e,b=l.length,P=!0,E=[],T=E;if(u)P=!1,_=r;else if(b>=s){var O=c?null:i(l);if(O)return o(O);P=!1,_=n,T=new t}else T=c?[]:E;e:for(;++g<b;){var L=l[g],N=c?c(L):L;if(L=u||L!==0?L:0,P&&N===N){for(var D=T.length;D--;)if(T[D]===N)continue e;c&&T.push(N),E.push(L)}else _(T,N,u)||(T!==E&&T.push(N),E.push(L))}return E}return c5=a,c5}var u5,$M;function S1e(){if($M)return u5;$M=1;var t=bh(),e=x1e();function r(n,i){return n&&n.length?e(n,t(i,2)):[]}return u5=r,u5}var E1e=S1e();const zM=Ln(E1e);function XW(t,e,r){return e===!0?zM(t,r):Gr(e)?zM(t,e):t}function x0(t){"@babel/helpers - typeof";return x0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x0(t)}var T1e=["ref"];function WM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WM(Object(r),!0).forEach(function(n){wb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function P1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VM(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,KW(n.key),n)}}function C1e(t,e,r){return e&&VM(t.prototype,e),r&&VM(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function k1e(t,e,r){return e=Ry(e),O1e(t,YW()?Reflect.construct(e,r||[],Ry(t).constructor):e.apply(t,r))}function O1e(t,e){if(e&&(x0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return R1e(t)}function R1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YW=function(){return!!t})()}function Ry(t){return Ry=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ry(t)}function I1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&RE(t,e)}function RE(t,e){return RE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},RE(t,e)}function wb(t,e,r){return e=KW(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KW(t){var e=N1e(t,"string");return x0(e)=="symbol"?e:e+""}function N1e(t,e){if(x0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(x0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function M1e(t,e){if(t==null)return{};var r=L1e(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function L1e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function D1e(t){return t.value}function B1e(t,e){if(Ke.isValidElement(t))return Ke.cloneElement(t,e);if(typeof t=="function")return Ke.createElement(t,e);e.ref;var r=M1e(e,T1e);return Ke.createElement(OC,r)}var HM=1,QA=(function(t){function e(){var r;P1e(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=k1e(this,e,[].concat(i)),wb(r,"lastBoundingBox",{width:-1,height:-1}),r}return I1e(e,t),C1e(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>HM||Math.abs(i.height-this.lastBoundingBox.height)>HM)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?zu({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,o=i.layout,s=i.align,a=i.verticalAlign,l=i.margin,c=i.chartWidth,u=i.chartHeight,g,_;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&o==="vertical"){var b=this.getBBoxSnapshot();g={left:((c||0)-b.width)/2}}else g=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(a==="middle"){var P=this.getBBoxSnapshot();_={top:((u||0)-P.height)/2}}else _=a==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return zu(zu({},g),_)}},{key:"render",value:function(){var n=this,i=this.props,o=i.content,s=i.width,a=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,u=i.payload,g=zu(zu({position:"absolute",width:s||"auto",height:a||"auto"},this.getDefaultPosition(l)),l);return Ke.createElement("div",{className:"recharts-legend-wrapper",style:g,ref:function(b){n.wrapperNode=b}},B1e(o,zu(zu({},this.props),{},{payload:XW(u,c,D1e)})))}}],[{key:"getWithHeight",value:function(n,i){var o=zu(zu({},this.defaultProps),n.props),s=o.layout;return s==="vertical"&&Dt(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||i}:null}}])})(Q.PureComponent);wb(QA,"displayName","Legend");wb(QA,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var f5,qM;function F1e(){if(qM)return f5;qM=1;var t=Dm(),e=IC(),r=Aa(),n=t?t.isConcatSpreadable:void 0;function i(o){return r(o)||e(o)||!!(n&&o&&o[n])}return f5=i,f5}var h5,XM;function GW(){if(XM)return h5;XM=1;var t=FW(),e=F1e();function r(n,i,o,s,a){var l=-1,c=n.length;for(o||(o=e),a||(a=[]);++l<c;){var u=n[l];i>0&&o(u)?i>1?r(u,i-1,o,s,a):t(a,u):s||(a[a.length]=u)}return a}return h5=r,h5}var d5,YM;function j1e(){if(YM)return d5;YM=1;function t(e){return function(r,n,i){for(var o=-1,s=Object(r),a=i(r),l=a.length;l--;){var c=a[e?l:++o];if(n(s[c],c,s)===!1)break}return r}}return d5=t,d5}var A5,KM;function U1e(){if(KM)return A5;KM=1;var t=j1e(),e=t();return A5=e,A5}var p5,GM;function QW(){if(GM)return p5;GM=1;var t=U1e(),e=_b();function r(n,i){return n&&t(n,i,e)}return p5=r,p5}var g5,QM;function $1e(){if(QM)return g5;QM=1;var t=jm();function e(r,n){return function(i,o){if(i==null)return i;if(!t(i))return r(i,o);for(var s=i.length,a=n?s:-1,l=Object(i);(n?a--:++a<s)&&o(l[a],a,l)!==!1;);return i}}return g5=e,g5}var m5,ZM;function DC(){if(ZM)return m5;ZM=1;var t=QW(),e=$1e(),r=e(t);return m5=r,m5}var v5,JM;function ZW(){if(JM)return v5;JM=1;var t=DC(),e=jm();function r(n,i){var o=-1,s=e(n)?Array(n.length):[];return t(n,function(a,l,c){s[++o]=i(a,l,c)}),s}return v5=r,v5}var y5,eL;function z1e(){if(eL)return y5;eL=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return y5=t,y5}var b5,tL;function W1e(){if(tL)return b5;tL=1;var t=tp();function e(r,n){if(r!==n){var i=r!==void 0,o=r===null,s=r===r,a=t(r),l=n!==void 0,c=n===null,u=n===n,g=t(n);if(!c&&!g&&!a&&r>n||a&&l&&u&&!c&&!g||o&&l&&u||!i&&u||!s)return 1;if(!o&&!a&&!g&&r<n||g&&i&&s&&!o&&!a||c&&i&&s||!l&&s||!u)return-1}return 0}return b5=e,b5}var _5,rL;function V1e(){if(rL)return _5;rL=1;var t=W1e();function e(r,n,i){for(var o=-1,s=r.criteria,a=n.criteria,l=s.length,c=i.length;++o<l;){var u=t(s[o],a[o]);if(u){if(o>=c)return u;var g=i[o];return u*(g=="desc"?-1:1)}}return r.index-n.index}return _5=e,_5}var w5,nL;function H1e(){if(nL)return w5;nL=1;var t=wC(),e=xC(),r=bh(),n=ZW(),i=z1e(),o=UW(),s=V1e(),a=ip(),l=Aa();function c(u,g,_){g.length?g=t(g,function(E){return l(E)?function(T){return e(T,E.length===1?E[0]:E)}:E}):g=[a];var b=-1;g=t(g,o(r));var P=n(u,function(E,T,O){var L=t(g,function(N){return N(E)});return{criteria:L,index:++b,value:E}});return i(P,function(E,T){return s(E,T,_)})}return w5=c,w5}var x5,iL;function q1e(){if(iL)return x5;iL=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return x5=t,x5}var S5,oL;function X1e(){if(oL)return S5;oL=1;var t=q1e(),e=Math.max;function r(n,i,o){return i=e(i===void 0?n.length-1:i,0),function(){for(var s=arguments,a=-1,l=e(s.length-i,0),c=Array(l);++a<l;)c[a]=s[i+a];a=-1;for(var u=Array(i+1);++a<i;)u[a]=s[a];return u[i]=o(c),t(n,this,u)}}return S5=r,S5}var E5,sL;function Y1e(){if(sL)return E5;sL=1;function t(e){return function(){return e}}return E5=t,E5}var T5,aL;function JW(){if(aL)return T5;aL=1;var t=Ud(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return T5=e,T5}var P5,lL;function K1e(){if(lL)return P5;lL=1;var t=Y1e(),e=JW(),r=ip(),n=e?function(i,o){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(o),writable:!0})}:r;return P5=n,P5}var C5,cL;function G1e(){if(cL)return C5;cL=1;var t=800,e=16,r=Date.now;function n(i){var o=0,s=0;return function(){var a=r(),l=e-(a-s);if(s=a,l>0){if(++o>=t)return arguments[0]}else o=0;return i.apply(void 0,arguments)}}return C5=n,C5}var k5,uL;function Q1e(){if(uL)return k5;uL=1;var t=K1e(),e=G1e(),r=e(t);return k5=r,k5}var O5,fL;function Z1e(){if(fL)return O5;fL=1;var t=ip(),e=X1e(),r=Q1e();function n(i,o){return r(e(i,o,t),i+"")}return O5=n,O5}var R5,hL;function xb(){if(hL)return R5;hL=1;var t=yC(),e=jm(),r=NC(),n=yh();function i(o,s,a){if(!n(a))return!1;var l=typeof s;return(l=="number"?e(a)&&r(s,a.length):l=="string"&&s in a)?t(a[s],o):!1}return R5=i,R5}var I5,dL;function J1e(){if(dL)return I5;dL=1;var t=GW(),e=H1e(),r=Z1e(),n=xb(),i=r(function(o,s){if(o==null)return[];var a=s.length;return a>1&&n(o,s[0],s[1])?s=[]:a>2&&n(s[0],s[1],s[2])&&(s=[s[0]]),e(o,t(s,1),[])});return I5=i,I5}var eye=J1e();const BC=Ln(eye);function jg(t){"@babel/helpers - typeof";return jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jg(t)}function IE(){return IE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},IE.apply(this,arguments)}function tye(t,e){return oye(t)||iye(t,e)||nye(t,e)||rye()}function rye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nye(t,e){if(t){if(typeof t=="string")return AL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AL(t,e)}}function AL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function iye(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,a=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(l=(n=o.call(r)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function oye(t){if(Array.isArray(t))return t}function pL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function N5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pL(Object(r),!0).forEach(function(n){sye(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sye(t,e,r){return e=aye(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aye(t){var e=lye(t,"string");return jg(e)=="symbol"?e:e+""}function lye(t,e){if(jg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cye(t){return Array.isArray(t)&&vo(t[0])&&vo(t[1])?t.join(" ~ "):t}var uye=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,o=i===void 0?{}:i,s=e.itemStyle,a=s===void 0?{}:s,l=e.labelStyle,c=l===void 0?{}:l,u=e.payload,g=e.formatter,_=e.itemSorter,b=e.wrapperClassName,P=e.labelClassName,E=e.label,T=e.labelFormatter,O=e.accessibilityLayer,L=O===void 0?!1:O,N=function(){if(u&&u.length){var ee={padding:0,margin:0},ae=(_?BC(u,_):u).map(function(le,Te){if(le.type==="none")return null;var te=N5({display:"block",paddingTop:4,paddingBottom:4,color:le.color||"#000"},a),oe=le.formatter||g||cye,K=le.value,ge=le.name,Ee=K,se=ge;if(oe&&Ee!=null&&se!=null){var $=oe(K,ge,le,Te,u);if(Array.isArray($)){var ne=tye($,2);Ee=ne[0],se=ne[1]}else Ee=$}return Ke.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Te),style:te},vo(se)?Ke.createElement("span",{className:"recharts-tooltip-item-name"},se):null,vo(se)?Ke.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,Ke.createElement("span",{className:"recharts-tooltip-item-value"},Ee),Ke.createElement("span",{className:"recharts-tooltip-item-unit"},le.unit||""))});return Ke.createElement("ul",{className:"recharts-tooltip-item-list",style:ee},ae)}return null},D=N5({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),B=N5({margin:0},c),z=!un(E),X=z?E:"",Z=fn("recharts-default-tooltip",b),G=fn("recharts-tooltip-label",P);z&&T&&u!==void 0&&u!==null&&(X=T(E,u));var de=L?{role:"status","aria-live":"assertive"}:{};return Ke.createElement("div",IE({className:Z,style:D},de),Ke.createElement("p",{className:G,style:B},Ke.isValidElement(X)?X:"".concat(X)),N())};function Ug(t){"@babel/helpers - typeof";return Ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ug(t)}function Qv(t,e,r){return e=fye(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fye(t){var e=hye(t,"string");return Ug(e)=="symbol"?e:e+""}function hye(t,e){if(Ug(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ug(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Lp="recharts-tooltip-wrapper",dye={visibility:"hidden"};function Aye(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return fn(Lp,Qv(Qv(Qv(Qv({},"".concat(Lp,"-right"),Dt(r)&&e&&Dt(e.x)&&r>=e.x),"".concat(Lp,"-left"),Dt(r)&&e&&Dt(e.x)&&r<e.x),"".concat(Lp,"-bottom"),Dt(n)&&e&&Dt(e.y)&&n>=e.y),"".concat(Lp,"-top"),Dt(n)&&e&&Dt(e.y)&&n<e.y))}function gL(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,o=t.position,s=t.reverseDirection,a=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(o&&Dt(o[n]))return o[n];var u=r[n]-a-i,g=r[n]+i;if(e[n])return s[n]?u:g;if(s[n]){var _=u,b=l[n];return _<b?Math.max(g,l[n]):Math.max(u,l[n])}var P=g+a,E=l[n]+c;return P>E?Math.max(u,l[n]):Math.max(g,l[n])}function pye(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function gye(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,o=t.reverseDirection,s=t.tooltipBox,a=t.useTranslate3d,l=t.viewBox,c,u,g;return s.height>0&&s.width>0&&r?(u=gL({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:o,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),g=gL({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:o,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),c=pye({translateX:u,translateY:g,useTranslate3d:a})):c=dye,{cssProperties:c,cssClasses:Aye({translateX:u,translateY:g,coordinate:r})}}function S0(t){"@babel/helpers - typeof";return S0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S0(t)}function mL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mL(Object(r),!0).forEach(function(n){ME(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vye(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,tV(n.key),n)}}function yye(t,e,r){return e&&vye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function bye(t,e,r){return e=Iy(e),_ye(t,eV()?Reflect.construct(e,r||[],Iy(t).constructor):e.apply(t,r))}function _ye(t,e){if(e&&(S0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wye(t)}function wye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eV=function(){return!!t})()}function Iy(t){return Iy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Iy(t)}function xye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&NE(t,e)}function NE(t,e){return NE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},NE(t,e)}function ME(t,e,r){return e=tV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tV(t){var e=Sye(t,"string");return S0(e)=="symbol"?e:e+""}function Sye(t,e){if(S0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(S0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var yL=1,Eye=(function(t){function e(){var r;mye(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=bye(this,e,[].concat(i)),ME(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),ME(r,"handleKeyDown",function(s){if(s.key==="Escape"){var a,l,c,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&a!==void 0?a:0,y:(c=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),r}return xye(e,t),yye(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>yL||Math.abs(n.height-this.state.lastBoundingBox.height)>yL)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,c=i.children,u=i.coordinate,g=i.hasPayload,_=i.isAnimationActive,b=i.offset,P=i.position,E=i.reverseDirection,T=i.useTranslate3d,O=i.viewBox,L=i.wrapperStyle,N=gye({allowEscapeViewBox:s,coordinate:u,offsetTopLeft:b,position:P,reverseDirection:E,tooltipBox:this.state.lastBoundingBox,useTranslate3d:T,viewBox:O}),D=N.cssClasses,B=N.cssProperties,z=vL(vL({transition:_&&o?"transform ".concat(a,"ms ").concat(l):void 0},B),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&g?"visible":"hidden",position:"absolute",top:0,left:0},L);return Ke.createElement("div",{tabIndex:-1,className:D,style:z,ref:function(Z){n.wrapperNode=Z}},c)}}])})(Q.PureComponent),Tye=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},op={isSsr:Tye()};function E0(t){"@babel/helpers - typeof";return E0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E0(t)}function bL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _L(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bL(Object(r),!0).forEach(function(n){FC(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Pye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cye(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,nV(n.key),n)}}function kye(t,e,r){return e&&Cye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Oye(t,e,r){return e=Ny(e),Rye(t,rV()?Reflect.construct(e,r||[],Ny(t).constructor):e.apply(t,r))}function Rye(t,e){if(e&&(E0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Iye(t)}function Iye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rV(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rV=function(){return!!t})()}function Ny(t){return Ny=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ny(t)}function Nye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&LE(t,e)}function LE(t,e){return LE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},LE(t,e)}function FC(t,e,r){return e=nV(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nV(t){var e=Mye(t,"string");return E0(e)=="symbol"?e:e+""}function Mye(t,e){if(E0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(E0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Lye(t){return t.dataKey}function Dye(t,e){return Ke.isValidElement(t)?Ke.cloneElement(t,e):typeof t=="function"?Ke.createElement(t,e):Ke.createElement(uye,e)}var ou=(function(t){function e(){return Pye(this,e),Oye(this,e,arguments)}return Nye(e,t),kye(e,[{key:"render",value:function(){var n=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,c=i.content,u=i.coordinate,g=i.filterNull,_=i.isAnimationActive,b=i.offset,P=i.payload,E=i.payloadUniqBy,T=i.position,O=i.reverseDirection,L=i.useTranslate3d,N=i.viewBox,D=i.wrapperStyle,B=P??[];g&&B.length&&(B=XW(P.filter(function(X){return X.value!=null&&(X.hide!==!0||n.props.includeHidden)}),E,Lye));var z=B.length>0;return Ke.createElement(Eye,{allowEscapeViewBox:s,animationDuration:a,animationEasing:l,isAnimationActive:_,active:o,coordinate:u,hasPayload:z,offset:b,position:T,reverseDirection:O,useTranslate3d:L,viewBox:N,wrapperStyle:D},Dye(c,_L(_L({},this.props),{},{payload:B})))}}])})(Q.PureComponent);FC(ou,"displayName","Tooltip");FC(ou,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!op.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var M5,wL;function Bye(){if(wL)return M5;wL=1;var t=Eu(),e=function(){return t.Date.now()};return M5=e,M5}var L5,xL;function Fye(){if(xL)return L5;xL=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return L5=e,L5}var D5,SL;function jye(){if(SL)return D5;SL=1;var t=Fye(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return D5=r,D5}var B5,EL;function iV(){if(EL)return B5;EL=1;var t=jye(),e=yh(),r=tp(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,s=/^0o[0-7]+$/i,a=parseInt;function l(c){if(typeof c=="number")return c;if(r(c))return n;if(e(c)){var u=typeof c.valueOf=="function"?c.valueOf():c;c=e(u)?u+"":u}if(typeof c!="string")return c===0?c:+c;c=t(c);var g=o.test(c);return g||s.test(c)?a(c.slice(2),g?2:8):i.test(c)?n:+c}return B5=l,B5}var F5,TL;function Uye(){if(TL)return F5;TL=1;var t=yh(),e=Bye(),r=iV(),n="Expected a function",i=Math.max,o=Math.min;function s(a,l,c){var u,g,_,b,P,E,T=0,O=!1,L=!1,N=!0;if(typeof a!="function")throw new TypeError(n);l=r(l)||0,t(c)&&(O=!!c.leading,L="maxWait"in c,_=L?i(r(c.maxWait)||0,l):_,N="trailing"in c?!!c.trailing:N);function D(ae){var le=u,Te=g;return u=g=void 0,T=ae,b=a.apply(Te,le),b}function B(ae){return T=ae,P=setTimeout(Z,l),O?D(ae):b}function z(ae){var le=ae-E,Te=ae-T,te=l-le;return L?o(te,_-Te):te}function X(ae){var le=ae-E,Te=ae-T;return E===void 0||le>=l||le<0||L&&Te>=_}function Z(){var ae=e();if(X(ae))return G(ae);P=setTimeout(Z,z(ae))}function G(ae){return P=void 0,N&&u?D(ae):(u=g=void 0,b)}function de(){P!==void 0&&clearTimeout(P),T=0,u=E=g=P=void 0}function H(){return P===void 0?b:G(e())}function ee(){var ae=e(),le=X(ae);if(u=arguments,g=this,E=ae,le){if(P===void 0)return B(E);if(L)return clearTimeout(P),P=setTimeout(Z,l),D(E)}return P===void 0&&(P=setTimeout(Z,l)),b}return ee.cancel=de,ee.flush=H,ee}return F5=s,F5}var j5,PL;function $ye(){if(PL)return j5;PL=1;var t=Uye(),e=yh(),r="Expected a function";function n(i,o,s){var a=!0,l=!0;if(typeof i!="function")throw new TypeError(r);return e(s)&&(a="leading"in s?!!s.leading:a,l="trailing"in s?!!s.trailing:l),t(i,o,{leading:a,maxWait:o,trailing:l})}return j5=n,j5}var zye=$ye();const oV=Ln(zye);function $g(t){"@babel/helpers - typeof";return $g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$g(t)}function CL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Zv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CL(Object(r),!0).forEach(function(n){Wye(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Wye(t,e,r){return e=Vye(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Vye(t){var e=Hye(t,"string");return $g(e)=="symbol"?e:e+""}function Hye(t,e){if($g(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($g(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qye(t,e){return Gye(t)||Kye(t,e)||Yye(t,e)||Xye()}function Xye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yye(t,e){if(t){if(typeof t=="string")return kL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kL(t,e)}}function kL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Kye(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,a=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(l=(n=o.call(r)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function Gye(t){if(Array.isArray(t))return t}var Qye=Q.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,o=t.width,s=o===void 0?"100%":o,a=t.height,l=a===void 0?"100%":a,c=t.minWidth,u=c===void 0?0:c,g=t.minHeight,_=t.maxHeight,b=t.children,P=t.debounce,E=P===void 0?0:P,T=t.id,O=t.className,L=t.onResize,N=t.style,D=N===void 0?{}:N,B=Q.useRef(null),z=Q.useRef();z.current=L,Q.useImperativeHandle(e,function(){return Object.defineProperty(B.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),B.current},configurable:!0})});var X=Q.useState({containerWidth:i.width,containerHeight:i.height}),Z=qye(X,2),G=Z[0],de=Z[1],H=Q.useCallback(function(ae,le){de(function(Te){var te=Math.round(ae),oe=Math.round(le);return Te.containerWidth===te&&Te.containerHeight===oe?Te:{containerWidth:te,containerHeight:oe}})},[]);Q.useEffect(function(){var ae=function(ge){var Ee,se=ge[0].contentRect,$=se.width,ne=se.height;H($,ne),(Ee=z.current)===null||Ee===void 0||Ee.call(z,$,ne)};E>0&&(ae=oV(ae,E,{trailing:!0,leading:!1}));var le=new ResizeObserver(ae),Te=B.current.getBoundingClientRect(),te=Te.width,oe=Te.height;return H(te,oe),le.observe(B.current),function(){le.disconnect()}},[H,E]);var ee=Q.useMemo(function(){var ae=G.containerWidth,le=G.containerHeight;if(ae<0||le<0)return null;tf(rd(s)||rd(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),tf(!r||r>0,"The aspect(%s) must be greater than zero.",r);var Te=rd(s)?ae:s,te=rd(l)?le:l;r&&r>0&&(Te?te=Te/r:te&&(Te=te*r),_&&te>_&&(te=_)),tf(Te>0||te>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Te,te,s,l,u,g,r);var oe=!Array.isArray(b)&&ef(b.type).endsWith("Chart");return Ke.Children.map(b,function(K){return Ke.isValidElement(K)?Q.cloneElement(K,Zv({width:Te,height:te},oe?{style:Zv({height:"100%",width:"100%",maxHeight:te,maxWidth:Te},K.props.style)}:{})):K})},[r,b,l,_,g,u,G,s]);return Ke.createElement("div",{id:T?"".concat(T):void 0,className:fn("recharts-responsive-container",O),style:Zv(Zv({},D),{},{width:s,height:l,minWidth:u,minHeight:g,maxHeight:_}),ref:B},ee)}),sV=function(e){return null};sV.displayName="Cell";function zg(t){"@babel/helpers - typeof";return zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zg(t)}function OL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function DE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OL(Object(r),!0).forEach(function(n){Zye(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Zye(t,e,r){return e=Jye(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Jye(t){var e=e2e(t,"string");return zg(e)=="symbol"?e:e+""}function e2e(t,e){if(zg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _A={widthCache:{},cacheCount:0},t2e=2e3,r2e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},RL="recharts_measurement_span";function n2e(t){var e=DE({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var gg=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||op.isSsr)return{width:0,height:0};var n=n2e(r),i=JSON.stringify({text:e,copyStyle:n});if(_A.widthCache[i])return _A.widthCache[i];try{var o=document.getElementById(RL);o||(o=document.createElement("span"),o.setAttribute("id",RL),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var s=DE(DE({},r2e),n);Object.assign(o.style,s),o.textContent="".concat(e);var a=o.getBoundingClientRect(),l={width:a.width,height:a.height};return _A.widthCache[i]=l,++_A.cacheCount>t2e&&(_A.cacheCount=0,_A.widthCache={}),l}catch{return{width:0,height:0}}},i2e=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Wg(t){"@babel/helpers - typeof";return Wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wg(t)}function My(t,e){return l2e(t)||a2e(t,e)||s2e(t,e)||o2e()}function o2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s2e(t,e){if(t){if(typeof t=="string")return IL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IL(t,e)}}function IL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function a2e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,a=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function l2e(t){if(Array.isArray(t))return t}function c2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NL(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,f2e(n.key),n)}}function u2e(t,e,r){return e&&NL(t.prototype,e),r&&NL(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function f2e(t){var e=h2e(t,"string");return Wg(e)=="symbol"?e:e+""}function h2e(t,e){if(Wg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ML=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,LL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,d2e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,A2e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,aV={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},p2e=Object.keys(aV),UA="NaN";function g2e(t,e){return t*aV[e]}var Jv=(function(){function t(e,r){c2e(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!d2e.test(r)&&(this.num=NaN,this.unit=""),p2e.includes(r)&&(this.num=g2e(e,r),this.unit="px")}return u2e(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=A2e.exec(r))!==null&&n!==void 0?n:[],o=My(i,3),s=o[1],a=o[2];return new t(parseFloat(s),a??"")}}])})();function lV(t){if(t.includes(UA))return UA;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=ML.exec(e))!==null&&r!==void 0?r:[],i=My(n,4),o=i[1],s=i[2],a=i[3],l=Jv.parse(o??""),c=Jv.parse(a??""),u=s==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return UA;e=e.replace(ML,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var g,_=(g=LL.exec(e))!==null&&g!==void 0?g:[],b=My(_,4),P=b[1],E=b[2],T=b[3],O=Jv.parse(P??""),L=Jv.parse(T??""),N=E==="+"?O.add(L):O.subtract(L);if(N.isNaN())return UA;e=e.replace(LL,N.toString())}return e}var DL=/\(([^()]*)\)/;function m2e(t){for(var e=t;e.includes("(");){var r=DL.exec(e),n=My(r,2),i=n[1];e=e.replace(DL,lV(i))}return e}function v2e(t){var e=t.replace(/\s+/g,"");return e=m2e(e),e=lV(e),e}function y2e(t){try{return v2e(t)}catch{return UA}}function U5(t){var e=y2e(t.slice(5,-1));return e===UA?"":e}var b2e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],_2e=["dx","dy","angle","className","breakAll"];function BE(){return BE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},BE.apply(this,arguments)}function BL(t,e){if(t==null)return{};var r=w2e(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function w2e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function FL(t,e){return T2e(t)||E2e(t,e)||S2e(t,e)||x2e()}function x2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S2e(t,e){if(t){if(typeof t=="string")return jL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jL(t,e)}}function jL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function E2e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,a=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function T2e(t){if(Array.isArray(t))return t}var cV=/[ \f\n\r\t\v\u2028\u2029]+/,uV=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var o=[];un(r)||(n?o=r.toString().split(""):o=r.toString().split(cV));var s=o.map(function(l){return{word:l,width:gg(l,i).width}}),a=n?0:gg("",i).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}},P2e=function(e,r,n,i,o){var s=e.maxLines,a=e.children,l=e.style,c=e.breakAll,u=Dt(s),g=a,_=function(){var Te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Te.reduce(function(te,oe){var K=oe.word,ge=oe.width,Ee=te[te.length-1];if(Ee&&(i==null||o||Ee.width+ge+n<Number(i)))Ee.words.push(K),Ee.width+=ge+n;else{var se={words:[K],width:ge};te.push(se)}return te},[])},b=_(r),P=function(Te){return Te.reduce(function(te,oe){return te.width>oe.width?te:oe})};if(!u)return b;for(var E="",T=function(Te){var te=g.slice(0,Te),oe=uV({breakAll:c,style:l,children:te+E}).wordsWithComputedWidth,K=_(oe),ge=K.length>s||P(K).width>Number(i);return[ge,K]},O=0,L=g.length-1,N=0,D;O<=L&&N<=g.length-1;){var B=Math.floor((O+L)/2),z=B-1,X=T(z),Z=FL(X,2),G=Z[0],de=Z[1],H=T(B),ee=FL(H,1),ae=ee[0];if(!G&&!ae&&(O=B+1),G&&ae&&(L=B-1),!G&&ae){D=de;break}N++}return D||b},UL=function(e){var r=un(e)?[]:e.toString().split(cV);return[{words:r}]},C2e=function(e){var r=e.width,n=e.scaleToFit,i=e.children,o=e.style,s=e.breakAll,a=e.maxLines;if((r||n)&&!op.isSsr){var l,c,u=uV({breakAll:s,children:i,style:o});if(u){var g=u.wordsWithComputedWidth,_=u.spaceWidth;l=g,c=_}else return UL(i);return P2e({breakAll:s,children:i,maxLines:a,style:o},l,c,r,n)}return UL(i)},$L="#808080",Ly=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,o=i===void 0?0:i,s=e.lineHeight,a=s===void 0?"1em":s,l=e.capHeight,c=l===void 0?"0.71em":l,u=e.scaleToFit,g=u===void 0?!1:u,_=e.textAnchor,b=_===void 0?"start":_,P=e.verticalAnchor,E=P===void 0?"end":P,T=e.fill,O=T===void 0?$L:T,L=BL(e,b2e),N=Q.useMemo(function(){return C2e({breakAll:L.breakAll,children:L.children,maxLines:L.maxLines,scaleToFit:g,style:L.style,width:L.width})},[L.breakAll,L.children,L.maxLines,g,L.style,L.width]),D=L.dx,B=L.dy,z=L.angle,X=L.className,Z=L.breakAll,G=BL(L,_2e);if(!vo(n)||!vo(o))return null;var de=n+(Dt(D)?D:0),H=o+(Dt(B)?B:0),ee;switch(E){case"start":ee=U5("calc(".concat(c,")"));break;case"middle":ee=U5("calc(".concat((N.length-1)/2," * -").concat(a," + (").concat(c," / 2))"));break;default:ee=U5("calc(".concat(N.length-1," * -").concat(a,")"));break}var ae=[];if(g){var le=N[0].width,Te=L.width;ae.push("scale(".concat((Dt(Te)?Te/le:1)/le,")"))}return z&&ae.push("rotate(".concat(z,", ").concat(de,", ").concat(H,")")),ae.length&&(G.transform=ae.join(" ")),Ke.createElement("text",BE({},an(G,!0),{x:de,y:H,className:fn("recharts-text",X),textAnchor:b,fill:O.includes("url")?$L:O}),N.map(function(te,oe){var K=te.words.join(Z?"":" ");return Ke.createElement("tspan",{x:de,dy:oe===0?ee:a,key:"".concat(K,"-").concat(oe)},K)}))};function lh(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function k2e(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function jC(t){let e,r,n;t.length!==2?(e=lh,r=(a,l)=>lh(t(a),l),n=(a,l)=>t(a)-l):(e=t===lh||t===k2e?t:O2e,r=t,n=t);function i(a,l,c=0,u=a.length){if(c<u){if(e(l,l)!==0)return u;do{const g=c+u>>>1;r(a[g],l)<0?c=g+1:u=g}while(c<u)}return c}function o(a,l,c=0,u=a.length){if(c<u){if(e(l,l)!==0)return u;do{const g=c+u>>>1;r(a[g],l)<=0?c=g+1:u=g}while(c<u)}return c}function s(a,l,c=0,u=a.length){const g=i(a,l,c,u-1);return g>c&&n(a[g-1],l)>-n(a[g],l)?g-1:g}return{left:i,center:s,right:o}}function O2e(){return 0}function fV(t){return t===null?NaN:+t}function*R2e(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const I2e=jC(lh),Um=I2e.right;jC(fV).center;class zL extends Map{constructor(e,r=L2e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(WL(this,e))}has(e){return super.has(WL(this,e))}set(e,r){return super.set(N2e(this,e),r)}delete(e){return super.delete(M2e(this,e))}}function WL({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function N2e({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function M2e({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function L2e(t){return t!==null&&typeof t=="object"?t.valueOf():t}function D2e(t=lh){if(t===lh)return hV;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function hV(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const B2e=Math.sqrt(50),F2e=Math.sqrt(10),j2e=Math.sqrt(2);function Dy(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),o=n/Math.pow(10,i),s=o>=B2e?10:o>=F2e?5:o>=j2e?2:1;let a,l,c;return i<0?(c=Math.pow(10,-i)/s,a=Math.round(t*c),l=Math.round(e*c),a/c<t&&++a,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*s,a=Math.round(t/c),l=Math.round(e/c),a*c<t&&++a,l*c>e&&--l),l<a&&.5<=r&&r<2?Dy(t,e,r*2):[a,l,c]}function FE(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,o,s]=n?Dy(e,t,r):Dy(t,e,r);if(!(o>=i))return[];const a=o-i+1,l=new Array(a);if(n)if(s<0)for(let c=0;c<a;++c)l[c]=(o-c)/-s;else for(let c=0;c<a;++c)l[c]=(o-c)*s;else if(s<0)for(let c=0;c<a;++c)l[c]=(i+c)/-s;else for(let c=0;c<a;++c)l[c]=(i+c)*s;return l}function jE(t,e,r){return e=+e,t=+t,r=+r,Dy(t,e,r)[2]}function UE(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?jE(e,t,r):jE(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function VL(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function HL(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function dV(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?hV:D2e(i);n>r;){if(n-r>600){const l=n-r+1,c=e-r+1,u=Math.log(l),g=.5*Math.exp(2*u/3),_=.5*Math.sqrt(u*g*(l-g)/l)*(c-l/2<0?-1:1),b=Math.max(r,Math.floor(e-c*g/l+_)),P=Math.min(n,Math.floor(e+(l-c)*g/l+_));dV(t,e,b,P,i)}const o=t[e];let s=r,a=n;for(Dp(t,r,e),i(t[n],o)>0&&Dp(t,r,n);s<a;){for(Dp(t,s,a),++s,--a;i(t[s],o)<0;)++s;for(;i(t[a],o)>0;)--a}i(t[r],o)===0?Dp(t,r,a):(++a,Dp(t,a,n)),a<=e&&(r=a+1),e<=a&&(n=a-1)}return t}function Dp(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function U2e(t,e,r){if(t=Float64Array.from(R2e(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return HL(t);if(e>=1)return VL(t);var n,i=(n-1)*e,o=Math.floor(i),s=VL(dV(t,o).subarray(0,o+1)),a=HL(t.subarray(o+1));return s+(a-s)*(i-o)}}function $2e(t,e,r=fV){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,o=Math.floor(i),s=+r(t[o],o,t),a=+r(t[o+1],o+1,t);return s+(a-s)*(i-o)}}function z2e(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,o=new Array(i);++n<i;)o[n]=t+n*r;return o}function Il(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function mf(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const $E=Symbol("implicit");function UC(){var t=new zL,e=[],r=[],n=$E;function i(o){let s=t.get(o);if(s===void 0){if(n!==$E)return n;t.set(o,s=e.push(o)-1)}return r[s%r.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new zL;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(r=Array.from(o),i):r.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return UC(e,r).unknown(n)},Il.apply(i,arguments),i}function Vg(){var t=UC().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,o,s,a=!1,l=0,c=0,u=.5;delete t.unknown;function g(){var _=e().length,b=i<n,P=b?i:n,E=b?n:i;o=(E-P)/Math.max(1,_-l+c*2),a&&(o=Math.floor(o)),P+=(E-P-o*(_-l))*u,s=o*(1-l),a&&(P=Math.round(P),s=Math.round(s));var T=z2e(_).map(function(O){return P+o*O});return r(b?T.reverse():T)}return t.domain=function(_){return arguments.length?(e(_),g()):e()},t.range=function(_){return arguments.length?([n,i]=_,n=+n,i=+i,g()):[n,i]},t.rangeRound=function(_){return[n,i]=_,n=+n,i=+i,a=!0,g()},t.bandwidth=function(){return s},t.step=function(){return o},t.round=function(_){return arguments.length?(a=!!_,g()):a},t.padding=function(_){return arguments.length?(l=Math.min(1,c=+_),g()):l},t.paddingInner=function(_){return arguments.length?(l=Math.min(1,_),g()):l},t.paddingOuter=function(_){return arguments.length?(c=+_,g()):c},t.align=function(_){return arguments.length?(u=Math.max(0,Math.min(1,_)),g()):u},t.copy=function(){return Vg(e(),[n,i]).round(a).paddingInner(l).paddingOuter(c).align(u)},Il.apply(g(),arguments)}function AV(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return AV(e())},t}function mg(){return AV(Vg.apply(null,arguments).paddingInner(1))}function $C(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function pV(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function $m(){}var Hg=.7,By=1/Hg,ZA="\\s*([+-]?\\d+)\\s*",qg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",gu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",W2e=/^#([0-9a-f]{3,8})$/,V2e=new RegExp(`^rgb\\(${ZA},${ZA},${ZA}\\)$`),H2e=new RegExp(`^rgb\\(${gu},${gu},${gu}\\)$`),q2e=new RegExp(`^rgba\\(${ZA},${ZA},${ZA},${qg}\\)$`),X2e=new RegExp(`^rgba\\(${gu},${gu},${gu},${qg}\\)$`),Y2e=new RegExp(`^hsl\\(${qg},${gu},${gu}\\)$`),K2e=new RegExp(`^hsla\\(${qg},${gu},${gu},${qg}\\)$`),qL={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};$C($m,Xg,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:XL,formatHex:XL,formatHex8:G2e,formatHsl:Q2e,formatRgb:YL,toString:YL});function XL(){return this.rgb().formatHex()}function G2e(){return this.rgb().formatHex8()}function Q2e(){return gV(this).formatHsl()}function YL(){return this.rgb().formatRgb()}function Xg(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=W2e.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?KL(e):r===3?new ha(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?e1(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?e1(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=V2e.exec(t))?new ha(e[1],e[2],e[3],1):(e=H2e.exec(t))?new ha(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=q2e.exec(t))?e1(e[1],e[2],e[3],e[4]):(e=X2e.exec(t))?e1(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Y2e.exec(t))?ZL(e[1],e[2]/100,e[3]/100,1):(e=K2e.exec(t))?ZL(e[1],e[2]/100,e[3]/100,e[4]):qL.hasOwnProperty(t)?KL(qL[t]):t==="transparent"?new ha(NaN,NaN,NaN,0):null}function KL(t){return new ha(t>>16&255,t>>8&255,t&255,1)}function e1(t,e,r,n){return n<=0&&(t=e=r=NaN),new ha(t,e,r,n)}function Z2e(t){return t instanceof $m||(t=Xg(t)),t?(t=t.rgb(),new ha(t.r,t.g,t.b,t.opacity)):new ha}function zE(t,e,r,n){return arguments.length===1?Z2e(t):new ha(t,e,r,n??1)}function ha(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}$C(ha,zE,pV($m,{brighter(t){return t=t==null?By:Math.pow(By,t),new ha(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Hg:Math.pow(Hg,t),new ha(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ha(hd(this.r),hd(this.g),hd(this.b),Fy(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:GL,formatHex:GL,formatHex8:J2e,formatRgb:QL,toString:QL}));function GL(){return`#${nd(this.r)}${nd(this.g)}${nd(this.b)}`}function J2e(){return`#${nd(this.r)}${nd(this.g)}${nd(this.b)}${nd((isNaN(this.opacity)?1:this.opacity)*255)}`}function QL(){const t=Fy(this.opacity);return`${t===1?"rgb(":"rgba("}${hd(this.r)}, ${hd(this.g)}, ${hd(this.b)}${t===1?")":`, ${t})`}`}function Fy(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function hd(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function nd(t){return t=hd(t),(t<16?"0":"")+t.toString(16)}function ZL(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new pc(t,e,r,n)}function gV(t){if(t instanceof pc)return new pc(t.h,t.s,t.l,t.opacity);if(t instanceof $m||(t=Xg(t)),!t)return new pc;if(t instanceof pc)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),o=Math.max(e,r,n),s=NaN,a=o-i,l=(o+i)/2;return a?(e===o?s=(r-n)/a+(r<n)*6:r===o?s=(n-e)/a+2:s=(e-r)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new pc(s,a,l,t.opacity)}function ebe(t,e,r,n){return arguments.length===1?gV(t):new pc(t,e,r,n??1)}function pc(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}$C(pc,ebe,pV($m,{brighter(t){return t=t==null?By:Math.pow(By,t),new pc(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Hg:Math.pow(Hg,t),new pc(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new ha($5(t>=240?t-240:t+120,i,n),$5(t,i,n),$5(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new pc(JL(this.h),t1(this.s),t1(this.l),Fy(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Fy(this.opacity);return`${t===1?"hsl(":"hsla("}${JL(this.h)}, ${t1(this.s)*100}%, ${t1(this.l)*100}%${t===1?")":`, ${t})`}`}}));function JL(t){return t=(t||0)%360,t<0?t+360:t}function t1(t){return Math.max(0,Math.min(1,t||0))}function $5(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const zC=t=>()=>t;function tbe(t,e){return function(r){return t+r*e}}function rbe(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function nbe(t){return(t=+t)==1?mV:function(e,r){return r-e?rbe(e,r,t):zC(isNaN(e)?r:e)}}function mV(t,e){var r=e-t;return r?tbe(t,r):zC(isNaN(t)?e:t)}const eD=(function t(e){var r=nbe(e);function n(i,o){var s=r((i=zE(i)).r,(o=zE(o)).r),a=r(i.g,o.g),l=r(i.b,o.b),c=mV(i.opacity,o.opacity);return function(u){return i.r=s(u),i.g=a(u),i.b=l(u),i.opacity=c(u),i+""}}return n.gamma=t,n})(1);function ibe(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(o){for(i=0;i<r;++i)n[i]=t[i]*(1-o)+e[i]*o;return n}}function obe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function sbe(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),o=new Array(r),s;for(s=0;s<n;++s)i[s]=sp(t[s],e[s]);for(;s<r;++s)o[s]=e[s];return function(a){for(s=0;s<n;++s)o[s]=i[s](a);return o}}function abe(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function jy(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function lbe(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=sp(t[i],e[i]):n[i]=e[i];return function(o){for(i in r)n[i]=r[i](o);return n}}var WE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,z5=new RegExp(WE.source,"g");function cbe(t){return function(){return t}}function ube(t){return function(e){return t(e)+""}}function fbe(t,e){var r=WE.lastIndex=z5.lastIndex=0,n,i,o,s=-1,a=[],l=[];for(t=t+"",e=e+"";(n=WE.exec(t))&&(i=z5.exec(e));)(o=i.index)>r&&(o=e.slice(r,o),a[s]?a[s]+=o:a[++s]=o),(n=n[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:jy(n,i)})),r=z5.lastIndex;return r<e.length&&(o=e.slice(r),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?ube(l[0].x):cbe(e):(e=l.length,function(c){for(var u=0,g;u<e;++u)a[(g=l[u]).i]=g.x(c);return a.join("")})}function sp(t,e){var r=typeof e,n;return e==null||r==="boolean"?zC(e):(r==="number"?jy:r==="string"?(n=Xg(e))?(e=n,eD):fbe:e instanceof Xg?eD:e instanceof Date?abe:obe(e)?ibe:Array.isArray(e)?sbe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?lbe:jy)(t,e)}function WC(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function hbe(t,e){e===void 0&&(e=t,t=sp);for(var r=0,n=e.length-1,i=e[0],o=new Array(n<0?0:n);r<n;)o[r]=t(i,i=e[++r]);return function(s){var a=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return o[a](s-a)}}function dbe(t){return function(){return t}}function Uy(t){return+t}var tD=[0,1];function Vs(t){return t}function VE(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:dbe(isNaN(e)?NaN:.5)}function Abe(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function pbe(t,e,r){var n=t[0],i=t[1],o=e[0],s=e[1];return i<n?(n=VE(i,n),o=r(s,o)):(n=VE(n,i),o=r(o,s)),function(a){return o(n(a))}}function gbe(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),o=new Array(n),s=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<n;)i[s]=VE(t[s],t[s+1]),o[s]=r(e[s],e[s+1]);return function(a){var l=Um(t,a,1,n)-1;return o[l](i[l](a))}}function zm(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Sb(){var t=tD,e=tD,r=sp,n,i,o,s=Vs,a,l,c;function u(){var _=Math.min(t.length,e.length);return s!==Vs&&(s=Abe(t[0],t[_-1])),a=_>2?gbe:pbe,l=c=null,g}function g(_){return _==null||isNaN(_=+_)?o:(l||(l=a(t.map(n),e,r)))(n(s(_)))}return g.invert=function(_){return s(i((c||(c=a(e,t.map(n),jy)))(_)))},g.domain=function(_){return arguments.length?(t=Array.from(_,Uy),u()):t.slice()},g.range=function(_){return arguments.length?(e=Array.from(_),u()):e.slice()},g.rangeRound=function(_){return e=Array.from(_),r=WC,u()},g.clamp=function(_){return arguments.length?(s=_?!0:Vs,u()):s!==Vs},g.interpolate=function(_){return arguments.length?(r=_,u()):r},g.unknown=function(_){return arguments.length?(o=_,g):o},function(_,b){return n=_,i=b,u()}}function VC(){return Sb()(Vs,Vs)}function mbe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function $y(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function T0(t){return t=$y(Math.abs(t)),t?t[1]:NaN}function vbe(t,e){return function(r,n){for(var i=r.length,o=[],s=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>n&&(a=Math.max(1,n-l)),o.push(r.substring(i-=a,i+a)),!((l+=a+1)>n));)a=t[s=(s+1)%t.length];return o.reverse().join(e)}}function ybe(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var bbe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Yg(t){if(!(e=bbe.exec(t)))throw new Error("invalid format: "+t);var e;return new HC({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Yg.prototype=HC.prototype;function HC(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}HC.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function _be(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var vV;function wbe(t,e){var r=$y(t,e);if(!r)return t+"";var n=r[0],i=r[1],o=i-(vV=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return o===s?n:o>s?n+new Array(o-s+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+$y(t,Math.max(0,e+o-1))[0]}function rD(t,e){var r=$y(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const nD={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:mbe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>rD(t*100,e),r:rD,s:wbe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function iD(t){return t}var oD=Array.prototype.map,sD=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function xbe(t){var e=t.grouping===void 0||t.thousands===void 0?iD:vbe(oD.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?iD:ybe(oD.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(g){g=Yg(g);var _=g.fill,b=g.align,P=g.sign,E=g.symbol,T=g.zero,O=g.width,L=g.comma,N=g.precision,D=g.trim,B=g.type;B==="n"?(L=!0,B="g"):nD[B]||(N===void 0&&(N=12),D=!0,B="g"),(T||_==="0"&&b==="=")&&(T=!0,_="0",b="=");var z=E==="$"?r:E==="#"&&/[boxX]/.test(B)?"0"+B.toLowerCase():"",X=E==="$"?n:/[%p]/.test(B)?s:"",Z=nD[B],G=/[defgprs%]/.test(B);N=N===void 0?6:/[gprs]/.test(B)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function de(H){var ee=z,ae=X,le,Te,te;if(B==="c")ae=Z(H)+ae,H="";else{H=+H;var oe=H<0||1/H<0;if(H=isNaN(H)?l:Z(Math.abs(H),N),D&&(H=_be(H)),oe&&+H==0&&P!=="+"&&(oe=!1),ee=(oe?P==="("?P:a:P==="-"||P==="("?"":P)+ee,ae=(B==="s"?sD[8+vV/3]:"")+ae+(oe&&P==="("?")":""),G){for(le=-1,Te=H.length;++le<Te;)if(te=H.charCodeAt(le),48>te||te>57){ae=(te===46?i+H.slice(le+1):H.slice(le))+ae,H=H.slice(0,le);break}}}L&&!T&&(H=e(H,1/0));var K=ee.length+H.length+ae.length,ge=K<O?new Array(O-K+1).join(_):"";switch(L&&T&&(H=e(ge+H,ge.length?O-ae.length:1/0),ge=""),b){case"<":H=ee+H+ae+ge;break;case"=":H=ee+ge+H+ae;break;case"^":H=ge.slice(0,K=ge.length>>1)+ee+H+ae+ge.slice(K);break;default:H=ge+ee+H+ae;break}return o(H)}return de.toString=function(){return g+""},de}function u(g,_){var b=c((g=Yg(g),g.type="f",g)),P=Math.max(-8,Math.min(8,Math.floor(T0(_)/3)))*3,E=Math.pow(10,-P),T=sD[8+P/3];return function(O){return b(E*O)+T}}return{format:c,formatPrefix:u}}var r1,qC,yV;Sbe({thousands:",",grouping:[3],currency:["$",""]});function Sbe(t){return r1=xbe(t),qC=r1.format,yV=r1.formatPrefix,r1}function Ebe(t){return Math.max(0,-T0(Math.abs(t)))}function Tbe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(T0(e)/3)))*3-T0(Math.abs(t)))}function Pbe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,T0(e)-T0(t))+1}function bV(t,e,r,n){var i=UE(t,e,r),o;switch(n=Yg(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(o=Tbe(i,s))&&(n.precision=o),yV(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=Pbe(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=Ebe(i))&&(n.precision=o-(n.type==="%")*2);break}}return qC(n)}function _h(t){var e=t.domain;return t.ticks=function(r){var n=e();return FE(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return bV(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,o=n.length-1,s=n[i],a=n[o],l,c,u=10;for(a<s&&(c=s,s=a,a=c,c=i,i=o,o=c);u-- >0;){if(c=jE(s,a,r),c===l)return n[i]=s,n[o]=a,e(n);if(c>0)s=Math.floor(s/c)*c,a=Math.ceil(a/c)*c;else if(c<0)s=Math.ceil(s*c)/c,a=Math.floor(a*c)/c;else break;l=c}return t},t}function zy(){var t=VC();return t.copy=function(){return zm(t,zy())},Il.apply(t,arguments),_h(t)}function _V(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,Uy),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return _V(t).unknown(e)},t=arguments.length?Array.from(t,Uy):[0,1],_h(r)}function wV(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],o=t[n],s;return o<i&&(s=r,r=n,n=s,s=i,i=o,o=s),t[r]=e.floor(i),t[n]=e.ceil(o),t}function aD(t){return Math.log(t)}function lD(t){return Math.exp(t)}function Cbe(t){return-Math.log(-t)}function kbe(t){return-Math.exp(-t)}function Obe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Rbe(t){return t===10?Obe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Ibe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function cD(t){return(e,r)=>-t(-e,r)}function XC(t){const e=t(aD,lD),r=e.domain;let n=10,i,o;function s(){return i=Ibe(n),o=Rbe(n),r()[0]<0?(i=cD(i),o=cD(o),t(Cbe,kbe)):t(aD,lD),e}return e.base=function(a){return arguments.length?(n=+a,s()):n},e.domain=function(a){return arguments.length?(r(a),s()):r()},e.ticks=a=>{const l=r();let c=l[0],u=l[l.length-1];const g=u<c;g&&([c,u]=[u,c]);let _=i(c),b=i(u),P,E;const T=a==null?10:+a;let O=[];if(!(n%1)&&b-_<T){if(_=Math.floor(_),b=Math.ceil(b),c>0){for(;_<=b;++_)for(P=1;P<n;++P)if(E=_<0?P/o(-_):P*o(_),!(E<c)){if(E>u)break;O.push(E)}}else for(;_<=b;++_)for(P=n-1;P>=1;--P)if(E=_>0?P/o(-_):P*o(_),!(E<c)){if(E>u)break;O.push(E)}O.length*2<T&&(O=FE(c,u,T))}else O=FE(_,b,Math.min(b-_,T)).map(o);return g?O.reverse():O},e.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Yg(l)).precision==null&&(l.trim=!0),l=qC(l)),a===1/0)return l;const c=Math.max(1,n*a/e.ticks().length);return u=>{let g=u/o(Math.round(i(u)));return g*n<n-.5&&(g*=n),g<=c?l(u):""}},e.nice=()=>r(wV(r(),{floor:a=>o(Math.floor(i(a))),ceil:a=>o(Math.ceil(i(a)))})),e}function xV(){const t=XC(Sb()).domain([1,10]);return t.copy=()=>zm(t,xV()).base(t.base()),Il.apply(t,arguments),t}function uD(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function fD(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function YC(t){var e=1,r=t(uD(e),fD(e));return r.constant=function(n){return arguments.length?t(uD(e=+n),fD(e)):e},_h(r)}function SV(){var t=YC(Sb());return t.copy=function(){return zm(t,SV()).constant(t.constant())},Il.apply(t,arguments)}function hD(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Nbe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Mbe(t){return t<0?-t*t:t*t}function KC(t){var e=t(Vs,Vs),r=1;function n(){return r===1?t(Vs,Vs):r===.5?t(Nbe,Mbe):t(hD(r),hD(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},_h(e)}function GC(){var t=KC(Sb());return t.copy=function(){return zm(t,GC()).exponent(t.exponent())},Il.apply(t,arguments),t}function Lbe(){return GC.apply(null,arguments).exponent(.5)}function dD(t){return Math.sign(t)*t*t}function Dbe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function EV(){var t=VC(),e=[0,1],r=!1,n;function i(o){var s=Dbe(t(o));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(o){return t.invert(dD(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Uy)).map(dD)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(r=!!o,i):r},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return EV(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Il.apply(i,arguments),_h(i)}function TV(){var t=[],e=[],r=[],n;function i(){var s=0,a=Math.max(1,e.length);for(r=new Array(a-1);++s<a;)r[s-1]=$2e(t,s/a);return o}function o(s){return s==null||isNaN(s=+s)?n:e[Um(r,s)]}return o.invertExtent=function(s){var a=e.indexOf(s);return a<0?[NaN,NaN]:[a>0?r[a-1]:t[0],a<r.length?r[a]:t[t.length-1]]},o.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let a of s)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(lh),i()},o.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},o.unknown=function(s){return arguments.length?(n=s,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return TV().domain(t).range(e).unknown(n)},Il.apply(o,arguments)}function PV(){var t=0,e=1,r=1,n=[.5],i=[0,1],o;function s(l){return l!=null&&l<=l?i[Um(n,l,0,r)]:o}function a(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*e-(l-r)*t)/(r+1);return s}return s.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,a()):[t,e]},s.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,a()):i.slice()},s.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,n[0]]:c>=r?[n[r-1],e]:[n[c-1],n[c]]},s.unknown=function(l){return arguments.length&&(o=l),s},s.thresholds=function(){return n.slice()},s.copy=function(){return PV().domain([t,e]).range(i).unknown(o)},Il.apply(_h(s),arguments)}function CV(){var t=[.5],e=[0,1],r,n=1;function i(o){return o!=null&&o<=o?e[Um(t,o,0,n)]:r}return i.domain=function(o){return arguments.length?(t=Array.from(o),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var s=e.indexOf(o);return[t[s-1],t[s]]},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return CV().domain(t).range(e).unknown(r)},Il.apply(i,arguments)}const W5=new Date,V5=new Date;function yo(t,e,r,n){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=(o,s)=>(e(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,a)=>{const l=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return l;let c;do l.push(c=new Date(+o)),e(o,a),t(o);while(c<o&&o<s);return l},i.filter=o=>yo(s=>{if(s>=s)for(;t(s),!o(s);)s.setTime(s-1)},(s,a)=>{if(s>=s)if(a<0)for(;++a<=0;)for(;e(s,-1),!o(s););else for(;--a>=0;)for(;e(s,1),!o(s););}),r&&(i.count=(o,s)=>(W5.setTime(+o),V5.setTime(+s),t(W5),t(V5),Math.floor(r(W5,V5))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(n?s=>n(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const Wy=yo(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Wy.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?yo(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):Wy);Wy.range;const Ku=1e3,Sl=Ku*60,Gu=Sl*60,cf=Gu*24,QC=cf*7,AD=cf*30,H5=cf*365,id=yo(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ku)},(t,e)=>(e-t)/Ku,t=>t.getUTCSeconds());id.range;const ZC=yo(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ku)},(t,e)=>{t.setTime(+t+e*Sl)},(t,e)=>(e-t)/Sl,t=>t.getMinutes());ZC.range;const JC=yo(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Sl)},(t,e)=>(e-t)/Sl,t=>t.getUTCMinutes());JC.range;const ek=yo(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ku-t.getMinutes()*Sl)},(t,e)=>{t.setTime(+t+e*Gu)},(t,e)=>(e-t)/Gu,t=>t.getHours());ek.range;const tk=yo(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Gu)},(t,e)=>(e-t)/Gu,t=>t.getUTCHours());tk.range;const Wm=yo(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Sl)/cf,t=>t.getDate()-1);Wm.range;const Eb=yo(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/cf,t=>t.getUTCDate()-1);Eb.range;const kV=yo(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/cf,t=>Math.floor(t/cf));kV.range;function $d(t){return yo(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Sl)/QC)}const Tb=$d(0),Vy=$d(1),Bbe=$d(2),Fbe=$d(3),P0=$d(4),jbe=$d(5),Ube=$d(6);Tb.range;Vy.range;Bbe.range;Fbe.range;P0.range;jbe.range;Ube.range;function zd(t){return yo(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/QC)}const Pb=zd(0),Hy=zd(1),$be=zd(2),zbe=zd(3),C0=zd(4),Wbe=zd(5),Vbe=zd(6);Pb.range;Hy.range;$be.range;zbe.range;C0.range;Wbe.range;Vbe.range;const rk=yo(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());rk.range;const nk=yo(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());nk.range;const uf=yo(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());uf.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:yo(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});uf.range;const ff=yo(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ff.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:yo(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});ff.range;function OV(t,e,r,n,i,o){const s=[[id,1,Ku],[id,5,5*Ku],[id,15,15*Ku],[id,30,30*Ku],[o,1,Sl],[o,5,5*Sl],[o,15,15*Sl],[o,30,30*Sl],[i,1,Gu],[i,3,3*Gu],[i,6,6*Gu],[i,12,12*Gu],[n,1,cf],[n,2,2*cf],[r,1,QC],[e,1,AD],[e,3,3*AD],[t,1,H5]];function a(c,u,g){const _=u<c;_&&([c,u]=[u,c]);const b=g&&typeof g.range=="function"?g:l(c,u,g),P=b?b.range(c,+u+1):[];return _?P.reverse():P}function l(c,u,g){const _=Math.abs(u-c)/g,b=jC(([,,T])=>T).right(s,_);if(b===s.length)return t.every(UE(c/H5,u/H5,g));if(b===0)return Wy.every(Math.max(UE(c,u,g),1));const[P,E]=s[_/s[b-1][2]<s[b][2]/_?b-1:b];return P.every(E)}return[a,l]}const[Hbe,qbe]=OV(ff,nk,Pb,kV,tk,JC),[Xbe,Ybe]=OV(uf,rk,Tb,Wm,ek,ZC);function q5(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function X5(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Bp(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function Kbe(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,o=t.days,s=t.shortDays,a=t.months,l=t.shortMonths,c=Fp(i),u=jp(i),g=Fp(o),_=jp(o),b=Fp(s),P=jp(s),E=Fp(a),T=jp(a),O=Fp(l),L=jp(l),N={a:oe,A:K,b:ge,B:Ee,c:null,d:bD,e:bD,f:v_e,g:C_e,G:O_e,H:p_e,I:g_e,j:m_e,L:RV,m:y_e,M:b_e,p:se,q:$,Q:xD,s:SD,S:__e,u:w_e,U:x_e,V:S_e,w:E_e,W:T_e,x:null,X:null,y:P_e,Y:k_e,Z:R_e,"%":wD},D={a:ne,A:pe,b:be,B:Ie,c:null,d:_D,e:_D,f:L_e,g:H_e,G:X_e,H:I_e,I:N_e,j:M_e,L:NV,m:D_e,M:B_e,p:De,q:$e,Q:xD,s:SD,S:F_e,u:j_e,U:U_e,V:$_e,w:z_e,W:W_e,x:null,X:null,y:V_e,Y:q_e,Z:Y_e,"%":wD},B={a:de,A:H,b:ee,B:ae,c:le,d:vD,e:vD,f:f_e,g:mD,G:gD,H:yD,I:yD,j:a_e,L:u_e,m:s_e,M:l_e,p:G,q:o_e,Q:d_e,s:A_e,S:c_e,u:e_e,U:t_e,V:r_e,w:Jbe,W:n_e,x:Te,X:te,y:mD,Y:gD,Z:i_e,"%":h_e};N.x=z(r,N),N.X=z(n,N),N.c=z(e,N),D.x=z(r,D),D.X=z(n,D),D.c=z(e,D);function z(Le,We){return function(ft){var tt=[],xt=-1,Tt=0,xe=Le.length,At,Vt,$t;for(ft instanceof Date||(ft=new Date(+ft));++xt<xe;)Le.charCodeAt(xt)===37&&(tt.push(Le.slice(Tt,xt)),(Vt=pD[At=Le.charAt(++xt)])!=null?At=Le.charAt(++xt):Vt=At==="e"?" ":"0",($t=We[At])&&(At=$t(ft,Vt)),tt.push(At),Tt=xt+1);return tt.push(Le.slice(Tt,xt)),tt.join("")}}function X(Le,We){return function(ft){var tt=Bp(1900,void 0,1),xt=Z(tt,Le,ft+="",0),Tt,xe;if(xt!=ft.length)return null;if("Q"in tt)return new Date(tt.Q);if("s"in tt)return new Date(tt.s*1e3+("L"in tt?tt.L:0));if(We&&!("Z"in tt)&&(tt.Z=0),"p"in tt&&(tt.H=tt.H%12+tt.p*12),tt.m===void 0&&(tt.m="q"in tt?tt.q:0),"V"in tt){if(tt.V<1||tt.V>53)return null;"w"in tt||(tt.w=1),"Z"in tt?(Tt=X5(Bp(tt.y,0,1)),xe=Tt.getUTCDay(),Tt=xe>4||xe===0?Hy.ceil(Tt):Hy(Tt),Tt=Eb.offset(Tt,(tt.V-1)*7),tt.y=Tt.getUTCFullYear(),tt.m=Tt.getUTCMonth(),tt.d=Tt.getUTCDate()+(tt.w+6)%7):(Tt=q5(Bp(tt.y,0,1)),xe=Tt.getDay(),Tt=xe>4||xe===0?Vy.ceil(Tt):Vy(Tt),Tt=Wm.offset(Tt,(tt.V-1)*7),tt.y=Tt.getFullYear(),tt.m=Tt.getMonth(),tt.d=Tt.getDate()+(tt.w+6)%7)}else("W"in tt||"U"in tt)&&("w"in tt||(tt.w="u"in tt?tt.u%7:"W"in tt?1:0),xe="Z"in tt?X5(Bp(tt.y,0,1)).getUTCDay():q5(Bp(tt.y,0,1)).getDay(),tt.m=0,tt.d="W"in tt?(tt.w+6)%7+tt.W*7-(xe+5)%7:tt.w+tt.U*7-(xe+6)%7);return"Z"in tt?(tt.H+=tt.Z/100|0,tt.M+=tt.Z%100,X5(tt)):q5(tt)}}function Z(Le,We,ft,tt){for(var xt=0,Tt=We.length,xe=ft.length,At,Vt;xt<Tt;){if(tt>=xe)return-1;if(At=We.charCodeAt(xt++),At===37){if(At=We.charAt(xt++),Vt=B[At in pD?We.charAt(xt++):At],!Vt||(tt=Vt(Le,ft,tt))<0)return-1}else if(At!=ft.charCodeAt(tt++))return-1}return tt}function G(Le,We,ft){var tt=c.exec(We.slice(ft));return tt?(Le.p=u.get(tt[0].toLowerCase()),ft+tt[0].length):-1}function de(Le,We,ft){var tt=b.exec(We.slice(ft));return tt?(Le.w=P.get(tt[0].toLowerCase()),ft+tt[0].length):-1}function H(Le,We,ft){var tt=g.exec(We.slice(ft));return tt?(Le.w=_.get(tt[0].toLowerCase()),ft+tt[0].length):-1}function ee(Le,We,ft){var tt=O.exec(We.slice(ft));return tt?(Le.m=L.get(tt[0].toLowerCase()),ft+tt[0].length):-1}function ae(Le,We,ft){var tt=E.exec(We.slice(ft));return tt?(Le.m=T.get(tt[0].toLowerCase()),ft+tt[0].length):-1}function le(Le,We,ft){return Z(Le,e,We,ft)}function Te(Le,We,ft){return Z(Le,r,We,ft)}function te(Le,We,ft){return Z(Le,n,We,ft)}function oe(Le){return s[Le.getDay()]}function K(Le){return o[Le.getDay()]}function ge(Le){return l[Le.getMonth()]}function Ee(Le){return a[Le.getMonth()]}function se(Le){return i[+(Le.getHours()>=12)]}function $(Le){return 1+~~(Le.getMonth()/3)}function ne(Le){return s[Le.getUTCDay()]}function pe(Le){return o[Le.getUTCDay()]}function be(Le){return l[Le.getUTCMonth()]}function Ie(Le){return a[Le.getUTCMonth()]}function De(Le){return i[+(Le.getUTCHours()>=12)]}function $e(Le){return 1+~~(Le.getUTCMonth()/3)}return{format:function(Le){var We=z(Le+="",N);return We.toString=function(){return Le},We},parse:function(Le){var We=X(Le+="",!1);return We.toString=function(){return Le},We},utcFormat:function(Le){var We=z(Le+="",D);return We.toString=function(){return Le},We},utcParse:function(Le){var We=X(Le+="",!0);return We.toString=function(){return Le},We}}}var pD={"-":"",_:" ",0:"0"},Uo=/^\s*\d+/,Gbe=/^%/,Qbe=/[\\^$*+?|[\]().{}]/g;function xn(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",o=i.length;return n+(o<r?new Array(r-o+1).join(e)+i:i)}function Zbe(t){return t.replace(Qbe,"\\$&")}function Fp(t){return new RegExp("^(?:"+t.map(Zbe).join("|")+")","i")}function jp(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function Jbe(t,e,r){var n=Uo.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function e_e(t,e,r){var n=Uo.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function t_e(t,e,r){var n=Uo.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function r_e(t,e,r){var n=Uo.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function n_e(t,e,r){var n=Uo.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function gD(t,e,r){var n=Uo.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function mD(t,e,r){var n=Uo.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function i_e(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function o_e(t,e,r){var n=Uo.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function s_e(t,e,r){var n=Uo.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function vD(t,e,r){var n=Uo.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function a_e(t,e,r){var n=Uo.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function yD(t,e,r){var n=Uo.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function l_e(t,e,r){var n=Uo.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function c_e(t,e,r){var n=Uo.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function u_e(t,e,r){var n=Uo.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function f_e(t,e,r){var n=Uo.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function h_e(t,e,r){var n=Gbe.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function d_e(t,e,r){var n=Uo.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function A_e(t,e,r){var n=Uo.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function bD(t,e){return xn(t.getDate(),e,2)}function p_e(t,e){return xn(t.getHours(),e,2)}function g_e(t,e){return xn(t.getHours()%12||12,e,2)}function m_e(t,e){return xn(1+Wm.count(uf(t),t),e,3)}function RV(t,e){return xn(t.getMilliseconds(),e,3)}function v_e(t,e){return RV(t,e)+"000"}function y_e(t,e){return xn(t.getMonth()+1,e,2)}function b_e(t,e){return xn(t.getMinutes(),e,2)}function __e(t,e){return xn(t.getSeconds(),e,2)}function w_e(t){var e=t.getDay();return e===0?7:e}function x_e(t,e){return xn(Tb.count(uf(t)-1,t),e,2)}function IV(t){var e=t.getDay();return e>=4||e===0?P0(t):P0.ceil(t)}function S_e(t,e){return t=IV(t),xn(P0.count(uf(t),t)+(uf(t).getDay()===4),e,2)}function E_e(t){return t.getDay()}function T_e(t,e){return xn(Vy.count(uf(t)-1,t),e,2)}function P_e(t,e){return xn(t.getFullYear()%100,e,2)}function C_e(t,e){return t=IV(t),xn(t.getFullYear()%100,e,2)}function k_e(t,e){return xn(t.getFullYear()%1e4,e,4)}function O_e(t,e){var r=t.getDay();return t=r>=4||r===0?P0(t):P0.ceil(t),xn(t.getFullYear()%1e4,e,4)}function R_e(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+xn(e/60|0,"0",2)+xn(e%60,"0",2)}function _D(t,e){return xn(t.getUTCDate(),e,2)}function I_e(t,e){return xn(t.getUTCHours(),e,2)}function N_e(t,e){return xn(t.getUTCHours()%12||12,e,2)}function M_e(t,e){return xn(1+Eb.count(ff(t),t),e,3)}function NV(t,e){return xn(t.getUTCMilliseconds(),e,3)}function L_e(t,e){return NV(t,e)+"000"}function D_e(t,e){return xn(t.getUTCMonth()+1,e,2)}function B_e(t,e){return xn(t.getUTCMinutes(),e,2)}function F_e(t,e){return xn(t.getUTCSeconds(),e,2)}function j_e(t){var e=t.getUTCDay();return e===0?7:e}function U_e(t,e){return xn(Pb.count(ff(t)-1,t),e,2)}function MV(t){var e=t.getUTCDay();return e>=4||e===0?C0(t):C0.ceil(t)}function $_e(t,e){return t=MV(t),xn(C0.count(ff(t),t)+(ff(t).getUTCDay()===4),e,2)}function z_e(t){return t.getUTCDay()}function W_e(t,e){return xn(Hy.count(ff(t)-1,t),e,2)}function V_e(t,e){return xn(t.getUTCFullYear()%100,e,2)}function H_e(t,e){return t=MV(t),xn(t.getUTCFullYear()%100,e,2)}function q_e(t,e){return xn(t.getUTCFullYear()%1e4,e,4)}function X_e(t,e){var r=t.getUTCDay();return t=r>=4||r===0?C0(t):C0.ceil(t),xn(t.getUTCFullYear()%1e4,e,4)}function Y_e(){return"+0000"}function wD(){return"%"}function xD(t){return+t}function SD(t){return Math.floor(+t/1e3)}var wA,LV,DV;K_e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function K_e(t){return wA=Kbe(t),LV=wA.format,wA.parse,DV=wA.utcFormat,wA.utcParse,wA}function G_e(t){return new Date(t)}function Q_e(t){return t instanceof Date?+t:+new Date(+t)}function ik(t,e,r,n,i,o,s,a,l,c){var u=VC(),g=u.invert,_=u.domain,b=c(".%L"),P=c(":%S"),E=c("%I:%M"),T=c("%I %p"),O=c("%a %d"),L=c("%b %d"),N=c("%B"),D=c("%Y");function B(z){return(l(z)<z?b:a(z)<z?P:s(z)<z?E:o(z)<z?T:n(z)<z?i(z)<z?O:L:r(z)<z?N:D)(z)}return u.invert=function(z){return new Date(g(z))},u.domain=function(z){return arguments.length?_(Array.from(z,Q_e)):_().map(G_e)},u.ticks=function(z){var X=_();return t(X[0],X[X.length-1],z??10)},u.tickFormat=function(z,X){return X==null?B:c(X)},u.nice=function(z){var X=_();return(!z||typeof z.range!="function")&&(z=e(X[0],X[X.length-1],z??10)),z?_(wV(X,z)):u},u.copy=function(){return zm(u,ik(t,e,r,n,i,o,s,a,l,c))},u}function Z_e(){return Il.apply(ik(Xbe,Ybe,uf,rk,Tb,Wm,ek,ZC,id,LV).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function J_e(){return Il.apply(ik(Hbe,qbe,ff,nk,Pb,Eb,tk,JC,id,DV).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Cb(){var t=0,e=1,r,n,i,o,s=Vs,a=!1,l;function c(g){return g==null||isNaN(g=+g)?l:s(i===0?.5:(g=(o(g)-r)*i,a?Math.max(0,Math.min(1,g)):g))}c.domain=function(g){return arguments.length?([t,e]=g,r=o(t=+t),n=o(e=+e),i=r===n?0:1/(n-r),c):[t,e]},c.clamp=function(g){return arguments.length?(a=!!g,c):a},c.interpolator=function(g){return arguments.length?(s=g,c):s};function u(g){return function(_){var b,P;return arguments.length?([b,P]=_,s=g(b,P),c):[s(0),s(1)]}}return c.range=u(sp),c.rangeRound=u(WC),c.unknown=function(g){return arguments.length?(l=g,c):l},function(g){return o=g,r=g(t),n=g(e),i=r===n?0:1/(n-r),c}}function wh(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function BV(){var t=_h(Cb()(Vs));return t.copy=function(){return wh(t,BV())},mf.apply(t,arguments)}function FV(){var t=XC(Cb()).domain([1,10]);return t.copy=function(){return wh(t,FV()).base(t.base())},mf.apply(t,arguments)}function jV(){var t=YC(Cb());return t.copy=function(){return wh(t,jV()).constant(t.constant())},mf.apply(t,arguments)}function ok(){var t=KC(Cb());return t.copy=function(){return wh(t,ok()).exponent(t.exponent())},mf.apply(t,arguments)}function ewe(){return ok.apply(null,arguments).exponent(.5)}function UV(){var t=[],e=Vs;function r(n){if(n!=null&&!isNaN(n=+n))return e((Um(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(lh),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,o)=>U2e(t,o/n))},r.copy=function(){return UV(e).domain(t)},mf.apply(r,arguments)}function kb(){var t=0,e=.5,r=1,n=1,i,o,s,a,l,c=Vs,u,g=!1,_;function b(E){return isNaN(E=+E)?_:(E=.5+((E=+u(E))-o)*(n*E<n*o?a:l),c(g?Math.max(0,Math.min(1,E)):E))}b.domain=function(E){return arguments.length?([t,e,r]=E,i=u(t=+t),o=u(e=+e),s=u(r=+r),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),n=o<i?-1:1,b):[t,e,r]},b.clamp=function(E){return arguments.length?(g=!!E,b):g},b.interpolator=function(E){return arguments.length?(c=E,b):c};function P(E){return function(T){var O,L,N;return arguments.length?([O,L,N]=T,c=hbe(E,[O,L,N]),b):[c(0),c(.5),c(1)]}}return b.range=P(sp),b.rangeRound=P(WC),b.unknown=function(E){return arguments.length?(_=E,b):_},function(E){return u=E,i=E(t),o=E(e),s=E(r),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),n=o<i?-1:1,b}}function $V(){var t=_h(kb()(Vs));return t.copy=function(){return wh(t,$V())},mf.apply(t,arguments)}function zV(){var t=XC(kb()).domain([.1,1,10]);return t.copy=function(){return wh(t,zV()).base(t.base())},mf.apply(t,arguments)}function WV(){var t=YC(kb());return t.copy=function(){return wh(t,WV()).constant(t.constant())},mf.apply(t,arguments)}function sk(){var t=KC(kb());return t.copy=function(){return wh(t,sk()).exponent(t.exponent())},mf.apply(t,arguments)}function twe(){return sk.apply(null,arguments).exponent(.5)}const ED=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Vg,scaleDiverging:$V,scaleDivergingLog:zV,scaleDivergingPow:sk,scaleDivergingSqrt:twe,scaleDivergingSymlog:WV,scaleIdentity:_V,scaleImplicit:$E,scaleLinear:zy,scaleLog:xV,scaleOrdinal:UC,scalePoint:mg,scalePow:GC,scaleQuantile:TV,scaleQuantize:PV,scaleRadial:EV,scaleSequential:BV,scaleSequentialLog:FV,scaleSequentialPow:ok,scaleSequentialQuantile:UV,scaleSequentialSqrt:ewe,scaleSequentialSymlog:jV,scaleSqrt:Lbe,scaleSymlog:SV,scaleThreshold:CV,scaleTime:Z_e,scaleUtc:J_e,tickFormat:bV},Symbol.toStringTag,{value:"Module"}));var Y5,TD;function VV(){if(TD)return Y5;TD=1;var t=tp();function e(r,n,i){for(var o=-1,s=r.length;++o<s;){var a=r[o],l=n(a);if(l!=null&&(c===void 0?l===l&&!t(l):i(l,c)))var c=l,u=a}return u}return Y5=e,Y5}var K5,PD;function rwe(){if(PD)return K5;PD=1;function t(e,r){return e>r}return K5=t,K5}var G5,CD;function nwe(){if(CD)return G5;CD=1;var t=VV(),e=rwe(),r=ip();function n(i){return i&&i.length?t(i,r,e):void 0}return G5=n,G5}var iwe=nwe();const nh=Ln(iwe);var Q5,kD;function owe(){if(kD)return Q5;kD=1;function t(e,r){return e<r}return Q5=t,Q5}var Z5,OD;function swe(){if(OD)return Z5;OD=1;var t=VV(),e=owe(),r=ip();function n(i){return i&&i.length?t(i,r,e):void 0}return Z5=n,Z5}var awe=swe();const Ob=Ln(awe);var J5,RD;function lwe(){if(RD)return J5;RD=1;var t=wC(),e=bh(),r=ZW(),n=Aa();function i(o,s){var a=n(o)?t:r;return a(o,e(s,3))}return J5=i,J5}var eS,ID;function cwe(){if(ID)return eS;ID=1;var t=GW(),e=lwe();function r(n,i){return t(e(n,i),1)}return eS=r,eS}var uwe=cwe();const fwe=Ln(uwe);var tS,ND;function hwe(){if(ND)return tS;ND=1;var t=LC();function e(r,n){return t(r,n)}return tS=e,tS}var dwe=hwe();const Kg=Ln(dwe);var ap=1e9,Awe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},lk,gi=!0,kl="[DecimalError] ",dd=kl+"Invalid argument: ",ak=kl+"Exponent out of range: ",lp=Math.floor,Kh=Math.pow,pwe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Wa,Bo=1e7,ai=7,HV=9007199254740991,qy=lp(HV/ai),Kt={};Kt.absoluteValue=Kt.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Kt.comparedTo=Kt.cmp=function(t){var e,r,n,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(n=o.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return n===i?0:n>i^o.s<0?1:-1};Kt.decimalPlaces=Kt.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*ai;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Kt.dividedBy=Kt.div=function(t){return rf(this,new this.constructor(t))};Kt.dividedToIntegerBy=Kt.idiv=function(t){var e=this,r=e.constructor;return Gn(rf(e,new r(t),0,1),r.precision)};Kt.equals=Kt.eq=function(t){return!this.cmp(t)};Kt.exponent=function(){return ro(this)};Kt.greaterThan=Kt.gt=function(t){return this.cmp(t)>0};Kt.greaterThanOrEqualTo=Kt.gte=function(t){return this.cmp(t)>=0};Kt.isInteger=Kt.isint=function(){return this.e>this.d.length-2};Kt.isNegative=Kt.isneg=function(){return this.s<0};Kt.isPositive=Kt.ispos=function(){return this.s>0};Kt.isZero=function(){return this.s===0};Kt.lessThan=Kt.lt=function(t){return this.cmp(t)<0};Kt.lessThanOrEqualTo=Kt.lte=function(t){return this.cmp(t)<1};Kt.logarithm=Kt.log=function(t){var e,r=this,n=r.constructor,i=n.precision,o=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Wa))throw Error(kl+"NaN");if(r.s<1)throw Error(kl+(r.s?"NaN":"-Infinity"));return r.eq(Wa)?new n(0):(gi=!1,e=rf(Gg(r,o),Gg(t,o),o),gi=!0,Gn(e,i))};Kt.minus=Kt.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?YV(e,t):qV(e,(t.s=-t.s,t))};Kt.modulo=Kt.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(kl+"NaN");return r.s?(gi=!1,e=rf(r,t,0,1).times(t),gi=!0,r.minus(e)):Gn(new n(r),i)};Kt.naturalExponential=Kt.exp=function(){return XV(this)};Kt.naturalLogarithm=Kt.ln=function(){return Gg(this)};Kt.negated=Kt.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Kt.plus=Kt.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?qV(e,t):YV(e,(t.s=-t.s,t))};Kt.precision=Kt.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(dd+t);if(e=ro(i)+1,n=i.d.length-1,r=n*ai+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Kt.squareRoot=Kt.sqrt=function(){var t,e,r,n,i,o,s,a=this,l=a.constructor;if(a.s<1){if(!a.s)return new l(0);throw Error(kl+"NaN")}for(t=ro(a),gi=!1,i=Math.sqrt(+a),i==0||i==1/0?(e=fu(a.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=lp((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new l(e)):n=new l(i.toString()),r=l.precision,i=s=r+3;;)if(o=n,n=o.plus(rf(a,o,s+2)).times(.5),fu(o.d).slice(0,s)===(e=fu(n.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(Gn(o,r+1,0),o.times(o).eq(a)){n=o;break}}else if(e!="9999")break;s+=4}return gi=!0,Gn(n,r)};Kt.times=Kt.mul=function(t){var e,r,n,i,o,s,a,l,c,u=this,g=u.constructor,_=u.d,b=(t=new g(t)).d;if(!u.s||!t.s)return new g(0);for(t.s*=u.s,r=u.e+t.e,l=_.length,c=b.length,l<c&&(o=_,_=b,b=o,s=l,l=c,c=s),o=[],s=l+c,n=s;n--;)o.push(0);for(n=c;--n>=0;){for(e=0,i=l+n;i>n;)a=o[i]+b[n]*_[i-n-1]+e,o[i--]=a%Bo|0,e=a/Bo|0;o[i]=(o[i]+e)%Bo|0}for(;!o[--s];)o.pop();return e?++r:o.shift(),t.d=o,t.e=r,gi?Gn(t,g.precision):t};Kt.toDecimalPlaces=Kt.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(wu(t,0,ap),e===void 0?e=n.rounding:wu(e,0,8),Gn(r,t+ro(r)+1,e))};Kt.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=Od(n,!0):(wu(t,0,ap),e===void 0?e=i.rounding:wu(e,0,8),n=Gn(new i(n),t+1,e),r=Od(n,!0,t+1)),r};Kt.toFixed=function(t,e){var r,n,i=this,o=i.constructor;return t===void 0?Od(i):(wu(t,0,ap),e===void 0?e=o.rounding:wu(e,0,8),n=Gn(new o(i),t+ro(i)+1,e),r=Od(n.abs(),!1,t+ro(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Kt.toInteger=Kt.toint=function(){var t=this,e=t.constructor;return Gn(new e(t),ro(t)+1,e.rounding)};Kt.toNumber=function(){return+this};Kt.toPower=Kt.pow=function(t){var e,r,n,i,o,s,a=this,l=a.constructor,c=12,u=+(t=new l(t));if(!t.s)return new l(Wa);if(a=new l(a),!a.s){if(t.s<1)throw Error(kl+"Infinity");return a}if(a.eq(Wa))return a;if(n=l.precision,t.eq(Wa))return Gn(a,n);if(e=t.e,r=t.d.length-1,s=e>=r,o=a.s,s){if((r=u<0?-u:u)<=HV){for(i=new l(Wa),e=Math.ceil(n/ai+4),gi=!1;r%2&&(i=i.times(a),LD(i.d,e)),r=lp(r/2),r!==0;)a=a.times(a),LD(a.d,e);return gi=!0,t.s<0?new l(Wa).div(i):Gn(i,n)}}else if(o<0)throw Error(kl+"NaN");return o=o<0&&t.d[Math.max(e,r)]&1?-1:1,a.s=1,gi=!1,i=t.times(Gg(a,n+c)),gi=!0,i=XV(i),i.s=o,i};Kt.toPrecision=function(t,e){var r,n,i=this,o=i.constructor;return t===void 0?(r=ro(i),n=Od(i,r<=o.toExpNeg||r>=o.toExpPos)):(wu(t,1,ap),e===void 0?e=o.rounding:wu(e,0,8),i=Gn(new o(i),t,e),r=ro(i),n=Od(i,t<=r||r<=o.toExpNeg,t)),n};Kt.toSignificantDigits=Kt.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(wu(t,1,ap),e===void 0?e=n.rounding:wu(e,0,8)),Gn(new n(r),t,e)};Kt.toString=Kt.valueOf=Kt.val=Kt.toJSON=Kt[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=ro(t),r=t.constructor;return Od(t,e<=r.toExpNeg||e>=r.toExpPos)};function qV(t,e){var r,n,i,o,s,a,l,c,u=t.constructor,g=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),gi?Gn(e,g):e;if(l=t.d,c=e.d,s=t.e,i=e.e,l=l.slice(),o=s-i,o){for(o<0?(n=l,o=-o,a=c.length):(n=c,i=s,a=l.length),s=Math.ceil(g/ai),a=s>a?s+1:a+1,o>a&&(o=a,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(a=l.length,o=c.length,a-o<0&&(o=a,n=c,c=l,l=n),r=0;o;)r=(l[--o]=l[o]+c[o]+r)/Bo|0,l[o]%=Bo;for(r&&(l.unshift(r),++i),a=l.length;l[--a]==0;)l.pop();return e.d=l,e.e=i,gi?Gn(e,g):e}function wu(t,e,r){if(t!==~~t||t<e||t>r)throw Error(dd+t)}function fu(t){var e,r,n,i=t.length-1,o="",s=t[0];if(i>0){for(o+=s,e=1;e<i;e++)n=t[e]+"",r=ai-n.length,r&&(o+=Gf(r)),o+=n;s=t[e],n=s+"",r=ai-n.length,r&&(o+=Gf(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var rf=(function(){function t(n,i){var o,s=0,a=n.length;for(n=n.slice();a--;)o=n[a]*i+s,n[a]=o%Bo|0,s=o/Bo|0;return s&&n.unshift(s),n}function e(n,i,o,s){var a,l;if(o!=s)l=o>s?1:-1;else for(a=l=0;a<o;a++)if(n[a]!=i[a]){l=n[a]>i[a]?1:-1;break}return l}function r(n,i,o){for(var s=0;o--;)n[o]-=s,s=n[o]<i[o]?1:0,n[o]=s*Bo+n[o]-i[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,o,s){var a,l,c,u,g,_,b,P,E,T,O,L,N,D,B,z,X,Z,G=n.constructor,de=n.s==i.s?1:-1,H=n.d,ee=i.d;if(!n.s)return new G(n);if(!i.s)throw Error(kl+"Division by zero");for(l=n.e-i.e,X=ee.length,B=H.length,b=new G(de),P=b.d=[],c=0;ee[c]==(H[c]||0);)++c;if(ee[c]>(H[c]||0)&&--l,o==null?L=o=G.precision:s?L=o+(ro(n)-ro(i))+1:L=o,L<0)return new G(0);if(L=L/ai+2|0,c=0,X==1)for(u=0,ee=ee[0],L++;(c<B||u)&&L--;c++)N=u*Bo+(H[c]||0),P[c]=N/ee|0,u=N%ee|0;else{for(u=Bo/(ee[0]+1)|0,u>1&&(ee=t(ee,u),H=t(H,u),X=ee.length,B=H.length),D=X,E=H.slice(0,X),T=E.length;T<X;)E[T++]=0;Z=ee.slice(),Z.unshift(0),z=ee[0],ee[1]>=Bo/2&&++z;do u=0,a=e(ee,E,X,T),a<0?(O=E[0],X!=T&&(O=O*Bo+(E[1]||0)),u=O/z|0,u>1?(u>=Bo&&(u=Bo-1),g=t(ee,u),_=g.length,T=E.length,a=e(g,E,_,T),a==1&&(u--,r(g,X<_?Z:ee,_))):(u==0&&(a=u=1),g=ee.slice()),_=g.length,_<T&&g.unshift(0),r(E,g,T),a==-1&&(T=E.length,a=e(ee,E,X,T),a<1&&(u++,r(E,X<T?Z:ee,T))),T=E.length):a===0&&(u++,E=[0]),P[c++]=u,a&&E[0]?E[T++]=H[D]||0:(E=[H[D]],T=1);while((D++<B||E[0]!==void 0)&&L--)}return P[0]||P.shift(),b.e=l,Gn(b,s?o+ro(b)+1:o)}})();function XV(t,e){var r,n,i,o,s,a,l=0,c=0,u=t.constructor,g=u.precision;if(ro(t)>16)throw Error(ak+ro(t));if(!t.s)return new u(Wa);for(gi=!1,a=g,s=new u(.03125);t.abs().gte(.1);)t=t.times(s),c+=5;for(n=Math.log(Kh(2,c))/Math.LN10*2+5|0,a+=n,r=i=o=new u(Wa),u.precision=a;;){if(i=Gn(i.times(t),a),r=r.times(++l),s=o.plus(rf(i,r,a)),fu(s.d).slice(0,a)===fu(o.d).slice(0,a)){for(;c--;)o=Gn(o.times(o),a);return u.precision=g,e==null?(gi=!0,Gn(o,g)):o}o=s}}function ro(t){for(var e=t.e*ai,r=t.d[0];r>=10;r/=10)e++;return e}function rS(t,e,r){if(e>t.LN10.sd())throw gi=!0,r&&(t.precision=r),Error(kl+"LN10 precision limit exceeded");return Gn(new t(t.LN10),e)}function Gf(t){for(var e="";t--;)e+="0";return e}function Gg(t,e){var r,n,i,o,s,a,l,c,u,g=1,_=10,b=t,P=b.d,E=b.constructor,T=E.precision;if(b.s<1)throw Error(kl+(b.s?"NaN":"-Infinity"));if(b.eq(Wa))return new E(0);if(e==null?(gi=!1,c=T):c=e,b.eq(10))return e==null&&(gi=!0),rS(E,c);if(c+=_,E.precision=c,r=fu(P),n=r.charAt(0),o=ro(b),Math.abs(o)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)b=b.times(t),r=fu(b.d),n=r.charAt(0),g++;o=ro(b),n>1?(b=new E("0."+r),o++):b=new E(n+"."+r.slice(1))}else return l=rS(E,c+2,T).times(o+""),b=Gg(new E(n+"."+r.slice(1)),c-_).plus(l),E.precision=T,e==null?(gi=!0,Gn(b,T)):b;for(a=s=b=rf(b.minus(Wa),b.plus(Wa),c),u=Gn(b.times(b),c),i=3;;){if(s=Gn(s.times(u),c),l=a.plus(rf(s,new E(i),c)),fu(l.d).slice(0,c)===fu(a.d).slice(0,c))return a=a.times(2),o!==0&&(a=a.plus(rS(E,c+2,T).times(o+""))),a=rf(a,new E(g),c),E.precision=T,e==null?(gi=!0,Gn(a,T)):a;a=l,i+=2}}function MD(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=lp(r/ai),t.d=[],n=(r+1)%ai,r<0&&(n+=ai),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=ai;n<i;)t.d.push(+e.slice(n,n+=ai));e=e.slice(n),n=ai-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),gi&&(t.e>qy||t.e<-qy))throw Error(ak+r)}else t.s=0,t.e=0,t.d=[0];return t}function Gn(t,e,r){var n,i,o,s,a,l,c,u,g=t.d;for(s=1,o=g[0];o>=10;o/=10)s++;if(n=e-s,n<0)n+=ai,i=e,c=g[u=0];else{if(u=Math.ceil((n+1)/ai),o=g.length,u>=o)return t;for(c=o=g[u],s=1;o>=10;o/=10)s++;n%=ai,i=n-ai+s}if(r!==void 0&&(o=Kh(10,s-i-1),a=c/o%10|0,l=e<0||g[u+1]!==void 0||c%o,l=r<4?(a||l)&&(r==0||r==(t.s<0?3:2)):a>5||a==5&&(r==4||l||r==6&&(n>0?i>0?c/Kh(10,s-i):0:g[u-1])%10&1||r==(t.s<0?8:7))),e<1||!g[0])return l?(o=ro(t),g.length=1,e=e-o-1,g[0]=Kh(10,(ai-e%ai)%ai),t.e=lp(-e/ai)||0):(g.length=1,g[0]=t.e=t.s=0),t;if(n==0?(g.length=u,o=1,u--):(g.length=u+1,o=Kh(10,ai-n),g[u]=i>0?(c/Kh(10,s-i)%Kh(10,i)|0)*o:0),l)for(;;)if(u==0){(g[0]+=o)==Bo&&(g[0]=1,++t.e);break}else{if(g[u]+=o,g[u]!=Bo)break;g[u--]=0,o=1}for(n=g.length;g[--n]===0;)g.pop();if(gi&&(t.e>qy||t.e<-qy))throw Error(ak+ro(t));return t}function YV(t,e){var r,n,i,o,s,a,l,c,u,g,_=t.constructor,b=_.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new _(t),gi?Gn(e,b):e;if(l=t.d,g=e.d,n=e.e,c=t.e,l=l.slice(),s=c-n,s){for(u=s<0,u?(r=l,s=-s,a=g.length):(r=g,n=c,a=l.length),i=Math.max(Math.ceil(b/ai),a)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=l.length,a=g.length,u=i<a,u&&(a=i),i=0;i<a;i++)if(l[i]!=g[i]){u=l[i]<g[i];break}s=0}for(u&&(r=l,l=g,g=r,e.s=-e.s),a=l.length,i=g.length-a;i>0;--i)l[a++]=0;for(i=g.length;i>s;){if(l[--i]<g[i]){for(o=i;o&&l[--o]===0;)l[o]=Bo-1;--l[o],l[i]+=Bo}l[i]-=g[i]}for(;l[--a]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(e.d=l,e.e=n,gi?Gn(e,b):e):new _(0)}function Od(t,e,r){var n,i=ro(t),o=fu(t.d),s=o.length;return e?(r&&(n=r-s)>0?o=o.charAt(0)+"."+o.slice(1)+Gf(n):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Gf(-i-1)+o,r&&(n=r-s)>0&&(o+=Gf(n))):i>=s?(o+=Gf(i+1-s),r&&(n=r-i-1)>0&&(o=o+"."+Gf(n))):((n=i+1)<s&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(o+="."),o+=Gf(n))),t.s<0?"-"+o:o}function LD(t,e){if(t.length>e)return t.length=e,!0}function KV(t){var e,r,n;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(dd+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return MD(s,o.toString())}else if(typeof o!="string")throw Error(dd+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,pwe.test(o))MD(s,o);else throw Error(dd+o)}if(i.prototype=Kt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=KV,i.config=i.set=gwe,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function gwe(t){if(!t||typeof t!="object")throw Error(kl+"Object expected");var e,r,n,i=["precision",1,ap,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(lp(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(dd+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(dd+r+": "+n);return this}var lk=KV(Awe);Wa=new lk(1);const Un=lk;function mwe(t){return _we(t)||bwe(t)||ywe(t)||vwe()}function vwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ywe(t,e){if(t){if(typeof t=="string")return HE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HE(t,e)}}function bwe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function _we(t){if(Array.isArray(t))return HE(t)}function HE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var wwe=function(e){return e},GV={},QV=function(e){return e===GV},DD=function(e){return function r(){return arguments.length===0||arguments.length===1&&QV(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},xwe=function t(e,r){return e===1?r:DD(function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];var s=i.filter(function(a){return a!==GV}).length;return s>=e?r.apply(void 0,i):t(e-s,DD(function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];var u=i.map(function(g){return QV(g)?l.shift():g});return r.apply(void 0,mwe(u).concat(l))}))})},Rb=function(e){return xwe(e.length,e)},qE=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},Swe=Rb(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),Ewe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return wwe;var i=r.reverse(),o=i[0],s=i.slice(1);return function(){return s.reduce(function(a,l){return l(a)},o.apply(void 0,arguments))}},XE=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},ZV=function(e){var r=null,n=null;return function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r&&o.every(function(a,l){return a===r[l]})||(r=o,n=e.apply(void 0,o)),n}};function Twe(t){var e;return t===0?e=1:e=Math.floor(new Un(t).abs().log(10).toNumber())+1,e}function Pwe(t,e,r){for(var n=new Un(t),i=0,o=[];n.lt(e)&&i<1e5;)o.push(n.toNumber()),n=n.add(r),i++;return o}var Cwe=Rb(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),kwe=Rb(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),Owe=Rb(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const Ib={rangeStep:Pwe,getDigitCount:Twe,interpolateNumber:Cwe,uninterpolateNumber:kwe,uninterpolateTruncation:Owe};function YE(t){return Nwe(t)||Iwe(t)||JV(t)||Rwe()}function Rwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Iwe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Nwe(t){if(Array.isArray(t))return KE(t)}function Qg(t,e){return Dwe(t)||Lwe(t,e)||JV(t,e)||Mwe()}function Mwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JV(t,e){if(t){if(typeof t=="string")return KE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KE(t,e)}}function KE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Lwe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,o=void 0;try{for(var s=t[Symbol.iterator](),a;!(n=(a=s.next()).done)&&(r.push(a.value),!(e&&r.length===e));n=!0);}catch(l){i=!0,o=l}finally{try{!n&&s.return!=null&&s.return()}finally{if(i)throw o}}return r}}function Dwe(t){if(Array.isArray(t))return t}function eH(t){var e=Qg(t,2),r=e[0],n=e[1],i=r,o=n;return r>n&&(i=n,o=r),[i,o]}function tH(t,e,r){if(t.lte(0))return new Un(0);var n=Ib.getDigitCount(t.toNumber()),i=new Un(10).pow(n),o=t.div(i),s=n!==1?.05:.1,a=new Un(Math.ceil(o.div(s).toNumber())).add(r).mul(s),l=a.mul(i);return e?l:new Un(Math.ceil(l))}function Bwe(t,e,r){var n=1,i=new Un(t);if(!i.isint()&&r){var o=Math.abs(t);o<1?(n=new Un(10).pow(Ib.getDigitCount(t)-1),i=new Un(Math.floor(i.div(n).toNumber())).mul(n)):o>1&&(i=new Un(Math.floor(t)))}else t===0?i=new Un(Math.floor((e-1)/2)):r||(i=new Un(Math.floor(t)));var s=Math.floor((e-1)/2),a=Ewe(Swe(function(l){return i.add(new Un(l-s).mul(n)).toNumber()}),qE);return a(0,e)}function rH(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new Un(0),tickMin:new Un(0),tickMax:new Un(0)};var o=tH(new Un(e).sub(t).div(r-1),n,i),s;t<=0&&e>=0?s=new Un(0):(s=new Un(t).add(e).div(2),s=s.sub(new Un(s).mod(o)));var a=Math.ceil(s.sub(t).div(o).toNumber()),l=Math.ceil(new Un(e).sub(s).div(o).toNumber()),c=a+l+1;return c>r?rH(t,e,r,n,i+1):(c<r&&(l=e>0?l+(r-c):l,a=e>0?a:a+(r-c)),{step:o,tickMin:s.sub(new Un(a).mul(o)),tickMax:s.add(new Un(l).mul(o))})}function Fwe(t){var e=Qg(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),a=eH([r,n]),l=Qg(a,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var g=u===1/0?[c].concat(YE(qE(0,i-1).map(function(){return 1/0}))):[].concat(YE(qE(0,i-1).map(function(){return-1/0})),[u]);return r>n?XE(g):g}if(c===u)return Bwe(c,i,o);var _=rH(c,u,s,o),b=_.step,P=_.tickMin,E=_.tickMax,T=Ib.rangeStep(P,E.add(new Un(.1).mul(b)),b);return r>n?XE(T):T}function jwe(t,e){var r=Qg(t,2),n=r[0],i=r[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=eH([n,i]),a=Qg(s,2),l=a[0],c=a[1];if(l===-1/0||c===1/0)return[n,i];if(l===c)return[l];var u=Math.max(e,2),g=tH(new Un(c).sub(l).div(u-1),o,0),_=[].concat(YE(Ib.rangeStep(new Un(l),new Un(c).sub(new Un(.99).mul(g)),g)),[c]);return n>i?XE(_):_}var Uwe=ZV(Fwe),$we=ZV(jwe),zwe="Invariant failed";function Rd(t,e){throw new Error(zwe)}var Wwe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function k0(t){"@babel/helpers - typeof";return k0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k0(t)}function Xy(){return Xy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Xy.apply(this,arguments)}function Vwe(t,e){return Ywe(t)||Xwe(t,e)||qwe(t,e)||Hwe()}function Hwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qwe(t,e){if(t){if(typeof t=="string")return BD(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BD(t,e)}}function BD(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Xwe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,a=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(l=(n=o.call(r)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function Ywe(t){if(Array.isArray(t))return t}function Kwe(t,e){if(t==null)return{};var r=Gwe(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Gwe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Qwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zwe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,oH(n.key),n)}}function Jwe(t,e,r){return e&&Zwe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function exe(t,e,r){return e=Yy(e),txe(t,nH()?Reflect.construct(e,r||[],Yy(t).constructor):e.apply(t,r))}function txe(t,e){if(e&&(k0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rxe(t)}function rxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nH=function(){return!!t})()}function Yy(t){return Yy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yy(t)}function nxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&GE(t,e)}function GE(t,e){return GE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},GE(t,e)}function iH(t,e,r){return e=oH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oH(t){var e=ixe(t,"string");return k0(e)=="symbol"?e:e+""}function ixe(t,e){if(k0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(k0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Nb=(function(t){function e(){return Qwe(this,e),exe(this,e,arguments)}return nxe(e,t),Jwe(e,[{key:"render",value:function(){var n=this.props,i=n.offset,o=n.layout,s=n.width,a=n.dataKey,l=n.data,c=n.dataPointFormatter,u=n.xAxis,g=n.yAxis,_=Kwe(n,Wwe),b=an(_,!1);this.props.direction==="x"&&u.type!=="number"&&Rd();var P=l.map(function(E){var T=c(E,a),O=T.x,L=T.y,N=T.value,D=T.errorVal;if(!D)return null;var B=[],z,X;if(Array.isArray(D)){var Z=Vwe(D,2);z=Z[0],X=Z[1]}else z=X=D;if(o==="vertical"){var G=u.scale,de=L+i,H=de+s,ee=de-s,ae=G(N-z),le=G(N+X);B.push({x1:le,y1:H,x2:le,y2:ee}),B.push({x1:ae,y1:de,x2:le,y2:de}),B.push({x1:ae,y1:H,x2:ae,y2:ee})}else if(o==="horizontal"){var Te=g.scale,te=O+i,oe=te-s,K=te+s,ge=Te(N-z),Ee=Te(N+X);B.push({x1:oe,y1:Ee,x2:K,y2:Ee}),B.push({x1:te,y1:ge,x2:te,y2:Ee}),B.push({x1:oe,y1:ge,x2:K,y2:ge})}return Ke.createElement(Ei,Xy({className:"recharts-errorBar",key:"bar-".concat(B.map(function(se){return"".concat(se.x1,"-").concat(se.x2,"-").concat(se.y1,"-").concat(se.y2)}))},b),B.map(function(se){return Ke.createElement("line",Xy({},se,{key:"line-".concat(se.x1,"-").concat(se.x2,"-").concat(se.y1,"-").concat(se.y2)}))}))});return Ke.createElement(Ei,{className:"recharts-errorBars"},P)}}])})(Ke.Component);iH(Nb,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});iH(Nb,"displayName","ErrorBar");function Zg(t){"@babel/helpers - typeof";return Zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zg(t)}function FD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Xh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FD(Object(r),!0).forEach(function(n){oxe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oxe(t,e,r){return e=sxe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sxe(t){var e=axe(t,"string");return Zg(e)=="symbol"?e:e+""}function axe(t,e){if(Zg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sH=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,s=ja(r,QA);if(!s)return null;var a=QA.defaultProps,l=a!==void 0?Xh(Xh({},a),s.props):{},c;return s.props&&s.props.payload?c=s.props&&s.props.payload:o==="children"?c=(n||[]).reduce(function(u,g){var _=g.item,b=g.props,P=b.sectors||b.data||[];return u.concat(P.map(function(E){return{type:s.props.iconType||_.props.legendType,value:E.name,color:E.fill,payload:E}}))},[]):c=(n||[]).map(function(u){var g=u.item,_=g.type.defaultProps,b=_!==void 0?Xh(Xh({},_),g.props):{},P=b.dataKey,E=b.name,T=b.legendType,O=b.hide;return{inactive:O,dataKey:P,type:l.iconType||T||"square",color:ck(g),value:E||P,payload:b}}),Xh(Xh(Xh({},l),QA.getWithHeight(s,i)),{},{payload:c,item:s})};function Jg(t){"@babel/helpers - typeof";return Jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jg(t)}function jD(t){return fxe(t)||uxe(t)||cxe(t)||lxe()}function lxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cxe(t,e){if(t){if(typeof t=="string")return QE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QE(t,e)}}function uxe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function fxe(t){if(Array.isArray(t))return QE(t)}function QE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function UD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Mi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UD(Object(r),!0).forEach(function(n){JA(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function JA(t,e,r){return e=hxe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hxe(t){var e=dxe(t,"string");return Jg(e)=="symbol"?e:e+""}function dxe(t,e){if(Jg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xa(t,e,r){return un(t)||un(e)?r:vo(e)?Cl(t,e,r):Gr(e)?e(t):r}function vg(t,e,r,n){var i=fwe(t,function(a){return Xa(a,e)});if(r==="number"){var o=i.filter(function(a){return Dt(a)||parseFloat(a)});return o.length?[Ob(o),nh(o)]:[1/0,-1/0]}var s=n?i.filter(function(a){return!un(a)}):i;return s.map(function(a){return vo(a)||a instanceof Date?a:""})}var Axe=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,s=-1,a=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(a<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,c=0;c<a;c++){var u=c>0?i[c-1].coordinate:i[a-1].coordinate,g=i[c].coordinate,_=c>=a-1?i[0].coordinate:i[c+1].coordinate,b=void 0;if(vc(g-u)!==vc(_-g)){var P=[];if(vc(_-g)===vc(l[1]-l[0])){b=_;var E=g+l[1]-l[0];P[0]=Math.min(E,(E+u)/2),P[1]=Math.max(E,(E+u)/2)}else{b=u;var T=_+l[1]-l[0];P[0]=Math.min(g,(T+g)/2),P[1]=Math.max(g,(T+g)/2)}var O=[Math.min(g,(b+g)/2),Math.max(g,(b+g)/2)];if(e>O[0]&&e<=O[1]||e>=P[0]&&e<=P[1]){s=i[c].index;break}}else{var L=Math.min(u,_),N=Math.max(u,_);if(e>(L+g)/2&&e<=(N+g)/2){s=i[c].index;break}}}else for(var D=0;D<a;D++)if(D===0&&e<=(n[D].coordinate+n[D+1].coordinate)/2||D>0&&D<a-1&&e>(n[D].coordinate+n[D-1].coordinate)/2&&e<=(n[D].coordinate+n[D+1].coordinate)/2||D===a-1&&e>(n[D].coordinate+n[D-1].coordinate)/2){s=n[D].index;break}return s},ck=function(e){var r,n=e,i=n.type.displayName,o=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Mi(Mi({},e.type.defaultProps),e.props):e.props,s=o.stroke,a=o.fill,l;switch(i){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:a;break;default:l=a;break}return l},pxe=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var s={},a=Object.keys(o),l=0,c=a.length;l<c;l++)for(var u=o[a[l]].stackGroups,g=Object.keys(u),_=0,b=g.length;_<b;_++){var P=u[g[_]],E=P.items,T=P.cateAxisId,O=E.filter(function(X){return ef(X.type).indexOf("Bar")>=0});if(O&&O.length){var L=O[0].type.defaultProps,N=L!==void 0?Mi(Mi({},L),O[0].props):O[0].props,D=N.barSize,B=N[T];s[B]||(s[B]=[]);var z=un(D)?r:D;s[B].push({item:O[0],stackList:O.slice(1),barSize:un(z)?void 0:kd(z,n,0)})}}return s},gxe=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,o=e.sizeList,s=o===void 0?[]:o,a=e.maxBarSize,l=s.length;if(l<1)return null;var c=kd(r,i,0,!0),u,g=[];if(s[0].barSize===+s[0].barSize){var _=!1,b=i/l,P=s.reduce(function(D,B){return D+B.barSize||0},0);P+=(l-1)*c,P>=i&&(P-=(l-1)*c,c=0),P>=i&&b>0&&(_=!0,b*=.9,P=l*b);var E=(i-P)/2>>0,T={offset:E-c,size:0};u=s.reduce(function(D,B){var z={item:B.item,position:{offset:T.offset+T.size+c,size:_?b:B.barSize}},X=[].concat(jD(D),[z]);return T=X[X.length-1].position,B.stackList&&B.stackList.length&&B.stackList.forEach(function(Z){X.push({item:Z,position:T})}),X},g)}else{var O=kd(n,i,0,!0);i-2*O-(l-1)*c<=0&&(c=0);var L=(i-2*O-(l-1)*c)/l;L>1&&(L>>=0);var N=a===+a?Math.min(L,a):L;u=s.reduce(function(D,B,z){var X=[].concat(jD(D),[{item:B.item,position:{offset:O+(L+c)*z+(L-N)/2,size:N}}]);return B.stackList&&B.stackList.length&&B.stackList.forEach(function(Z){X.push({item:Z,position:X[X.length-1].position})}),X},g)}return u},mxe=function(e,r,n,i){var o=n.children,s=n.width,a=n.margin,l=s-(a.left||0)-(a.right||0),c=sH({children:o,legendWidth:l});if(c){var u=i||{},g=u.width,_=u.height,b=c.align,P=c.verticalAlign,E=c.layout;if((E==="vertical"||E==="horizontal"&&P==="middle")&&b!=="center"&&Dt(e[b]))return Mi(Mi({},e),{},JA({},b,e[b]+(g||0)));if((E==="horizontal"||E==="vertical"&&b==="center")&&P!=="middle"&&Dt(e[P]))return Mi(Mi({},e),{},JA({},P,e[P]+(_||0)))}return e},vxe=function(e,r,n){return un(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},aH=function(e,r,n,i,o){var s=r.props.children,a=bc(s,Nb).filter(function(c){return vxe(i,o,c.props.direction)});if(a&&a.length){var l=a.map(function(c){return c.props.dataKey});return e.reduce(function(c,u){var g=Xa(u,n);if(un(g))return c;var _=Array.isArray(g)?[Ob(g),nh(g)]:[g,g],b=l.reduce(function(P,E){var T=Xa(u,E,0),O=_[0]-Math.abs(Array.isArray(T)?T[0]:T),L=_[1]+Math.abs(Array.isArray(T)?T[1]:T);return[Math.min(O,P[0]),Math.max(L,P[1])]},[1/0,-1/0]);return[Math.min(b[0],c[0]),Math.max(b[1],c[1])]},[1/0,-1/0])}return null},yxe=function(e,r,n,i,o){var s=r.map(function(a){return aH(e,a,n,o,i)}).filter(function(a){return!un(a)});return s&&s.length?s.reduce(function(a,l){return[Math.min(a[0],l[0]),Math.max(a[1],l[1])]},[1/0,-1/0]):null},lH=function(e,r,n,i,o){var s=r.map(function(l){var c=l.props.dataKey;return n==="number"&&c&&aH(e,l,c,i)||vg(e,c,n,o)});if(n==="number")return s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var a={};return s.reduce(function(l,c){for(var u=0,g=c.length;u<g;u++)a[c[u]]||(a[c[u]]=!0,l.push(c[u]));return l},[])},cH=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},uH=function(e,r,n,i){if(i)return e.map(function(l){return l.coordinate});var o,s,a=e.map(function(l){return l.coordinate===r&&(o=!0),l.coordinate===n&&(s=!0),l.coordinate});return o||a.push(r),s||a.push(n),a},Qu=function(e,r,n){if(!e)return null;var i=e.scale,o=e.duplicateDomain,s=e.type,a=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(r||n)&&s==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(a==null?void 0:a.length)>=2?vc(a[0]-a[1])*2*c:c,r&&(e.ticks||e.niceTicks)){var u=(e.ticks||e.niceTicks).map(function(g){var _=o?o.indexOf(g):g;return{coordinate:i(_)+c,value:g,offset:c}});return u.filter(function(g){return!np(g.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(g,_){return{coordinate:i(g)+c,value:g,index:_,offset:c}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(g){return{coordinate:i(g)+c,value:g,offset:c}}):i.domain().map(function(g,_){return{coordinate:i(g)+c,value:o?o[g]:g,index:_,offset:c}})},nS=new WeakMap,n1=function(e,r){if(typeof r!="function")return e;nS.has(e)||nS.set(e,new WeakMap);var n=nS.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},bxe=function(e,r,n){var i=e.scale,o=e.type,s=e.layout,a=e.axisType;if(i==="auto")return s==="radial"&&a==="radiusAxis"?{scale:Vg(),realScaleType:"band"}:s==="radial"&&a==="angleAxis"?{scale:zy(),realScaleType:"linear"}:o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:mg(),realScaleType:"point"}:o==="category"?{scale:Vg(),realScaleType:"band"}:{scale:zy(),realScaleType:"linear"};if(Bm(i)){var l="scale".concat(mb(i));return{scale:(ED[l]||mg)(),realScaleType:ED[l]?l:"point"}}return Gr(i)?{scale:i}:{scale:mg(),realScaleType:"point"}},$D=1e-4,_xe=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),o=Math.min(i[0],i[1])-$D,s=Math.max(i[0],i[1])+$D,a=e(r[0]),l=e(r[n-1]);(a<o||a>s||l<o||l>s)&&e.domain([r[0],r[n-1]])}},wxe=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},xxe=function(e,r){if(!r||r.length!==2||!Dt(r[0])||!Dt(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),o=[e[0],e[1]];return(!Dt(e[0])||e[0]<n)&&(o[0]=n),(!Dt(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<n&&(o[1]=n),o},Sxe=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var o=0,s=0,a=0;a<r;++a){var l=np(e[a][n][1])?e[a][n][0]:e[a][n][1];l>=0?(e[a][n][0]=o,e[a][n][1]=o+l,o=e[a][n][1]):(e[a][n][0]=s,e[a][n][1]=s+l,s=e[a][n][1])}},Exe=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var o=0,s=0;s<r;++s){var a=np(e[s][n][1])?e[s][n][0]:e[s][n][1];a>=0?(e[s][n][0]=o,e[s][n][1]=o+a,o=e[s][n][1]):(e[s][n][0]=0,e[s][n][1]=0)}},Txe={sign:Sxe,expand:lve,none:_0,silhouette:cve,wiggle:uve,positive:Exe},Pxe=function(e,r,n){var i=r.map(function(a){return a.props.dataKey}),o=Txe[n],s=ave().keys(i).value(function(a,l){return+Xa(a,l,0)}).order(PE).offset(o);return s(e)},Cxe=function(e,r,n,i,o,s){if(!e)return null;var a=s?r.reverse():r,l={},c=a.reduce(function(g,_){var b,P=(b=_.type)!==null&&b!==void 0&&b.defaultProps?Mi(Mi({},_.type.defaultProps),_.props):_.props,E=P.stackId,T=P.hide;if(T)return g;var O=P[n],L=g[O]||{hasStack:!1,stackGroups:{}};if(vo(E)){var N=L.stackGroups[E]||{numericAxisId:n,cateAxisId:i,items:[]};N.items.push(_),L.hasStack=!0,L.stackGroups[E]=N}else L.stackGroups[Fm("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[_]};return Mi(Mi({},g),{},JA({},O,L))},l),u={};return Object.keys(c).reduce(function(g,_){var b=c[_];if(b.hasStack){var P={};b.stackGroups=Object.keys(b.stackGroups).reduce(function(E,T){var O=b.stackGroups[T];return Mi(Mi({},E),{},JA({},T,{numericAxisId:n,cateAxisId:i,items:O.items,stackedData:Pxe(e,O.items,o)}))},P)}return Mi(Mi({},g),{},JA({},_,b))},u)},kxe=function(e,r){var n=r.realScaleType,i=r.type,o=r.tickCount,s=r.originalDomain,a=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var c=e.domain();if(!c.length)return null;var u=Uwe(c,o,a);return e.domain([Ob(u),nh(u)]),{niceTicks:u}}if(o&&i==="number"){var g=e.domain(),_=$we(g,o,a);return{niceTicks:_}}return null};function zD(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,o=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!un(i[e.dataKey])){var a=wy(r,"value",i[e.dataKey]);if(a)return a.coordinate+n/2}return r[o]?r[o].coordinate+n/2:null}var l=Xa(i,un(s)?e.dataKey:s);return un(l)?null:e.scale(l)}var WD=function(e){var r=e.axis,n=e.ticks,i=e.offset,o=e.bandSize,s=e.entry,a=e.index;if(r.type==="category")return n[a]?n[a].coordinate+i:null;var l=Xa(s,r.dataKey,r.domain[a]);return un(l)?null:r.scale(l)-o/2+i},Oxe=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),o=Math.max(n[0],n[1]);return i<=0&&o>=0?0:o<0?o:i}return n[0]},Rxe=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Mi(Mi({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(vo(o)){var s=r[o];if(s){var a=s.items.indexOf(e);return a>=0?s.stackedData[a]:null}}return null},Ixe=function(e){return e.reduce(function(r,n){return[Ob(n.concat([r[0]]).filter(Dt)),nh(n.concat([r[1]]).filter(Dt))]},[1/0,-1/0])},fH=function(e,r,n){return Object.keys(e).reduce(function(i,o){var s=e[o],a=s.stackedData,l=a.reduce(function(c,u){var g=Ixe(u.slice(r,n+1));return[Math.min(c[0],g[0]),Math.max(c[1],g[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},VD=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,HD=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ZE=function(e,r,n){if(Gr(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(Dt(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(VD.test(e[0])){var o=+VD.exec(e[0])[1];i[0]=r[0]-o}else Gr(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(Dt(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(HD.test(e[1])){var s=+HD.exec(e[1])[1];i[1]=r[1]+s}else Gr(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},Ky=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var o=BC(r,function(g){return g.coordinate}),s=1/0,a=1,l=o.length;a<l;a++){var c=o[a],u=o[a-1];s=Math.min((c.coordinate||0)-(u.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},qD=function(e,r,n){return!e||!e.length||Kg(e,Cl(n,"type.defaultProps.domain"))?r:e},hH=function(e,r){var n=e.type.defaultProps?Mi(Mi({},e.type.defaultProps),e.props):e.props,i=n.dataKey,o=n.name,s=n.unit,a=n.formatter,l=n.tooltipType,c=n.chartType,u=n.hide;return Mi(Mi({},an(e,!1)),{},{dataKey:i,unit:s,formatter:a,name:o||i,color:ck(e),value:Xa(r,i),type:l,payload:r,chartType:c,hide:u})};function em(t){"@babel/helpers - typeof";return em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},em(t)}function XD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function YD(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XD(Object(r),!0).forEach(function(n){Nxe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Nxe(t,e,r){return e=Mxe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Mxe(t){var e=Lxe(t,"string");return em(e)=="symbol"?e:e+""}function Lxe(t,e){if(em(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(em(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gy=Math.PI/180,Dxe=function(e){return e*180/Math.PI},rs=function(e,r,n,i){return{x:e+Math.cos(-Gy*i)*n,y:r+Math.sin(-Gy*i)*n}},Bxe=function(e,r){var n=e.x,i=e.y,o=r.x,s=r.y;return Math.sqrt(Math.pow(n-o,2)+Math.pow(i-s,2))},Fxe=function(e,r){var n=e.x,i=e.y,o=r.cx,s=r.cy,a=Bxe({x:n,y:i},{x:o,y:s});if(a<=0)return{radius:a};var l=(n-o)/a,c=Math.acos(l);return i>s&&(c=2*Math.PI-c),{radius:a,angle:Dxe(c),angleInRadian:c}},jxe=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),o=Math.floor(n/360),s=Math.min(i,o);return{startAngle:r-s*360,endAngle:n-s*360}},Uxe=function(e,r){var n=r.startAngle,i=r.endAngle,o=Math.floor(n/360),s=Math.floor(i/360),a=Math.min(o,s);return e+a*360},KD=function(e,r){var n=e.x,i=e.y,o=Fxe({x:n,y:i},r),s=o.radius,a=o.angle,l=r.innerRadius,c=r.outerRadius;if(s<l||s>c)return!1;if(s===0)return!0;var u=jxe(r),g=u.startAngle,_=u.endAngle,b=a,P;if(g<=_){for(;b>_;)b-=360;for(;b<g;)b+=360;P=b>=g&&b<=_}else{for(;b>g;)b-=360;for(;b<_;)b+=360;P=b>=_&&b<=g}return P?YD(YD({},r),{},{radius:s,angle:Uxe(b,r)}):null};function tm(t){"@babel/helpers - typeof";return tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tm(t)}var $xe=["offset"];function zxe(t){return qxe(t)||Hxe(t)||Vxe(t)||Wxe()}function Wxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vxe(t,e){if(t){if(typeof t=="string")return JE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return JE(t,e)}}function Hxe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qxe(t){if(Array.isArray(t))return JE(t)}function JE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Xxe(t,e){if(t==null)return{};var r=Yxe(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Yxe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function GD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ao(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GD(Object(r),!0).forEach(function(n){Kxe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Kxe(t,e,r){return e=Gxe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gxe(t){var e=Qxe(t,"string");return tm(e)=="symbol"?e:e+""}function Qxe(t,e){if(tm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(tm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rm(){return rm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rm.apply(this,arguments)}var Zxe=function(e){var r=e.value,n=e.formatter,i=un(e.children)?r:e.children;return Gr(n)?n(i):i},Jxe=function(e,r){var n=vc(r-e),i=Math.min(Math.abs(r-e),360);return n*i},e3e=function(e,r,n){var i=e.position,o=e.viewBox,s=e.offset,a=e.className,l=o,c=l.cx,u=l.cy,g=l.innerRadius,_=l.outerRadius,b=l.startAngle,P=l.endAngle,E=l.clockWise,T=(g+_)/2,O=Jxe(b,P),L=O>=0?1:-1,N,D;i==="insideStart"?(N=b+L*s,D=E):i==="insideEnd"?(N=P-L*s,D=!E):i==="end"&&(N=P+L*s,D=E),D=O<=0?D:!D;var B=rs(c,u,T,N),z=rs(c,u,T,N+(D?1:-1)*359),X="M".concat(B.x,",").concat(B.y,`
    A`).concat(T,",").concat(T,",0,1,").concat(D?0:1,`,
    `).concat(z.x,",").concat(z.y),Z=un(e.id)?Fm("recharts-radial-line-"):e.id;return Ke.createElement("text",rm({},n,{dominantBaseline:"central",className:fn("recharts-radial-bar-label",a)}),Ke.createElement("defs",null,Ke.createElement("path",{id:Z,d:X})),Ke.createElement("textPath",{xlinkHref:"#".concat(Z)},r))},t3e=function(e){var r=e.viewBox,n=e.offset,i=e.position,o=r,s=o.cx,a=o.cy,l=o.innerRadius,c=o.outerRadius,u=o.startAngle,g=o.endAngle,_=(u+g)/2;if(i==="outside"){var b=rs(s,a,c+n,_),P=b.x,E=b.y;return{x:P,y:E,textAnchor:P>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:a,textAnchor:"middle",verticalAnchor:"end"};var T=(l+c)/2,O=rs(s,a,T,_),L=O.x,N=O.y;return{x:L,y:N,textAnchor:"middle",verticalAnchor:"middle"}},r3e=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,o=e.position,s=r,a=s.x,l=s.y,c=s.width,u=s.height,g=u>=0?1:-1,_=g*i,b=g>0?"end":"start",P=g>0?"start":"end",E=c>=0?1:-1,T=E*i,O=E>0?"end":"start",L=E>0?"start":"end";if(o==="top"){var N={x:a+c/2,y:l-g*i,textAnchor:"middle",verticalAnchor:b};return Ao(Ao({},N),n?{height:Math.max(l-n.y,0),width:c}:{})}if(o==="bottom"){var D={x:a+c/2,y:l+u+_,textAnchor:"middle",verticalAnchor:P};return Ao(Ao({},D),n?{height:Math.max(n.y+n.height-(l+u),0),width:c}:{})}if(o==="left"){var B={x:a-T,y:l+u/2,textAnchor:O,verticalAnchor:"middle"};return Ao(Ao({},B),n?{width:Math.max(B.x-n.x,0),height:u}:{})}if(o==="right"){var z={x:a+c+T,y:l+u/2,textAnchor:L,verticalAnchor:"middle"};return Ao(Ao({},z),n?{width:Math.max(n.x+n.width-z.x,0),height:u}:{})}var X=n?{width:c,height:u}:{};return o==="insideLeft"?Ao({x:a+T,y:l+u/2,textAnchor:L,verticalAnchor:"middle"},X):o==="insideRight"?Ao({x:a+c-T,y:l+u/2,textAnchor:O,verticalAnchor:"middle"},X):o==="insideTop"?Ao({x:a+c/2,y:l+_,textAnchor:"middle",verticalAnchor:P},X):o==="insideBottom"?Ao({x:a+c/2,y:l+u-_,textAnchor:"middle",verticalAnchor:b},X):o==="insideTopLeft"?Ao({x:a+T,y:l+_,textAnchor:L,verticalAnchor:P},X):o==="insideTopRight"?Ao({x:a+c-T,y:l+_,textAnchor:O,verticalAnchor:P},X):o==="insideBottomLeft"?Ao({x:a+T,y:l+u-_,textAnchor:L,verticalAnchor:b},X):o==="insideBottomRight"?Ao({x:a+c-T,y:l+u-_,textAnchor:O,verticalAnchor:b},X):rp(o)&&(Dt(o.x)||rd(o.x))&&(Dt(o.y)||rd(o.y))?Ao({x:a+kd(o.x,c),y:l+kd(o.y,u),textAnchor:"end",verticalAnchor:"end"},X):Ao({x:a+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},X)},n3e=function(e){return"cx"in e&&Dt(e.cx)};function Cs(t){var e=t.offset,r=e===void 0?5:e,n=Xxe(t,$xe),i=Ao({offset:r},n),o=i.viewBox,s=i.position,a=i.value,l=i.children,c=i.content,u=i.className,g=u===void 0?"":u,_=i.textBreakAll;if(!o||un(a)&&un(l)&&!Q.isValidElement(c)&&!Gr(c))return null;if(Q.isValidElement(c))return Q.cloneElement(c,i);var b;if(Gr(c)){if(b=Q.createElement(c,i),Q.isValidElement(b))return b}else b=Zxe(i);var P=n3e(o),E=an(i,!0);if(P&&(s==="insideStart"||s==="insideEnd"||s==="end"))return e3e(i,b,E);var T=P?t3e(i):r3e(i);return Ke.createElement(Ly,rm({className:fn("recharts-label",g)},E,T,{breakAll:_}),b)}Cs.displayName="Label";var dH=function(e){var r=e.cx,n=e.cy,i=e.angle,o=e.startAngle,s=e.endAngle,a=e.r,l=e.radius,c=e.innerRadius,u=e.outerRadius,g=e.x,_=e.y,b=e.top,P=e.left,E=e.width,T=e.height,O=e.clockWise,L=e.labelViewBox;if(L)return L;if(Dt(E)&&Dt(T)){if(Dt(g)&&Dt(_))return{x:g,y:_,width:E,height:T};if(Dt(b)&&Dt(P))return{x:b,y:P,width:E,height:T}}return Dt(g)&&Dt(_)?{x:g,y:_,width:0,height:0}:Dt(r)&&Dt(n)?{cx:r,cy:n,startAngle:o||i||0,endAngle:s||i||0,innerRadius:c||0,outerRadius:u||l||a||0,clockWise:O}:e.viewBox?e.viewBox:{}},i3e=function(e,r){return e?e===!0?Ke.createElement(Cs,{key:"label-implicit",viewBox:r}):vo(e)?Ke.createElement(Cs,{key:"label-implicit",viewBox:r,value:e}):Q.isValidElement(e)?e.type===Cs?Q.cloneElement(e,{key:"label-implicit",viewBox:r}):Ke.createElement(Cs,{key:"label-implicit",content:e,viewBox:r}):Gr(e)?Ke.createElement(Cs,{key:"label-implicit",content:e,viewBox:r}):rp(e)?Ke.createElement(Cs,rm({viewBox:r},e,{key:"label-implicit"})):null:null},o3e=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,o=dH(e),s=bc(i,Cs).map(function(l,c){return Q.cloneElement(l,{viewBox:r||o,key:"label-".concat(c)})});if(!n)return s;var a=i3e(e.label,r||o);return[a].concat(zxe(s))};Cs.parseViewBox=dH;Cs.renderCallByParent=o3e;var iS,QD;function s3e(){if(QD)return iS;QD=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return iS=t,iS}var a3e=s3e();const l3e=Ln(a3e);function nm(t){"@babel/helpers - typeof";return nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nm(t)}var c3e=["valueAccessor"],u3e=["data","dataKey","clockWise","id","textBreakAll"];function f3e(t){return p3e(t)||A3e(t)||d3e(t)||h3e()}function h3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d3e(t,e){if(t){if(typeof t=="string")return eT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eT(t,e)}}function A3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function p3e(t){if(Array.isArray(t))return eT(t)}function eT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Qy(){return Qy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Qy.apply(this,arguments)}function ZD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function JD(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZD(Object(r),!0).forEach(function(n){g3e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function g3e(t,e,r){return e=m3e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function m3e(t){var e=v3e(t,"string");return nm(e)=="symbol"?e:e+""}function v3e(t,e){if(nm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function e7(t,e){if(t==null)return{};var r=y3e(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function y3e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var b3e=function(e){return Array.isArray(e.value)?l3e(e.value):e.value};function ch(t){var e=t.valueAccessor,r=e===void 0?b3e:e,n=e7(t,c3e),i=n.data,o=n.dataKey,s=n.clockWise,a=n.id,l=n.textBreakAll,c=e7(n,u3e);return!i||!i.length?null:Ke.createElement(Ei,{className:"recharts-label-list"},i.map(function(u,g){var _=un(o)?r(u,g):Xa(u&&u.payload,o),b=un(a)?{}:{id:"".concat(a,"-").concat(g)};return Ke.createElement(Cs,Qy({},an(u,!0),c,b,{parentViewBox:u.parentViewBox,value:_,textBreakAll:l,viewBox:Cs.parseViewBox(un(s)?u:JD(JD({},u),{},{clockWise:s})),key:"label-".concat(g),index:g}))}))}ch.displayName="LabelList";function _3e(t,e){return t?t===!0?Ke.createElement(ch,{key:"labelList-implicit",data:e}):Ke.isValidElement(t)||Gr(t)?Ke.createElement(ch,{key:"labelList-implicit",data:e,content:t}):rp(t)?Ke.createElement(ch,Qy({data:e},t,{key:"labelList-implicit"})):null:null}function w3e(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=bc(n,ch).map(function(s,a){return Q.cloneElement(s,{data:e,key:"labelList-".concat(a)})});if(!r)return i;var o=_3e(t.label,e);return[o].concat(f3e(i))}ch.renderCallByParent=w3e;function im(t){"@babel/helpers - typeof";return im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},im(t)}function tT(){return tT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tT.apply(this,arguments)}function t7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function r7(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?t7(Object(r),!0).forEach(function(n){x3e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):t7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function x3e(t,e,r){return e=S3e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function S3e(t){var e=E3e(t,"string");return im(e)=="symbol"?e:e+""}function E3e(t,e){if(im(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(im(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var T3e=function(e,r){var n=vc(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},i1=function(e){var r=e.cx,n=e.cy,i=e.radius,o=e.angle,s=e.sign,a=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,u=l*(a?1:-1)+i,g=Math.asin(l/u)/Gy,_=c?o:o+s*g,b=rs(r,n,u,_),P=rs(r,n,i,_),E=c?o-s*g:o,T=rs(r,n,u*Math.cos(g*Gy),E);return{center:b,circleTangency:P,lineTangency:T,theta:g}},AH=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.startAngle,a=e.endAngle,l=T3e(s,a),c=s+l,u=rs(r,n,o,s),g=rs(r,n,o,c),_="M ".concat(u.x,",").concat(u.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>c),`,
    `).concat(g.x,",").concat(g.y,`
  `);if(i>0){var b=rs(r,n,i,s),P=rs(r,n,i,c);_+="L ".concat(P.x,",").concat(P.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=c),`,
            `).concat(b.x,",").concat(b.y," Z")}else _+="L ".concat(r,",").concat(n," Z");return _},P3e=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.cornerRadius,a=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,u=e.endAngle,g=vc(u-c),_=i1({cx:r,cy:n,radius:o,angle:c,sign:g,cornerRadius:s,cornerIsExternal:l}),b=_.circleTangency,P=_.lineTangency,E=_.theta,T=i1({cx:r,cy:n,radius:o,angle:u,sign:-g,cornerRadius:s,cornerIsExternal:l}),O=T.circleTangency,L=T.lineTangency,N=T.theta,D=l?Math.abs(c-u):Math.abs(c-u)-E-N;if(D<0)return a?"M ".concat(P.x,",").concat(P.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):AH({cx:r,cy:n,innerRadius:i,outerRadius:o,startAngle:c,endAngle:u});var B="M ".concat(P.x,",").concat(P.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(g<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(D>180),",").concat(+(g<0),",").concat(O.x,",").concat(O.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(g<0),",").concat(L.x,",").concat(L.y,`
  `);if(i>0){var z=i1({cx:r,cy:n,radius:i,angle:c,sign:g,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),X=z.circleTangency,Z=z.lineTangency,G=z.theta,de=i1({cx:r,cy:n,radius:i,angle:u,sign:-g,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),H=de.circleTangency,ee=de.lineTangency,ae=de.theta,le=l?Math.abs(c-u):Math.abs(c-u)-G-ae;if(le<0&&s===0)return"".concat(B,"L").concat(r,",").concat(n,"Z");B+="L".concat(ee.x,",").concat(ee.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(g<0),",").concat(H.x,",").concat(H.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(le>180),",").concat(+(g>0),",").concat(X.x,",").concat(X.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(g<0),",").concat(Z.x,",").concat(Z.y,"Z")}else B+="L".concat(r,",").concat(n,"Z");return B},C3e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},pH=function(e){var r=r7(r7({},C3e),e),n=r.cx,i=r.cy,o=r.innerRadius,s=r.outerRadius,a=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,u=r.startAngle,g=r.endAngle,_=r.className;if(s<o||u===g)return null;var b=fn("recharts-sector",_),P=s-o,E=kd(a,P,0,!0),T;return E>0&&Math.abs(u-g)<360?T=P3e({cx:n,cy:i,innerRadius:o,outerRadius:s,cornerRadius:Math.min(E,P/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:g}):T=AH({cx:n,cy:i,innerRadius:o,outerRadius:s,startAngle:u,endAngle:g}),Ke.createElement("path",tT({},an(r,!0),{className:b,d:T,role:"img"}))};function om(t){"@babel/helpers - typeof";return om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},om(t)}function rT(){return rT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rT.apply(this,arguments)}function n7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function i7(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?n7(Object(r),!0).forEach(function(n){k3e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function k3e(t,e,r){return e=O3e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function O3e(t){var e=R3e(t,"string");return om(e)=="symbol"?e:e+""}function R3e(t,e){if(om(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(om(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var o7={curveBasisClosed:Gme,curveBasisOpen:Qme,curveBasis:Kme,curveBumpX:Lme,curveBumpY:Dme,curveLinearClosed:Zme,curveLinear:yb,curveMonotoneX:Jme,curveMonotoneY:eve,curveNatural:tve,curveStep:rve,curveStepAfter:ive,curveStepBefore:nve},o1=function(e){return e.x===+e.x&&e.y===+e.y},Up=function(e){return e.x},$p=function(e){return e.y},I3e=function(e,r){if(Gr(e))return e;var n="curve".concat(mb(e));return(n==="curveMonotone"||n==="curveBump")&&r?o7["".concat(n).concat(r==="vertical"?"Y":"X")]:o7[n]||yb},N3e=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,o=i===void 0?[]:i,s=e.baseLine,a=e.layout,l=e.connectNulls,c=l===void 0?!1:l,u=I3e(n,a),g=c?o.filter(function(E){return o1(E)}):o,_;if(Array.isArray(s)){var b=c?s.filter(function(E){return o1(E)}):s,P=g.map(function(E,T){return i7(i7({},E),{},{base:b[T]})});return a==="vertical"?_=Gv().y($p).x1(Up).x0(function(E){return E.base.x}):_=Gv().x(Up).y1($p).y0(function(E){return E.base.y}),_.defined(o1).curve(u),_(P)}return a==="vertical"&&Dt(s)?_=Gv().y($p).x1(Up).x0(s):Dt(s)?_=Gv().x(Up).y1($p).y0(s):_=yW().x(Up).y($p),_.defined(o1).curve(u),_(g)},yg=function(e){var r=e.className,n=e.points,i=e.path,o=e.pathRef;if((!n||!n.length)&&!i)return null;var s=n&&n.length?N3e(e):i;return Ke.createElement("path",rT({},an(e,!1),xy(e),{className:fn("recharts-curve",r),d:s,ref:o}))},oS={exports:{}},sS,s7;function M3e(){if(s7)return sS;s7=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return sS=t,sS}var aS,a7;function L3e(){if(a7)return aS;a7=1;var t=M3e();function e(){}function r(){}return r.resetWarningCache=e,aS=function(){function n(s,a,l,c,u,g){if(g!==t){var _=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw _.name="Invariant Violation",_}}n.isRequired=n;function i(){return n}var o={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:e};return o.PropTypes=o,o},aS}var l7;function D3e(){return l7||(l7=1,oS.exports=L3e()()),oS.exports}var B3e=D3e();const On=Ln(B3e),{getOwnPropertyNames:F3e,getOwnPropertySymbols:j3e}=Object,{hasOwnProperty:U3e}=Object.prototype;function lS(t,e){return function(n,i,o){return t(n,i,o)&&e(n,i,o)}}function s1(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);const{cache:o}=i,s=o.get(r),a=o.get(n);if(s&&a)return s===n&&a===r;o.set(r,n),o.set(n,r);const l=t(r,n,i);return o.delete(r),o.delete(n),l}}function $3e(t){return t!=null?t[Symbol.toStringTag]:void 0}function c7(t){return F3e(t).concat(j3e(t))}const z3e=Object.hasOwn||((t,e)=>U3e.call(t,e));function Wd(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const W3e="__v",V3e="__o",H3e="_owner",{getOwnPropertyDescriptor:u7,keys:f7}=Object;function q3e(t,e){return t.byteLength===e.byteLength&&Zy(new Uint8Array(t),new Uint8Array(e))}function X3e(t,e,r){let n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function Y3e(t,e){return t.byteLength===e.byteLength&&Zy(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function K3e(t,e){return Wd(t.getTime(),e.getTime())}function G3e(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Q3e(t,e){return t===e}function h7(t,e,r){const n=t.size;if(n!==e.size)return!1;if(!n)return!0;const i=new Array(n),o=t.entries();let s,a,l=0;for(;(s=o.next())&&!s.done;){const c=e.entries();let u=!1,g=0;for(;(a=c.next())&&!a.done;){if(i[g]){g++;continue}const _=s.value,b=a.value;if(r.equals(_[0],b[0],l,g,t,e,r)&&r.equals(_[1],b[1],_[0],b[0],t,e,r)){u=i[g]=!0;break}g++}if(!u)return!1;l++}return!0}const Z3e=Wd;function J3e(t,e,r){const n=f7(t);let i=n.length;if(f7(e).length!==i)return!1;for(;i-- >0;)if(!gH(t,e,r,n[i]))return!1;return!0}function zp(t,e,r){const n=c7(t);let i=n.length;if(c7(e).length!==i)return!1;let o,s,a;for(;i-- >0;)if(o=n[i],!gH(t,e,r,o)||(s=u7(t,o),a=u7(e,o),(s||a)&&(!s||!a||s.configurable!==a.configurable||s.enumerable!==a.enumerable||s.writable!==a.writable)))return!1;return!0}function e5e(t,e){return Wd(t.valueOf(),e.valueOf())}function t5e(t,e){return t.source===e.source&&t.flags===e.flags}function d7(t,e,r){const n=t.size;if(n!==e.size)return!1;if(!n)return!0;const i=new Array(n),o=t.values();let s,a;for(;(s=o.next())&&!s.done;){const l=e.values();let c=!1,u=0;for(;(a=l.next())&&!a.done;){if(!i[u]&&r.equals(s.value,a.value,s.value,a.value,t,e,r)){c=i[u]=!0;break}u++}if(!c)return!1}return!0}function Zy(t,e){let r=t.byteLength;if(e.byteLength!==r||t.byteOffset!==e.byteOffset)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function r5e(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function gH(t,e,r,n){return(n===H3e||n===V3e||n===W3e)&&(t.$$typeof||e.$$typeof)?!0:z3e(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}const n5e="[object ArrayBuffer]",i5e="[object Arguments]",o5e="[object Boolean]",s5e="[object DataView]",a5e="[object Date]",l5e="[object Error]",c5e="[object Map]",u5e="[object Number]",f5e="[object Object]",h5e="[object RegExp]",d5e="[object Set]",A5e="[object String]",p5e={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},g5e="[object URL]",m5e=Object.prototype.toString;function v5e({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:i,areFunctionsEqual:o,areMapsEqual:s,areNumbersEqual:a,areObjectsEqual:l,arePrimitiveWrappersEqual:c,areRegExpsEqual:u,areSetsEqual:g,areTypedArraysEqual:_,areUrlsEqual:b,unknownTagComparators:P}){return function(T,O,L){if(T===O)return!0;if(T==null||O==null)return!1;const N=typeof T;if(N!==typeof O)return!1;if(N!=="object")return N==="number"?a(T,O,L):N==="function"?o(T,O,L):!1;const D=T.constructor;if(D!==O.constructor)return!1;if(D===Object)return l(T,O,L);if(Array.isArray(T))return e(T,O,L);if(D===Date)return n(T,O,L);if(D===RegExp)return u(T,O,L);if(D===Map)return s(T,O,L);if(D===Set)return g(T,O,L);const B=m5e.call(T);if(B===a5e)return n(T,O,L);if(B===h5e)return u(T,O,L);if(B===c5e)return s(T,O,L);if(B===d5e)return g(T,O,L);if(B===f5e)return typeof T.then!="function"&&typeof O.then!="function"&&l(T,O,L);if(B===g5e)return b(T,O,L);if(B===l5e)return i(T,O,L);if(B===i5e)return l(T,O,L);if(p5e[B])return _(T,O,L);if(B===n5e)return t(T,O,L);if(B===s5e)return r(T,O,L);if(B===o5e||B===u5e||B===A5e)return c(T,O,L);if(P){let z=P[B];if(!z){const X=$3e(T);X&&(z=P[X])}if(z)return z(T,O,L)}return!1}}function y5e({circular:t,createCustomConfig:e,strict:r}){let n={areArrayBuffersEqual:q3e,areArraysEqual:r?zp:X3e,areDataViewsEqual:Y3e,areDatesEqual:K3e,areErrorsEqual:G3e,areFunctionsEqual:Q3e,areMapsEqual:r?lS(h7,zp):h7,areNumbersEqual:Z3e,areObjectsEqual:r?zp:J3e,arePrimitiveWrappersEqual:e5e,areRegExpsEqual:t5e,areSetsEqual:r?lS(d7,zp):d7,areTypedArraysEqual:r?lS(Zy,zp):Zy,areUrlsEqual:r5e,unknownTagComparators:void 0};if(e&&(n=Object.assign({},n,e(n))),t){const i=s1(n.areArraysEqual),o=s1(n.areMapsEqual),s=s1(n.areObjectsEqual),a=s1(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:a})}return n}function b5e(t){return function(e,r,n,i,o,s,a){return t(e,r,a)}}function _5e({circular:t,comparator:e,createState:r,equals:n,strict:i}){if(r)return function(a,l){const{cache:c=t?new WeakMap:void 0,meta:u}=r();return e(a,l,{cache:c,equals:n,meta:u,strict:i})};if(t)return function(a,l){return e(a,l,{cache:new WeakMap,equals:n,meta:void 0,strict:i})};const o={cache:void 0,equals:n,meta:void 0,strict:i};return function(a,l){return e(a,l,o)}}const w5e=xh();xh({strict:!0});xh({circular:!0});xh({circular:!0,strict:!0});xh({createInternalComparator:()=>Wd});xh({strict:!0,createInternalComparator:()=>Wd});xh({circular:!0,createInternalComparator:()=>Wd});xh({circular:!0,createInternalComparator:()=>Wd,strict:!0});function xh(t={}){const{circular:e=!1,createInternalComparator:r,createState:n,strict:i=!1}=t,o=y5e(t),s=v5e(o),a=r?r(s):b5e(s);return _5e({circular:e,comparator:s,createState:n,equals:a,strict:i})}function x5e(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function A7(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(o){r<0&&(r=o),o-r>e?(t(o),r=-1):x5e(i)};requestAnimationFrame(n)}function nT(t){"@babel/helpers - typeof";return nT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nT(t)}function S5e(t){return C5e(t)||P5e(t)||T5e(t)||E5e()}function E5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T5e(t,e){if(t){if(typeof t=="string")return p7(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p7(t,e)}}function p7(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function P5e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function C5e(t){if(Array.isArray(t))return t}function k5e(){var t={},e=function(){return null},r=!1,n=function i(o){if(!r){if(Array.isArray(o)){if(!o.length)return;var s=o,a=S5e(s),l=a[0],c=a.slice(1);if(typeof l=="number"){A7(i.bind(null,c),l);return}i(l),A7(i.bind(null,c));return}nT(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){r=!0},start:function(o){r=!1,n(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function sm(t){"@babel/helpers - typeof";return sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sm(t)}function g7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function m7(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?g7(Object(r),!0).forEach(function(n){mH(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mH(t,e,r){return e=O5e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function O5e(t){var e=R5e(t,"string");return sm(e)==="symbol"?e:String(e)}function R5e(t,e){if(sm(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var I5e=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(o){return i.includes(o)})})},N5e=function(e){return e},M5e=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},bg=function(e,r){return Object.keys(r).reduce(function(n,i){return m7(m7({},n),{},mH({},i,e(i,r[i])))},{})},v7=function(e,r,n){return e.map(function(i){return"".concat(M5e(i)," ").concat(r,"ms ").concat(n)}).join(",")};function L5e(t,e){return F5e(t)||B5e(t,e)||vH(t,e)||D5e()}function D5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B5e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,a=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(l=(n=o.call(r)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function F5e(t){if(Array.isArray(t))return t}function j5e(t){return z5e(t)||$5e(t)||vH(t)||U5e()}function U5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vH(t,e){if(t){if(typeof t=="string")return iT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iT(t,e)}}function $5e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function z5e(t){if(Array.isArray(t))return iT(t)}function iT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Jy=1e-4,yH=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},bH=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},y7=function(e,r){return function(n){var i=yH(e,r);return bH(i,n)}},W5e=function(e,r){return function(n){var i=yH(e,r),o=[].concat(j5e(i.map(function(s,a){return s*a}).slice(1)),[0]);return bH(o,n)}},b7=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],o=r[1],s=r[2],a=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,o=0,s=1,a=1;break;case"ease":i=.25,o=.1,s=.25,a=1;break;case"ease-in":i=.42,o=0,s=1,a=1;break;case"ease-out":i=.42,o=0,s=.58,a=1;break;case"ease-in-out":i=0,o=0,s=.58,a=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(T){return parseFloat(T)}),u=L5e(c,4);i=u[0],o=u[1],s=u[2],a=u[3]}}}var g=y7(i,s),_=y7(o,a),b=W5e(i,s),P=function(O){return O>1?1:O<0?0:O},E=function(O){for(var L=O>1?1:O,N=L,D=0;D<8;++D){var B=g(N)-L,z=b(N);if(Math.abs(B-L)<Jy||z<Jy)return _(N);N=P(N-B/z)}return _(N)};return E.isStepper=!1,E},V5e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,o=i===void 0?8:i,s=e.dt,a=s===void 0?17:s,l=function(u,g,_){var b=-(u-g)*n,P=_*o,E=_+(b-P)*a/1e3,T=_*a/1e3+u;return Math.abs(T-g)<Jy&&Math.abs(E)<Jy?[g,0]:[T,E]};return l.isStepper=!0,l.dt=a,l},H5e=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return b7(i);case"spring":return V5e();default:if(i.split("(")[0]==="cubic-bezier")return b7(i)}return typeof i=="function"?i:null};function am(t){"@babel/helpers - typeof";return am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},am(t)}function _7(t){return Y5e(t)||X5e(t)||_H(t)||q5e()}function q5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X5e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Y5e(t){if(Array.isArray(t))return sT(t)}function w7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function es(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?w7(Object(r),!0).forEach(function(n){oT(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):w7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oT(t,e,r){return e=K5e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function K5e(t){var e=G5e(t,"string");return am(e)==="symbol"?e:String(e)}function G5e(t,e){if(am(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(am(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Q5e(t,e){return eSe(t)||J5e(t,e)||_H(t,e)||Z5e()}function Z5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _H(t,e){if(t){if(typeof t=="string")return sT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sT(t,e)}}function sT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function J5e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,a=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(l=(n=o.call(r)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function eSe(t){if(Array.isArray(t))return t}var e2=function(e,r,n){return e+(r-e)*n},aT=function(e){var r=e.from,n=e.to;return r!==n},tSe=function t(e,r,n){var i=bg(function(o,s){if(aT(s)){var a=e(s.from,s.to,s.velocity),l=Q5e(a,2),c=l[0],u=l[1];return es(es({},s),{},{from:c,velocity:u})}return s},r);return n<1?bg(function(o,s){return aT(s)?es(es({},s),{},{velocity:e2(s.velocity,i[o].velocity,n),from:e2(s.from,i[o].from,n)}):s},r):t(e,i,n-1)};const rSe=(function(t,e,r,n,i){var o=I5e(t,e),s=o.reduce(function(T,O){return es(es({},T),{},oT({},O,[t[O],e[O]]))},{}),a=o.reduce(function(T,O){return es(es({},T),{},oT({},O,{from:t[O],velocity:0,to:e[O]}))},{}),l=-1,c,u,g=function(){return null},_=function(){return bg(function(O,L){return L.from},a)},b=function(){return!Object.values(a).filter(aT).length},P=function(O){c||(c=O);var L=O-c,N=L/r.dt;a=tSe(r,a,N),i(es(es(es({},t),e),_())),c=O,b()||(l=requestAnimationFrame(g))},E=function(O){u||(u=O);var L=(O-u)/n,N=bg(function(B,z){return e2.apply(void 0,_7(z).concat([r(L)]))},s);if(i(es(es(es({},t),e),N)),L<1)l=requestAnimationFrame(g);else{var D=bg(function(B,z){return e2.apply(void 0,_7(z).concat([r(1)]))},s);i(es(es(es({},t),e),D))}};return g=r.isStepper?P:E,function(){return requestAnimationFrame(g),function(){cancelAnimationFrame(l)}}});function O0(t){"@babel/helpers - typeof";return O0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O0(t)}var nSe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function iSe(t,e){if(t==null)return{};var r=oSe(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function oSe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,o;for(o=0;o<n.length;o++)i=n[o],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function cS(t){return cSe(t)||lSe(t)||aSe(t)||sSe()}function sSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aSe(t,e){if(t){if(typeof t=="string")return lT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lT(t,e)}}function lSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function cSe(t){if(Array.isArray(t))return lT(t)}function lT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function x7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function uc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?x7(Object(r),!0).forEach(function(n){ig(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):x7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ig(t,e,r){return e=wH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fSe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,wH(n.key),n)}}function hSe(t,e,r){return e&&fSe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function wH(t){var e=dSe(t,"string");return O0(e)==="symbol"?e:String(e)}function dSe(t,e){if(O0(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(O0(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ASe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cT(t,e)}function cT(t,e){return cT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},cT(t,e)}function pSe(t){var e=gSe();return function(){var n=t2(t),i;if(e){var o=t2(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return uT(this,i)}}function uT(t,e){if(e&&(O0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fT(t)}function fT(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gSe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function t2(t){return t2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},t2(t)}var hf=(function(t){ASe(r,t);var e=pSe(r);function r(n,i){var o;uSe(this,r),o=e.call(this,n,i);var s=o.props,a=s.isActive,l=s.attributeName,c=s.from,u=s.to,g=s.steps,_=s.children,b=s.duration;if(o.handleStyleChange=o.handleStyleChange.bind(fT(o)),o.changeStyle=o.changeStyle.bind(fT(o)),!a||b<=0)return o.state={style:{}},typeof _=="function"&&(o.state={style:u}),uT(o);if(g&&g.length)o.state={style:g[0].style};else if(c){if(typeof _=="function")return o.state={style:c},uT(o);o.state={style:l?ig({},l,c):c}}else o.state={style:{}};return o}return hSe(r,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,s=i.canBegin;this.mounted=!0,!(!o||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,s=o.isActive,a=o.canBegin,l=o.attributeName,c=o.shouldReAnimate,u=o.to,g=o.from,_=this.state.style;if(a){if(!s){var b={style:l?ig({},l,u):u};this.state&&_&&(l&&_[l]!==u||!l&&_!==u)&&this.setState(b);return}if(!(w5e(i.to,u)&&i.canBegin&&i.isActive)){var P=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var E=P||c?g:i.to;if(this.state&&_){var T={style:l?ig({},l,E):E};(l&&_[l]!==E||!l&&_!==E)&&this.setState(T)}this.runAnimation(uc(uc({},this.props),{},{from:E,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,s=i.from,a=i.to,l=i.duration,c=i.easing,u=i.begin,g=i.onAnimationEnd,_=i.onAnimationStart,b=rSe(s,a,H5e(c),l,this.changeStyle),P=function(){o.stopJSAnimation=b()};this.manager.start([_,u,P,l,g])}},{key:"runStepAnimation",value:function(i){var o=this,s=i.steps,a=i.begin,l=i.onAnimationStart,c=s[0],u=c.style,g=c.duration,_=g===void 0?0:g,b=function(E,T,O){if(O===0)return E;var L=T.duration,N=T.easing,D=N===void 0?"ease":N,B=T.style,z=T.properties,X=T.onAnimationEnd,Z=O>0?s[O-1]:T,G=z||Object.keys(B);if(typeof D=="function"||D==="spring")return[].concat(cS(E),[o.runJSAnimation.bind(o,{from:Z.style,to:B,duration:L,easing:D}),L]);var de=v7(G,L,D),H=uc(uc(uc({},Z.style),B),{},{transition:de});return[].concat(cS(E),[H,L,X]).filter(N5e)};return this.manager.start([l].concat(cS(s.reduce(b,[u,Math.max(_,a)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=k5e());var o=i.begin,s=i.duration,a=i.attributeName,l=i.to,c=i.easing,u=i.onAnimationStart,g=i.onAnimationEnd,_=i.steps,b=i.children,P=this.manager;if(this.unSubscribe=P.subscribe(this.handleStyleChange),typeof c=="function"||typeof b=="function"||c==="spring"){this.runJSAnimation(i);return}if(_.length>1){this.runStepAnimation(i);return}var E=a?ig({},a,l):l,T=v7(Object.keys(E),s,c);P.start([u,o,uc(uc({},E),{},{transition:T}),s,g])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var a=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=iSe(i,nSe),c=Q.Children.count(o),u=this.state.style;if(typeof o=="function")return o(u);if(!a||c===0||s<=0)return o;var g=function(b){var P=b.props,E=P.style,T=E===void 0?{}:E,O=P.className,L=Q.cloneElement(b,uc(uc({},l),{},{style:uc(uc({},T),u),className:O}));return L};return c===1?g(Q.Children.only(o)):Ke.createElement("div",null,Q.Children.map(o,function(_){return g(_)}))}}]),r})(Q.PureComponent);hf.displayName="Animate";hf.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};hf.propTypes={from:On.oneOfType([On.object,On.string]),to:On.oneOfType([On.object,On.string]),attributeName:On.string,duration:On.number,begin:On.number,easing:On.oneOfType([On.string,On.func]),steps:On.arrayOf(On.shape({duration:On.number.isRequired,style:On.object.isRequired,easing:On.oneOfType([On.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),On.func]),properties:On.arrayOf("string"),onAnimationEnd:On.func})),children:On.oneOfType([On.node,On.func]),isActive:On.bool,canBegin:On.bool,onAnimationEnd:On.func,shouldReAnimate:On.bool,onAnimationStart:On.func,onAnimationReStart:On.func};function lm(t){"@babel/helpers - typeof";return lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lm(t)}function r2(){return r2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},r2.apply(this,arguments)}function mSe(t,e){return _Se(t)||bSe(t,e)||ySe(t,e)||vSe()}function vSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ySe(t,e){if(t){if(typeof t=="string")return S7(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return S7(t,e)}}function S7(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function bSe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,a=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(l=(n=o.call(r)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function _Se(t){if(Array.isArray(t))return t}function E7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function T7(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?E7(Object(r),!0).forEach(function(n){wSe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):E7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wSe(t,e,r){return e=xSe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xSe(t){var e=SSe(t,"string");return lm(e)=="symbol"?e:e+""}function SSe(t,e){if(lm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(lm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var P7=function(e,r,n,i,o){var s=Math.min(Math.abs(n)/2,Math.abs(i)/2),a=i>=0?1:-1,l=n>=0?1:-1,c=i>=0&&n>=0||i<0&&n<0?1:0,u;if(s>0&&o instanceof Array){for(var g=[0,0,0,0],_=0,b=4;_<b;_++)g[_]=o[_]>s?s:o[_];u="M".concat(e,",").concat(r+a*g[0]),g[0]>0&&(u+="A ".concat(g[0],",").concat(g[0],",0,0,").concat(c,",").concat(e+l*g[0],",").concat(r)),u+="L ".concat(e+n-l*g[1],",").concat(r),g[1]>0&&(u+="A ".concat(g[1],",").concat(g[1],",0,0,").concat(c,`,
        `).concat(e+n,",").concat(r+a*g[1])),u+="L ".concat(e+n,",").concat(r+i-a*g[2]),g[2]>0&&(u+="A ".concat(g[2],",").concat(g[2],",0,0,").concat(c,`,
        `).concat(e+n-l*g[2],",").concat(r+i)),u+="L ".concat(e+l*g[3],",").concat(r+i),g[3]>0&&(u+="A ".concat(g[3],",").concat(g[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(r+i-a*g[3])),u+="Z"}else if(s>0&&o===+o&&o>0){var P=Math.min(s,o);u="M ".concat(e,",").concat(r+a*P,`
            A `).concat(P,",").concat(P,",0,0,").concat(c,",").concat(e+l*P,",").concat(r,`
            L `).concat(e+n-l*P,",").concat(r,`
            A `).concat(P,",").concat(P,",0,0,").concat(c,",").concat(e+n,",").concat(r+a*P,`
            L `).concat(e+n,",").concat(r+i-a*P,`
            A `).concat(P,",").concat(P,",0,0,").concat(c,",").concat(e+n-l*P,",").concat(r+i,`
            L `).concat(e+l*P,",").concat(r+i,`
            A `).concat(P,",").concat(P,",0,0,").concat(c,",").concat(e,",").concat(r+i-a*P," Z")}else u="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return u},ESe=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,o=r.x,s=r.y,a=r.width,l=r.height;if(Math.abs(a)>0&&Math.abs(l)>0){var c=Math.min(o,o+a),u=Math.max(o,o+a),g=Math.min(s,s+l),_=Math.max(s,s+l);return n>=c&&n<=u&&i>=g&&i<=_}return!1},TSe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},uk=function(e){var r=T7(T7({},TSe),e),n=Q.useRef(),i=Q.useState(-1),o=mSe(i,2),s=o[0],a=o[1];Q.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var D=n.current.getTotalLength();D&&a(D)}catch{}},[]);var l=r.x,c=r.y,u=r.width,g=r.height,_=r.radius,b=r.className,P=r.animationEasing,E=r.animationDuration,T=r.animationBegin,O=r.isAnimationActive,L=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||g!==+g||u===0||g===0)return null;var N=fn("recharts-rectangle",b);return L?Ke.createElement(hf,{canBegin:s>0,from:{width:u,height:g,x:l,y:c},to:{width:u,height:g,x:l,y:c},duration:E,animationEasing:P,isActive:L},function(D){var B=D.width,z=D.height,X=D.x,Z=D.y;return Ke.createElement(hf,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:T,duration:E,isActive:O,easing:P},Ke.createElement("path",r2({},an(r,!0),{className:N,d:P7(X,Z,B,z,_),ref:n})))}):Ke.createElement("path",r2({},an(r,!0),{className:N,d:P7(l,c,u,g,_)}))};function hT(){return hT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hT.apply(this,arguments)}var fk=function(e){var r=e.cx,n=e.cy,i=e.r,o=e.className,s=fn("recharts-dot",o);return r===+r&&n===+n&&i===+i?Ke.createElement("circle",hT({},an(e,!1),xy(e),{className:s,cx:r,cy:n,r:i})):null};function cm(t){"@babel/helpers - typeof";return cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cm(t)}var PSe=["x","y","top","left","width","height","className"];function dT(){return dT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dT.apply(this,arguments)}function C7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function CSe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?C7(Object(r),!0).forEach(function(n){kSe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):C7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kSe(t,e,r){return e=OSe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OSe(t){var e=RSe(t,"string");return cm(e)=="symbol"?e:e+""}function RSe(t,e){if(cm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ISe(t,e){if(t==null)return{};var r=NSe(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function NSe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var MSe=function(e,r,n,i,o,s){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(s,",").concat(r,"h").concat(n)},LSe=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,o=i===void 0?0:i,s=e.top,a=s===void 0?0:s,l=e.left,c=l===void 0?0:l,u=e.width,g=u===void 0?0:u,_=e.height,b=_===void 0?0:_,P=e.className,E=ISe(e,PSe),T=CSe({x:n,y:o,top:a,left:c,width:g,height:b},E);return!Dt(n)||!Dt(o)||!Dt(g)||!Dt(b)||!Dt(a)||!Dt(c)?null:Ke.createElement("path",dT({},an(T,!0),{className:fn("recharts-cross",P),d:MSe(n,o,g,b,a,c)}))},uS,k7;function DSe(){if(k7)return uS;k7=1;var t=zW(),e=t(Object.getPrototypeOf,Object);return uS=e,uS}var fS,O7;function BSe(){if(O7)return fS;O7=1;var t=pf(),e=DSe(),r=gf(),n="[object Object]",i=Function.prototype,o=Object.prototype,s=i.toString,a=o.hasOwnProperty,l=s.call(Object);function c(u){if(!r(u)||t(u)!=n)return!1;var g=e(u);if(g===null)return!0;var _=a.call(g,"constructor")&&g.constructor;return typeof _=="function"&&_ instanceof _&&s.call(_)==l}return fS=c,fS}var FSe=BSe();const jSe=Ln(FSe);var hS,R7;function USe(){if(R7)return hS;R7=1;var t=pf(),e=gf(),r="[object Boolean]";function n(i){return i===!0||i===!1||e(i)&&t(i)==r}return hS=n,hS}var $Se=USe();const zSe=Ln($Se);function um(t){"@babel/helpers - typeof";return um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},um(t)}function n2(){return n2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},n2.apply(this,arguments)}function WSe(t,e){return XSe(t)||qSe(t,e)||HSe(t,e)||VSe()}function VSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HSe(t,e){if(t){if(typeof t=="string")return I7(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I7(t,e)}}function I7(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function qSe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,a=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(l=(n=o.call(r)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function XSe(t){if(Array.isArray(t))return t}function N7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function M7(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?N7(Object(r),!0).forEach(function(n){YSe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):N7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function YSe(t,e,r){return e=KSe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KSe(t){var e=GSe(t,"string");return um(e)=="symbol"?e:e+""}function GSe(t,e){if(um(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(um(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var L7=function(e,r,n,i,o){var s=n-i,a;return a="M ".concat(e,",").concat(r),a+="L ".concat(e+n,",").concat(r),a+="L ".concat(e+n-s/2,",").concat(r+o),a+="L ".concat(e+n-s/2-i,",").concat(r+o),a+="L ".concat(e,",").concat(r," Z"),a},QSe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ZSe=function(e){var r=M7(M7({},QSe),e),n=Q.useRef(),i=Q.useState(-1),o=WSe(i,2),s=o[0],a=o[1];Q.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var N=n.current.getTotalLength();N&&a(N)}catch{}},[]);var l=r.x,c=r.y,u=r.upperWidth,g=r.lowerWidth,_=r.height,b=r.className,P=r.animationEasing,E=r.animationDuration,T=r.animationBegin,O=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||g!==+g||_!==+_||u===0&&g===0||_===0)return null;var L=fn("recharts-trapezoid",b);return O?Ke.createElement(hf,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:_,x:l,y:c},to:{upperWidth:u,lowerWidth:g,height:_,x:l,y:c},duration:E,animationEasing:P,isActive:O},function(N){var D=N.upperWidth,B=N.lowerWidth,z=N.height,X=N.x,Z=N.y;return Ke.createElement(hf,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:T,duration:E,easing:P},Ke.createElement("path",n2({},an(r,!0),{className:L,d:L7(X,Z,D,B,z),ref:n})))}):Ke.createElement("g",null,Ke.createElement("path",n2({},an(r,!0),{className:L,d:L7(l,c,u,g,_)})))},JSe=["option","shapeType","propTransformer","activeClassName","isActive"];function fm(t){"@babel/helpers - typeof";return fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fm(t)}function e4e(t,e){if(t==null)return{};var r=t4e(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function t4e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function D7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function i2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?D7(Object(r),!0).forEach(function(n){r4e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):D7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function r4e(t,e,r){return e=n4e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function n4e(t){var e=i4e(t,"string");return fm(e)=="symbol"?e:e+""}function i4e(t,e){if(fm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function o4e(t,e){return i2(i2({},e),t)}function s4e(t,e){return t==="symbols"}function B7(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return Ke.createElement(uk,r);case"trapezoid":return Ke.createElement(ZSe,r);case"sector":return Ke.createElement(pH,r);case"symbols":if(s4e(e))return Ke.createElement(kC,r);break;default:return null}}function a4e(t){return Q.isValidElement(t)?t.props:t}function l4e(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?o4e:n,o=t.activeClassName,s=o===void 0?"recharts-active-shape":o,a=t.isActive,l=e4e(t,JSe),c;if(Q.isValidElement(e))c=Q.cloneElement(e,i2(i2({},l),a4e(e)));else if(Gr(e))c=e(l);else if(jSe(e)&&!zSe(e)){var u=i(e,l);c=Ke.createElement(B7,{shapeType:r,elementProps:u})}else{var g=l;c=Ke.createElement(B7,{shapeType:r,elementProps:g})}return a?Ke.createElement(Ei,{className:s},c):c}function Mb(t,e){return e!=null&&"trapezoids"in t.props}function Lb(t,e){return e!=null&&"sectors"in t.props}function hm(t,e){return e!=null&&"points"in t.props}function c4e(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,o=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&o}function u4e(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function f4e(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function h4e(t,e){var r;return Mb(t,e)?r=c4e:Lb(t,e)?r=u4e:hm(t,e)&&(r=f4e),r}function d4e(t,e){var r;return Mb(t,e)?r="trapezoids":Lb(t,e)?r="sectors":hm(t,e)&&(r="points"),r}function A4e(t,e){if(Mb(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Lb(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return hm(t,e)?e.payload:{}}function p4e(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=d4e(r,e),o=A4e(r,e),s=n.filter(function(l,c){var u=Kg(o,l),g=r.props[i].filter(function(P){var E=h4e(r,e);return E(P,e)}),_=r.props[i].indexOf(g[g.length-1]),b=c===_;return u&&b}),a=n.indexOf(s[s.length-1]);return a}var dS,F7;function g4e(){if(F7)return dS;F7=1;var t=Math.ceil,e=Math.max;function r(n,i,o,s){for(var a=-1,l=e(t((i-n)/(o||1)),0),c=Array(l);l--;)c[s?l:++a]=n,n+=o;return c}return dS=r,dS}var AS,j7;function xH(){if(j7)return AS;j7=1;var t=iV(),e=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var o=i<0?-1:1;return o*r}return i===i?i:0}return AS=n,AS}var pS,U7;function m4e(){if(U7)return pS;U7=1;var t=g4e(),e=xb(),r=xH();function n(i){return function(o,s,a){return a&&typeof a!="number"&&e(o,s,a)&&(s=a=void 0),o=r(o),s===void 0?(s=o,o=0):s=r(s),a=a===void 0?o<s?1:-1:r(a),t(o,s,a,i)}}return pS=n,pS}var gS,$7;function v4e(){if($7)return gS;$7=1;var t=m4e(),e=t();return gS=e,gS}var y4e=v4e();const o2=Ln(y4e);function dm(t){"@babel/helpers - typeof";return dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dm(t)}function z7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function W7(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?z7(Object(r),!0).forEach(function(n){SH(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):z7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function SH(t,e,r){return e=b4e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function b4e(t){var e=_4e(t,"string");return dm(e)=="symbol"?e:e+""}function _4e(t,e){if(dm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var w4e=["Webkit","Moz","O","ms"],x4e=function(e,r){var n=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=w4e.reduce(function(o,s){return W7(W7({},o),{},SH({},s+n,r))},{});return i[e]=r,i};function R0(t){"@babel/helpers - typeof";return R0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R0(t)}function s2(){return s2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},s2.apply(this,arguments)}function V7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?V7(Object(r),!0).forEach(function(n){Fa(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):V7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function S4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function H7(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,TH(n.key),n)}}function E4e(t,e,r){return e&&H7(t.prototype,e),r&&H7(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function T4e(t,e,r){return e=a2(e),P4e(t,EH()?Reflect.construct(e,r||[],a2(t).constructor):e.apply(t,r))}function P4e(t,e){if(e&&(R0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C4e(t)}function C4e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function EH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EH=function(){return!!t})()}function a2(t){return a2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},a2(t)}function k4e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&AT(t,e)}function AT(t,e){return AT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},AT(t,e)}function Fa(t,e,r){return e=TH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TH(t){var e=O4e(t,"string");return R0(e)=="symbol"?e:e+""}function O4e(t,e){if(R0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(R0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var R4e=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,o=e.x,s=e.width,a=e.travellerWidth;if(!r||!r.length)return{};var l=r.length,c=mg().domain(o2(0,l)).range([o,o+s-a]),u=c.domain().map(function(g){return c(g)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(i),scale:c,scaleValues:u}},q7=function(e){return e.changedTouches&&!!e.changedTouches.length},I0=(function(t){function e(r){var n;return S4e(this,e),n=T4e(this,e,[r]),Fa(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),Fa(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),Fa(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,o=i.endIndex,s=i.onDragEnd,a=i.startIndex;s==null||s({endIndex:o,startIndex:a})}),n.detachDragEndListener()}),Fa(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Fa(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Fa(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Fa(n,"handleSlideDragStart",function(i){var o=q7(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return k4e(e,t),E4e(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,o=n.endX,s=this.state.scaleValues,a=this.props,l=a.gap,c=a.data,u=c.length-1,g=Math.min(i,o),_=Math.max(i,o),b=e.getIndexInRange(s,g),P=e.getIndexInRange(s,_);return{startIndex:b-b%l,endIndex:P===u?u:P-P%l}}},{key:"getTextOfTick",value:function(n){var i=this.props,o=i.data,s=i.tickFormatter,a=i.dataKey,l=Xa(o[n],a,n);return Gr(s)?s(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,o=i.slideMoveStartX,s=i.startX,a=i.endX,l=this.props,c=l.x,u=l.width,g=l.travellerWidth,_=l.startIndex,b=l.endIndex,P=l.onChange,E=n.pageX-o;E>0?E=Math.min(E,c+u-g-a,c+u-g-s):E<0&&(E=Math.max(E,c-s,c-a));var T=this.getIndex({startX:s+E,endX:a+E});(T.startIndex!==_||T.endIndex!==b)&&P&&P(T),this.setState({startX:s+E,endX:a+E,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var o=q7(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,o=i.brushMoveStartX,s=i.movingTravellerId,a=i.endX,l=i.startX,c=this.state[s],u=this.props,g=u.x,_=u.width,b=u.travellerWidth,P=u.onChange,E=u.gap,T=u.data,O={startX:this.state.startX,endX:this.state.endX},L=n.pageX-o;L>0?L=Math.min(L,g+_-b-c):L<0&&(L=Math.max(L,g-c)),O[s]=c+L;var N=this.getIndex(O),D=N.startIndex,B=N.endIndex,z=function(){var Z=T.length-1;return s==="startX"&&(a>l?D%E===0:B%E===0)||a<l&&B===Z||s==="endX"&&(a>l?B%E===0:D%E===0)||a>l&&B===Z};this.setState(Fa(Fa({},s,c+L),"brushMoveStartX",n.pageX),function(){P&&z()&&P(N)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var o=this,s=this.state,a=s.scaleValues,l=s.startX,c=s.endX,u=this.state[i],g=a.indexOf(u);if(g!==-1){var _=g+n;if(!(_===-1||_>=a.length)){var b=a[_];i==="startX"&&b>=c||i==="endX"&&b<=l||this.setState(Fa({},i,b),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,o=n.y,s=n.width,a=n.height,l=n.fill,c=n.stroke;return Ke.createElement("rect",{stroke:c,fill:l,x:i,y:o,width:s,height:a})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,o=n.y,s=n.width,a=n.height,l=n.data,c=n.children,u=n.padding,g=Q.Children.only(c);return g?Ke.cloneElement(g,{x:i,y:o,width:s,height:a,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,i){var o,s,a=this,l=this.props,c=l.y,u=l.travellerWidth,g=l.height,_=l.traveller,b=l.ariaLabel,P=l.data,E=l.startIndex,T=l.endIndex,O=Math.max(n,this.props.x),L=mS(mS({},an(this.props,!1)),{},{x:O,y:c,width:u,height:g}),N=b||"Min value: ".concat((o=P[E])===null||o===void 0?void 0:o.name,", Max value: ").concat((s=P[T])===null||s===void 0?void 0:s.name);return Ke.createElement(Ei,{tabIndex:0,role:"slider","aria-label":N,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(B){["ArrowLeft","ArrowRight"].includes(B.key)&&(B.preventDefault(),B.stopPropagation(),a.handleTravellerMoveKeyboard(B.key==="ArrowRight"?1:-1,i))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(_,L))}},{key:"renderSlide",value:function(n,i){var o=this.props,s=o.y,a=o.height,l=o.stroke,c=o.travellerWidth,u=Math.min(n,i)+c,g=Math.max(Math.abs(i-n)-c,0);return Ke.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:s,width:g,height:a})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,o=n.endIndex,s=n.y,a=n.height,l=n.travellerWidth,c=n.stroke,u=this.state,g=u.startX,_=u.endX,b=5,P={pointerEvents:"none",fill:c};return Ke.createElement(Ei,{className:"recharts-brush-texts"},Ke.createElement(Ly,s2({textAnchor:"end",verticalAnchor:"middle",x:Math.min(g,_)-b,y:s+a/2},P),this.getTextOfTick(i)),Ke.createElement(Ly,s2({textAnchor:"start",verticalAnchor:"middle",x:Math.max(g,_)+l+b,y:s+a/2},P),this.getTextOfTick(o)))}},{key:"render",value:function(){var n=this.props,i=n.data,o=n.className,s=n.children,a=n.x,l=n.y,c=n.width,u=n.height,g=n.alwaysShowText,_=this.state,b=_.startX,P=_.endX,E=_.isTextActive,T=_.isSlideMoving,O=_.isTravellerMoving,L=_.isTravellerFocused;if(!i||!i.length||!Dt(a)||!Dt(l)||!Dt(c)||!Dt(u)||c<=0||u<=0)return null;var N=fn("recharts-brush",o),D=Ke.Children.count(s)===1,B=x4e("userSelect","none");return Ke.createElement(Ei,{className:N,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:B},this.renderBackground(),D&&this.renderPanorama(),this.renderSlide(b,P),this.renderTravellerLayer(b,"startX"),this.renderTravellerLayer(P,"endX"),(E||T||O||L||g)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,o=n.y,s=n.width,a=n.height,l=n.stroke,c=Math.floor(o+a/2)-1;return Ke.createElement(Ke.Fragment,null,Ke.createElement("rect",{x:i,y:o,width:s,height:a,fill:l,stroke:"none"}),Ke.createElement("line",{x1:i+1,y1:c,x2:i+s-1,y2:c,fill:"none",stroke:"#fff"}),Ke.createElement("line",{x1:i+1,y1:c+2,x2:i+s-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var o;return Ke.isValidElement(n)?o=Ke.cloneElement(n,i):Gr(n)?o=n(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(n,i){var o=n.data,s=n.width,a=n.x,l=n.travellerWidth,c=n.updateId,u=n.startIndex,g=n.endIndex;if(o!==i.prevData||c!==i.prevUpdateId)return mS({prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:a,prevWidth:s},o&&o.length?R4e({data:o,width:s,x:a,travellerWidth:l,startIndex:u,endIndex:g}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||a!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([a,a+s-l]);var _=i.scale.domain().map(function(b){return i.scale(b)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:c,prevX:a,prevWidth:s,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:_}}return null}},{key:"getIndexInRange",value:function(n,i){for(var o=n.length,s=0,a=o-1;a-s>1;){var l=Math.floor((s+a)/2);n[l]>i?a=l:s=l}return i>=n[a]?a:s}}])})(Q.PureComponent);Fa(I0,"displayName","Brush");Fa(I0,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var vS,X7;function I4e(){if(X7)return vS;X7=1;var t=DC();function e(r,n){var i;return t(r,function(o,s,a){return i=n(o,s,a),!i}),!!i}return vS=e,vS}var yS,Y7;function N4e(){if(Y7)return yS;Y7=1;var t=LW(),e=bh(),r=I4e(),n=Aa(),i=xb();function o(s,a,l){var c=n(s)?t:r;return l&&i(s,a,l)&&(a=void 0),c(s,e(a,3))}return yS=o,yS}var M4e=N4e();const L4e=Ln(M4e);var mu=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},bS,K7;function D4e(){if(K7)return bS;K7=1;var t=JW();function e(r,n,i){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return bS=e,bS}var _S,G7;function B4e(){if(G7)return _S;G7=1;var t=D4e(),e=QW(),r=bh();function n(i,o){var s={};return o=r(o,3),e(i,function(a,l,c){t(s,l,o(a,l,c))}),s}return _S=n,_S}var F4e=B4e();const j4e=Ln(F4e);var wS,Q7;function U4e(){if(Q7)return wS;Q7=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(!r(e[n],n,e))return!1;return!0}return wS=t,wS}var xS,Z7;function $4e(){if(Z7)return xS;Z7=1;var t=DC();function e(r,n){var i=!0;return t(r,function(o,s,a){return i=!!n(o,s,a),i}),i}return xS=e,xS}var SS,J7;function z4e(){if(J7)return SS;J7=1;var t=U4e(),e=$4e(),r=bh(),n=Aa(),i=xb();function o(s,a,l){var c=n(s)?t:e;return l&&i(s,a,l)&&(a=void 0),c(s,r(a,3))}return SS=o,SS}var W4e=z4e();const PH=Ln(W4e);var V4e=["x","y"];function Am(t){"@babel/helpers - typeof";return Am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Am(t)}function pT(){return pT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pT.apply(this,arguments)}function eB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Wp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eB(Object(r),!0).forEach(function(n){H4e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function H4e(t,e,r){return e=q4e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function q4e(t){var e=X4e(t,"string");return Am(e)=="symbol"?e:e+""}function X4e(t,e){if(Am(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Am(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Y4e(t,e){if(t==null)return{};var r=K4e(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function K4e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function G4e(t,e){var r=t.x,n=t.y,i=Y4e(t,V4e),o="".concat(r),s=parseInt(o,10),a="".concat(n),l=parseInt(a,10),c="".concat(e.height||i.height),u=parseInt(c,10),g="".concat(e.width||i.width),_=parseInt(g,10);return Wp(Wp(Wp(Wp(Wp({},e),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:u,width:_,name:e.name,radius:e.radius})}function tB(t){return Ke.createElement(l4e,pT({shapeType:"rectangle",propTransformer:G4e,activeClassName:"recharts-active-bar"},t))}var Q4e=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var o=typeof n=="number";return o?e(n,i):(o||Rd(),r)}},Z4e=["value","background"],CH;function N0(t){"@babel/helpers - typeof";return N0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N0(t)}function J4e(t,e){if(t==null)return{};var r=eEe(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function eEe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function l2(){return l2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},l2.apply(this,arguments)}function rB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ji(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rB(Object(r),!0).forEach(function(n){ih(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nB(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,OH(n.key),n)}}function rEe(t,e,r){return e&&nB(t.prototype,e),r&&nB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function nEe(t,e,r){return e=c2(e),iEe(t,kH()?Reflect.construct(e,r||[],c2(t).constructor):e.apply(t,r))}function iEe(t,e){if(e&&(N0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oEe(t)}function oEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kH=function(){return!!t})()}function c2(t){return c2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},c2(t)}function sEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gT(t,e)}function gT(t,e){return gT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},gT(t,e)}function ih(t,e,r){return e=OH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OH(t){var e=aEe(t,"string");return N0(e)=="symbol"?e:e+""}function aEe(t,e){if(N0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(N0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Vm=(function(t){function e(){var r;tEe(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=nEe(this,e,[].concat(i)),ih(r,"state",{isAnimationFinished:!1}),ih(r,"id",Fm("recharts-bar-")),ih(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),ih(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return sEe(e,t),rEe(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,o=this.props,s=o.shape,a=o.dataKey,l=o.activeIndex,c=o.activeBar,u=an(this.props,!1);return n&&n.map(function(g,_){var b=_===l,P=b?c:s,E=Ji(Ji(Ji({},u),g),{},{isActive:b,option:P,index:_,dataKey:a,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return Ke.createElement(Ei,l2({className:"recharts-bar-rectangle"},Sy(i.props,g,_),{key:"rectangle-".concat(g==null?void 0:g.x,"-").concat(g==null?void 0:g.y,"-").concat(g==null?void 0:g.value,"-").concat(_)}),Ke.createElement(tB,E))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,o=i.data,s=i.layout,a=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,g=i.animationId,_=this.state.prevData;return Ke.createElement(hf,{begin:l,duration:c,isActive:a,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var P=b.t,E=o.map(function(T,O){var L=_&&_[O];if(L){var N=_l(L.x,T.x),D=_l(L.y,T.y),B=_l(L.width,T.width),z=_l(L.height,T.height);return Ji(Ji({},T),{},{x:N(P),y:D(P),width:B(P),height:z(P)})}if(s==="horizontal"){var X=_l(0,T.height),Z=X(P);return Ji(Ji({},T),{},{y:T.y+T.height-Z,height:Z})}var G=_l(0,T.width),de=G(P);return Ji(Ji({},T),{},{width:de})});return Ke.createElement(Ei,null,n.renderRectanglesStatically(E))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,o=n.isAnimationActive,s=this.state.prevData;return o&&i&&i.length&&(!s||!Kg(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,o=i.data,s=i.dataKey,a=i.activeIndex,l=an(this.props.background,!1);return o.map(function(c,u){c.value;var g=c.background,_=J4e(c,Z4e);if(!g)return null;var b=Ji(Ji(Ji(Ji(Ji({},_),{},{fill:"#eee"},g),l),Sy(n.props,c,u)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:u,className:"recharts-bar-background-rectangle"});return Ke.createElement(tB,l2({key:"background-bar-".concat(u),option:n.props.background,isActive:u===a},b))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.data,a=o.xAxis,l=o.yAxis,c=o.layout,u=o.children,g=bc(u,Nb);if(!g)return null;var _=c==="vertical"?s[0].height/2:s[0].width/2,b=function(T,O){var L=Array.isArray(T.value)?T.value[1]:T.value;return{x:T.x,y:T.y,value:L,errorVal:Xa(T,O)}},P={clipPath:n?"url(#clipPath-".concat(i,")"):null};return Ke.createElement(Ei,P,g.map(function(E){return Ke.cloneElement(E,{key:"error-bar-".concat(i,"-").concat(E.props.dataKey),data:s,xAxis:a,yAxis:l,layout:c,offset:_,dataPointFormatter:b})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,o=n.data,s=n.className,a=n.xAxis,l=n.yAxis,c=n.left,u=n.top,g=n.width,_=n.height,b=n.isAnimationActive,P=n.background,E=n.id;if(i||!o||!o.length)return null;var T=this.state.isAnimationFinished,O=fn("recharts-bar",s),L=a&&a.allowDataOverflow,N=l&&l.allowDataOverflow,D=L||N,B=un(E)?this.id:E;return Ke.createElement(Ei,{className:O},L||N?Ke.createElement("defs",null,Ke.createElement("clipPath",{id:"clipPath-".concat(B)},Ke.createElement("rect",{x:L?c:c-g/2,y:N?u:u-_/2,width:L?g:g*2,height:N?_:_*2}))):null,Ke.createElement(Ei,{className:"recharts-bar-rectangles",clipPath:D?"url(#clipPath-".concat(B,")"):null},P?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(D,B),(!b||T)&&ch.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])})(Q.PureComponent);CH=Vm;ih(Vm,"displayName","Bar");ih(Vm,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!op.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ih(Vm,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,o=t.xAxis,s=t.yAxis,a=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,u=t.dataStartIndex,g=t.displayedData,_=t.offset,b=wxe(n,r);if(!b)return null;var P=e.layout,E=r.type.defaultProps,T=E!==void 0?Ji(Ji({},E),r.props):r.props,O=T.dataKey,L=T.children,N=T.minPointSize,D=P==="horizontal"?s:o,B=c?D.scale.domain():null,z=Oxe({numericAxis:D}),X=bc(L,sV),Z=g.map(function(G,de){var H,ee,ae,le,Te,te;c?H=xxe(c[u+de],B):(H=Xa(G,O),Array.isArray(H)||(H=[z,H]));var oe=Q4e(N,CH.defaultProps.minPointSize)(H[1],de);if(P==="horizontal"){var K,ge=[s.scale(H[0]),s.scale(H[1])],Ee=ge[0],se=ge[1];ee=WD({axis:o,ticks:a,bandSize:i,offset:b.offset,entry:G,index:de}),ae=(K=se??Ee)!==null&&K!==void 0?K:void 0,le=b.size;var $=Ee-se;if(Te=Number.isNaN($)?0:$,te={x:ee,y:s.y,width:le,height:s.height},Math.abs(oe)>0&&Math.abs(Te)<Math.abs(oe)){var ne=vc(Te||oe)*(Math.abs(oe)-Math.abs(Te));ae-=ne,Te+=ne}}else{var pe=[o.scale(H[0]),o.scale(H[1])],be=pe[0],Ie=pe[1];if(ee=be,ae=WD({axis:s,ticks:l,bandSize:i,offset:b.offset,entry:G,index:de}),le=Ie-be,Te=b.size,te={x:o.x,y:ae,width:o.width,height:Te},Math.abs(oe)>0&&Math.abs(le)<Math.abs(oe)){var De=vc(le||oe)*(Math.abs(oe)-Math.abs(le));le+=De}}return Ji(Ji(Ji({},G),{},{x:ee,y:ae,width:le,height:Te,value:c?H:H[1],payload:G,background:te},X&&X[de]&&X[de].props),{},{tooltipPayload:[hH(r,G)],tooltipPosition:{x:ee+le/2,y:ae+Te/2}})});return Ji({data:Z,layout:P},_)});function pm(t){"@babel/helpers - typeof";return pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pm(t)}function lEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iB(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,RH(n.key),n)}}function cEe(t,e,r){return e&&iB(t.prototype,e),r&&iB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function oB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ac(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oB(Object(r),!0).forEach(function(n){Db(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Db(t,e,r){return e=RH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RH(t){var e=uEe(t,"string");return pm(e)=="symbol"?e:e+""}function uEe(t,e){if(pm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fEe=function(e,r,n,i,o){var s=e.width,a=e.height,l=e.layout,c=e.children,u=Object.keys(r),g={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:a-n.bottom,bottomMirror:a-n.bottom},_=!!ja(c,Vm);return u.reduce(function(b,P){var E=r[P],T=E.orientation,O=E.domain,L=E.padding,N=L===void 0?{}:L,D=E.mirror,B=E.reversed,z="".concat(T).concat(D?"Mirror":""),X,Z,G,de,H;if(E.type==="number"&&(E.padding==="gap"||E.padding==="no-gap")){var ee=O[1]-O[0],ae=1/0,le=E.categoricalDomain.sort();if(le.forEach(function(pe,be){be>0&&(ae=Math.min((pe||0)-(le[be-1]||0),ae))}),Number.isFinite(ae)){var Te=ae/ee,te=E.layout==="vertical"?n.height:n.width;if(E.padding==="gap"&&(X=Te*te/2),E.padding==="no-gap"){var oe=kd(e.barCategoryGap,Te*te),K=Te*te/2;X=K-oe-(K-oe)/te*oe}}}i==="xAxis"?Z=[n.left+(N.left||0)+(X||0),n.left+n.width-(N.right||0)-(X||0)]:i==="yAxis"?Z=l==="horizontal"?[n.top+n.height-(N.bottom||0),n.top+(N.top||0)]:[n.top+(N.top||0)+(X||0),n.top+n.height-(N.bottom||0)-(X||0)]:Z=E.range,B&&(Z=[Z[1],Z[0]]);var ge=bxe(E,o,_),Ee=ge.scale,se=ge.realScaleType;Ee.domain(O).range(Z),_xe(Ee);var $=kxe(Ee,Ac(Ac({},E),{},{realScaleType:se}));i==="xAxis"?(H=T==="top"&&!D||T==="bottom"&&D,G=n.left,de=g[z]-H*E.height):i==="yAxis"&&(H=T==="left"&&!D||T==="right"&&D,G=g[z]-H*E.width,de=n.top);var ne=Ac(Ac(Ac({},E),$),{},{realScaleType:se,x:G,y:de,scale:Ee,width:i==="xAxis"?n.width:E.width,height:i==="yAxis"?n.height:E.height});return ne.bandSize=Ky(ne,$),!E.hide&&i==="xAxis"?g[z]+=(H?-1:1)*ne.height:E.hide||(g[z]+=(H?-1:1)*ne.width),Ac(Ac({},b),{},Db({},P,ne))},{})},IH=function(e,r){var n=e.x,i=e.y,o=r.x,s=r.y;return{x:Math.min(n,o),y:Math.min(i,s),width:Math.abs(o-n),height:Math.abs(s-i)}},hEe=function(e){var r=e.x1,n=e.y1,i=e.x2,o=e.y2;return IH({x:r,y:n},{x:i,y:o})},NH=(function(){function t(e){lEe(this,t),this.scale=e}return cEe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,o=n.position;if(r!==void 0){if(o)switch(o){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(r)+a}default:return this.scale(r)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],o=n[n.length-1];return i<=o?r>=i&&r<=o:r>=o&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])})();Db(NH,"EPS",1e-4);var hk=function(e){var r=Object.keys(e).reduce(function(n,i){return Ac(Ac({},n),{},Db({},i,NH.create(e[i])))},{});return Ac(Ac({},r),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.bandAware,a=o.position;return j4e(i,function(l,c){return r[c].apply(l,{bandAware:s,position:a})})},isInRange:function(i){return PH(i,function(o,s){return r[s].isInRange(o)})}})};function dEe(t){return(t%180+180)%180}var AEe=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=dEe(i),s=o*Math.PI/180,a=Math.atan(n/r),l=s>a&&s<Math.PI-a?n/Math.sin(s):r/Math.cos(s);return Math.abs(l)},ES,sB;function pEe(){if(sB)return ES;sB=1;var t=bh(),e=jm(),r=_b();function n(i){return function(o,s,a){var l=Object(o);if(!e(o)){var c=t(s,3);o=r(o),s=function(g){return c(l[g],g,l)}}var u=i(o,s,a);return u>-1?l[c?o[u]:u]:void 0}}return ES=n,ES}var TS,aB;function gEe(){if(aB)return TS;aB=1;var t=xH();function e(r){var n=t(r),i=n%1;return n===n?i?n-i:n:0}return TS=e,TS}var PS,lB;function mEe(){if(lB)return PS;lB=1;var t=qW(),e=bh(),r=gEe(),n=Math.max;function i(o,s,a){var l=o==null?0:o.length;if(!l)return-1;var c=a==null?0:r(a);return c<0&&(c=n(l+c,0)),t(o,e(s,3),c)}return PS=i,PS}var CS,cB;function vEe(){if(cB)return CS;cB=1;var t=pEe(),e=mEe(),r=t(e);return CS=r,CS}var yEe=vEe();const bEe=Ln(yEe);var _Ee=lW();const wEe=Ln(_Ee);var xEe=wEe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),dk=Q.createContext(void 0),Ak=Q.createContext(void 0),MH=Q.createContext(void 0),LH=Q.createContext({}),DH=Q.createContext(void 0),BH=Q.createContext(0),FH=Q.createContext(0),uB=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,o=r.offset,s=e.clipPathId,a=e.children,l=e.width,c=e.height,u=xEe(o);return Ke.createElement(dk.Provider,{value:n},Ke.createElement(Ak.Provider,{value:i},Ke.createElement(LH.Provider,{value:o},Ke.createElement(MH.Provider,{value:u},Ke.createElement(DH.Provider,{value:s},Ke.createElement(BH.Provider,{value:c},Ke.createElement(FH.Provider,{value:l},a)))))))},SEe=function(){return Q.useContext(DH)},jH=function(e){var r=Q.useContext(dk);r==null&&Rd();var n=r[e];return n==null&&Rd(),n},EEe=function(){var e=Q.useContext(dk);return Zf(e)},TEe=function(){var e=Q.useContext(Ak),r=bEe(e,function(n){return PH(n.domain,Number.isFinite)});return r||Zf(e)},UH=function(e){var r=Q.useContext(Ak);r==null&&Rd();var n=r[e];return n==null&&Rd(),n},PEe=function(){var e=Q.useContext(MH);return e},CEe=function(){return Q.useContext(LH)},pk=function(){return Q.useContext(FH)},gk=function(){return Q.useContext(BH)};function M0(t){"@babel/helpers - typeof";return M0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M0(t)}function kEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OEe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,zH(n.key),n)}}function REe(t,e,r){return e&&OEe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function IEe(t,e,r){return e=u2(e),NEe(t,$H()?Reflect.construct(e,r||[],u2(t).constructor):e.apply(t,r))}function NEe(t,e){if(e&&(M0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MEe(t)}function MEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $H(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($H=function(){return!!t})()}function u2(t){return u2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},u2(t)}function LEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mT(t,e)}function mT(t,e){return mT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},mT(t,e)}function fB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fB(Object(r),!0).forEach(function(n){mk(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mk(t,e,r){return e=zH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zH(t){var e=DEe(t,"string");return M0(e)=="symbol"?e:e+""}function DEe(t,e){if(M0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(M0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function BEe(t,e){return $Ee(t)||UEe(t,e)||jEe(t,e)||FEe()}function FEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jEe(t,e){if(t){if(typeof t=="string")return dB(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dB(t,e)}}function dB(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function UEe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,a=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(l=(n=o.call(r)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function $Ee(t){if(Array.isArray(t))return t}function vT(){return vT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vT.apply(this,arguments)}var zEe=function(e,r){var n;return Ke.isValidElement(e)?n=Ke.cloneElement(e,r):Gr(e)?n=e(r):n=Ke.createElement("line",vT({},r,{className:"recharts-reference-line-line"})),n},WEe=function(e,r,n,i,o,s,a,l,c){var u=o.x,g=o.y,_=o.width,b=o.height;if(n){var P=c.y,E=e.y.apply(P,{position:s});if(mu(c,"discard")&&!e.y.isInRange(E))return null;var T=[{x:u+_,y:E},{x:u,y:E}];return l==="left"?T.reverse():T}if(r){var O=c.x,L=e.x.apply(O,{position:s});if(mu(c,"discard")&&!e.x.isInRange(L))return null;var N=[{x:L,y:g+b},{x:L,y:g}];return a==="top"?N.reverse():N}if(i){var D=c.segment,B=D.map(function(z){return e.apply(z,{position:s})});return mu(c,"discard")&&L4e(B,function(z){return!e.isInRange(z)})?null:B}return null};function VEe(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,o=t.yAxisId,s=t.shape,a=t.className,l=t.alwaysShow,c=SEe(),u=jH(i),g=UH(o),_=PEe();if(!c||!_)return null;tf(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var b=hk({x:u.scale,y:g.scale}),P=vo(e),E=vo(r),T=n&&n.length===2,O=WEe(b,P,E,T,_,t.position,u.orientation,g.orientation,t);if(!O)return null;var L=BEe(O,2),N=L[0],D=N.x,B=N.y,z=L[1],X=z.x,Z=z.y,G=mu(t,"hidden")?"url(#".concat(c,")"):void 0,de=hB(hB({clipPath:G},an(t,!0)),{},{x1:D,y1:B,x2:X,y2:Z});return Ke.createElement(Ei,{className:fn("recharts-reference-line",a)},zEe(s,de),Cs.renderCallByParent(t,hEe({x1:D,y1:B,x2:X,y2:Z})))}var vk=(function(t){function e(){return kEe(this,e),IEe(this,e,arguments)}return LEe(e,t),REe(e,[{key:"render",value:function(){return Ke.createElement(VEe,this.props)}}])})(Ke.Component);mk(vk,"displayName","ReferenceLine");mk(vk,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function yT(){return yT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yT.apply(this,arguments)}function L0(t){"@babel/helpers - typeof";return L0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L0(t)}function AB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AB(Object(r),!0).forEach(function(n){Bb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function HEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qEe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,VH(n.key),n)}}function XEe(t,e,r){return e&&qEe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function YEe(t,e,r){return e=f2(e),KEe(t,WH()?Reflect.construct(e,r||[],f2(t).constructor):e.apply(t,r))}function KEe(t,e){if(e&&(L0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GEe(t)}function GEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WH=function(){return!!t})()}function f2(t){return f2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},f2(t)}function QEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bT(t,e)}function bT(t,e){return bT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},bT(t,e)}function Bb(t,e,r){return e=VH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VH(t){var e=ZEe(t,"string");return L0(e)=="symbol"?e:e+""}function ZEe(t,e){if(L0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(L0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var JEe=function(e){var r=e.x,n=e.y,i=e.xAxis,o=e.yAxis,s=hk({x:i.scale,y:o.scale}),a=s.apply({x:r,y:n},{bandAware:!0});return mu(e,"discard")&&!s.isInRange(a)?null:a},Fb=(function(t){function e(){return HEe(this,e),YEe(this,e,arguments)}return QEe(e,t),XEe(e,[{key:"render",value:function(){var n=this.props,i=n.x,o=n.y,s=n.r,a=n.alwaysShow,l=n.clipPathId,c=vo(i),u=vo(o);if(tf(a===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var g=JEe(this.props);if(!g)return null;var _=g.x,b=g.y,P=this.props,E=P.shape,T=P.className,O=mu(this.props,"hidden")?"url(#".concat(l,")"):void 0,L=pB(pB({clipPath:O},an(this.props,!0)),{},{cx:_,cy:b});return Ke.createElement(Ei,{className:fn("recharts-reference-dot",T)},e.renderDot(E,L),Cs.renderCallByParent(this.props,{x:_-s,y:b-s,width:2*s,height:2*s}))}}])})(Ke.Component);Bb(Fb,"displayName","ReferenceDot");Bb(Fb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Bb(Fb,"renderDot",function(t,e){var r;return Ke.isValidElement(t)?r=Ke.cloneElement(t,e):Gr(t)?r=t(e):r=Ke.createElement(fk,yT({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function _T(){return _T=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_T.apply(this,arguments)}function D0(t){"@babel/helpers - typeof";return D0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D0(t)}function gB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gB(Object(r),!0).forEach(function(n){jb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tTe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,qH(n.key),n)}}function rTe(t,e,r){return e&&tTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function nTe(t,e,r){return e=h2(e),iTe(t,HH()?Reflect.construct(e,r||[],h2(t).constructor):e.apply(t,r))}function iTe(t,e){if(e&&(D0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oTe(t)}function oTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HH=function(){return!!t})()}function h2(t){return h2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},h2(t)}function sTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wT(t,e)}function wT(t,e){return wT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},wT(t,e)}function jb(t,e,r){return e=qH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qH(t){var e=aTe(t,"string");return D0(e)=="symbol"?e:e+""}function aTe(t,e){if(D0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(D0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var lTe=function(e,r,n,i,o){var s=o.x1,a=o.x2,l=o.y1,c=o.y2,u=o.xAxis,g=o.yAxis;if(!u||!g)return null;var _=hk({x:u.scale,y:g.scale}),b={x:e?_.x.apply(s,{position:"start"}):_.x.rangeMin,y:n?_.y.apply(l,{position:"start"}):_.y.rangeMin},P={x:r?_.x.apply(a,{position:"end"}):_.x.rangeMax,y:i?_.y.apply(c,{position:"end"}):_.y.rangeMax};return mu(o,"discard")&&(!_.isInRange(b)||!_.isInRange(P))?null:IH(b,P)},Ub=(function(t){function e(){return eTe(this,e),nTe(this,e,arguments)}return sTe(e,t),rTe(e,[{key:"render",value:function(){var n=this.props,i=n.x1,o=n.x2,s=n.y1,a=n.y2,l=n.className,c=n.alwaysShow,u=n.clipPathId;tf(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=vo(i),_=vo(o),b=vo(s),P=vo(a),E=this.props.shape;if(!g&&!_&&!b&&!P&&!E)return null;var T=lTe(g,_,b,P,this.props);if(!T&&!E)return null;var O=mu(this.props,"hidden")?"url(#".concat(u,")"):void 0;return Ke.createElement(Ei,{className:fn("recharts-reference-area",l)},e.renderRect(E,mB(mB({clipPath:O},an(this.props,!0)),T)),Cs.renderCallByParent(this.props,T))}}])})(Ke.Component);jb(Ub,"displayName","ReferenceArea");jb(Ub,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});jb(Ub,"renderRect",function(t,e){var r;return Ke.isValidElement(t)?r=Ke.cloneElement(t,e):Gr(t)?r=t(e):r=Ke.createElement(uk,_T({},e,{className:"recharts-reference-area-rect"})),r});function XH(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function cTe(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return AEe(n,r)}function uTe(t,e,r){var n=r==="width",i=t.x,o=t.y,s=t.width,a=t.height;return e===1?{start:n?i:o,end:n?i+s:o+a}:{start:n?i+s:o+a,end:n?i:o}}function d2(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var o=r();return t*(e-t*o/2-n)>=0&&t*(e+t*o/2-i)<=0}function fTe(t,e){return XH(t,e+1)}function hTe(t,e,r,n,i){for(var o=(n||[]).slice(),s=e.start,a=e.end,l=0,c=1,u=s,g=function(){var P=n==null?void 0:n[l];if(P===void 0)return{v:XH(n,c)};var E=l,T,O=function(){return T===void 0&&(T=r(P,E)),T},L=P.coordinate,N=l===0||d2(t,L,O,u,a);N||(l=0,u=s,c+=1),N&&(u=L+t*(O()/2+i),l+=c)},_;c<=o.length;)if(_=g(),_)return _.v;return[]}function gm(t){"@babel/helpers - typeof";return gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gm(t)}function vB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ts(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vB(Object(r),!0).forEach(function(n){dTe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dTe(t,e,r){return e=ATe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ATe(t){var e=pTe(t,"string");return gm(e)=="symbol"?e:e+""}function pTe(t,e){if(gm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gTe(t,e,r,n,i){for(var o=(n||[]).slice(),s=o.length,a=e.start,l=e.end,c=function(_){var b=o[_],P,E=function(){return P===void 0&&(P=r(b,_)),P};if(_===s-1){var T=t*(b.coordinate+t*E()/2-l);o[_]=b=Ts(Ts({},b),{},{tickCoord:T>0?b.coordinate-T*t:b.coordinate})}else o[_]=b=Ts(Ts({},b),{},{tickCoord:b.coordinate});var O=d2(t,b.tickCoord,E,a,l);O&&(l=b.tickCoord-t*(E()/2+i),o[_]=Ts(Ts({},b),{},{isShow:!0}))},u=s-1;u>=0;u--)c(u);return o}function mTe(t,e,r,n,i,o){var s=(n||[]).slice(),a=s.length,l=e.start,c=e.end;if(o){var u=n[a-1],g=r(u,a-1),_=t*(u.coordinate+t*g/2-c);s[a-1]=u=Ts(Ts({},u),{},{tickCoord:_>0?u.coordinate-_*t:u.coordinate});var b=d2(t,u.tickCoord,function(){return g},l,c);b&&(c=u.tickCoord-t*(g/2+i),s[a-1]=Ts(Ts({},u),{},{isShow:!0}))}for(var P=o?a-1:a,E=function(L){var N=s[L],D,B=function(){return D===void 0&&(D=r(N,L)),D};if(L===0){var z=t*(N.coordinate-t*B()/2-l);s[L]=N=Ts(Ts({},N),{},{tickCoord:z<0?N.coordinate-z*t:N.coordinate})}else s[L]=N=Ts(Ts({},N),{},{tickCoord:N.coordinate});var X=d2(t,N.tickCoord,B,l,c);X&&(l=N.tickCoord+t*(B()/2+i),s[L]=Ts(Ts({},N),{},{isShow:!0}))},T=0;T<P;T++)E(T);return s}function yk(t,e,r){var n=t.tick,i=t.ticks,o=t.viewBox,s=t.minTickGap,a=t.orientation,l=t.interval,c=t.tickFormatter,u=t.unit,g=t.angle;if(!i||!i.length||!n)return[];if(Dt(l)||op.isSsr)return fTe(i,typeof l=="number"&&Dt(l)?l:0);var _=[],b=a==="top"||a==="bottom"?"width":"height",P=u&&b==="width"?gg(u,{fontSize:e,letterSpacing:r}):{width:0,height:0},E=function(N,D){var B=Gr(c)?c(N.value,D):N.value;return b==="width"?cTe(gg(B,{fontSize:e,letterSpacing:r}),P,g):gg(B,{fontSize:e,letterSpacing:r})[b]},T=i.length>=2?vc(i[1].coordinate-i[0].coordinate):1,O=uTe(o,T,b);return l==="equidistantPreserveStart"?hTe(T,O,E,i,s):(l==="preserveStart"||l==="preserveStartEnd"?_=mTe(T,O,E,i,s,l==="preserveStartEnd"):_=gTe(T,O,E,i,s),_.filter(function(L){return L.isShow}))}var vTe=["viewBox"],yTe=["viewBox"],bTe=["ticks"];function B0(t){"@babel/helpers - typeof";return B0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B0(t)}function $A(){return $A=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$A.apply(this,arguments)}function yB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ws(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yB(Object(r),!0).forEach(function(n){bk(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kS(t,e){if(t==null)return{};var r=_Te(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function _Te(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function wTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bB(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,KH(n.key),n)}}function xTe(t,e,r){return e&&bB(t.prototype,e),r&&bB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function STe(t,e,r){return e=A2(e),ETe(t,YH()?Reflect.construct(e,r||[],A2(t).constructor):e.apply(t,r))}function ETe(t,e){if(e&&(B0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TTe(t)}function TTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YH=function(){return!!t})()}function A2(t){return A2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},A2(t)}function PTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xT(t,e)}function xT(t,e){return xT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},xT(t,e)}function bk(t,e,r){return e=KH(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KH(t){var e=CTe(t,"string");return B0(e)=="symbol"?e:e+""}function CTe(t,e){if(B0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(B0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var cp=(function(t){function e(r){var n;return wTe(this,e),n=STe(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return PTe(e,t),xTe(e,[{key:"shouldComponentUpdate",value:function(n,i){var o=n.viewBox,s=kS(n,vTe),a=this.props,l=a.viewBox,c=kS(a,yTe);return!GA(o,l)||!GA(s,c)||!GA(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,o=i.x,s=i.y,a=i.width,l=i.height,c=i.orientation,u=i.tickSize,g=i.mirror,_=i.tickMargin,b,P,E,T,O,L,N=g?-1:1,D=n.tickSize||u,B=Dt(n.tickCoord)?n.tickCoord:n.coordinate;switch(c){case"top":b=P=n.coordinate,T=s+ +!g*l,E=T-N*D,L=E-N*_,O=B;break;case"left":E=T=n.coordinate,P=o+ +!g*a,b=P-N*D,O=b-N*_,L=B;break;case"right":E=T=n.coordinate,P=o+ +g*a,b=P+N*D,O=b+N*_,L=B;break;default:b=P=n.coordinate,T=s+ +g*l,E=T+N*D,L=E+N*_,O=B;break}return{line:{x1:b,y1:E,x2:P,y2:T},tick:{x:O,y:L}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,o=n.mirror,s;switch(i){case"left":s=o?"start":"end";break;case"right":s=o?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,o=n.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=o?"start":"end";break;default:s=o?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,o=n.y,s=n.width,a=n.height,l=n.orientation,c=n.mirror,u=n.axisLine,g=Ws(Ws(Ws({},an(this.props,!1)),an(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var _=+(l==="top"&&!c||l==="bottom"&&c);g=Ws(Ws({},g),{},{x1:i,y1:o+_*a,x2:i+s,y2:o+_*a})}else{var b=+(l==="left"&&!c||l==="right"&&c);g=Ws(Ws({},g),{},{x1:i+b*s,y1:o,x2:i+b*s,y2:o+a})}return Ke.createElement("line",$A({},g,{className:fn("recharts-cartesian-axis-line",Cl(u,"className"))}))}},{key:"renderTicks",value:function(n,i,o){var s=this,a=this.props,l=a.tickLine,c=a.stroke,u=a.tick,g=a.tickFormatter,_=a.unit,b=yk(Ws(Ws({},this.props),{},{ticks:n}),i,o),P=this.getTickTextAnchor(),E=this.getTickVerticalAnchor(),T=an(this.props,!1),O=an(u,!1),L=Ws(Ws({},T),{},{fill:"none"},an(l,!1)),N=b.map(function(D,B){var z=s.getTickLineCoord(D),X=z.line,Z=z.tick,G=Ws(Ws(Ws(Ws({textAnchor:P,verticalAnchor:E},T),{},{stroke:"none",fill:c},O),Z),{},{index:B,payload:D,visibleTicksCount:b.length,tickFormatter:g});return Ke.createElement(Ei,$A({className:"recharts-cartesian-axis-tick",key:"tick-".concat(D.value,"-").concat(D.coordinate,"-").concat(D.tickCoord)},Sy(s.props,D,B)),l&&Ke.createElement("line",$A({},L,X,{className:fn("recharts-cartesian-axis-tick-line",Cl(l,"className"))})),u&&e.renderTickItem(u,G,"".concat(Gr(g)?g(D.value,B):D.value).concat(_||"")))});return Ke.createElement("g",{className:"recharts-cartesian-axis-ticks"},N)}},{key:"render",value:function(){var n=this,i=this.props,o=i.axisLine,s=i.width,a=i.height,l=i.ticksGenerator,c=i.className,u=i.hide;if(u)return null;var g=this.props,_=g.ticks,b=kS(g,bTe),P=_;return Gr(l)&&(P=_&&_.length>0?l(this.props):l(b)),s<=0||a<=0||!P||!P.length?null:Ke.createElement(Ei,{className:fn("recharts-cartesian-axis",c),ref:function(T){n.layerReference=T}},o&&this.renderAxisLine(),this.renderTicks(P,this.state.fontSize,this.state.letterSpacing),Cs.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,o){var s;return Ke.isValidElement(n)?s=Ke.cloneElement(n,i):Gr(n)?s=n(i):s=Ke.createElement(Ly,$A({},i,{className:"recharts-cartesian-axis-tick-value"}),o),s}}])})(Q.Component);bk(cp,"displayName","CartesianAxis");bk(cp,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var kTe=["x1","y1","x2","y2","key"],OTe=["offset"];function Id(t){"@babel/helpers - typeof";return Id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Id(t)}function _B(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ks(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_B(Object(r),!0).forEach(function(n){RTe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_B(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function RTe(t,e,r){return e=ITe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ITe(t){var e=NTe(t,"string");return Id(e)=="symbol"?e:e+""}function NTe(t,e){if(Id(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Id(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function od(){return od=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},od.apply(this,arguments)}function wB(t,e){if(t==null)return{};var r=MTe(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function MTe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var LTe=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,o=e.y,s=e.width,a=e.height,l=e.ry;return Ke.createElement("rect",{x:i,y:o,ry:l,width:s,height:a,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function GH(t,e){var r;if(Ke.isValidElement(t))r=Ke.cloneElement(t,e);else if(Gr(t))r=t(e);else{var n=e.x1,i=e.y1,o=e.x2,s=e.y2,a=e.key,l=wB(e,kTe),c=an(l,!1);c.offset;var u=wB(c,OTe);r=Ke.createElement("line",od({},u,{x1:n,y1:i,x2:o,y2:s,fill:"none",key:a}))}return r}function DTe(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(a,l){var c=ks(ks({},t),{},{x1:e,y1:a,x2:e+r,y2:a,key:"line-".concat(l),index:l});return GH(i,c)});return Ke.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function BTe(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,o=t.verticalPoints;if(!i||!o||!o.length)return null;var s=o.map(function(a,l){var c=ks(ks({},t),{},{x1:a,y1:e,x2:a,y2:e+r,key:"line-".concat(l),index:l});return GH(i,c)});return Ke.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function FTe(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,o=t.width,s=t.height,a=t.horizontalPoints,l=t.horizontal,c=l===void 0?!0:l;if(!c||!e||!e.length)return null;var u=a.map(function(_){return Math.round(_+i-i)}).sort(function(_,b){return _-b});i!==u[0]&&u.unshift(0);var g=u.map(function(_,b){var P=!u[b+1],E=P?i+s-_:u[b+1]-_;if(E<=0)return null;var T=b%e.length;return Ke.createElement("rect",{key:"react-".concat(b),y:_,x:n,height:E,width:o,stroke:"none",fill:e[T],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return Ke.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},g)}function jTe(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,o=t.x,s=t.y,a=t.width,l=t.height,c=t.verticalPoints;if(!r||!n||!n.length)return null;var u=c.map(function(_){return Math.round(_+o-o)}).sort(function(_,b){return _-b});o!==u[0]&&u.unshift(0);var g=u.map(function(_,b){var P=!u[b+1],E=P?o+a-_:u[b+1]-_;if(E<=0)return null;var T=b%n.length;return Ke.createElement("rect",{key:"react-".concat(b),x:_,y:s,width:E,height:l,stroke:"none",fill:n[T],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return Ke.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},g)}var UTe=function(e,r){var n=e.xAxis,i=e.width,o=e.height,s=e.offset;return uH(yk(ks(ks(ks({},cp.defaultProps),n),{},{ticks:Qu(n,!0),viewBox:{x:0,y:0,width:i,height:o}})),s.left,s.left+s.width,r)},$Te=function(e,r){var n=e.yAxis,i=e.width,o=e.height,s=e.offset;return uH(yk(ks(ks(ks({},cp.defaultProps),n),{},{ticks:Qu(n,!0),viewBox:{x:0,y:0,width:i,height:o}})),s.top,s.top+s.height,r)},xA={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function QH(t){var e,r,n,i,o,s,a=pk(),l=gk(),c=CEe(),u=ks(ks({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:xA.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:xA.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:xA.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:xA.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:xA.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:xA.verticalFill,x:Dt(t.x)?t.x:c.left,y:Dt(t.y)?t.y:c.top,width:Dt(t.width)?t.width:c.width,height:Dt(t.height)?t.height:c.height}),g=u.x,_=u.y,b=u.width,P=u.height,E=u.syncWithTicks,T=u.horizontalValues,O=u.verticalValues,L=EEe(),N=TEe();if(!Dt(b)||b<=0||!Dt(P)||P<=0||!Dt(g)||g!==+g||!Dt(_)||_!==+_)return null;var D=u.verticalCoordinatesGenerator||UTe,B=u.horizontalCoordinatesGenerator||$Te,z=u.horizontalPoints,X=u.verticalPoints;if((!z||!z.length)&&Gr(B)){var Z=T&&T.length,G=B({yAxis:N?ks(ks({},N),{},{ticks:Z?T:N.ticks}):void 0,width:a,height:l,offset:c},Z?!0:E);tf(Array.isArray(G),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Id(G),"]")),Array.isArray(G)&&(z=G)}if((!X||!X.length)&&Gr(D)){var de=O&&O.length,H=D({xAxis:L?ks(ks({},L),{},{ticks:de?O:L.ticks}):void 0,width:a,height:l,offset:c},de?!0:E);tf(Array.isArray(H),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Id(H),"]")),Array.isArray(H)&&(X=H)}return Ke.createElement("g",{className:"recharts-cartesian-grid"},Ke.createElement(LTe,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),Ke.createElement(DTe,od({},u,{offset:c,horizontalPoints:z,xAxis:L,yAxis:N})),Ke.createElement(BTe,od({},u,{offset:c,verticalPoints:X,xAxis:L,yAxis:N})),Ke.createElement(FTe,od({},u,{horizontalPoints:z})),Ke.createElement(jTe,od({},u,{verticalPoints:X})))}QH.displayName="CartesianGrid";var zTe=["layout","type","stroke","connectNulls","isRange","ref"],WTe=["key"],ZH;function F0(t){"@babel/helpers - typeof";return F0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F0(t)}function JH(t,e){if(t==null)return{};var r=VTe(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function VTe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function sd(){return sd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sd.apply(this,arguments)}function xB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Yf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xB(Object(r),!0).forEach(function(n){hu(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function HTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SB(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,tq(n.key),n)}}function qTe(t,e,r){return e&&SB(t.prototype,e),r&&SB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function XTe(t,e,r){return e=p2(e),YTe(t,eq()?Reflect.construct(e,r||[],p2(t).constructor):e.apply(t,r))}function YTe(t,e){if(e&&(F0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KTe(t)}function KTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eq=function(){return!!t})()}function p2(t){return p2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},p2(t)}function GTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ST(t,e)}function ST(t,e){return ST=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ST(t,e)}function hu(t,e,r){return e=tq(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tq(t){var e=QTe(t,"string");return F0(e)=="symbol"?e:e+""}function QTe(t,e){if(F0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(F0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Sh=(function(t){function e(){var r;HTe(this,e);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r=XTe(this,e,[].concat(i)),hu(r,"state",{isAnimationFinished:!0}),hu(r,"id",Fm("recharts-area-")),hu(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Gr(s)&&s()}),hu(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Gr(s)&&s()}),r}return GTe(e,t),qTe(e,[{key:"renderDots",value:function(n,i,o){var s=this.props.isAnimationActive,a=this.state.isAnimationFinished;if(s&&!a)return null;var l=this.props,c=l.dot,u=l.points,g=l.dataKey,_=an(this.props,!1),b=an(c,!0),P=u.map(function(T,O){var L=Yf(Yf(Yf({key:"dot-".concat(O),r:3},_),b),{},{index:O,cx:T.x,cy:T.y,dataKey:g,value:T.value,payload:T.payload,points:u});return e.renderDotItem(c,L)}),E={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return Ke.createElement(Ei,sd({className:"recharts-area-dots"},E),P)}},{key:"renderHorizontalRect",value:function(n){var i=this.props,o=i.baseLine,s=i.points,a=i.strokeWidth,l=s[0].x,c=s[s.length-1].x,u=n*Math.abs(l-c),g=nh(s.map(function(_){return _.y||0}));return Dt(o)&&typeof o=="number"?g=Math.max(o,g):o&&Array.isArray(o)&&o.length&&(g=Math.max(nh(o.map(function(_){return _.y||0})),g)),Dt(g)?Ke.createElement("rect",{x:l<c?l:l-u,y:0,width:u,height:Math.floor(g+(a?parseInt("".concat(a),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var i=this.props,o=i.baseLine,s=i.points,a=i.strokeWidth,l=s[0].y,c=s[s.length-1].y,u=n*Math.abs(l-c),g=nh(s.map(function(_){return _.x||0}));return Dt(o)&&typeof o=="number"?g=Math.max(o,g):o&&Array.isArray(o)&&o.length&&(g=Math.max(nh(o.map(function(_){return _.x||0})),g)),Dt(g)?Ke.createElement("rect",{x:0,y:l<c?l:l-u,width:g+(a?parseInt("".concat(a),10):1),height:Math.floor(u)}):null}},{key:"renderClipRect",value:function(n){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,i,o,s){var a=this.props,l=a.layout,c=a.type,u=a.stroke,g=a.connectNulls,_=a.isRange;a.ref;var b=JH(a,zTe);return Ke.createElement(Ei,{clipPath:o?"url(#clipPath-".concat(s,")"):null},Ke.createElement(yg,sd({},an(b,!0),{points:n,connectNulls:g,type:c,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),u!=="none"&&Ke.createElement(yg,sd({},an(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:g,fill:"none",points:n})),u!=="none"&&_&&Ke.createElement(yg,sd({},an(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:g,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(n,i){var o=this,s=this.props,a=s.points,l=s.baseLine,c=s.isAnimationActive,u=s.animationBegin,g=s.animationDuration,_=s.animationEasing,b=s.animationId,P=this.state,E=P.prevPoints,T=P.prevBaseLine;return Ke.createElement(hf,{begin:u,duration:g,isActive:c,easing:_,from:{t:0},to:{t:1},key:"area-".concat(b),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(O){var L=O.t;if(E){var N=E.length/a.length,D=a.map(function(Z,G){var de=Math.floor(G*N);if(E[de]){var H=E[de],ee=_l(H.x,Z.x),ae=_l(H.y,Z.y);return Yf(Yf({},Z),{},{x:ee(L),y:ae(L)})}return Z}),B;if(Dt(l)&&typeof l=="number"){var z=_l(T,l);B=z(L)}else if(un(l)||np(l)){var X=_l(T,0);B=X(L)}else B=l.map(function(Z,G){var de=Math.floor(G*N);if(T[de]){var H=T[de],ee=_l(H.x,Z.x),ae=_l(H.y,Z.y);return Yf(Yf({},Z),{},{x:ee(L),y:ae(L)})}return Z});return o.renderAreaStatically(D,B,n,i)}return Ke.createElement(Ei,null,Ke.createElement("defs",null,Ke.createElement("clipPath",{id:"animationClipPath-".concat(i)},o.renderClipRect(L))),Ke.createElement(Ei,{clipPath:"url(#animationClipPath-".concat(i,")")},o.renderAreaStatically(a,l,n,i)))})}},{key:"renderArea",value:function(n,i){var o=this.props,s=o.points,a=o.baseLine,l=o.isAnimationActive,c=this.state,u=c.prevPoints,g=c.prevBaseLine,_=c.totalLength;return l&&s&&s.length&&(!u&&_>0||!Kg(u,s)||!Kg(g,a))?this.renderAreaWithAnimation(n,i):this.renderAreaStatically(s,a,n,i)}},{key:"render",value:function(){var n,i=this.props,o=i.hide,s=i.dot,a=i.points,l=i.className,c=i.top,u=i.left,g=i.xAxis,_=i.yAxis,b=i.width,P=i.height,E=i.isAnimationActive,T=i.id;if(o||!a||!a.length)return null;var O=this.state.isAnimationFinished,L=a.length===1,N=fn("recharts-area",l),D=g&&g.allowDataOverflow,B=_&&_.allowDataOverflow,z=D||B,X=un(T)?this.id:T,Z=(n=an(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},G=Z.r,de=G===void 0?3:G,H=Z.strokeWidth,ee=H===void 0?2:H,ae=Ame(s)?s:{},le=ae.clipDot,Te=le===void 0?!0:le,te=de*2+ee;return Ke.createElement(Ei,{className:N},D||B?Ke.createElement("defs",null,Ke.createElement("clipPath",{id:"clipPath-".concat(X)},Ke.createElement("rect",{x:D?u:u-b/2,y:B?c:c-P/2,width:D?b:b*2,height:B?P:P*2})),!Te&&Ke.createElement("clipPath",{id:"clipPath-dots-".concat(X)},Ke.createElement("rect",{x:u-te/2,y:c-te/2,width:b+te,height:P+te}))):null,L?null:this.renderArea(z,X),(s||L)&&this.renderDots(z,Te,X),(!E||O)&&ch.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:n.points!==i.curPoints||n.baseLine!==i.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])})(Q.PureComponent);ZH=Sh;hu(Sh,"displayName","Area");hu(Sh,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!op.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});hu(Sh,"getBaseValue",function(t,e,r,n){var i=t.layout,o=t.baseValue,s=e.props.baseValue,a=s??o;if(Dt(a)&&typeof a=="number")return a;var l=i==="horizontal"?n:r,c=l.scale.domain();if(l.type==="number"){var u=Math.max(c[0],c[1]),g=Math.min(c[0],c[1]);return a==="dataMin"?g:a==="dataMax"||u<0?u:Math.max(Math.min(c[0],c[1]),0)}return a==="dataMin"?c[0]:a==="dataMax"?c[1]:c[0]});hu(Sh,"getComposedData",function(t){var e=t.props,r=t.item,n=t.xAxis,i=t.yAxis,o=t.xAxisTicks,s=t.yAxisTicks,a=t.bandSize,l=t.dataKey,c=t.stackedData,u=t.dataStartIndex,g=t.displayedData,_=t.offset,b=e.layout,P=c&&c.length,E=ZH.getBaseValue(e,r,n,i),T=b==="horizontal",O=!1,L=g.map(function(D,B){var z;P?z=c[u+B]:(z=Xa(D,l),Array.isArray(z)?O=!0:z=[E,z]);var X=z[1]==null||P&&Xa(D,l)==null;return T?{x:zD({axis:n,ticks:o,bandSize:a,entry:D,index:B}),y:X?null:i.scale(z[1]),value:z,payload:D}:{x:X?null:n.scale(z[1]),y:zD({axis:i,ticks:s,bandSize:a,entry:D,index:B}),value:z,payload:D}}),N;return P||O?N=L.map(function(D){var B=Array.isArray(D.value)?D.value[0]:null;return T?{x:D.x,y:B!=null&&D.y!=null?i.scale(B):null}:{x:B!=null?n.scale(B):null,y:D.y}}):N=T?i.scale(E):n.scale(E),Yf({points:L,baseLine:N,layout:b,isRange:O},_)});hu(Sh,"renderDotItem",function(t,e){var r;if(Ke.isValidElement(t))r=Ke.cloneElement(t,e);else if(Gr(t))r=t(e);else{var n=fn("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,o=JH(e,WTe);r=Ke.createElement(fk,sd({},o,{key:i,className:n}))}return r});function j0(t){"@babel/helpers - typeof";return j0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j0(t)}function ZTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JTe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,iq(n.key),n)}}function ePe(t,e,r){return e&&JTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function tPe(t,e,r){return e=g2(e),rPe(t,rq()?Reflect.construct(e,r||[],g2(t).constructor):e.apply(t,r))}function rPe(t,e){if(e&&(j0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nPe(t)}function nPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rq=function(){return!!t})()}function g2(t){return g2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},g2(t)}function iPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ET(t,e)}function ET(t,e){return ET=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ET(t,e)}function nq(t,e,r){return e=iq(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iq(t){var e=oPe(t,"string");return j0(e)=="symbol"?e:e+""}function oPe(t,e){if(j0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(j0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function TT(){return TT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},TT.apply(this,arguments)}function sPe(t){var e=t.xAxisId,r=pk(),n=gk(),i=jH(e);return i==null?null:Ke.createElement(cp,TT({},i,{className:fn("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return Qu(s,!0)}}))}var $b=(function(t){function e(){return ZTe(this,e),tPe(this,e,arguments)}return iPe(e,t),ePe(e,[{key:"render",value:function(){return Ke.createElement(sPe,this.props)}}])})(Ke.Component);nq($b,"displayName","XAxis");nq($b,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function U0(t){"@babel/helpers - typeof";return U0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U0(t)}function aPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lPe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,aq(n.key),n)}}function cPe(t,e,r){return e&&lPe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function uPe(t,e,r){return e=m2(e),fPe(t,oq()?Reflect.construct(e,r||[],m2(t).constructor):e.apply(t,r))}function fPe(t,e){if(e&&(U0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hPe(t)}function hPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oq=function(){return!!t})()}function m2(t){return m2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},m2(t)}function dPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&PT(t,e)}function PT(t,e){return PT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},PT(t,e)}function sq(t,e,r){return e=aq(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aq(t){var e=APe(t,"string");return U0(e)=="symbol"?e:e+""}function APe(t,e){if(U0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(U0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function CT(){return CT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},CT.apply(this,arguments)}var pPe=function(e){var r=e.yAxisId,n=pk(),i=gk(),o=UH(r);return o==null?null:Ke.createElement(cp,CT({},o,{className:fn("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(a){return Qu(a,!0)}}))},zb=(function(t){function e(){return aPe(this,e),uPe(this,e,arguments)}return dPe(e,t),cPe(e,[{key:"render",value:function(){return Ke.createElement(pPe,this.props)}}])})(Ke.Component);sq(zb,"displayName","YAxis");sq(zb,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function EB(t){return yPe(t)||vPe(t)||mPe(t)||gPe()}function gPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mPe(t,e){if(t){if(typeof t=="string")return kT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kT(t,e)}}function vPe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yPe(t){if(Array.isArray(t))return kT(t)}function kT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var OT=function(e,r,n,i,o){var s=bc(e,vk),a=bc(e,Fb),l=[].concat(EB(s),EB(a)),c=bc(e,Ub),u="".concat(i,"Id"),g=i[0],_=r;if(l.length&&(_=l.reduce(function(E,T){if(T.props[u]===n&&mu(T.props,"extendDomain")&&Dt(T.props[g])){var O=T.props[g];return[Math.min(E[0],O),Math.max(E[1],O)]}return E},_)),c.length){var b="".concat(g,"1"),P="".concat(g,"2");_=c.reduce(function(E,T){if(T.props[u]===n&&mu(T.props,"extendDomain")&&Dt(T.props[b])&&Dt(T.props[P])){var O=T.props[b],L=T.props[P];return[Math.min(E[0],O,L),Math.max(E[1],O,L)]}return E},_)}return o&&o.length&&(_=o.reduce(function(E,T){return Dt(T)?[Math.min(E[0],T),Math.max(E[1],T)]:E},_)),_},OS={exports:{}},TB;function bPe(){return TB||(TB=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function o(l,c,u,g,_){if(typeof u!="function")throw new TypeError("The listener must be a function");var b=new i(u,g||l,_),P=r?r+c:c;return l._events[P]?l._events[P].fn?l._events[P]=[l._events[P],b]:l._events[P].push(b):(l._events[P]=b,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],u,g;if(this._eventsCount===0)return c;for(g in u=this._events)e.call(u,g)&&c.push(r?g.slice(1):g);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},a.prototype.listeners=function(c){var u=r?r+c:c,g=this._events[u];if(!g)return[];if(g.fn)return[g.fn];for(var _=0,b=g.length,P=new Array(b);_<b;_++)P[_]=g[_].fn;return P},a.prototype.listenerCount=function(c){var u=r?r+c:c,g=this._events[u];return g?g.fn?1:g.length:0},a.prototype.emit=function(c,u,g,_,b,P){var E=r?r+c:c;if(!this._events[E])return!1;var T=this._events[E],O=arguments.length,L,N;if(T.fn){switch(T.once&&this.removeListener(c,T.fn,void 0,!0),O){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,u),!0;case 3:return T.fn.call(T.context,u,g),!0;case 4:return T.fn.call(T.context,u,g,_),!0;case 5:return T.fn.call(T.context,u,g,_,b),!0;case 6:return T.fn.call(T.context,u,g,_,b,P),!0}for(N=1,L=new Array(O-1);N<O;N++)L[N-1]=arguments[N];T.fn.apply(T.context,L)}else{var D=T.length,B;for(N=0;N<D;N++)switch(T[N].once&&this.removeListener(c,T[N].fn,void 0,!0),O){case 1:T[N].fn.call(T[N].context);break;case 2:T[N].fn.call(T[N].context,u);break;case 3:T[N].fn.call(T[N].context,u,g);break;case 4:T[N].fn.call(T[N].context,u,g,_);break;default:if(!L)for(B=1,L=new Array(O-1);B<O;B++)L[B-1]=arguments[B];T[N].fn.apply(T[N].context,L)}}return!0},a.prototype.on=function(c,u,g){return o(this,c,u,g,!1)},a.prototype.once=function(c,u,g){return o(this,c,u,g,!0)},a.prototype.removeListener=function(c,u,g,_){var b=r?r+c:c;if(!this._events[b])return this;if(!u)return s(this,b),this;var P=this._events[b];if(P.fn)P.fn===u&&(!_||P.once)&&(!g||P.context===g)&&s(this,b);else{for(var E=0,T=[],O=P.length;E<O;E++)(P[E].fn!==u||_&&!P[E].once||g&&P[E].context!==g)&&T.push(P[E]);T.length?this._events[b]=T.length===1?T[0]:T:s(this,b)}return this},a.prototype.removeAllListeners=function(c){var u;return c?(u=r?r+c:c,this._events[u]&&s(this,u)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a})(OS)),OS.exports}var _Pe=bPe();const wPe=Ln(_Pe);var RS=new wPe,IS="recharts.syncMouseEvents";function mm(t){"@babel/helpers - typeof";return mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mm(t)}function xPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SPe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,lq(n.key),n)}}function EPe(t,e,r){return e&&SPe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function NS(t,e,r){return e=lq(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lq(t){var e=TPe(t,"string");return mm(e)=="symbol"?e:e+""}function TPe(t,e){if(mm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var PPe=(function(){function t(){xPe(this,t),NS(this,"activeIndex",0),NS(this,"coordinateList",[]),NS(this,"layout","horizontal")}return EPe(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,o=i===void 0?null:i,s=r.container,a=s===void 0?null:s,l=r.layout,c=l===void 0?null:l,u=r.offset,g=u===void 0?null:u,_=r.mouseHandlerCallback,b=_===void 0?null:_;this.coordinateList=(n=o??this.coordinateList)!==null&&n!==void 0?n:[],this.container=a??this.container,this.layout=c??this.layout,this.offset=g??this.offset,this.mouseHandlerCallback=b??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,s=i.y,a=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((r=window)===null||r===void 0?void 0:r.scrollX)||0,u=((n=window)===null||n===void 0?void 0:n.scrollY)||0,g=o+l+c,_=s+this.offset.top+a/2+u;this.mouseHandlerCallback({pageX:g,pageY:_})}}}])})();function CPe(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&Dt(n)&&Dt(i))return!0}return!1}function kPe(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function cq(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,o=t.endAngle,s=rs(e,r,n,i),a=rs(e,r,n,o);return{points:[s,a],cx:e,cy:r,radius:n,startAngle:i,endAngle:o}}function OPe(t,e,r){var n,i,o,s;if(t==="horizontal")n=e.x,o=n,i=r.top,s=r.top+r.height;else if(t==="vertical")i=e.y,s=i,n=r.left,o=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var a=e.cx,l=e.cy,c=e.innerRadius,u=e.outerRadius,g=e.angle,_=rs(a,l,c,g),b=rs(a,l,u,g);n=_.x,i=_.y,o=b.x,s=b.y}else return cq(e);return[{x:n,y:i},{x:o,y:s}]}function vm(t){"@babel/helpers - typeof";return vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vm(t)}function PB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function a1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PB(Object(r),!0).forEach(function(n){RPe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function RPe(t,e,r){return e=IPe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function IPe(t){var e=NPe(t,"string");return vm(e)=="symbol"?e:e+""}function NPe(t,e){if(vm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function MPe(t){var e,r,n=t.element,i=t.tooltipEventType,o=t.isActive,s=t.activeCoordinate,a=t.activePayload,l=t.offset,c=t.activeTooltipIndex,u=t.tooltipAxisBandSize,g=t.layout,_=t.chartName,b=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!b||!o||!s||_!=="ScatterChart"&&i!=="axis")return null;var P,E=yg;if(_==="ScatterChart")P=s,E=LSe;else if(_==="BarChart")P=kPe(g,s,l,u),E=uk;else if(g==="radial"){var T=cq(s),O=T.cx,L=T.cy,N=T.radius,D=T.startAngle,B=T.endAngle;P={cx:O,cy:L,startAngle:D,endAngle:B,innerRadius:N,outerRadius:N},E=pH}else P={points:OPe(g,s,l)},E=yg;var z=a1(a1(a1(a1({stroke:"#ccc",pointerEvents:"none"},l),P),an(b,!1)),{},{payload:a,payloadIndex:c,className:fn("recharts-tooltip-cursor",b.className)});return Q.isValidElement(b)?Q.cloneElement(b,z):Q.createElement(E,z)}var LPe=["item"],DPe=["children","className","width","height","style","compact","title","desc"];function $0(t){"@babel/helpers - typeof";return $0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$0(t)}function zA(){return zA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zA.apply(this,arguments)}function CB(t,e){return jPe(t)||FPe(t,e)||fq(t,e)||BPe()}function BPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FPe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,a=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(l=(n=o.call(r)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function jPe(t){if(Array.isArray(t))return t}function kB(t,e){if(t==null)return{};var r=UPe(t,e),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)n=o[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function UPe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function $Pe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zPe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hq(n.key),n)}}function WPe(t,e,r){return e&&zPe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function VPe(t,e,r){return e=v2(e),HPe(t,uq()?Reflect.construct(e,r||[],v2(t).constructor):e.apply(t,r))}function HPe(t,e){if(e&&($0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qPe(t)}function qPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uq(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uq=function(){return!!t})()}function v2(t){return v2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},v2(t)}function XPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&RT(t,e)}function RT(t,e){return RT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},RT(t,e)}function z0(t){return GPe(t)||KPe(t)||fq(t)||YPe()}function YPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fq(t,e){if(t){if(typeof t=="string")return IT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IT(t,e)}}function KPe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function GPe(t){if(Array.isArray(t))return IT(t)}function IT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function OB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OB(Object(r),!0).forEach(function(n){Or(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Or(t,e,r){return e=hq(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hq(t){var e=QPe(t,"string");return $0(e)=="symbol"?e:e+""}function QPe(t,e){if($0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ZPe={xAxis:["bottom","top"],yAxis:["left","right"]},JPe={width:"100%",height:"100%"},dq={x:0,y:0};function l1(t){return t}var eCe=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},tCe=function(e,r,n,i){var o=r.find(function(u){return u&&u.index===n});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var s=o.coordinate,a=i.radius;return mt(mt(mt({},i),rs(i.cx,i.cy,a,s)),{},{angle:s,radius:a})}var l=o.coordinate,c=i.angle;return mt(mt(mt({},i),rs(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return dq},Wb=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,o=r.dataEndIndex,s=(n??[]).reduce(function(a,l){var c=l.props.data;return c&&c.length?[].concat(z0(a),z0(c)):a},[]);return s.length>0?s:e&&e.length&&Dt(i)&&Dt(o)?e.slice(i,o+1):[]};function Aq(t){return t==="number"?[0,"auto"]:void 0}var NT=function(e,r,n,i){var o=e.graphicalItems,s=e.tooltipAxis,a=Wb(r,e);return n<0||!o||!o.length||n>=a.length?null:o.reduce(function(l,c){var u,g=(u=c.props.data)!==null&&u!==void 0?u:r;g&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(g=g.slice(e.dataStartIndex,e.dataEndIndex+1));var _;if(s.dataKey&&!s.allowDuplicatedCategory){var b=g===void 0?a:g;_=wy(b,s.dataKey,i)}else _=g&&g[n]||a[n];return _?[].concat(z0(l),[hH(c,_)]):l},[])},RB=function(e,r,n,i){var o=i||{x:e.chartX,y:e.chartY},s=eCe(o,n),a=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,u=Axe(s,a,c,l);if(u>=0&&c){var g=c[u]&&c[u].value,_=NT(e,r,u,g),b=tCe(n,a,u,o);return{activeTooltipIndex:u,activeLabel:g,activePayload:_,activeCoordinate:b}}return null},rCe=function(e,r){var n=r.axes,i=r.graphicalItems,o=r.axisType,s=r.axisIdKey,a=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=e.layout,g=e.children,_=e.stackOffset,b=cH(u,o);return n.reduce(function(P,E){var T,O=E.type.defaultProps!==void 0?mt(mt({},E.type.defaultProps),E.props):E.props,L=O.type,N=O.dataKey,D=O.allowDataOverflow,B=O.allowDuplicatedCategory,z=O.scale,X=O.ticks,Z=O.includeHidden,G=O[s];if(P[G])return P;var de=Wb(e.data,{graphicalItems:i.filter(function($){var ne,pe=s in $.props?$.props[s]:(ne=$.type.defaultProps)===null||ne===void 0?void 0:ne[s];return pe===G}),dataStartIndex:l,dataEndIndex:c}),H=de.length,ee,ae,le;CPe(O.domain,D,L)&&(ee=ZE(O.domain,null,D),b&&(L==="number"||z!=="auto")&&(le=vg(de,N,"category")));var Te=Aq(L);if(!ee||ee.length===0){var te,oe=(te=O.domain)!==null&&te!==void 0?te:Te;if(N){if(ee=vg(de,N,L),L==="category"&&b){var K=ome(ee);B&&K?(ae=ee,ee=o2(0,H)):B||(ee=qD(oe,ee,E).reduce(function($,ne){return $.indexOf(ne)>=0?$:[].concat(z0($),[ne])},[]))}else if(L==="category")B?ee=ee.filter(function($){return $!==""&&!un($)}):ee=qD(oe,ee,E).reduce(function($,ne){return $.indexOf(ne)>=0||ne===""||un(ne)?$:[].concat(z0($),[ne])},[]);else if(L==="number"){var ge=yxe(de,i.filter(function($){var ne,pe,be=s in $.props?$.props[s]:(ne=$.type.defaultProps)===null||ne===void 0?void 0:ne[s],Ie="hide"in $.props?$.props.hide:(pe=$.type.defaultProps)===null||pe===void 0?void 0:pe.hide;return be===G&&(Z||!Ie)}),N,o,u);ge&&(ee=ge)}b&&(L==="number"||z!=="auto")&&(le=vg(de,N,"category"))}else b?ee=o2(0,H):a&&a[G]&&a[G].hasStack&&L==="number"?ee=_==="expand"?[0,1]:fH(a[G].stackGroups,l,c):ee=lH(de,i.filter(function($){var ne=s in $.props?$.props[s]:$.type.defaultProps[s],pe="hide"in $.props?$.props.hide:$.type.defaultProps.hide;return ne===G&&(Z||!pe)}),L,u,!0);if(L==="number")ee=OT(g,ee,G,o,X),oe&&(ee=ZE(oe,ee,D));else if(L==="category"&&oe){var Ee=oe,se=ee.every(function($){return Ee.indexOf($)>=0});se&&(ee=Ee)}}return mt(mt({},P),{},Or({},G,mt(mt({},O),{},{axisType:o,domain:ee,categoricalDomain:le,duplicateDomain:ae,originalDomain:(T=O.domain)!==null&&T!==void 0?T:Te,isCategorical:b,layout:u})))},{})},nCe=function(e,r){var n=r.graphicalItems,i=r.Axis,o=r.axisType,s=r.axisIdKey,a=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=e.layout,g=e.children,_=Wb(e.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:c}),b=_.length,P=cH(u,o),E=-1;return n.reduce(function(T,O){var L=O.type.defaultProps!==void 0?mt(mt({},O.type.defaultProps),O.props):O.props,N=L[s],D=Aq("number");if(!T[N]){E++;var B;return P?B=o2(0,b):a&&a[N]&&a[N].hasStack?(B=fH(a[N].stackGroups,l,c),B=OT(g,B,N,o)):(B=ZE(D,lH(_,n.filter(function(z){var X,Z,G=s in z.props?z.props[s]:(X=z.type.defaultProps)===null||X===void 0?void 0:X[s],de="hide"in z.props?z.props.hide:(Z=z.type.defaultProps)===null||Z===void 0?void 0:Z.hide;return G===N&&!de}),"number",u),i.defaultProps.allowDataOverflow),B=OT(g,B,N,o)),mt(mt({},T),{},Or({},N,mt(mt({axisType:o},i.defaultProps),{},{hide:!0,orientation:Cl(ZPe,"".concat(o,".").concat(E%2),null),domain:B,originalDomain:D,isCategorical:P,layout:u})))}return T},{})},iCe=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,o=r.AxisComp,s=r.graphicalItems,a=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=e.children,g="".concat(i,"Id"),_=bc(u,o),b={};return _&&_.length?b=rCe(e,{axes:_,graphicalItems:s,axisType:i,axisIdKey:g,stackGroups:a,dataStartIndex:l,dataEndIndex:c}):s&&s.length&&(b=nCe(e,{Axis:o,graphicalItems:s,axisType:i,axisIdKey:g,stackGroups:a,dataStartIndex:l,dataEndIndex:c})),b},oCe=function(e){var r=Zf(e),n=Qu(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:BC(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Ky(r,n)}},IB=function(e){var r=e.children,n=e.defaultShowTooltip,i=ja(r,I0),o=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},sCe=function(e){return!e||!e.length?!1:e.some(function(r){var n=ef(r&&r.type);return n&&n.indexOf("Bar")>=0})},NB=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},aCe=function(e,r){var n=e.props,i=e.graphicalItems,o=e.xAxisMap,s=o===void 0?{}:o,a=e.yAxisMap,l=a===void 0?{}:a,c=n.width,u=n.height,g=n.children,_=n.margin||{},b=ja(g,I0),P=ja(g,QA),E=Object.keys(l).reduce(function(B,z){var X=l[z],Z=X.orientation;return!X.mirror&&!X.hide?mt(mt({},B),{},Or({},Z,B[Z]+X.width)):B},{left:_.left||0,right:_.right||0}),T=Object.keys(s).reduce(function(B,z){var X=s[z],Z=X.orientation;return!X.mirror&&!X.hide?mt(mt({},B),{},Or({},Z,Cl(B,"".concat(Z))+X.height)):B},{top:_.top||0,bottom:_.bottom||0}),O=mt(mt({},T),E),L=O.bottom;b&&(O.bottom+=b.props.height||I0.defaultProps.height),P&&r&&(O=mxe(O,i,n,r));var N=c-O.left-O.right,D=u-O.top-O.bottom;return mt(mt({brushBottom:L},O),{},{width:Math.max(N,0),height:Math.max(D,0)})},lCe=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},cCe=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,s=e.validateTooltipEventTypes,a=s===void 0?["axis"]:s,l=e.axisComponents,c=e.legendContent,u=e.formatAxisMap,g=e.defaultProps,_=function(O,L){var N=L.graphicalItems,D=L.stackGroups,B=L.offset,z=L.updateId,X=L.dataStartIndex,Z=L.dataEndIndex,G=O.barSize,de=O.layout,H=O.barGap,ee=O.barCategoryGap,ae=O.maxBarSize,le=NB(de),Te=le.numericAxisName,te=le.cateAxisName,oe=sCe(N),K=[];return N.forEach(function(ge,Ee){var se=Wb(O.data,{graphicalItems:[ge],dataStartIndex:X,dataEndIndex:Z}),$=ge.type.defaultProps!==void 0?mt(mt({},ge.type.defaultProps),ge.props):ge.props,ne=$.dataKey,pe=$.maxBarSize,be=$["".concat(Te,"Id")],Ie=$["".concat(te,"Id")],De={},$e=l.reduce(function(It,qt){var Zt=L["".concat(qt.axisType,"Map")],Hr=$["".concat(qt.axisType,"Id")];Zt&&Zt[Hr]||qt.axisType==="zAxis"||Rd();var jr=Zt[Hr];return mt(mt({},It),{},Or(Or({},qt.axisType,jr),"".concat(qt.axisType,"Ticks"),Qu(jr)))},De),Le=$e[te],We=$e["".concat(te,"Ticks")],ft=D&&D[be]&&D[be].hasStack&&Rxe(ge,D[be].stackGroups),tt=ef(ge.type).indexOf("Bar")>=0,xt=Ky(Le,We),Tt=[],xe=oe&&pxe({barSize:G,stackGroups:D,totalSize:lCe($e,te)});if(tt){var At,Vt,$t=un(pe)?ae:pe,bt=(At=(Vt=Ky(Le,We,!0))!==null&&Vt!==void 0?Vt:$t)!==null&&At!==void 0?At:0;Tt=gxe({barGap:H,barCategoryGap:ee,bandSize:bt!==xt?bt:xt,sizeList:xe[Ie],maxBarSize:$t}),bt!==xt&&(Tt=Tt.map(function(It){return mt(mt({},It),{},{position:mt(mt({},It.position),{},{offset:It.position.offset-bt/2})})}))}var Qt=ge&&ge.type&&ge.type.getComposedData;Qt&&K.push({props:mt(mt({},Qt(mt(mt({},$e),{},{displayedData:se,props:O,dataKey:ne,item:ge,bandSize:xt,barPosition:Tt,offset:B,stackedData:ft,layout:de,dataStartIndex:X,dataEndIndex:Z}))),{},Or(Or(Or({key:ge.key||"item-".concat(Ee)},Te,$e[Te]),te,$e[te]),"animationId",z)),childIndex:mme(ge,O.children),item:ge})}),K},b=function(O,L){var N=O.props,D=O.dataStartIndex,B=O.dataEndIndex,z=O.updateId;if(!s8({props:N}))return null;var X=N.children,Z=N.layout,G=N.stackOffset,de=N.data,H=N.reverseStackOrder,ee=NB(Z),ae=ee.numericAxisName,le=ee.cateAxisName,Te=bc(X,n),te=Cxe(de,Te,"".concat(ae,"Id"),"".concat(le,"Id"),G,H),oe=l.reduce(function($,ne){var pe="".concat(ne.axisType,"Map");return mt(mt({},$),{},Or({},pe,iCe(N,mt(mt({},ne),{},{graphicalItems:Te,stackGroups:ne.axisType===ae&&te,dataStartIndex:D,dataEndIndex:B}))))},{}),K=aCe(mt(mt({},oe),{},{props:N,graphicalItems:Te}),L==null?void 0:L.legendBBox);Object.keys(oe).forEach(function($){oe[$]=u(N,oe[$],K,$.replace("Map",""),r)});var ge=oe["".concat(le,"Map")],Ee=oCe(ge),se=_(N,mt(mt({},oe),{},{dataStartIndex:D,dataEndIndex:B,updateId:z,graphicalItems:Te,stackGroups:te,offset:K}));return mt(mt({formattedGraphicalItems:se,graphicalItems:Te,offset:K,stackGroups:te},Ee),oe)},P=(function(T){function O(L){var N,D,B;return $Pe(this,O),B=VPe(this,O,[L]),Or(B,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Or(B,"accessibilityManager",new PPe),Or(B,"handleLegendBBoxUpdate",function(z){if(z){var X=B.state,Z=X.dataStartIndex,G=X.dataEndIndex,de=X.updateId;B.setState(mt({legendBBox:z},b({props:B.props,dataStartIndex:Z,dataEndIndex:G,updateId:de},mt(mt({},B.state),{},{legendBBox:z}))))}}),Or(B,"handleReceiveSyncEvent",function(z,X,Z){if(B.props.syncId===z){if(Z===B.eventEmitterSymbol&&typeof B.props.syncMethod!="function")return;B.applySyncEvent(X)}}),Or(B,"handleBrushChange",function(z){var X=z.startIndex,Z=z.endIndex;if(X!==B.state.dataStartIndex||Z!==B.state.dataEndIndex){var G=B.state.updateId;B.setState(function(){return mt({dataStartIndex:X,dataEndIndex:Z},b({props:B.props,dataStartIndex:X,dataEndIndex:Z,updateId:G},B.state))}),B.triggerSyncEvent({dataStartIndex:X,dataEndIndex:Z})}}),Or(B,"handleMouseEnter",function(z){var X=B.getMouseInfo(z);if(X){var Z=mt(mt({},X),{},{isTooltipActive:!0});B.setState(Z),B.triggerSyncEvent(Z);var G=B.props.onMouseEnter;Gr(G)&&G(Z,z)}}),Or(B,"triggeredAfterMouseMove",function(z){var X=B.getMouseInfo(z),Z=X?mt(mt({},X),{},{isTooltipActive:!0}):{isTooltipActive:!1};B.setState(Z),B.triggerSyncEvent(Z);var G=B.props.onMouseMove;Gr(G)&&G(Z,z)}),Or(B,"handleItemMouseEnter",function(z){B.setState(function(){return{isTooltipActive:!0,activeItem:z,activePayload:z.tooltipPayload,activeCoordinate:z.tooltipPosition||{x:z.cx,y:z.cy}}})}),Or(B,"handleItemMouseLeave",function(){B.setState(function(){return{isTooltipActive:!1}})}),Or(B,"handleMouseMove",function(z){z.persist(),B.throttleTriggeredAfterMouseMove(z)}),Or(B,"handleMouseLeave",function(z){B.throttleTriggeredAfterMouseMove.cancel();var X={isTooltipActive:!1};B.setState(X),B.triggerSyncEvent(X);var Z=B.props.onMouseLeave;Gr(Z)&&Z(X,z)}),Or(B,"handleOuterEvent",function(z){var X=gme(z),Z=Cl(B.props,"".concat(X));if(X&&Gr(Z)){var G,de;/.*touch.*/i.test(X)?de=B.getMouseInfo(z.changedTouches[0]):de=B.getMouseInfo(z),Z((G=de)!==null&&G!==void 0?G:{},z)}}),Or(B,"handleClick",function(z){var X=B.getMouseInfo(z);if(X){var Z=mt(mt({},X),{},{isTooltipActive:!0});B.setState(Z),B.triggerSyncEvent(Z);var G=B.props.onClick;Gr(G)&&G(Z,z)}}),Or(B,"handleMouseDown",function(z){var X=B.props.onMouseDown;if(Gr(X)){var Z=B.getMouseInfo(z);X(Z,z)}}),Or(B,"handleMouseUp",function(z){var X=B.props.onMouseUp;if(Gr(X)){var Z=B.getMouseInfo(z);X(Z,z)}}),Or(B,"handleTouchMove",function(z){z.changedTouches!=null&&z.changedTouches.length>0&&B.throttleTriggeredAfterMouseMove(z.changedTouches[0])}),Or(B,"handleTouchStart",function(z){z.changedTouches!=null&&z.changedTouches.length>0&&B.handleMouseDown(z.changedTouches[0])}),Or(B,"handleTouchEnd",function(z){z.changedTouches!=null&&z.changedTouches.length>0&&B.handleMouseUp(z.changedTouches[0])}),Or(B,"handleDoubleClick",function(z){var X=B.props.onDoubleClick;if(Gr(X)){var Z=B.getMouseInfo(z);X(Z,z)}}),Or(B,"handleContextMenu",function(z){var X=B.props.onContextMenu;if(Gr(X)){var Z=B.getMouseInfo(z);X(Z,z)}}),Or(B,"triggerSyncEvent",function(z){B.props.syncId!==void 0&&RS.emit(IS,B.props.syncId,z,B.eventEmitterSymbol)}),Or(B,"applySyncEvent",function(z){var X=B.props,Z=X.layout,G=X.syncMethod,de=B.state.updateId,H=z.dataStartIndex,ee=z.dataEndIndex;if(z.dataStartIndex!==void 0||z.dataEndIndex!==void 0)B.setState(mt({dataStartIndex:H,dataEndIndex:ee},b({props:B.props,dataStartIndex:H,dataEndIndex:ee,updateId:de},B.state)));else if(z.activeTooltipIndex!==void 0){var ae=z.chartX,le=z.chartY,Te=z.activeTooltipIndex,te=B.state,oe=te.offset,K=te.tooltipTicks;if(!oe)return;if(typeof G=="function")Te=G(K,z);else if(G==="value"){Te=-1;for(var ge=0;ge<K.length;ge++)if(K[ge].value===z.activeLabel){Te=ge;break}}var Ee=mt(mt({},oe),{},{x:oe.left,y:oe.top}),se=Math.min(ae,Ee.x+Ee.width),$=Math.min(le,Ee.y+Ee.height),ne=K[Te]&&K[Te].value,pe=NT(B.state,B.props.data,Te),be=K[Te]?{x:Z==="horizontal"?K[Te].coordinate:se,y:Z==="horizontal"?$:K[Te].coordinate}:dq;B.setState(mt(mt({},z),{},{activeLabel:ne,activeCoordinate:be,activePayload:pe,activeTooltipIndex:Te}))}else B.setState(z)}),Or(B,"renderCursor",function(z){var X,Z=B.state,G=Z.isTooltipActive,de=Z.activeCoordinate,H=Z.activePayload,ee=Z.offset,ae=Z.activeTooltipIndex,le=Z.tooltipAxisBandSize,Te=B.getTooltipEventType(),te=(X=z.props.active)!==null&&X!==void 0?X:G,oe=B.props.layout,K=z.key||"_recharts-cursor";return Ke.createElement(MPe,{key:K,activeCoordinate:de,activePayload:H,activeTooltipIndex:ae,chartName:r,element:z,isActive:te,layout:oe,offset:ee,tooltipAxisBandSize:le,tooltipEventType:Te})}),Or(B,"renderPolarAxis",function(z,X,Z){var G=Cl(z,"type.axisType"),de=Cl(B.state,"".concat(G,"Map")),H=z.type.defaultProps,ee=H!==void 0?mt(mt({},H),z.props):z.props,ae=de&&de[ee["".concat(G,"Id")]];return Q.cloneElement(z,mt(mt({},ae),{},{className:fn(G,ae.className),key:z.key||"".concat(X,"-").concat(Z),ticks:Qu(ae,!0)}))}),Or(B,"renderPolarGrid",function(z){var X=z.props,Z=X.radialLines,G=X.polarAngles,de=X.polarRadius,H=B.state,ee=H.radiusAxisMap,ae=H.angleAxisMap,le=Zf(ee),Te=Zf(ae),te=Te.cx,oe=Te.cy,K=Te.innerRadius,ge=Te.outerRadius;return Q.cloneElement(z,{polarAngles:Array.isArray(G)?G:Qu(Te,!0).map(function(Ee){return Ee.coordinate}),polarRadius:Array.isArray(de)?de:Qu(le,!0).map(function(Ee){return Ee.coordinate}),cx:te,cy:oe,innerRadius:K,outerRadius:ge,key:z.key||"polar-grid",radialLines:Z})}),Or(B,"renderLegend",function(){var z=B.state.formattedGraphicalItems,X=B.props,Z=X.children,G=X.width,de=X.height,H=B.props.margin||{},ee=G-(H.left||0)-(H.right||0),ae=sH({children:Z,formattedGraphicalItems:z,legendWidth:ee,legendContent:c});if(!ae)return null;var le=ae.item,Te=kB(ae,LPe);return Q.cloneElement(le,mt(mt({},Te),{},{chartWidth:G,chartHeight:de,margin:H,onBBoxUpdate:B.handleLegendBBoxUpdate}))}),Or(B,"renderTooltip",function(){var z,X=B.props,Z=X.children,G=X.accessibilityLayer,de=ja(Z,ou);if(!de)return null;var H=B.state,ee=H.isTooltipActive,ae=H.activeCoordinate,le=H.activePayload,Te=H.activeLabel,te=H.offset,oe=(z=de.props.active)!==null&&z!==void 0?z:ee;return Q.cloneElement(de,{viewBox:mt(mt({},te),{},{x:te.left,y:te.top}),active:oe,label:Te,payload:oe?le:[],coordinate:ae,accessibilityLayer:G})}),Or(B,"renderBrush",function(z){var X=B.props,Z=X.margin,G=X.data,de=B.state,H=de.offset,ee=de.dataStartIndex,ae=de.dataEndIndex,le=de.updateId;return Q.cloneElement(z,{key:z.key||"_recharts-brush",onChange:n1(B.handleBrushChange,z.props.onChange),data:G,x:Dt(z.props.x)?z.props.x:H.left,y:Dt(z.props.y)?z.props.y:H.top+H.height+H.brushBottom-(Z.bottom||0),width:Dt(z.props.width)?z.props.width:H.width,startIndex:ee,endIndex:ae,updateId:"brush-".concat(le)})}),Or(B,"renderReferenceElement",function(z,X,Z){if(!z)return null;var G=B,de=G.clipPathId,H=B.state,ee=H.xAxisMap,ae=H.yAxisMap,le=H.offset,Te=z.type.defaultProps||{},te=z.props,oe=te.xAxisId,K=oe===void 0?Te.xAxisId:oe,ge=te.yAxisId,Ee=ge===void 0?Te.yAxisId:ge;return Q.cloneElement(z,{key:z.key||"".concat(X,"-").concat(Z),xAxis:ee[K],yAxis:ae[Ee],viewBox:{x:le.left,y:le.top,width:le.width,height:le.height},clipPathId:de})}),Or(B,"renderActivePoints",function(z){var X=z.item,Z=z.activePoint,G=z.basePoint,de=z.childIndex,H=z.isRange,ee=[],ae=X.props.key,le=X.item.type.defaultProps!==void 0?mt(mt({},X.item.type.defaultProps),X.item.props):X.item.props,Te=le.activeDot,te=le.dataKey,oe=mt(mt({index:de,dataKey:te,cx:Z.x,cy:Z.y,r:4,fill:ck(X.item),strokeWidth:2,stroke:"#fff",payload:Z.payload,value:Z.value},an(Te,!1)),xy(Te));return ee.push(O.renderActiveDot(Te,oe,"".concat(ae,"-activePoint-").concat(de))),G?ee.push(O.renderActiveDot(Te,mt(mt({},oe),{},{cx:G.x,cy:G.y}),"".concat(ae,"-basePoint-").concat(de))):H&&ee.push(null),ee}),Or(B,"renderGraphicChild",function(z,X,Z){var G=B.filterFormatItem(z,X,Z);if(!G)return null;var de=B.getTooltipEventType(),H=B.state,ee=H.isTooltipActive,ae=H.tooltipAxis,le=H.activeTooltipIndex,Te=H.activeLabel,te=B.props.children,oe=ja(te,ou),K=G.props,ge=K.points,Ee=K.isRange,se=K.baseLine,$=G.item.type.defaultProps!==void 0?mt(mt({},G.item.type.defaultProps),G.item.props):G.item.props,ne=$.activeDot,pe=$.hide,be=$.activeBar,Ie=$.activeShape,De=!!(!pe&&ee&&oe&&(ne||be||Ie)),$e={};de!=="axis"&&oe&&oe.props.trigger==="click"?$e={onClick:n1(B.handleItemMouseEnter,z.props.onClick)}:de!=="axis"&&($e={onMouseLeave:n1(B.handleItemMouseLeave,z.props.onMouseLeave),onMouseEnter:n1(B.handleItemMouseEnter,z.props.onMouseEnter)});var Le=Q.cloneElement(z,mt(mt({},G.props),$e));function We(qt){return typeof ae.dataKey=="function"?ae.dataKey(qt.payload):null}if(De)if(le>=0){var ft,tt;if(ae.dataKey&&!ae.allowDuplicatedCategory){var xt=typeof ae.dataKey=="function"?We:"payload.".concat(ae.dataKey.toString());ft=wy(ge,xt,Te),tt=Ee&&se&&wy(se,xt,Te)}else ft=ge==null?void 0:ge[le],tt=Ee&&se&&se[le];if(Ie||be){var Tt=z.props.activeIndex!==void 0?z.props.activeIndex:le;return[Q.cloneElement(z,mt(mt(mt({},G.props),$e),{},{activeIndex:Tt})),null,null]}if(!un(ft))return[Le].concat(z0(B.renderActivePoints({item:G,activePoint:ft,basePoint:tt,childIndex:le,isRange:Ee})))}else{var xe,At=(xe=B.getItemByXY(B.state.activeCoordinate))!==null&&xe!==void 0?xe:{graphicalItem:Le},Vt=At.graphicalItem,$t=Vt.item,bt=$t===void 0?z:$t,Qt=Vt.childIndex,It=mt(mt(mt({},G.props),$e),{},{activeIndex:Qt});return[Q.cloneElement(bt,It),null,null]}return Ee?[Le,null,null]:[Le,null]}),Or(B,"renderCustomized",function(z,X,Z){return Q.cloneElement(z,mt(mt({key:"recharts-customized-".concat(Z)},B.props),B.state))}),Or(B,"renderMap",{CartesianGrid:{handler:l1,once:!0},ReferenceArea:{handler:B.renderReferenceElement},ReferenceLine:{handler:l1},ReferenceDot:{handler:B.renderReferenceElement},XAxis:{handler:l1},YAxis:{handler:l1},Brush:{handler:B.renderBrush,once:!0},Bar:{handler:B.renderGraphicChild},Line:{handler:B.renderGraphicChild},Area:{handler:B.renderGraphicChild},Radar:{handler:B.renderGraphicChild},RadialBar:{handler:B.renderGraphicChild},Scatter:{handler:B.renderGraphicChild},Pie:{handler:B.renderGraphicChild},Funnel:{handler:B.renderGraphicChild},Tooltip:{handler:B.renderCursor,once:!0},PolarGrid:{handler:B.renderPolarGrid,once:!0},PolarAngleAxis:{handler:B.renderPolarAxis},PolarRadiusAxis:{handler:B.renderPolarAxis},Customized:{handler:B.renderCustomized}}),B.clipPathId="".concat((N=L.id)!==null&&N!==void 0?N:Fm("recharts"),"-clip"),B.throttleTriggeredAfterMouseMove=oV(B.triggeredAfterMouseMove,(D=L.throttleDelay)!==null&&D!==void 0?D:1e3/60),B.state={},B}return XPe(O,T),WPe(O,[{key:"componentDidMount",value:function(){var N,D;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(D=this.props.margin.top)!==null&&D!==void 0?D:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var N=this.props,D=N.children,B=N.data,z=N.height,X=N.layout,Z=ja(D,ou);if(Z){var G=Z.props.defaultIndex;if(!(typeof G!="number"||G<0||G>this.state.tooltipTicks.length-1)){var de=this.state.tooltipTicks[G]&&this.state.tooltipTicks[G].value,H=NT(this.state,B,G,de),ee=this.state.tooltipTicks[G].coordinate,ae=(this.state.offset.top+z)/2,le=X==="horizontal",Te=le?{x:ee,y:ae}:{y:ee,x:ae},te=this.state.formattedGraphicalItems.find(function(K){var ge=K.item;return ge.type.name==="Scatter"});te&&(Te=mt(mt({},Te),te.props.points[G].tooltipPosition),H=te.props.points[G].tooltipPayload);var oe={activeTooltipIndex:G,isTooltipActive:!0,activeLabel:de,activePayload:H,activeCoordinate:Te};this.setState(oe),this.renderCursor(Z),this.accessibilityManager.setIndex(G)}}}},{key:"getSnapshotBeforeUpdate",value:function(N,D){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==D.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==N.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==N.margin){var B,z;this.accessibilityManager.setDetails({offset:{left:(B=this.props.margin.left)!==null&&B!==void 0?B:0,top:(z=this.props.margin.top)!==null&&z!==void 0?z:0}})}return null}},{key:"componentDidUpdate",value:function(N){bE([ja(N.children,ou)],[ja(this.props.children,ou)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var N=ja(this.props.children,ou);if(N&&typeof N.props.shared=="boolean"){var D=N.props.shared?"axis":"item";return a.indexOf(D)>=0?D:o}return o}},{key:"getMouseInfo",value:function(N){if(!this.container)return null;var D=this.container,B=D.getBoundingClientRect(),z=i2e(B),X={chartX:Math.round(N.pageX-z.left),chartY:Math.round(N.pageY-z.top)},Z=B.width/D.offsetWidth||1,G=this.inRange(X.chartX,X.chartY,Z);if(!G)return null;var de=this.state,H=de.xAxisMap,ee=de.yAxisMap,ae=this.getTooltipEventType(),le=RB(this.state,this.props.data,this.props.layout,G);if(ae!=="axis"&&H&&ee){var Te=Zf(H).scale,te=Zf(ee).scale,oe=Te&&Te.invert?Te.invert(X.chartX):null,K=te&&te.invert?te.invert(X.chartY):null;return mt(mt({},X),{},{xValue:oe,yValue:K},le)}return le?mt(mt({},X),le):null}},{key:"inRange",value:function(N,D){var B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,z=this.props.layout,X=N/B,Z=D/B;if(z==="horizontal"||z==="vertical"){var G=this.state.offset,de=X>=G.left&&X<=G.left+G.width&&Z>=G.top&&Z<=G.top+G.height;return de?{x:X,y:Z}:null}var H=this.state,ee=H.angleAxisMap,ae=H.radiusAxisMap;if(ee&&ae){var le=Zf(ee);return KD({x:X,y:Z},le)}return null}},{key:"parseEventsOfWrapper",value:function(){var N=this.props.children,D=this.getTooltipEventType(),B=ja(N,ou),z={};B&&D==="axis"&&(B.props.trigger==="click"?z={onClick:this.handleClick}:z={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var X=xy(this.props,this.handleOuterEvent);return mt(mt({},X),z)}},{key:"addListener",value:function(){RS.on(IS,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){RS.removeListener(IS,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(N,D,B){for(var z=this.state.formattedGraphicalItems,X=0,Z=z.length;X<Z;X++){var G=z[X];if(G.item===N||G.props.key===N.key||D===ef(G.item.type)&&B===G.childIndex)return G}return null}},{key:"renderClipPath",value:function(){var N=this.clipPathId,D=this.state.offset,B=D.left,z=D.top,X=D.height,Z=D.width;return Ke.createElement("defs",null,Ke.createElement("clipPath",{id:N},Ke.createElement("rect",{x:B,y:z,height:X,width:Z})))}},{key:"getXScales",value:function(){var N=this.state.xAxisMap;return N?Object.entries(N).reduce(function(D,B){var z=CB(B,2),X=z[0],Z=z[1];return mt(mt({},D),{},Or({},X,Z.scale))},{}):null}},{key:"getYScales",value:function(){var N=this.state.yAxisMap;return N?Object.entries(N).reduce(function(D,B){var z=CB(B,2),X=z[0],Z=z[1];return mt(mt({},D),{},Or({},X,Z.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(N){var D;return(D=this.state.xAxisMap)===null||D===void 0||(D=D[N])===null||D===void 0?void 0:D.scale}},{key:"getYScaleByAxisId",value:function(N){var D;return(D=this.state.yAxisMap)===null||D===void 0||(D=D[N])===null||D===void 0?void 0:D.scale}},{key:"getItemByXY",value:function(N){var D=this.state,B=D.formattedGraphicalItems,z=D.activeItem;if(B&&B.length)for(var X=0,Z=B.length;X<Z;X++){var G=B[X],de=G.props,H=G.item,ee=H.type.defaultProps!==void 0?mt(mt({},H.type.defaultProps),H.props):H.props,ae=ef(H.type);if(ae==="Bar"){var le=(de.data||[]).find(function(K){return ESe(N,K)});if(le)return{graphicalItem:G,payload:le}}else if(ae==="RadialBar"){var Te=(de.data||[]).find(function(K){return KD(N,K)});if(Te)return{graphicalItem:G,payload:Te}}else if(Mb(G,z)||Lb(G,z)||hm(G,z)){var te=p4e({graphicalItem:G,activeTooltipItem:z,itemData:ee.data}),oe=ee.activeIndex===void 0?te:ee.activeIndex;return{graphicalItem:mt(mt({},G),{},{childIndex:oe}),payload:hm(G,z)?ee.data[te]:G.props.data[te]}}}return null}},{key:"render",value:function(){var N=this;if(!s8(this))return null;var D=this.props,B=D.children,z=D.className,X=D.width,Z=D.height,G=D.style,de=D.compact,H=D.title,ee=D.desc,ae=kB(D,DPe),le=an(ae,!1);if(de)return Ke.createElement(uB,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Ke.createElement(wE,zA({},le,{width:X,height:Z,title:H,desc:ee}),this.renderClipPath(),l8(B,this.renderMap)));if(this.props.accessibilityLayer){var Te,te;le.tabIndex=(Te=this.props.tabIndex)!==null&&Te!==void 0?Te:0,le.role=(te=this.props.role)!==null&&te!==void 0?te:"application",le.onKeyDown=function(K){N.accessibilityManager.keyboardEvent(K)},le.onFocus=function(){N.accessibilityManager.focus()}}var oe=this.parseEventsOfWrapper();return Ke.createElement(uB,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Ke.createElement("div",zA({className:fn("recharts-wrapper",z),style:mt({position:"relative",cursor:"default",width:X,height:Z},G)},oe,{ref:function(ge){N.container=ge}}),Ke.createElement(wE,zA({},le,{width:X,height:Z,title:H,desc:ee,style:JPe}),this.renderClipPath(),l8(B,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(Q.Component);Or(P,"displayName",r),Or(P,"defaultProps",mt({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},g)),Or(P,"getDerivedStateFromProps",function(T,O){var L=T.dataKey,N=T.data,D=T.children,B=T.width,z=T.height,X=T.layout,Z=T.stackOffset,G=T.margin,de=O.dataStartIndex,H=O.dataEndIndex;if(O.updateId===void 0){var ee=IB(T);return mt(mt(mt({},ee),{},{updateId:0},b(mt(mt({props:T},ee),{},{updateId:0}),O)),{},{prevDataKey:L,prevData:N,prevWidth:B,prevHeight:z,prevLayout:X,prevStackOffset:Z,prevMargin:G,prevChildren:D})}if(L!==O.prevDataKey||N!==O.prevData||B!==O.prevWidth||z!==O.prevHeight||X!==O.prevLayout||Z!==O.prevStackOffset||!GA(G,O.prevMargin)){var ae=IB(T),le={chartX:O.chartX,chartY:O.chartY,isTooltipActive:O.isTooltipActive},Te=mt(mt({},RB(O,N,X)),{},{updateId:O.updateId+1}),te=mt(mt(mt({},ae),le),Te);return mt(mt(mt({},te),b(mt({props:T},te),O)),{},{prevDataKey:L,prevData:N,prevWidth:B,prevHeight:z,prevLayout:X,prevStackOffset:Z,prevMargin:G,prevChildren:D})}if(!bE(D,O.prevChildren)){var oe,K,ge,Ee,se=ja(D,I0),$=se&&(oe=(K=se.props)===null||K===void 0?void 0:K.startIndex)!==null&&oe!==void 0?oe:de,ne=se&&(ge=(Ee=se.props)===null||Ee===void 0?void 0:Ee.endIndex)!==null&&ge!==void 0?ge:H,pe=$!==de||ne!==H,be=!un(N),Ie=be&&!pe?O.updateId:O.updateId+1;return mt(mt({updateId:Ie},b(mt(mt({props:T},O),{},{updateId:Ie,dataStartIndex:$,dataEndIndex:ne}),O)),{},{prevChildren:D,dataStartIndex:$,dataEndIndex:ne})}return null}),Or(P,"renderActiveDot",function(T,O,L){var N;return Q.isValidElement(T)?N=Q.cloneElement(T,O):Gr(T)?N=T(O):N=Ke.createElement(fk,O),Ke.createElement(Ei,{className:"recharts-active-dot",key:L},N)});var E=Q.forwardRef(function(O,L){return Ke.createElement(P,zA({},O,{ref:L}))});return E.displayName=P.displayName,E},uCe=cCe({chartName:"AreaChart",GraphicalChild:Sh,axisComponents:[{axisType:"xAxis",AxisComp:$b},{axisType:"yAxis",AxisComp:zb}],formatAxisMap:fEe});function kc(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Nd(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const pq=6048e5,fCe=864e5;let hCe={};function Vb(){return hCe}function ym(t,e){var a,l,c,u;const r=Vb(),n=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((u=(c=r.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,i=kc(t),o=i.getDay(),s=(o<n?7:0)+o-n;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function y2(t){return ym(t,{weekStartsOn:1})}function gq(t){const e=kc(t),r=e.getFullYear(),n=Nd(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=y2(n),o=Nd(t,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const s=y2(o);return e.getTime()>=i.getTime()?r+1:e.getTime()>=s.getTime()?r:r-1}function MB(t){const e=kc(t);return e.setHours(0,0,0,0),e}function LB(t){const e=kc(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function dCe(t,e){const r=MB(t),n=MB(e),i=+r-LB(r),o=+n-LB(n);return Math.round((i-o)/fCe)}function ACe(t){const e=gq(t),r=Nd(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),y2(r)}function pCe(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function gCe(t){if(!pCe(t)&&typeof t!="number")return!1;const e=kc(t);return!isNaN(Number(e))}function mCe(t){const e=kc(t),r=Nd(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}const vCe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},yCe=(t,e,r)=>{let n;const i=vCe[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function MS(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const bCe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},_Ce={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},wCe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},xCe={date:MS({formats:bCe,defaultWidth:"full"}),time:MS({formats:_Ce,defaultWidth:"full"}),dateTime:MS({formats:wCe,defaultWidth:"full"})},SCe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ECe=(t,e,r,n)=>SCe[t];function Vp(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,a=r!=null&&r.width?String(r.width):s;i=t.formattingValues[a]||t.formattingValues[s]}else{const s=t.defaultWidth,a=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[a]||t.values[s]}const o=t.argumentCallback?t.argumentCallback(e):e;return i[o]}}const TCe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},PCe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},CCe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},kCe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},OCe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},RCe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ICe=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},NCe={ordinalNumber:ICe,era:Vp({values:TCe,defaultWidth:"wide"}),quarter:Vp({values:PCe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Vp({values:CCe,defaultWidth:"wide"}),day:Vp({values:kCe,defaultWidth:"wide"}),dayPeriod:Vp({values:OCe,defaultWidth:"wide",formattingValues:RCe,defaultFormattingWidth:"wide"})};function Hp(t){return(e,r={})=>{const n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],o=e.match(i);if(!o)return null;const s=o[0],a=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?LCe(a,g=>g.test(s)):MCe(a,g=>g.test(s));let c;c=t.valueCallback?t.valueCallback(l):l,c=r.valueCallback?r.valueCallback(c):c;const u=e.slice(s.length);return{value:c,rest:u}}}function MCe(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function LCe(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function DCe(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const i=n[0],o=e.match(t.parsePattern);if(!o)return null;let s=t.valueCallback?t.valueCallback(o[0]):o[0];s=r.valueCallback?r.valueCallback(s):s;const a=e.slice(i.length);return{value:s,rest:a}}}const BCe=/^(\d+)(th|st|nd|rd)?/i,FCe=/\d+/i,jCe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},UCe={any:[/^b/i,/^(a|c)/i]},$Ce={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},zCe={any:[/1/i,/2/i,/3/i,/4/i]},WCe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},VCe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},HCe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},qCe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},XCe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},YCe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},KCe={ordinalNumber:DCe({matchPattern:BCe,parsePattern:FCe,valueCallback:t=>parseInt(t,10)}),era:Hp({matchPatterns:jCe,defaultMatchWidth:"wide",parsePatterns:UCe,defaultParseWidth:"any"}),quarter:Hp({matchPatterns:$Ce,defaultMatchWidth:"wide",parsePatterns:zCe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Hp({matchPatterns:WCe,defaultMatchWidth:"wide",parsePatterns:VCe,defaultParseWidth:"any"}),day:Hp({matchPatterns:HCe,defaultMatchWidth:"wide",parsePatterns:qCe,defaultParseWidth:"any"}),dayPeriod:Hp({matchPatterns:XCe,defaultMatchWidth:"any",parsePatterns:YCe,defaultParseWidth:"any"})},GCe={code:"en-US",formatDistance:yCe,formatLong:xCe,formatRelative:ECe,localize:NCe,match:KCe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function QCe(t){const e=kc(t);return dCe(e,mCe(e))+1}function ZCe(t){const e=kc(t),r=+y2(e)-+ACe(e);return Math.round(r/pq)+1}function mq(t,e){var u,g,_,b;const r=kc(t),n=r.getFullYear(),i=Vb(),o=(e==null?void 0:e.firstWeekContainsDate)??((g=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:g.firstWeekContainsDate)??i.firstWeekContainsDate??((b=(_=i.locale)==null?void 0:_.options)==null?void 0:b.firstWeekContainsDate)??1,s=Nd(t,0);s.setFullYear(n+1,0,o),s.setHours(0,0,0,0);const a=ym(s,e),l=Nd(t,0);l.setFullYear(n,0,o),l.setHours(0,0,0,0);const c=ym(l,e);return r.getTime()>=a.getTime()?n+1:r.getTime()>=c.getTime()?n:n-1}function JCe(t,e){var a,l,c,u;const r=Vb(),n=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??r.firstWeekContainsDate??((u=(c=r.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,i=mq(t,e),o=Nd(t,0);return o.setFullYear(i,0,n),o.setHours(0,0,0,0),ym(o,e)}function eke(t,e){const r=kc(t),n=+ym(r,e)-+JCe(r,e);return Math.round(n/pq)+1}function In(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const Vf={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return In(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):In(r+1,2)},d(t,e){return In(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return In(t.getHours()%12||12,e.length)},H(t,e){return In(t.getHours(),e.length)},m(t,e){return In(t.getMinutes(),e.length)},s(t,e){return In(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return In(i,e.length)}},SA={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},DB={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return Vf.y(t,e)},Y:function(t,e,r,n){const i=mq(t,n),o=i>0?i:1-i;if(e==="YY"){const s=o%100;return In(s,2)}return e==="Yo"?r.ordinalNumber(o,{unit:"year"}):In(o,e.length)},R:function(t,e){const r=gq(t);return In(r,e.length)},u:function(t,e){const r=t.getFullYear();return In(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return In(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return In(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return Vf.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return In(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const i=eke(t,n);return e==="wo"?r.ordinalNumber(i,{unit:"week"}):In(i,e.length)},I:function(t,e,r){const n=ZCe(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):In(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Vf.d(t,e)},D:function(t,e,r){const n=QCe(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):In(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const i=t.getDay(),o=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return In(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const i=t.getDay(),o=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return In(o,e.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return In(i,e.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let i;switch(n===12?i=SA.noon:n===0?i=SA.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let i;switch(n>=17?i=SA.evening:n>=12?i=SA.afternoon:n>=4?i=SA.morning:i=SA.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Vf.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Vf.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):In(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):In(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Vf.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Vf.s(t,e)},S:function(t,e){return Vf.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return FB(n);case"XXXX":case"XX":return Gh(n);case"XXXXX":case"XXX":default:return Gh(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return FB(n);case"xxxx":case"xx":return Gh(n);case"xxxxx":case"xxx":default:return Gh(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+BB(n,":");case"OOOO":default:return"GMT"+Gh(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+BB(n,":");case"zzzz":default:return"GMT"+Gh(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return In(n,e.length)},T:function(t,e,r){const n=t.getTime();return In(n,e.length)}};function BB(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Math.trunc(n/60),o=n%60;return o===0?r+String(i):r+String(i)+e+In(o,2)}function FB(t,e){return t%60===0?(t>0?"-":"+")+In(Math.abs(t)/60,2):Gh(t,e)}function Gh(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=In(Math.trunc(n/60),2),o=In(n%60,2);return r+i+e+o}const jB=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},vq=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},tke=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return jB(t,e);let o;switch(n){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",jB(n,e)).replace("{{time}}",vq(i,e))},rke={p:vq,P:tke},nke=/^D+$/,ike=/^Y+$/,oke=["D","DD","YY","YYYY"];function ske(t){return nke.test(t)}function ake(t){return ike.test(t)}function lke(t,e,r){const n=cke(t,e,r);if(console.warn(n),oke.includes(t))throw new RangeError(n)}function cke(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const uke=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,fke=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,hke=/^'([^]*?)'?$/,dke=/''/g,Ake=/[a-zA-Z]/;function UB(t,e,r){var u,g,_,b;const n=Vb(),i=n.locale??GCe,o=n.firstWeekContainsDate??((g=(u=n.locale)==null?void 0:u.options)==null?void 0:g.firstWeekContainsDate)??1,s=n.weekStartsOn??((b=(_=n.locale)==null?void 0:_.options)==null?void 0:b.weekStartsOn)??0,a=kc(t);if(!gCe(a))throw new RangeError("Invalid time value");let l=e.match(fke).map(P=>{const E=P[0];if(E==="p"||E==="P"){const T=rke[E];return T(P,i.formatLong)}return P}).join("").match(uke).map(P=>{if(P==="''")return{isToken:!1,value:"'"};const E=P[0];if(E==="'")return{isToken:!1,value:pke(P)};if(DB[E])return{isToken:!0,value:P};if(E.match(Ake))throw new RangeError("Format string contains an unescaped latin alphabet character `"+E+"`");return{isToken:!1,value:P}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const c={firstWeekContainsDate:o,weekStartsOn:s,locale:i};return l.map(P=>{if(!P.isToken)return P.value;const E=P.value;(ake(E)||ske(E))&&lke(E,e,String(t));const T=DB[E[0]];return T(a,E,i.localize,c)}).join("")}function pke(t){const e=t.match(hke);return e?e[1].replace(dke,"'"):t}function gke({data:t=[],className:e}){var o;const r=t.map(s=>({...s,time:UB(new Date(s.timestamp),"HH:mm"),fullDate:UB(new Date(s.timestamp),"MMM d, HH:mm")})),n=((o=r[r.length-1])==null?void 0:o.score)||0;let i="#10b981";return n>75?i="#ef4444":n>50&&(i="#f59e0b"),V.jsxs(uu,{className:Os("border-border shadow-sm",e),children:[V.jsx(bd,{className:"pb-2",children:V.jsx(_d,{className:"text-sm font-medium text-foreground-secondary uppercase tracking-wider",children:"24-Hour Risk Trend"})}),V.jsx(Z0,{children:V.jsx("div",{className:"h-[200px] w-full",children:r.length>0?V.jsx(Qye,{width:"100%",height:"100%",children:V.jsxs(uCe,{data:r,children:[V.jsx("defs",{children:V.jsxs("linearGradient",{id:"colorScore",x1:"0",y1:"0",x2:"0",y2:"1",children:[V.jsx("stop",{offset:"5%",stopColor:i,stopOpacity:.3}),V.jsx("stop",{offset:"95%",stopColor:i,stopOpacity:0})]})}),V.jsx(QH,{strokeDasharray:"3 3",stroke:"#1e293b",vertical:!1}),V.jsx($b,{dataKey:"time",stroke:"#64748b",fontSize:12,tickLine:!1,axisLine:!1,minTickGap:30}),V.jsx(zb,{stroke:"#64748b",fontSize:12,tickLine:!1,axisLine:!1,domain:[0,100]}),V.jsx(ou,{contentStyle:{backgroundColor:"#0f172a",borderColor:"#1e293b",color:"#f8fafc"},itemStyle:{color:i},labelStyle:{color:"#94a3b8"},labelFormatter:(s,a)=>{var l,c;return((c=(l=a[0])==null?void 0:l.payload)==null?void 0:c.fullDate)||s}}),V.jsx(Sh,{type:"monotone",dataKey:"score",stroke:i,strokeWidth:2,fillOpacity:1,fill:"url(#colorScore)",animationDuration:1500})]})}):V.jsx("div",{className:"h-full flex items-center justify-center text-foreground-secondary text-sm",children:"No trend data available for this period."})})})]})}function Nn(t){"@babel/helpers - typeof";return Nn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nn(t)}var Sc=Uint8Array,Ha=Uint16Array,_k=Int32Array,wk=new Sc([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),xk=new Sc([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),$B=new Sc([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),yq=function(t,e){for(var r=new Ha(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var i=new _k(r[30]),n=1;n<30;++n)for(var o=r[n];o<r[n+1];++o)i[o]=o-r[n]<<5|n;return{b:r,r:i}},bq=yq(wk,2),mke=bq.b,MT=bq.r;mke[28]=258,MT[258]=28;var vke=yq(xk,0),zB=vke.r,LT=new Ha(32768);for(var li=0;li<32768;++li){var Hf=(li&43690)>>1|(li&21845)<<1;Hf=(Hf&52428)>>2|(Hf&13107)<<2,Hf=(Hf&61680)>>4|(Hf&3855)<<4,LT[li]=((Hf&65280)>>8|(Hf&255)<<8)>>1}var _g=(function(t,e,r){for(var n=t.length,i=0,o=new Ha(e);i<n;++i)t[i]&&++o[t[i]-1];var s=new Ha(e);for(i=1;i<e;++i)s[i]=s[i-1]+o[i-1]<<1;var a;if(r){a=new Ha(1<<e);var l=15-e;for(i=0;i<n;++i)if(t[i])for(var c=i<<4|t[i],u=e-t[i],g=s[t[i]-1]++<<u,_=g|(1<<u)-1;g<=_;++g)a[LT[g]>>l]=c}else for(a=new Ha(n),i=0;i<n;++i)t[i]&&(a[i]=LT[s[t[i]-1]++]>>15-t[i]);return a}),Md=new Sc(288);for(var li=0;li<144;++li)Md[li]=8;for(var li=144;li<256;++li)Md[li]=9;for(var li=256;li<280;++li)Md[li]=7;for(var li=280;li<288;++li)Md[li]=8;var b2=new Sc(32);for(var li=0;li<32;++li)b2[li]=5;var yke=_g(Md,9,0),bke=_g(b2,5,0),_q=function(t){return(t+7)/8|0},_ke=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new Sc(t.subarray(e,r))},Wu=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},qp=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},LS=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var i=r.length,o=r.slice();if(!i)return{t:xq,l:0};if(i==1){var s=new Sc(r[0].s+1);return s[r[0].s]=1,{t:s,l:1}}r.sort(function(B,z){return B.f-z.f}),r.push({s:-1,f:25001});var a=r[0],l=r[1],c=0,u=1,g=2;for(r[0]={s:-1,f:a.f+l.f,l:a,r:l};u!=i-1;)a=r[r[c].f<r[g].f?c++:g++],l=r[c!=u&&r[c].f<r[g].f?c++:g++],r[u++]={s:-1,f:a.f+l.f,l:a,r:l};for(var _=o[0].s,n=1;n<i;++n)o[n].s>_&&(_=o[n].s);var b=new Ha(_+1),P=DT(r[u-1],b,0);if(P>e){var n=0,E=0,T=P-e,O=1<<T;for(o.sort(function(z,X){return b[X.s]-b[z.s]||z.f-X.f});n<i;++n){var L=o[n].s;if(b[L]>e)E+=O-(1<<P-b[L]),b[L]=e;else break}for(E>>=T;E>0;){var N=o[n].s;b[N]<e?E-=1<<e-b[N]++-1:++n}for(;n>=0&&E;--n){var D=o[n].s;b[D]==e&&(--b[D],++E)}P=e}return{t:new Sc(b),l:P}},DT=function(t,e,r){return t.s==-1?Math.max(DT(t.l,e,r+1),DT(t.r,e,r+1)):e[t.s]=r},WB=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new Ha(++e),n=0,i=t[0],o=1,s=function(l){r[n++]=l},a=1;a<=e;++a)if(t[a]==i&&a!=e)++o;else{if(!i&&o>2){for(;o>138;o-=138)s(32754);o>2&&(s(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(s(i),--o;o>6;o-=6)s(8304);o>2&&(s(o-3<<5|8208),o=0)}for(;o--;)s(i);o=1,i=t[a]}return{c:r.subarray(0,n),n:e}},Xp=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},wq=function(t,e,r){var n=r.length,i=_q(e+2);t[i]=n&255,t[i+1]=n>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var o=0;o<n;++o)t[i+o+4]=r[o];return(i+4+n)*8},VB=function(t,e,r,n,i,o,s,a,l,c,u){Wu(e,u++,r),++i[256];for(var g=LS(i,15),_=g.t,b=g.l,P=LS(o,15),E=P.t,T=P.l,O=WB(_),L=O.c,N=O.n,D=WB(E),B=D.c,z=D.n,X=new Ha(19),Z=0;Z<L.length;++Z)++X[L[Z]&31];for(var Z=0;Z<B.length;++Z)++X[B[Z]&31];for(var G=LS(X,7),de=G.t,H=G.l,ee=19;ee>4&&!de[$B[ee-1]];--ee);var ae=c+5<<3,le=Xp(i,Md)+Xp(o,b2)+s,Te=Xp(i,_)+Xp(o,E)+s+14+3*ee+Xp(X,de)+2*X[16]+3*X[17]+7*X[18];if(l>=0&&ae<=le&&ae<=Te)return wq(e,u,t.subarray(l,l+c));var te,oe,K,ge;if(Wu(e,u,1+(Te<le)),u+=2,Te<le){te=_g(_,b,0),oe=_,K=_g(E,T,0),ge=E;var Ee=_g(de,H,0);Wu(e,u,N-257),Wu(e,u+5,z-1),Wu(e,u+10,ee-4),u+=14;for(var Z=0;Z<ee;++Z)Wu(e,u+3*Z,de[$B[Z]]);u+=3*ee;for(var se=[L,B],$=0;$<2;++$)for(var ne=se[$],Z=0;Z<ne.length;++Z){var pe=ne[Z]&31;Wu(e,u,Ee[pe]),u+=de[pe],pe>15&&(Wu(e,u,ne[Z]>>5&127),u+=ne[Z]>>12)}}else te=yke,oe=Md,K=bke,ge=b2;for(var Z=0;Z<a;++Z){var be=n[Z];if(be>255){var pe=be>>18&31;qp(e,u,te[pe+257]),u+=oe[pe+257],pe>7&&(Wu(e,u,be>>23&31),u+=wk[pe]);var Ie=be&31;qp(e,u,K[Ie]),u+=ge[Ie],Ie>3&&(qp(e,u,be>>5&8191),u+=xk[Ie])}else qp(e,u,te[be]),u+=oe[be]}return qp(e,u,te[256]),u+oe[256]},wke=new _k([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),xq=new Sc(0),xke=function(t,e,r,n,i,o){var s=o.z||t.length,a=new Sc(n+s+5*(1+Math.ceil(s/7e3))+i),l=a.subarray(n,a.length-i),c=o.l,u=(o.r||0)&7;if(e){u&&(l[0]=o.r>>3);for(var g=wke[e-1],_=g>>13,b=g&8191,P=(1<<r)-1,E=o.p||new Ha(32768),T=o.h||new Ha(P+1),O=Math.ceil(r/3),L=2*O,N=function(Tt){return(t[Tt]^t[Tt+1]<<O^t[Tt+2]<<L)&P},D=new _k(25e3),B=new Ha(288),z=new Ha(32),X=0,Z=0,G=o.i||0,de=0,H=o.w||0,ee=0;G+2<s;++G){var ae=N(G),le=G&32767,Te=T[ae];if(E[le]=Te,T[ae]=le,H<=G){var te=s-G;if((X>7e3||de>24576)&&(te>423||!c)){u=VB(t,l,0,D,B,z,Z,de,ee,G-ee,u),de=X=Z=0,ee=G;for(var oe=0;oe<286;++oe)B[oe]=0;for(var oe=0;oe<30;++oe)z[oe]=0}var K=2,ge=0,Ee=b,se=le-Te&32767;if(te>2&&ae==N(G-se))for(var $=Math.min(_,te)-1,ne=Math.min(32767,G),pe=Math.min(258,te);se<=ne&&--Ee&&le!=Te;){if(t[G+K]==t[G+K-se]){for(var be=0;be<pe&&t[G+be]==t[G+be-se];++be);if(be>K){if(K=be,ge=se,be>$)break;for(var Ie=Math.min(se,be-2),De=0,oe=0;oe<Ie;++oe){var $e=G-se+oe&32767,Le=E[$e],We=$e-Le&32767;We>De&&(De=We,Te=$e)}}}le=Te,Te=E[le],se+=le-Te&32767}if(ge){D[de++]=268435456|MT[K]<<18|zB[ge];var ft=MT[K]&31,tt=zB[ge]&31;Z+=wk[ft]+xk[tt],++B[257+ft],++z[tt],H=G+K,++X}else D[de++]=t[G],++B[t[G]]}}for(G=Math.max(G,H);G<s;++G)D[de++]=t[G],++B[t[G]];u=VB(t,l,c,D,B,z,Z,de,ee,G-ee,u),c||(o.r=u&7|l[u/8|0]<<3,u-=7,o.h=T,o.p=E,o.i=G,o.w=H)}else{for(var G=o.w||0;G<s+c;G+=65535){var xt=G+65535;xt>=s&&(l[u/8|0]=c,xt=s),u=wq(l,u+1,t.subarray(G,xt))}o.i=s}return _ke(a,0,n+_q(u)+i)},Sq=function(){var t=1,e=0;return{p:function(r){for(var n=t,i=e,o=r.length|0,s=0;s!=o;){for(var a=Math.min(s+2655,o);s<a;++s)i+=n+=r[s];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}t=n,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},Ske=function(t,e,r,n,i){if(!i&&(i={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),s=new Sc(o.length+t.length);s.set(o),s.set(t,o.length),t=s,i.w=o.length}return xke(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,i)},Eq=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},Eke=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=Sq();i.p(e.dictionary),Eq(t,2,i.d())}};function BT(t,e){e||(e={});var r=Sq();r.p(t);var n=Ske(t,e,e.dictionary?6:2,4);return Eke(n,e),Eq(n,n.length-4,r.d()),n}var Tke=typeof TextDecoder<"u"&&new TextDecoder,Pke=0;try{Tke.decode(xq,{stream:!0}),Pke=1}catch{}function Cke(t){if(Array.isArray(t))return t}function kke(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,o,s,a=[],l=!0,c=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(l=(n=o.call(r)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}function HB(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Oke(t,e){if(t){if(typeof t=="string")return HB(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?HB(t,e):void 0}}function Rke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qB(t,e){return Cke(t)||kke(t,e)||Oke(t,e)||Rke()}function XB(t,e="utf8"){return new TextDecoder(e).decode(t)}const Ike=new TextEncoder;function Nke(t){return Ike.encode(t)}const Mke=1024*8,Lke=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),DS={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Sk{constructor(e=Mke,r={}){Ae(this,"buffer");Ae(this,"byteLength");Ae(this,"byteOffset");Ae(this,"length");Ae(this,"offset");Ae(this,"lastWrittenByte");Ae(this,"littleEndian");Ae(this,"_data");Ae(this,"_mark");Ae(this,"_marks");let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const i=r.offset?r.offset>>>0:0,o=e.byteLength-i;let s=i;(ArrayBuffer.isView(e)||e instanceof Sk)&&(e.byteLength!==e.buffer.byteLength&&(s=e.byteOffset+i),e=e.buffer),n?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=e,this.length=o,this.byteLength=o,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,o),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,r){const n=DS[r].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,o=this.buffer.slice(i,i+n);if(this.littleEndian===Lke&&r!=="uint8"&&r!=="int8"){const a=new Uint8Array(this.buffer.slice(i,i+n));a.reverse();const l=new DS[r](a.buffer);return this.offset+=n,l.reverse(),l}const s=new DS[r](o);return this.offset+=n,s}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let r="";for(let n=0;n<e;n++)r+=this.readChar();return r}readUtf8(e=1){return XB(this.readBytes(e))}decodeText(e=1,r="utf8"){return XB(this.readBytes(e),r)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let r=0;r<e.length;r++)this._data.setUint8(this.offset++,e[r]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let r=0;r<e.length;r++)this.writeUint8(e.charCodeAt(r));return this}writeUtf8(e){return this.writeBytes(Nke(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function up(t){let e=t.length;for(;--e>=0;)t[e]=0}const Dke=3,Bke=258,Tq=29,Fke=256,jke=Fke+1+Tq,Pq=30,Uke=512,$ke=new Array((jke+2)*2);up($ke);const zke=new Array(Pq*2);up(zke);const Wke=new Array(Uke);up(Wke);const Vke=new Array(Bke-Dke+1);up(Vke);const Hke=new Array(Tq);up(Hke);const qke=new Array(Pq);up(qke);const Xke=(t,e,r,n)=>{let i=t&65535|0,o=t>>>16&65535|0,s=0;for(;r!==0;){s=r>2e3?2e3:r,r-=s;do i=i+e[n++]|0,o=o+i|0;while(--s);i%=65521,o%=65521}return i|o<<16|0};var FT=Xke;const Yke=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},Kke=new Uint32Array(Yke()),Gke=(t,e,r,n)=>{const i=Kke,o=n+r;t^=-1;for(let s=n;s<o;s++)t=t>>>8^i[(t^e[s])&255];return t^-1};var tu=Gke,jT={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Cq={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const Qke=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var Zke=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)Qke(r,n)&&(t[n]=r[n])}}return t},Jke=t=>{let e=0;for(let n=0,i=t.length;n<i;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,i=0,o=t.length;n<o;n++){let s=t[n];r.set(s,i),i+=s.length}return r},kq={assign:Zke,flattenChunks:Jke};let Oq=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Oq=!1}const bm=new Uint8Array(256);for(let t=0;t<256;t++)bm[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;bm[254]=bm[254]=1;var e6e=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,n,i,o,s=t.length,a=0;for(i=0;i<s;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<s&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),a+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(a),o=0,i=0;o<a;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<s&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?e[o++]=r:r<2048?(e[o++]=192|r>>>6,e[o++]=128|r&63):r<65536?(e[o++]=224|r>>>12,e[o++]=128|r>>>6&63,e[o++]=128|r&63):(e[o++]=240|r>>>18,e[o++]=128|r>>>12&63,e[o++]=128|r>>>6&63,e[o++]=128|r&63);return e};const t6e=(t,e)=>{if(e<65534&&t.subarray&&Oq)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r};var r6e=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,i;const o=new Array(r*2);for(i=0,n=0;n<r;){let s=t[n++];if(s<128){o[i++]=s;continue}let a=bm[s];if(a>4){o[i++]=65533,n+=a-1;continue}for(s&=a===2?31:a===3?15:7;a>1&&n<r;)s=s<<6|t[n++]&63,a--;if(a>1){o[i++]=65533;continue}s<65536?o[i++]=s:(s-=65536,o[i++]=55296|s>>10&1023,o[i++]=56320|s&1023)}return t6e(o,i)},n6e=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+bm[t[r]]>e?r:e},UT={string2buf:e6e,buf2string:r6e,utf8border:n6e};function i6e(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var o6e=i6e;const c1=16209,s6e=16191;var a6e=function(e,r){let n,i,o,s,a,l,c,u,g,_,b,P,E,T,O,L,N,D,B,z,X,Z,G,de;const H=e.state;n=e.next_in,G=e.input,i=n+(e.avail_in-5),o=e.next_out,de=e.output,s=o-(r-e.avail_out),a=o+(e.avail_out-257),l=H.dmax,c=H.wsize,u=H.whave,g=H.wnext,_=H.window,b=H.hold,P=H.bits,E=H.lencode,T=H.distcode,O=(1<<H.lenbits)-1,L=(1<<H.distbits)-1;e:do{P<15&&(b+=G[n++]<<P,P+=8,b+=G[n++]<<P,P+=8),N=E[b&O];t:for(;;){if(D=N>>>24,b>>>=D,P-=D,D=N>>>16&255,D===0)de[o++]=N&65535;else if(D&16){B=N&65535,D&=15,D&&(P<D&&(b+=G[n++]<<P,P+=8),B+=b&(1<<D)-1,b>>>=D,P-=D),P<15&&(b+=G[n++]<<P,P+=8,b+=G[n++]<<P,P+=8),N=T[b&L];r:for(;;){if(D=N>>>24,b>>>=D,P-=D,D=N>>>16&255,D&16){if(z=N&65535,D&=15,P<D&&(b+=G[n++]<<P,P+=8,P<D&&(b+=G[n++]<<P,P+=8)),z+=b&(1<<D)-1,z>l){e.msg="invalid distance too far back",H.mode=c1;break e}if(b>>>=D,P-=D,D=o-s,z>D){if(D=z-D,D>u&&H.sane){e.msg="invalid distance too far back",H.mode=c1;break e}if(X=0,Z=_,g===0){if(X+=c-D,D<B){B-=D;do de[o++]=_[X++];while(--D);X=o-z,Z=de}}else if(g<D){if(X+=c+g-D,D-=g,D<B){B-=D;do de[o++]=_[X++];while(--D);if(X=0,g<B){D=g,B-=D;do de[o++]=_[X++];while(--D);X=o-z,Z=de}}}else if(X+=g-D,D<B){B-=D;do de[o++]=_[X++];while(--D);X=o-z,Z=de}for(;B>2;)de[o++]=Z[X++],de[o++]=Z[X++],de[o++]=Z[X++],B-=3;B&&(de[o++]=Z[X++],B>1&&(de[o++]=Z[X++]))}else{X=o-z;do de[o++]=de[X++],de[o++]=de[X++],de[o++]=de[X++],B-=3;while(B>2);B&&(de[o++]=de[X++],B>1&&(de[o++]=de[X++]))}}else if((D&64)===0){N=T[(N&65535)+(b&(1<<D)-1)];continue r}else{e.msg="invalid distance code",H.mode=c1;break e}break}}else if((D&64)===0){N=E[(N&65535)+(b&(1<<D)-1)];continue t}else if(D&32){H.mode=s6e;break e}else{e.msg="invalid literal/length code",H.mode=c1;break e}break}}while(n<i&&o<a);B=P>>3,n-=B,P-=B<<3,b&=(1<<P)-1,e.next_in=n,e.next_out=o,e.avail_in=n<i?5+(i-n):5-(n-i),e.avail_out=o<a?257+(a-o):257-(o-a),H.hold=b,H.bits=P};const EA=15,YB=852,KB=592,GB=0,BS=1,QB=2,l6e=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),c6e=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),u6e=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),f6e=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),h6e=(t,e,r,n,i,o,s,a)=>{const l=a.bits;let c=0,u=0,g=0,_=0,b=0,P=0,E=0,T=0,O=0,L=0,N,D,B,z,X,Z=null,G;const de=new Uint16Array(EA+1),H=new Uint16Array(EA+1);let ee=null,ae,le,Te;for(c=0;c<=EA;c++)de[c]=0;for(u=0;u<n;u++)de[e[r+u]]++;for(b=l,_=EA;_>=1&&de[_]===0;_--);if(b>_&&(b=_),_===0)return i[o++]=1<<24|64<<16|0,i[o++]=1<<24|64<<16|0,a.bits=1,0;for(g=1;g<_&&de[g]===0;g++);for(b<g&&(b=g),T=1,c=1;c<=EA;c++)if(T<<=1,T-=de[c],T<0)return-1;if(T>0&&(t===GB||_!==1))return-1;for(H[1]=0,c=1;c<EA;c++)H[c+1]=H[c]+de[c];for(u=0;u<n;u++)e[r+u]!==0&&(s[H[e[r+u]]++]=u);if(t===GB?(Z=ee=s,G=20):t===BS?(Z=l6e,ee=c6e,G=257):(Z=u6e,ee=f6e,G=0),L=0,u=0,c=g,X=o,P=b,E=0,B=-1,O=1<<b,z=O-1,t===BS&&O>YB||t===QB&&O>KB)return 1;for(;;){ae=c-E,s[u]+1<G?(le=0,Te=s[u]):s[u]>=G?(le=ee[s[u]-G],Te=Z[s[u]-G]):(le=96,Te=0),N=1<<c-E,D=1<<P,g=D;do D-=N,i[X+(L>>E)+D]=ae<<24|le<<16|Te|0;while(D!==0);for(N=1<<c-1;L&N;)N>>=1;if(N!==0?(L&=N-1,L+=N):L=0,u++,--de[c]===0){if(c===_)break;c=e[r+s[u]]}if(c>b&&(L&z)!==B){for(E===0&&(E=b),X+=g,P=c-E,T=1<<P;P+E<_&&(T-=de[P+E],!(T<=0));)P++,T<<=1;if(O+=1<<P,t===BS&&O>YB||t===QB&&O>KB)return 1;B=L&z,i[B]=b<<24|P<<16|X-o|0}}return L!==0&&(i[X+L]=c-E<<24|64<<16|0),a.bits=b,0};var wg=h6e;const d6e=0,Rq=1,Iq=2,{Z_FINISH:ZB,Z_BLOCK:A6e,Z_TREES:u1,Z_OK:Ld,Z_STREAM_END:p6e,Z_NEED_DICT:g6e,Z_STREAM_ERROR:Ol,Z_DATA_ERROR:Nq,Z_MEM_ERROR:Mq,Z_BUF_ERROR:m6e,Z_DEFLATED:JB}=Cq,Hb=16180,eF=16181,tF=16182,rF=16183,nF=16184,iF=16185,oF=16186,sF=16187,aF=16188,lF=16189,_2=16190,Vu=16191,FS=16192,cF=16193,jS=16194,uF=16195,fF=16196,hF=16197,dF=16198,f1=16199,h1=16200,AF=16201,pF=16202,gF=16203,mF=16204,vF=16205,US=16206,yF=16207,bF=16208,pi=16209,Lq=16210,Dq=16211,v6e=852,y6e=592,b6e=15,_6e=b6e,_F=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function w6e(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Vd=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<Hb||e.mode>Dq?1:0},Bq=t=>{if(Vd(t))return Ol;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=Hb,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(v6e),e.distcode=e.distdyn=new Int32Array(y6e),e.sane=1,e.back=-1,Ld},Fq=t=>{if(Vd(t))return Ol;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,Bq(t)},jq=(t,e)=>{let r;if(Vd(t))return Ol;const n=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Ol:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,Fq(t))},Uq=(t,e)=>{if(!t)return Ol;const r=new w6e;t.state=r,r.strm=t,r.window=null,r.mode=Hb;const n=jq(t,e);return n!==Ld&&(t.state=null),n},x6e=t=>Uq(t,_6e);let wF=!0,$S,zS;const S6e=t=>{if(wF){$S=new Int32Array(512),zS=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(wg(Rq,t.lens,0,288,$S,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;wg(Iq,t.lens,0,32,zS,0,t.work,{bits:5}),wF=!1}t.lencode=$S,t.lenbits=9,t.distcode=zS,t.distbits=5},$q=(t,e,r,n)=>{let i;const o=t.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),n>=o.wsize?(o.window.set(e.subarray(r-o.wsize,r),0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>n&&(i=n),o.window.set(e.subarray(r-n,r-n+i),o.wnext),n-=i,n?(o.window.set(e.subarray(r-n,r),0),o.wnext=n,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0},E6e=(t,e)=>{let r,n,i,o,s,a,l,c,u,g,_,b,P,E,T=0,O,L,N,D,B,z,X,Z;const G=new Uint8Array(4);let de,H;const ee=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Vd(t)||!t.output||!t.input&&t.avail_in!==0)return Ol;r=t.state,r.mode===Vu&&(r.mode=FS),s=t.next_out,i=t.output,l=t.avail_out,o=t.next_in,n=t.input,a=t.avail_in,c=r.hold,u=r.bits,g=a,_=l,Z=Ld;e:for(;;)switch(r.mode){case Hb:if(r.wrap===0){r.mode=FS;break}for(;u<16;){if(a===0)break e;a--,c+=n[o++]<<u,u+=8}if(r.wrap&2&&c===35615){r.wbits===0&&(r.wbits=15),r.check=0,G[0]=c&255,G[1]=c>>>8&255,r.check=tu(r.check,G,2,0),c=0,u=0,r.mode=eF;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((c&255)<<8)+(c>>8))%31){t.msg="incorrect header check",r.mode=pi;break}if((c&15)!==JB){t.msg="unknown compression method",r.mode=pi;break}if(c>>>=4,u-=4,X=(c&15)+8,r.wbits===0&&(r.wbits=X),X>15||X>r.wbits){t.msg="invalid window size",r.mode=pi;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=c&512?lF:Vu,c=0,u=0;break;case eF:for(;u<16;){if(a===0)break e;a--,c+=n[o++]<<u,u+=8}if(r.flags=c,(r.flags&255)!==JB){t.msg="unknown compression method",r.mode=pi;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=pi;break}r.head&&(r.head.text=c>>8&1),r.flags&512&&r.wrap&4&&(G[0]=c&255,G[1]=c>>>8&255,r.check=tu(r.check,G,2,0)),c=0,u=0,r.mode=tF;case tF:for(;u<32;){if(a===0)break e;a--,c+=n[o++]<<u,u+=8}r.head&&(r.head.time=c),r.flags&512&&r.wrap&4&&(G[0]=c&255,G[1]=c>>>8&255,G[2]=c>>>16&255,G[3]=c>>>24&255,r.check=tu(r.check,G,4,0)),c=0,u=0,r.mode=rF;case rF:for(;u<16;){if(a===0)break e;a--,c+=n[o++]<<u,u+=8}r.head&&(r.head.xflags=c&255,r.head.os=c>>8),r.flags&512&&r.wrap&4&&(G[0]=c&255,G[1]=c>>>8&255,r.check=tu(r.check,G,2,0)),c=0,u=0,r.mode=nF;case nF:if(r.flags&1024){for(;u<16;){if(a===0)break e;a--,c+=n[o++]<<u,u+=8}r.length=c,r.head&&(r.head.extra_len=c),r.flags&512&&r.wrap&4&&(G[0]=c&255,G[1]=c>>>8&255,r.check=tu(r.check,G,2,0)),c=0,u=0}else r.head&&(r.head.extra=null);r.mode=iF;case iF:if(r.flags&1024&&(b=r.length,b>a&&(b=a),b&&(r.head&&(X=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(o,o+b),X)),r.flags&512&&r.wrap&4&&(r.check=tu(r.check,n,b,o)),a-=b,o+=b,r.length-=b),r.length))break e;r.length=0,r.mode=oF;case oF:if(r.flags&2048){if(a===0)break e;b=0;do X=n[o+b++],r.head&&X&&r.length<65536&&(r.head.name+=String.fromCharCode(X));while(X&&b<a);if(r.flags&512&&r.wrap&4&&(r.check=tu(r.check,n,b,o)),a-=b,o+=b,X)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=sF;case sF:if(r.flags&4096){if(a===0)break e;b=0;do X=n[o+b++],r.head&&X&&r.length<65536&&(r.head.comment+=String.fromCharCode(X));while(X&&b<a);if(r.flags&512&&r.wrap&4&&(r.check=tu(r.check,n,b,o)),a-=b,o+=b,X)break e}else r.head&&(r.head.comment=null);r.mode=aF;case aF:if(r.flags&512){for(;u<16;){if(a===0)break e;a--,c+=n[o++]<<u,u+=8}if(r.wrap&4&&c!==(r.check&65535)){t.msg="header crc mismatch",r.mode=pi;break}c=0,u=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=Vu;break;case lF:for(;u<32;){if(a===0)break e;a--,c+=n[o++]<<u,u+=8}t.adler=r.check=_F(c),c=0,u=0,r.mode=_2;case _2:if(r.havedict===0)return t.next_out=s,t.avail_out=l,t.next_in=o,t.avail_in=a,r.hold=c,r.bits=u,g6e;t.adler=r.check=1,r.mode=Vu;case Vu:if(e===A6e||e===u1)break e;case FS:if(r.last){c>>>=u&7,u-=u&7,r.mode=US;break}for(;u<3;){if(a===0)break e;a--,c+=n[o++]<<u,u+=8}switch(r.last=c&1,c>>>=1,u-=1,c&3){case 0:r.mode=cF;break;case 1:if(S6e(r),r.mode=f1,e===u1){c>>>=2,u-=2;break e}break;case 2:r.mode=fF;break;case 3:t.msg="invalid block type",r.mode=pi}c>>>=2,u-=2;break;case cF:for(c>>>=u&7,u-=u&7;u<32;){if(a===0)break e;a--,c+=n[o++]<<u,u+=8}if((c&65535)!==(c>>>16^65535)){t.msg="invalid stored block lengths",r.mode=pi;break}if(r.length=c&65535,c=0,u=0,r.mode=jS,e===u1)break e;case jS:r.mode=uF;case uF:if(b=r.length,b){if(b>a&&(b=a),b>l&&(b=l),b===0)break e;i.set(n.subarray(o,o+b),s),a-=b,o+=b,l-=b,s+=b,r.length-=b;break}r.mode=Vu;break;case fF:for(;u<14;){if(a===0)break e;a--,c+=n[o++]<<u,u+=8}if(r.nlen=(c&31)+257,c>>>=5,u-=5,r.ndist=(c&31)+1,c>>>=5,u-=5,r.ncode=(c&15)+4,c>>>=4,u-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=pi;break}r.have=0,r.mode=hF;case hF:for(;r.have<r.ncode;){for(;u<3;){if(a===0)break e;a--,c+=n[o++]<<u,u+=8}r.lens[ee[r.have++]]=c&7,c>>>=3,u-=3}for(;r.have<19;)r.lens[ee[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,de={bits:r.lenbits},Z=wg(d6e,r.lens,0,19,r.lencode,0,r.work,de),r.lenbits=de.bits,Z){t.msg="invalid code lengths set",r.mode=pi;break}r.have=0,r.mode=dF;case dF:for(;r.have<r.nlen+r.ndist;){for(;T=r.lencode[c&(1<<r.lenbits)-1],O=T>>>24,L=T>>>16&255,N=T&65535,!(O<=u);){if(a===0)break e;a--,c+=n[o++]<<u,u+=8}if(N<16)c>>>=O,u-=O,r.lens[r.have++]=N;else{if(N===16){for(H=O+2;u<H;){if(a===0)break e;a--,c+=n[o++]<<u,u+=8}if(c>>>=O,u-=O,r.have===0){t.msg="invalid bit length repeat",r.mode=pi;break}X=r.lens[r.have-1],b=3+(c&3),c>>>=2,u-=2}else if(N===17){for(H=O+3;u<H;){if(a===0)break e;a--,c+=n[o++]<<u,u+=8}c>>>=O,u-=O,X=0,b=3+(c&7),c>>>=3,u-=3}else{for(H=O+7;u<H;){if(a===0)break e;a--,c+=n[o++]<<u,u+=8}c>>>=O,u-=O,X=0,b=11+(c&127),c>>>=7,u-=7}if(r.have+b>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=pi;break}for(;b--;)r.lens[r.have++]=X}}if(r.mode===pi)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=pi;break}if(r.lenbits=9,de={bits:r.lenbits},Z=wg(Rq,r.lens,0,r.nlen,r.lencode,0,r.work,de),r.lenbits=de.bits,Z){t.msg="invalid literal/lengths set",r.mode=pi;break}if(r.distbits=6,r.distcode=r.distdyn,de={bits:r.distbits},Z=wg(Iq,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,de),r.distbits=de.bits,Z){t.msg="invalid distances set",r.mode=pi;break}if(r.mode=f1,e===u1)break e;case f1:r.mode=h1;case h1:if(a>=6&&l>=258){t.next_out=s,t.avail_out=l,t.next_in=o,t.avail_in=a,r.hold=c,r.bits=u,a6e(t,_),s=t.next_out,i=t.output,l=t.avail_out,o=t.next_in,n=t.input,a=t.avail_in,c=r.hold,u=r.bits,r.mode===Vu&&(r.back=-1);break}for(r.back=0;T=r.lencode[c&(1<<r.lenbits)-1],O=T>>>24,L=T>>>16&255,N=T&65535,!(O<=u);){if(a===0)break e;a--,c+=n[o++]<<u,u+=8}if(L&&(L&240)===0){for(D=O,B=L,z=N;T=r.lencode[z+((c&(1<<D+B)-1)>>D)],O=T>>>24,L=T>>>16&255,N=T&65535,!(D+O<=u);){if(a===0)break e;a--,c+=n[o++]<<u,u+=8}c>>>=D,u-=D,r.back+=D}if(c>>>=O,u-=O,r.back+=O,r.length=N,L===0){r.mode=vF;break}if(L&32){r.back=-1,r.mode=Vu;break}if(L&64){t.msg="invalid literal/length code",r.mode=pi;break}r.extra=L&15,r.mode=AF;case AF:if(r.extra){for(H=r.extra;u<H;){if(a===0)break e;a--,c+=n[o++]<<u,u+=8}r.length+=c&(1<<r.extra)-1,c>>>=r.extra,u-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=pF;case pF:for(;T=r.distcode[c&(1<<r.distbits)-1],O=T>>>24,L=T>>>16&255,N=T&65535,!(O<=u);){if(a===0)break e;a--,c+=n[o++]<<u,u+=8}if((L&240)===0){for(D=O,B=L,z=N;T=r.distcode[z+((c&(1<<D+B)-1)>>D)],O=T>>>24,L=T>>>16&255,N=T&65535,!(D+O<=u);){if(a===0)break e;a--,c+=n[o++]<<u,u+=8}c>>>=D,u-=D,r.back+=D}if(c>>>=O,u-=O,r.back+=O,L&64){t.msg="invalid distance code",r.mode=pi;break}r.offset=N,r.extra=L&15,r.mode=gF;case gF:if(r.extra){for(H=r.extra;u<H;){if(a===0)break e;a--,c+=n[o++]<<u,u+=8}r.offset+=c&(1<<r.extra)-1,c>>>=r.extra,u-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=pi;break}r.mode=mF;case mF:if(l===0)break e;if(b=_-l,r.offset>b){if(b=r.offset-b,b>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=pi;break}b>r.wnext?(b-=r.wnext,P=r.wsize-b):P=r.wnext-b,b>r.length&&(b=r.length),E=r.window}else E=i,P=s-r.offset,b=r.length;b>l&&(b=l),l-=b,r.length-=b;do i[s++]=E[P++];while(--b);r.length===0&&(r.mode=h1);break;case vF:if(l===0)break e;i[s++]=r.length,l--,r.mode=h1;break;case US:if(r.wrap){for(;u<32;){if(a===0)break e;a--,c|=n[o++]<<u,u+=8}if(_-=l,t.total_out+=_,r.total+=_,r.wrap&4&&_&&(t.adler=r.check=r.flags?tu(r.check,i,_,s-_):FT(r.check,i,_,s-_)),_=l,r.wrap&4&&(r.flags?c:_F(c))!==r.check){t.msg="incorrect data check",r.mode=pi;break}c=0,u=0}r.mode=yF;case yF:if(r.wrap&&r.flags){for(;u<32;){if(a===0)break e;a--,c+=n[o++]<<u,u+=8}if(r.wrap&4&&c!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=pi;break}c=0,u=0}r.mode=bF;case bF:Z=p6e;break e;case pi:Z=Nq;break e;case Lq:return Mq;case Dq:default:return Ol}return t.next_out=s,t.avail_out=l,t.next_in=o,t.avail_in=a,r.hold=c,r.bits=u,(r.wsize||_!==t.avail_out&&r.mode<pi&&(r.mode<US||e!==ZB))&&$q(t,t.output,t.next_out,_-t.avail_out),g-=t.avail_in,_-=t.avail_out,t.total_in+=g,t.total_out+=_,r.total+=_,r.wrap&4&&_&&(t.adler=r.check=r.flags?tu(r.check,i,_,t.next_out-_):FT(r.check,i,_,t.next_out-_)),t.data_type=r.bits+(r.last?64:0)+(r.mode===Vu?128:0)+(r.mode===f1||r.mode===jS?256:0),(g===0&&_===0||e===ZB)&&Z===Ld&&(Z=m6e),Z},T6e=t=>{if(Vd(t))return Ol;let e=t.state;return e.window&&(e.window=null),t.state=null,Ld},P6e=(t,e)=>{if(Vd(t))return Ol;const r=t.state;return(r.wrap&2)===0?Ol:(r.head=e,e.done=!1,Ld)},C6e=(t,e)=>{const r=e.length;let n,i,o;return Vd(t)||(n=t.state,n.wrap!==0&&n.mode!==_2)?Ol:n.mode===_2&&(i=1,i=FT(i,e,r,0),i!==n.check)?Nq:(o=$q(t,e,r,r),o?(n.mode=Lq,Mq):(n.havedict=1,Ld))};var k6e=Fq,O6e=jq,R6e=Bq,I6e=x6e,N6e=Uq,M6e=E6e,L6e=T6e,D6e=P6e,B6e=C6e,F6e="pako inflate (from Nodeca project)",Xu={inflateReset:k6e,inflateReset2:O6e,inflateResetKeep:R6e,inflateInit:I6e,inflateInit2:N6e,inflate:M6e,inflateEnd:L6e,inflateGetHeader:D6e,inflateSetDictionary:B6e,inflateInfo:F6e};function j6e(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var U6e=j6e;const zq=Object.prototype.toString,{Z_NO_FLUSH:$6e,Z_FINISH:z6e,Z_OK:_m,Z_STREAM_END:WS,Z_NEED_DICT:VS,Z_STREAM_ERROR:W6e,Z_DATA_ERROR:xF,Z_MEM_ERROR:V6e}=Cq;function Hm(t){this.options=kq.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o6e,this.strm.avail_out=0;let r=Xu.inflateInit2(this.strm,e.windowBits);if(r!==_m)throw new Error(jT[r]);if(this.header=new U6e,Xu.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=UT.string2buf(e.dictionary):zq.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=Xu.inflateSetDictionary(this.strm,e.dictionary),r!==_m)))throw new Error(jT[r])}Hm.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let o,s,a;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?z6e:$6e,zq.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),o=Xu.inflate(r,s),o===VS&&i&&(o=Xu.inflateSetDictionary(r,i),o===_m?o=Xu.inflate(r,s):o===xF&&(o=VS));r.avail_in>0&&o===WS&&r.state.wrap>0&&t[r.next_in]!==0;)Xu.inflateReset(r),o=Xu.inflate(r,s);switch(o){case W6e:case xF:case VS:case V6e:return this.onEnd(o),this.ended=!0,!1}if(a=r.avail_out,r.next_out&&(r.avail_out===0||o===WS))if(this.options.to==="string"){let l=UT.utf8border(r.output,r.next_out),c=r.next_out-l,u=UT.buf2string(r.output,l);r.next_out=c,r.avail_out=n-c,c&&r.output.set(r.output.subarray(l,l+c),0),this.onData(u)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(o===_m&&a===0)){if(o===WS)return o=Xu.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};Hm.prototype.onData=function(t){this.chunks.push(t)};Hm.prototype.onEnd=function(t){t===_m&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=kq.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function H6e(t,e){const r=new Hm(e);if(r.push(t),r.err)throw r.msg||jT[r.err];return r.result}var q6e=Hm,X6e=H6e,Y6e={Inflate:q6e,inflate:X6e};const{Inflate:K6e,inflate:G6e}=Y6e;var SF=K6e,Q6e=G6e;const Wq=[];for(let t=0;t<256;t++){let e=t;for(let r=0;r<8;r++)e&1?e=3988292384^e>>>1:e=e>>>1;Wq[t]=e}const EF=4294967295;function Z6e(t,e,r){let n=t;for(let i=0;i<r;i++)n=Wq[(n^e[i])&255]^n>>>8;return n}function J6e(t,e){return(Z6e(EF,t,e)^EF)>>>0}function TF(t,e,r){const n=t.readUint32(),i=J6e(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${i}`)}function Vq(t,e,r){for(let n=0;n<r;n++)e[n]=t[n]}function Hq(t,e,r,n){let i=0;for(;i<n;i++)e[i]=t[i];for(;i<r;i++)e[i]=t[i]+e[i-n]&255}function qq(t,e,r,n){let i=0;if(r.length===0)for(;i<n;i++)e[i]=t[i];else for(;i<n;i++)e[i]=t[i]+r[i]&255}function Xq(t,e,r,n,i){let o=0;if(r.length===0){for(;o<i;o++)e[o]=t[o];for(;o<n;o++)e[o]=t[o]+(e[o-i]>>1)&255}else{for(;o<i;o++)e[o]=t[o]+(r[o]>>1)&255;for(;o<n;o++)e[o]=t[o]+(e[o-i]+r[o]>>1)&255}}function Yq(t,e,r,n,i){let o=0;if(r.length===0){for(;o<i;o++)e[o]=t[o];for(;o<n;o++)e[o]=t[o]+e[o-i]&255}else{for(;o<i;o++)e[o]=t[o]+r[o]&255;for(;o<n;o++)e[o]=t[o]+eOe(e[o-i],r[o],r[o-i])&255}}function eOe(t,e,r){const n=t+e-r,i=Math.abs(n-t),o=Math.abs(n-e),s=Math.abs(n-r);return i<=o&&i<=s?t:o<=s?e:r}function tOe(t,e,r,n,i,o){switch(t){case 0:Vq(e,r,i);break;case 1:Hq(e,r,i,o);break;case 2:qq(e,r,n,i);break;case 3:Xq(e,r,n,i,o);break;case 4:Yq(e,r,n,i,o);break;default:throw new Error(`Unsupported filter: ${t}`)}}const rOe=new Uint16Array([255]),nOe=new Uint8Array(rOe.buffer),iOe=nOe[0]===255;function oOe(t){const{data:e,width:r,height:n,channels:i,depth:o}=t,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],a=Math.ceil(o/8)*i,l=new Uint8Array(n*r*a);let c=0;for(let u=0;u<7;u++){const g=s[u],_=Math.ceil((r-g.x)/g.xStep),b=Math.ceil((n-g.y)/g.yStep);if(_<=0||b<=0)continue;const P=_*a,E=new Uint8Array(P);for(let T=0;T<b;T++){const O=e[c++],L=e.subarray(c,c+P);c+=P;const N=new Uint8Array(P);tOe(O,L,N,E,P,a),E.set(N);for(let D=0;D<_;D++){const B=g.x+D*g.xStep,z=g.y+T*g.yStep;if(!(B>=r||z>=n))for(let X=0;X<a;X++)l[(z*r+B)*a+X]=N[D*a+X]}}}if(o===16){const u=new Uint16Array(l.buffer);if(iOe)for(let g=0;g<u.length;g++)u[g]=sOe(u[g]);return u}else return l}function sOe(t){return(t&255)<<8|t>>8&255}const aOe=new Uint16Array([255]),lOe=new Uint8Array(aOe.buffer),cOe=lOe[0]===255,uOe=new Uint8Array(0);function PF(t){const{data:e,width:r,height:n,channels:i,depth:o}=t,s=Math.ceil(o/8)*i,a=Math.ceil(o/8*i*r),l=new Uint8Array(n*a);let c=uOe,u=0,g,_;for(let b=0;b<n;b++){switch(g=e.subarray(u+1,u+1+a),_=l.subarray(b*a,(b+1)*a),e[u]){case 0:Vq(g,_,a);break;case 1:Hq(g,_,a,s);break;case 2:qq(g,_,c,a);break;case 3:Xq(g,_,c,a,s);break;case 4:Yq(g,_,c,a,s);break;default:throw new Error(`Unsupported filter: ${e[u]}`)}c=_,u+=a+1}if(o===16){const b=new Uint16Array(l.buffer);if(cOe)for(let P=0;P<b.length;P++)b[P]=fOe(b[P]);return b}else return l}function fOe(t){return(t&255)<<8|t>>8&255}const L1=Uint8Array.of(137,80,78,71,13,10,26,10);function CF(t){if(!hOe(t.readBytes(L1.length)))throw new Error("wrong PNG signature")}function hOe(t){if(t.length<L1.length)return!1;for(let e=0;e<L1.length;e++)if(t[e]!==L1[e])return!1;return!0}const dOe="tEXt",AOe=0,Kq=new TextDecoder("latin1");function pOe(t){if(mOe(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const gOe=/^[\u0000-\u00FF]*$/;function mOe(t){if(!gOe.test(t))throw new Error("invalid latin1 text")}function vOe(t,e,r){const n=Gq(e);t[n]=yOe(e,r-n.length-1)}function Gq(t){for(t.mark();t.readByte()!==AOe;);const e=t.offset;t.reset();const r=Kq.decode(t.readBytes(e-t.offset-1));return t.skip(1),pOe(r),r}function yOe(t,e){return Kq.decode(t.readBytes(e))}const Ba={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},HS={UNKNOWN:-1,DEFLATE:0},kF={UNKNOWN:-1,ADAPTIVE:0},qS={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},d1={NONE:0,BACKGROUND:1,PREVIOUS:2},XS={SOURCE:0,OVER:1};class bOe extends Sk{constructor(r,n={}){super(r);Ae(this,"_checkCrc");Ae(this,"_inflator");Ae(this,"_png");Ae(this,"_apng");Ae(this,"_end");Ae(this,"_hasPalette");Ae(this,"_palette");Ae(this,"_hasTransparency");Ae(this,"_transparency");Ae(this,"_compressionMethod");Ae(this,"_filterMethod");Ae(this,"_interlaceMethod");Ae(this,"_colorType");Ae(this,"_isAnimated");Ae(this,"_numberOfFrames");Ae(this,"_numberOfPlays");Ae(this,"_frames");Ae(this,"_writingDataChunks");const{checkCrc:i=!1}=n;this._checkCrc=i,this._inflator=new SF,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=HS.UNKNOWN,this._filterMethod=kF.UNKNOWN,this._interlaceMethod=qS.UNKNOWN,this._colorType=Ba.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(CF(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(CF(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const i=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case dOe:vOe(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?TF(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const i=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=i+r;break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?TF(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=_Oe(this.readUint8());const n=this.readUint8();this._colorType=n;let i;switch(n){case Ba.GREYSCALE:i=1;break;case Ba.TRUECOLOUR:i=3;break;case Ba.INDEXED_COLOUR:i=1;break;case Ba.GREYSCALE_ALPHA:i=2;break;case Ba.TRUECOLOUR_ALPHA:i=4;break;case Ba.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==HS.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const i=[];this._palette=i;for(let o=0;o<n;o++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,i=this.offset+this.byteOffset;if(i+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case Ba.GREYSCALE:case Ba.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case Ba.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const i=this.readByte();this._palette[n].push(i)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case Ba.UNKNOWN:case Ba.GREYSCALE_ALPHA:case Ba.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=Gq(this),i=this.readUint8();if(i!==HS.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const o=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:Q6e(o)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),i=this.readByte();this._png.resolution={x:r,y:n,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(r);if(i){if(i.data=PF({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)n.data=i.data;else{const o=this._apng.frames.at(r-1);this.disposeFrame(i,o,n),this.addFrameDataToCanvas(n,i)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,i){switch(r.disposeOp){case d1.NONE:break;case d1.BACKGROUND:for(let o=0;o<this._png.height;o++)for(let s=0;s<this._png.width;s++){const a=(o*r.width+s)*this._png.channels;for(let l=0;l<this._png.channels;l++)i.data[a+l]=0}break;case d1.PREVIOUS:i.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const i=1<<this._png.depth,o=(s,a)=>{const l=((s+n.yOffset)*this._png.width+n.xOffset+a)*this._png.channels,c=(s*n.width+a)*this._png.channels;return{index:l,frameIndex:c}};switch(n.blendOp){case XS.SOURCE:for(let s=0;s<n.height;s++)for(let a=0;a<n.width;a++){const{index:l,frameIndex:c}=o(s,a);for(let u=0;u<this._png.channels;u++)r.data[l+u]=n.data[c+u]}break;case XS.OVER:for(let s=0;s<n.height;s++)for(let a=0;a<n.width;a++){const{index:l,frameIndex:c}=o(s,a);for(let u=0;u<this._png.channels;u++){const g=n.data[c+this._png.channels-1]/i,_=u%(this._png.channels-1)===0?1:n.data[c+u],b=Math.floor(g*_+(1-g)*r.data[l+u]);r.data[l+u]+=b}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==kF.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===qS.NO_INTERLACE)this._png.data=PF({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===qS.ADAM7)this._png.data=oOe({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:d1.NONE,blendOp:XS.SOURCE,data:r}),this._inflator=new SF,this._writingDataChunks=!1}}function _Oe(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var OF;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(OF||(OF={}));function wOe(t,e){return new bOe(t,e).decode()}var Fr=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function YS(){Fr.console&&typeof Fr.console.log=="function"&&Fr.console.log.apply(Fr.console,arguments)}var Kn={log:YS,warn:function(t){Fr.console&&(typeof Fr.console.warn=="function"?Fr.console.warn.apply(Fr.console,arguments):YS.call(null,arguments))},error:function(t){Fr.console&&(typeof Fr.console.error=="function"?Fr.console.error.apply(Fr.console,arguments):YS(t))}};function KS(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){Qh(n.response,e,r)},n.onerror=function(){Kn.error("could not download file")},n.send()}function RF(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function A1(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Qh=Fr.saveAs||((typeof window>"u"?"undefined":Nn(window))!=="object"||window!==Fr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=Fr.URL||Fr.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?RF(i.href)?KS(t,e,r):A1(i,i.target="_blank"):A1(i)):(i.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){A1(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(RF(t))KS(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){A1(n)})}else navigator.msSaveOrOpenBlob((function(i,o){return o===void 0?o={autoBom:!1}:Nn(o)!=="object"&&(Kn.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return KS(t,e,r);var i=t.type==="application/octet-stream",o=/constructor/i.test(Fr.HTMLElement)||Fr.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&o)&&(typeof FileReader>"u"?"undefined":Nn(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var u=a.result;u=s?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},a.readAsDataURL(t)}else{var l=Fr.URL||Fr.webkitURL,c=l.createObjectURL(t);n?n.location=c:location.href=c,n=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Qq(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,o=r[n].process,s=i.exec(t);s&&(e=o(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+a+l+c}}var D1=Fr.atob.bind(Fr),IF=Fr.btoa.bind(Fr);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function GS(t,e){var r=t[0],n=t[1],i=t[2],o=t[3];r=ws(r,n,i,o,e[0],7,-680876936),o=ws(o,r,n,i,e[1],12,-389564586),i=ws(i,o,r,n,e[2],17,606105819),n=ws(n,i,o,r,e[3],22,-1044525330),r=ws(r,n,i,o,e[4],7,-176418897),o=ws(o,r,n,i,e[5],12,1200080426),i=ws(i,o,r,n,e[6],17,-1473231341),n=ws(n,i,o,r,e[7],22,-45705983),r=ws(r,n,i,o,e[8],7,1770035416),o=ws(o,r,n,i,e[9],12,-1958414417),i=ws(i,o,r,n,e[10],17,-42063),n=ws(n,i,o,r,e[11],22,-1990404162),r=ws(r,n,i,o,e[12],7,1804603682),o=ws(o,r,n,i,e[13],12,-40341101),i=ws(i,o,r,n,e[14],17,-1502002290),r=xs(r,n=ws(n,i,o,r,e[15],22,1236535329),i,o,e[1],5,-165796510),o=xs(o,r,n,i,e[6],9,-1069501632),i=xs(i,o,r,n,e[11],14,643717713),n=xs(n,i,o,r,e[0],20,-373897302),r=xs(r,n,i,o,e[5],5,-701558691),o=xs(o,r,n,i,e[10],9,38016083),i=xs(i,o,r,n,e[15],14,-660478335),n=xs(n,i,o,r,e[4],20,-405537848),r=xs(r,n,i,o,e[9],5,568446438),o=xs(o,r,n,i,e[14],9,-1019803690),i=xs(i,o,r,n,e[3],14,-187363961),n=xs(n,i,o,r,e[8],20,1163531501),r=xs(r,n,i,o,e[13],5,-1444681467),o=xs(o,r,n,i,e[2],9,-51403784),i=xs(i,o,r,n,e[7],14,1735328473),r=Ss(r,n=xs(n,i,o,r,e[12],20,-1926607734),i,o,e[5],4,-378558),o=Ss(o,r,n,i,e[8],11,-2022574463),i=Ss(i,o,r,n,e[11],16,1839030562),n=Ss(n,i,o,r,e[14],23,-35309556),r=Ss(r,n,i,o,e[1],4,-1530992060),o=Ss(o,r,n,i,e[4],11,1272893353),i=Ss(i,o,r,n,e[7],16,-155497632),n=Ss(n,i,o,r,e[10],23,-1094730640),r=Ss(r,n,i,o,e[13],4,681279174),o=Ss(o,r,n,i,e[0],11,-358537222),i=Ss(i,o,r,n,e[3],16,-722521979),n=Ss(n,i,o,r,e[6],23,76029189),r=Ss(r,n,i,o,e[9],4,-640364487),o=Ss(o,r,n,i,e[12],11,-421815835),i=Ss(i,o,r,n,e[15],16,530742520),r=Es(r,n=Ss(n,i,o,r,e[2],23,-995338651),i,o,e[0],6,-198630844),o=Es(o,r,n,i,e[7],10,1126891415),i=Es(i,o,r,n,e[14],15,-1416354905),n=Es(n,i,o,r,e[5],21,-57434055),r=Es(r,n,i,o,e[12],6,1700485571),o=Es(o,r,n,i,e[3],10,-1894986606),i=Es(i,o,r,n,e[10],15,-1051523),n=Es(n,i,o,r,e[1],21,-2054922799),r=Es(r,n,i,o,e[8],6,1873313359),o=Es(o,r,n,i,e[15],10,-30611744),i=Es(i,o,r,n,e[6],15,-1560198380),n=Es(n,i,o,r,e[13],21,1309151649),r=Es(r,n,i,o,e[4],6,-145523070),o=Es(o,r,n,i,e[11],10,-1120210379),i=Es(i,o,r,n,e[2],15,718787259),n=Es(n,i,o,r,e[9],21,-343485551),t[0]=oh(r,t[0]),t[1]=oh(n,t[1]),t[2]=oh(i,t[2]),t[3]=oh(o,t[3])}function qb(t,e,r,n,i,o){return e=oh(oh(e,t),oh(n,o)),oh(e<<i|e>>>32-i,r)}function ws(t,e,r,n,i,o,s){return qb(e&r|~e&n,t,e,i,o,s)}function xs(t,e,r,n,i,o,s){return qb(e&n|r&~n,t,e,i,o,s)}function Ss(t,e,r,n,i,o,s){return qb(e^r^n,t,e,i,o,s)}function Es(t,e,r,n,i,o,s){return qb(r^(e|~n),t,e,i,o,s)}function Zq(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)GS(n,xOe(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(GS(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*r,GS(n,i),n}function xOe(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}var NF="0123456789abcdef".split("");function SOe(t){for(var e="",r=0;r<4;r++)e+=NF[t>>8*r+4&15]+NF[t>>8*r&15];return e}function EOe(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function $T(t){return Zq(t).map(EOe).join("")}var TOe=(function(t){for(var e=0;e<t.length;e++)t[e]=SOe(t[e]);return t.join("")})(Zq("hello"))!="5d41402abc4b2a76b9719d911017c592";function oh(t,e){if(TOe){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function zT(t,e){var r,n,i,o;if(t!==r){for(var s=(i=t,o=1+(256/t.length|0),new Array(o+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var c=0;for(l=0;l<256;l++){var u=a[l];c=(c+u+s.charCodeAt(l))%256,a[l]=a[c],a[c]=u}r=t,n=a}else a=n;var g=e.length,_=0,b=0,P="";for(l=0;l<g;l++)b=(b+(u=a[_=(_+1)%256]))%256,a[_]=a[b],a[b]=u,s=a[(a[_]+a[b])%256],P+=String.fromCharCode(e.charCodeAt(l)^s);return P}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var MF={print:4,modify:8,copy:16,"annot-forms":32};function IA(t,e,r,n){this.v=1,this.r=2;var i=192;t.forEach(function(a){if(MF.perm!==void 0)throw new Error("Invalid permission: "+a);i+=MF[a]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(e+this.padding).substr(0,32),s=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,s),this.P=-(1+(255^i)),this.encryptionKey=$T(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=zT(this.encryptionKey,this.padding)}function NA(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var i=t.charCodeAt(n);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[n]}return e}function LF(t){if(Nn(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var o=Math.random().toString(35);return e[r][o]=[n,!!i],o},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var o in e[r]){var s=e[r][o];try{s[0].apply(t,n)}catch(a){Fr.console&&Kn.error("jsPDF PubSub Error",a.message,a)}s[1]&&i.push(o)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function w2(t){if(!(this instanceof w2))return new w2(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function Jq(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Zh(t,e,r,n,i){if(!(this instanceof Zh))return new Zh(t,e,r,n,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,Jq.call(this,n,i)}function WA(t,e,r,n,i){if(!(this instanceof WA))return new WA(t,e,r,n,i);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,Jq.call(this,n,i)}function Ar(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],o=arguments[3],s=[],a=1,l=16,c="S",u=null;Nn(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,i=t.format||i,o=t.compress||t.compressPdf||o,(u=t.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),a=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),c=t.defaultPathOperation||"S"),s=t.filters||(o===!0?["FlateEncode"]:s),n=n||"mm",r=(""+(r||"P")).toLowerCase();var g=t.putOnlyUsedFonts||!1,_={},b={internal:{},__private__:{}};b.__private__.PubSub=LF;var P="1.3",E=b.__private__.getPdfVersion=function(){return P};b.__private__.setPdfVersion=function(F){P=F};var T={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};b.__private__.getPageFormats=function(){return T};var O=b.__private__.getPageFormat=function(F){return T[F]};i=i||"a4";var L="compat",N="advanced",D=L;function B(){this.saveGraphicsState(),xe(new pr(Tr,0,0,-Tr,0,oo()*Tr).toString()+" cm"),this.setFontSize(this.getFontSize()/Tr),c="n",D=N}function z(){this.restoreGraphicsState(),c="S",D=L}var X=b.__private__.combineFontStyleAndFontWeight=function(F,fe){if(F=="bold"&&fe=="normal"||F=="bold"&&fe==400||F=="normal"&&fe=="italic"||F=="bold"&&fe=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return fe&&(F=fe==400||fe==="normal"?F==="italic"?"italic":"normal":fe!=700&&fe!=="bold"||F!=="normal"?(fe==700?"bold":fe)+""+F:"bold"),F};b.advancedAPI=function(F){var fe=D===L;return fe&&B.call(this),typeof F!="function"||(F(this),fe&&z.call(this)),this},b.compatAPI=function(F){var fe=D===N;return fe&&z.call(this),typeof F!="function"||(F(this),fe&&B.call(this)),this},b.isAdvancedAPI=function(){return D===N};var Z,G=function(F){if(D!==N)throw new Error(F+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},de=b.roundToPrecision=b.__private__.roundToPrecision=function(F,fe){var Ne=e||fe;if(isNaN(F)||isNaN(Ne))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return F.toFixed(Ne).replace(/0+$/,"")};Z=b.hpf=b.__private__.hpf=typeof l=="number"?function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.hpf");return de(F,l)}:l==="smart"?function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.hpf");return de(F,F>-1&&F<1?16:5)}:function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.hpf");return de(F,16)};var H=b.f2=b.__private__.f2=function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.f2");return de(F,2)},ee=b.__private__.f3=function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.f3");return de(F,3)},ae=b.scale=b.__private__.scale=function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.scale");return D===L?F*Tr:D===N?F:void 0},le=function(F){return ae((function(fe){return D===L?oo()-fe:D===N?fe:void 0})(F))};b.__private__.setPrecision=b.setPrecision=function(F){typeof parseInt(F,10)=="number"&&(e=parseInt(F,10))};var Te,te="00000000000000000000000000000000",oe=b.__private__.getFileId=function(){return te},K=b.__private__.setFileId=function(F){return te=F!==void 0&&/^[a-fA-F0-9]{32}$/.test(F)?F.toUpperCase():te.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(di=new IA(u.userPermissions,u.userPassword,u.ownerPassword,te)),te};b.setFileId=function(F){return K(F),this},b.getFileId=function(){return oe()};var ge=b.__private__.convertDateToPDFDate=function(F){var fe=F.getTimezoneOffset(),Ne=fe<0?"+":"-",ze=Math.floor(Math.abs(fe/60)),Ze=Math.abs(fe%60),gt=[Ne,pe(ze),"'",pe(Ze),"'"].join("");return["D:",F.getFullYear(),pe(F.getMonth()+1),pe(F.getDate()),pe(F.getHours()),pe(F.getMinutes()),pe(F.getSeconds()),gt].join("")},Ee=b.__private__.convertPDFDateToDate=function(F){var fe=parseInt(F.substr(2,4),10),Ne=parseInt(F.substr(6,2),10)-1,ze=parseInt(F.substr(8,2),10),Ze=parseInt(F.substr(10,2),10),gt=parseInt(F.substr(12,2),10),_t=parseInt(F.substr(14,2),10);return new Date(fe,Ne,ze,Ze,gt,_t,0)},se=b.__private__.setCreationDate=function(F){var fe;if(F===void 0&&(F=new Date),F instanceof Date)fe=ge(F);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(F))throw new Error("Invalid argument passed to jsPDF.setCreationDate");fe=F}return Te=fe},$=b.__private__.getCreationDate=function(F){var fe=Te;return F==="jsDate"&&(fe=Ee(Te)),fe};b.setCreationDate=function(F){return se(F),this},b.getCreationDate=function(F){return $(F)};var ne,pe=b.__private__.padd2=function(F){return("0"+parseInt(F)).slice(-2)},be=b.__private__.padd2Hex=function(F){return("00"+(F=F.toString())).substr(F.length)},Ie=0,De=[],$e=[],Le=0,We=[],ft=[],tt=!1,xt=$e;b.__private__.setCustomOutputDestination=function(F){tt=!0,xt=F};var Tt=function(F){tt||(xt=F)};b.__private__.resetCustomOutputDestination=function(){tt=!1,xt=$e};var xe=b.__private__.out=function(F){return F=F.toString(),Le+=F.length+1,xt.push(F),xt},At=b.__private__.write=function(F){return xe(arguments.length===1?F.toString():Array.prototype.join.call(arguments," "))},Vt=b.__private__.getArrayBuffer=function(F){for(var fe=F.length,Ne=new ArrayBuffer(fe),ze=new Uint8Array(Ne);fe--;)ze[fe]=F.charCodeAt(fe);return Ne},$t=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];b.__private__.getStandardFonts=function(){return $t};var bt=t.fontSize||16;b.__private__.setFontSize=b.setFontSize=function(F){return bt=D===N?F/Tr:F,this};var Qt,It=b.__private__.getFontSize=b.getFontSize=function(){return D===L?bt:bt*Tr},qt=t.R2L||!1;b.__private__.setR2L=b.setR2L=function(F){return qt=F,this},b.__private__.getR2L=b.getR2L=function(){return qt};var Zt,Hr=b.__private__.setZoomMode=function(F){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(F))Qt=F;else if(isNaN(F)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(F)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+F+'" is not recognized.');Qt=F}else Qt=parseInt(F,10)};b.__private__.getZoomMode=function(){return Qt};var jr,Mr=b.__private__.setPageMode=function(F){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(F)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+F+'" is not recognized.');Zt=F};b.__private__.getPageMode=function(){return Zt};var Yr=b.__private__.setLayoutMode=function(F){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(F)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+F+'" is not recognized.');jr=F};b.__private__.getLayoutMode=function(){return jr},b.__private__.setDisplayMode=b.setDisplayMode=function(F,fe,Ne){return Hr(F),Yr(fe),Mr(Ne),this};var zr={title:"",subject:"",author:"",keywords:"",creator:""};b.__private__.getDocumentProperty=function(F){if(Object.keys(zr).indexOf(F)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return zr[F]},b.__private__.getDocumentProperties=function(){return zr},b.__private__.setDocumentProperties=b.setProperties=b.setDocumentProperties=function(F){for(var fe in zr)zr.hasOwnProperty(fe)&&F[fe]&&(zr[fe]=F[fe]);return this},b.__private__.setDocumentProperty=function(F,fe){if(Object.keys(zr).indexOf(F)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return zr[F]=fe};var Jt,Tr,Gt,ii,Jr,Wr={},qr={},yn=[],fr={},bn={},ct={},Ir={},hn=null,Dr=0,mr=[],nn=new LF(b),ga=t.hotfixes||[],Ti={},Rs={},no=[],pr=function F(fe,Ne,ze,Ze,gt,_t){if(!(this instanceof F))return new F(fe,Ne,ze,Ze,gt,_t);isNaN(fe)&&(fe=1),isNaN(Ne)&&(Ne=0),isNaN(ze)&&(ze=0),isNaN(Ze)&&(Ze=1),isNaN(gt)&&(gt=0),isNaN(_t)&&(_t=0),this._matrix=[fe,Ne,ze,Ze,gt,_t]};Object.defineProperty(pr.prototype,"sx",{get:function(){return this._matrix[0]},set:function(F){this._matrix[0]=F}}),Object.defineProperty(pr.prototype,"shy",{get:function(){return this._matrix[1]},set:function(F){this._matrix[1]=F}}),Object.defineProperty(pr.prototype,"shx",{get:function(){return this._matrix[2]},set:function(F){this._matrix[2]=F}}),Object.defineProperty(pr.prototype,"sy",{get:function(){return this._matrix[3]},set:function(F){this._matrix[3]=F}}),Object.defineProperty(pr.prototype,"tx",{get:function(){return this._matrix[4]},set:function(F){this._matrix[4]=F}}),Object.defineProperty(pr.prototype,"ty",{get:function(){return this._matrix[5]},set:function(F){this._matrix[5]=F}}),Object.defineProperty(pr.prototype,"a",{get:function(){return this._matrix[0]},set:function(F){this._matrix[0]=F}}),Object.defineProperty(pr.prototype,"b",{get:function(){return this._matrix[1]},set:function(F){this._matrix[1]=F}}),Object.defineProperty(pr.prototype,"c",{get:function(){return this._matrix[2]},set:function(F){this._matrix[2]=F}}),Object.defineProperty(pr.prototype,"d",{get:function(){return this._matrix[3]},set:function(F){this._matrix[3]=F}}),Object.defineProperty(pr.prototype,"e",{get:function(){return this._matrix[4]},set:function(F){this._matrix[4]=F}}),Object.defineProperty(pr.prototype,"f",{get:function(){return this._matrix[5]},set:function(F){this._matrix[5]=F}}),Object.defineProperty(pr.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(pr.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(pr.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(pr.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),pr.prototype.join=function(F){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(Z).join(F)},pr.prototype.multiply=function(F){var fe=F.sx*this.sx+F.shy*this.shx,Ne=F.sx*this.shy+F.shy*this.sy,ze=F.shx*this.sx+F.sy*this.shx,Ze=F.shx*this.shy+F.sy*this.sy,gt=F.tx*this.sx+F.ty*this.shx+this.tx,_t=F.tx*this.shy+F.ty*this.sy+this.ty;return new pr(fe,Ne,ze,Ze,gt,_t)},pr.prototype.decompose=function(){var F=this.sx,fe=this.shy,Ne=this.shx,ze=this.sy,Ze=this.tx,gt=this.ty,_t=Math.sqrt(F*F+fe*fe),Ht=(F/=_t)*Ne+(fe/=_t)*ze;Ne-=F*Ht,ze-=fe*Ht;var ar=Math.sqrt(Ne*Ne+ze*ze);return Ht/=ar,F*(ze/=ar)<fe*(Ne/=ar)&&(F=-F,fe=-fe,Ht=-Ht,_t=-_t),{scale:new pr(_t,0,0,ar,0,0),translate:new pr(1,0,0,1,Ze,gt),rotate:new pr(F,fe,-fe,F,0,0),skew:new pr(1,0,Ht,1,0,0)}},pr.prototype.toString=function(F){return this.join(" ")},pr.prototype.inversed=function(){var F=this.sx,fe=this.shy,Ne=this.shx,ze=this.sy,Ze=this.tx,gt=this.ty,_t=1/(F*ze-fe*Ne),Ht=ze*_t,ar=-fe*_t,Pr=-Ne*_t,Nr=F*_t;return new pr(Ht,ar,Pr,Nr,-Ht*Ze-Pr*gt,-ar*Ze-Nr*gt)},pr.prototype.applyToPoint=function(F){var fe=F.x*this.sx+F.y*this.shx+this.tx,Ne=F.x*this.shy+F.y*this.sy+this.ty;return new as(fe,Ne)},pr.prototype.applyToRectangle=function(F){var fe=this.applyToPoint(F),Ne=this.applyToPoint(new as(F.x+F.w,F.y+F.h));return new Zn(fe.x,fe.y,Ne.x-fe.x,Ne.y-fe.y)},pr.prototype.clone=function(){var F=this.sx,fe=this.shy,Ne=this.shx,ze=this.sy,Ze=this.tx,gt=this.ty;return new pr(F,fe,Ne,ze,Ze,gt)},b.Matrix=pr;var Pi=b.matrixMult=function(F,fe){return fe.multiply(F)},lt=new pr(1,0,0,1,0,0);b.unitMatrix=b.identityMatrix=lt;var pt=function(F,fe){if(!bn[F]){var Ne=(fe instanceof Zh?"Sh":"P")+(Object.keys(fr).length+1).toString(10);fe.id=Ne,bn[F]=Ne,fr[Ne]=fe,nn.publish("addPattern",fe)}};b.ShadingPattern=Zh,b.TilingPattern=WA,b.addShadingPattern=function(F,fe){return G("addShadingPattern()"),pt(F,fe),this},b.beginTilingPattern=function(F){G("beginTilingPattern()"),Tn(F.boundingBox[0],F.boundingBox[1],F.boundingBox[2]-F.boundingBox[0],F.boundingBox[3]-F.boundingBox[1],F.matrix)},b.endTilingPattern=function(F,fe){G("endTilingPattern()"),fe.stream=ft[ne].join(`
`),pt(F,fe),nn.publish("endTilingPattern",fe),no.pop().restore()};var Ot,dt=b.__private__.newObject=function(){var F=A();return ce(F,!0),F},A=b.__private__.newObjectDeferred=function(){return Ie++,De[Ie]=function(){return Le},Ie},ce=function(F,fe){return fe=typeof fe=="boolean"&&fe,De[F]=Le,fe&&xe(F+" 0 obj"),F},Ur=b.__private__.newAdditionalObject=function(){var F={objId:A(),content:""};return We.push(F),F},Kr=A(),_n=A(),vr=b.__private__.decodeColorString=function(F){var fe=F.split(" ");if(fe.length!==2||fe[1]!=="g"&&fe[1]!=="G")fe.length!==5||fe[4]!=="k"&&fe[4]!=="K"||(fe=[(1-fe[0])*(1-fe[3]),(1-fe[1])*(1-fe[3]),(1-fe[2])*(1-fe[3]),"r"]);else{var Ne=parseFloat(fe[0]);fe=[Ne,Ne,Ne,"r"]}for(var ze="#",Ze=0;Ze<3;Ze++)ze+=("0"+Math.floor(255*parseFloat(fe[Ze])).toString(16)).slice(-2);return ze},yr=b.__private__.encodeColorString=function(F){var fe;typeof F=="string"&&(F={ch1:F});var Ne=F.ch1,ze=F.ch2,Ze=F.ch3,gt=F.ch4,_t=F.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Ne=="string"&&Ne.charAt(0)!=="#"){var Ht=new Qq(Ne);if(Ht.ok)Ne=Ht.toHex();else if(!/^\d*\.?\d*$/.test(Ne))throw new Error('Invalid color "'+Ne+'" passed to jsPDF.encodeColorString.')}if(typeof Ne=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Ne)&&(Ne="#"+Ne[1]+Ne[1]+Ne[2]+Ne[2]+Ne[3]+Ne[3]),typeof Ne=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Ne)){var ar=parseInt(Ne.substr(1),16);Ne=ar>>16&255,ze=ar>>8&255,Ze=255&ar}if(ze===void 0||gt===void 0&&Ne===ze&&ze===Ze)fe=typeof Ne=="string"?Ne+" "+_t[0]:F.precision===2?H(Ne/255)+" "+_t[0]:ee(Ne/255)+" "+_t[0];else if(gt===void 0||Nn(gt)==="object"){if(gt&&!isNaN(gt.a)&&gt.a===0)return["1.","1.","1.",_t[1]].join(" ");fe=typeof Ne=="string"?[Ne,ze,Ze,_t[1]].join(" "):F.precision===2?[H(Ne/255),H(ze/255),H(Ze/255),_t[1]].join(" "):[ee(Ne/255),ee(ze/255),ee(Ze/255),_t[1]].join(" ")}else fe=typeof Ne=="string"?[Ne,ze,Ze,gt,_t[2]].join(" "):F.precision===2?[H(Ne),H(ze),H(Ze),H(gt),_t[2]].join(" "):[ee(Ne),ee(ze),ee(Ze),ee(gt),_t[2]].join(" ");return fe},yi=b.__private__.getFilters=function(){return s},Lr=b.__private__.putStream=function(F){var fe=(F=F||{}).data||"",Ne=F.filters||yi(),ze=F.alreadyAppliedFilters||[],Ze=F.addLength1||!1,gt=fe.length,_t=F.objectId,Ht=function(bi){return bi};if(u!==null&&_t===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(Ht=di.encryptor(_t,0));var ar={};Ne===!0&&(Ne=["FlateEncode"]);var Pr=F.additionalKeyValues||[],Nr=(ar=Ar.API.processDataByFilters!==void 0?Ar.API.processDataByFilters(fe,Ne):{data:fe,reverseChain:[]}).reverseChain+(Array.isArray(ze)?ze.join(" "):ze.toString());if(ar.data.length!==0&&(Pr.push({key:"Length",value:ar.data.length}),Ze===!0&&Pr.push({key:"Length1",value:gt})),Nr.length!=0)if(Nr.split("/").length-1==1)Pr.push({key:"Filter",value:Nr});else{Pr.push({key:"Filter",value:"["+Nr+"]"});for(var on=0;on<Pr.length;on+=1)if(Pr[on].key==="DecodeParms"){for(var zn=[],Ai=0;Ai<ar.reverseChain.split("/").length-1;Ai+=1)zn.push("null");zn.push(Pr[on].value),Pr[on].value="["+zn.join(" ")+"]"}}xe("<<");for(var Pn=0;Pn<Pr.length;Pn++)xe("/"+Pr[Pn].key+" "+Pr[Pn].value);xe(">>"),ar.data.length!==0&&(xe("stream"),xe(Ht(ar.data)),xe("endstream"))},wr=b.__private__.putPage=function(F){var fe=F.number,Ne=F.data,ze=F.objId,Ze=F.contentsObjId;ce(ze,!0),xe("<</Type /Page"),xe("/Parent "+F.rootDictionaryObjId+" 0 R"),xe("/Resources "+F.resourceDictionaryObjId+" 0 R"),xe("/MediaBox ["+parseFloat(Z(F.mediaBox.bottomLeftX))+" "+parseFloat(Z(F.mediaBox.bottomLeftY))+" "+Z(F.mediaBox.topRightX)+" "+Z(F.mediaBox.topRightY)+"]"),F.cropBox!==null&&xe("/CropBox ["+Z(F.cropBox.bottomLeftX)+" "+Z(F.cropBox.bottomLeftY)+" "+Z(F.cropBox.topRightX)+" "+Z(F.cropBox.topRightY)+"]"),F.bleedBox!==null&&xe("/BleedBox ["+Z(F.bleedBox.bottomLeftX)+" "+Z(F.bleedBox.bottomLeftY)+" "+Z(F.bleedBox.topRightX)+" "+Z(F.bleedBox.topRightY)+"]"),F.trimBox!==null&&xe("/TrimBox ["+Z(F.trimBox.bottomLeftX)+" "+Z(F.trimBox.bottomLeftY)+" "+Z(F.trimBox.topRightX)+" "+Z(F.trimBox.topRightY)+"]"),F.artBox!==null&&xe("/ArtBox ["+Z(F.artBox.bottomLeftX)+" "+Z(F.artBox.bottomLeftY)+" "+Z(F.artBox.topRightX)+" "+Z(F.artBox.topRightY)+"]"),typeof F.userUnit=="number"&&F.userUnit!==1&&xe("/UserUnit "+F.userUnit),nn.publish("putPage",{objId:ze,pageContext:mr[fe],pageNumber:fe,page:Ne}),xe("/Contents "+Ze+" 0 R"),xe(">>"),xe("endobj");var gt=Ne.join(`
`);return D===N&&(gt+=`
Q`),ce(Ze,!0),Lr({data:gt,filters:yi(),objectId:Ze}),xe("endobj"),ze},Qn=b.__private__.putPages=function(){var F,fe,Ne=[];for(F=1;F<=Dr;F++)mr[F].objId=A(),mr[F].contentsObjId=A();for(F=1;F<=Dr;F++)Ne.push(wr({number:F,data:ft[F],objId:mr[F].objId,contentsObjId:mr[F].contentsObjId,mediaBox:mr[F].mediaBox,cropBox:mr[F].cropBox,bleedBox:mr[F].bleedBox,trimBox:mr[F].trimBox,artBox:mr[F].artBox,userUnit:mr[F].userUnit,rootDictionaryObjId:Kr,resourceDictionaryObjId:_n}));ce(Kr,!0),xe("<</Type /Pages");var ze="/Kids [";for(fe=0;fe<Dr;fe++)ze+=Ne[fe]+" 0 R ";xe(ze+"]"),xe("/Count "+Dr),xe(">>"),xe("endobj"),nn.publish("postPutPages")},Is=function(F){nn.publish("putFont",{font:F,out:xe,newObject:dt,putStream:Lr}),F.isAlreadyPutted!==!0&&(F.objectNumber=dt(),xe("<<"),xe("/Type /Font"),xe("/BaseFont /"+NA(F.postScriptName)),xe("/Subtype /Type1"),typeof F.encoding=="string"&&xe("/Encoding /"+F.encoding),xe("/FirstChar 32"),xe("/LastChar 255"),xe(">>"),xe("endobj"))},Nl=function(F){F.objectNumber=dt();var fe=[];fe.push({key:"Type",value:"/XObject"}),fe.push({key:"Subtype",value:"/Form"}),fe.push({key:"BBox",value:"["+[Z(F.x),Z(F.y),Z(F.x+F.width),Z(F.y+F.height)].join(" ")+"]"}),fe.push({key:"Matrix",value:"["+F.matrix.toString()+"]"});var Ne=F.pages[1].join(`
`);Lr({data:Ne,additionalKeyValues:fe,objectId:F.objectNumber}),xe("endobj")},ma=function(F,fe){fe||(fe=21);var Ne=dt(),ze=(function(_t,Ht){var ar,Pr=[],Nr=1/(Ht-1);for(ar=0;ar<1;ar+=Nr)Pr.push(ar);if(Pr.push(1),_t[0].offset!=0){var on={offset:0,color:_t[0].color};_t.unshift(on)}if(_t[_t.length-1].offset!=1){var zn={offset:1,color:_t[_t.length-1].color};_t.push(zn)}for(var Ai="",Pn=0,bi=0;bi<Pr.length;bi++){for(ar=Pr[bi];ar>_t[Pn+1].offset;)Pn++;var Jn=_t[Pn].offset,Fi=(ar-Jn)/(_t[Pn+1].offset-Jn),wa=_t[Pn].color,wo=_t[Pn+1].color;Ai+=be(Math.round((1-Fi)*wa[0]+Fi*wo[0]).toString(16))+be(Math.round((1-Fi)*wa[1]+Fi*wo[1]).toString(16))+be(Math.round((1-Fi)*wa[2]+Fi*wo[2]).toString(16))}return Ai.trim()})(F.colors,fe),Ze=[];Ze.push({key:"FunctionType",value:"0"}),Ze.push({key:"Domain",value:"[0.0 1.0]"}),Ze.push({key:"Size",value:"["+fe+"]"}),Ze.push({key:"BitsPerSample",value:"8"}),Ze.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ze.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Lr({data:ze,additionalKeyValues:Ze,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Ne}),xe("endobj"),F.objectNumber=dt(),xe("<< /ShadingType "+F.type),xe("/ColorSpace /DeviceRGB");var gt="/Coords ["+Z(parseFloat(F.coords[0]))+" "+Z(parseFloat(F.coords[1]))+" ";F.type===2?gt+=Z(parseFloat(F.coords[2]))+" "+Z(parseFloat(F.coords[3])):gt+=Z(parseFloat(F.coords[2]))+" "+Z(parseFloat(F.coords[3]))+" "+Z(parseFloat(F.coords[4]))+" "+Z(parseFloat(F.coords[5])),xe(gt+="]"),F.matrix&&xe("/Matrix ["+F.matrix.toString()+"]"),xe("/Function "+Ne+" 0 R"),xe("/Extend [true true]"),xe(">>"),xe("endobj")},Di=function(F,fe){var Ne=A(),ze=dt();fe.push({resourcesOid:Ne,objectOid:ze}),F.objectNumber=ze;var Ze=[];Ze.push({key:"Type",value:"/Pattern"}),Ze.push({key:"PatternType",value:"1"}),Ze.push({key:"PaintType",value:"1"}),Ze.push({key:"TilingType",value:"1"}),Ze.push({key:"BBox",value:"["+F.boundingBox.map(Z).join(" ")+"]"}),Ze.push({key:"XStep",value:Z(F.xStep)}),Ze.push({key:"YStep",value:Z(F.yStep)}),Ze.push({key:"Resources",value:Ne+" 0 R"}),F.matrix&&Ze.push({key:"Matrix",value:"["+F.matrix.toString()+"]"}),Lr({data:F.stream,additionalKeyValues:Ze,objectId:F.objectNumber}),xe("endobj")},Ka=function(F){for(var fe in F.objectNumber=dt(),xe("<<"),F)switch(fe){case"opacity":xe("/ca "+H(F[fe]));break;case"stroke-opacity":xe("/CA "+H(F[fe]))}xe(">>"),xe("endobj")},en=function(F){ce(F.resourcesOid,!0),xe("<<"),xe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var fe in xe("/Font <<"),Wr)Wr.hasOwnProperty(fe)&&(g===!1||g===!0&&_.hasOwnProperty(fe))&&xe("/"+fe+" "+Wr[fe].objectNumber+" 0 R");xe(">>")})(),(function(){if(Object.keys(fr).length>0){for(var fe in xe("/Shading <<"),fr)fr.hasOwnProperty(fe)&&fr[fe]instanceof Zh&&fr[fe].objectNumber>=0&&xe("/"+fe+" "+fr[fe].objectNumber+" 0 R");nn.publish("putShadingPatternDict"),xe(">>")}})(),(function(fe){if(Object.keys(fr).length>0){for(var Ne in xe("/Pattern <<"),fr)fr.hasOwnProperty(Ne)&&fr[Ne]instanceof b.TilingPattern&&fr[Ne].objectNumber>=0&&fr[Ne].objectNumber<fe&&xe("/"+Ne+" "+fr[Ne].objectNumber+" 0 R");nn.publish("putTilingPatternDict"),xe(">>")}})(F.objectOid),(function(){if(Object.keys(ct).length>0){var fe;for(fe in xe("/ExtGState <<"),ct)ct.hasOwnProperty(fe)&&ct[fe].objectNumber>=0&&xe("/"+fe+" "+ct[fe].objectNumber+" 0 R");nn.publish("putGStateDict"),xe(">>")}})(),(function(){for(var fe in xe("/XObject <<"),Ti)Ti.hasOwnProperty(fe)&&Ti[fe].objectNumber>=0&&xe("/"+fe+" "+Ti[fe].objectNumber+" 0 R");nn.publish("putXobjectDict"),xe(">>")})(),xe(">>"),xe("endobj")},Ic=function(F){qr[F.fontName]=qr[F.fontName]||{},qr[F.fontName][F.fontStyle]=F.id},Nc=function(F,fe,Ne,ze,Ze){var gt={id:"F"+(Object.keys(Wr).length+1).toString(10),postScriptName:F,fontName:fe,fontStyle:Ne,encoding:ze,isStandardFont:Ze||!1,metadata:{}};return nn.publish("addFont",{font:gt,instance:this}),Wr[gt.id]=gt,Ic(gt),gt.id},oi=b.__private__.pdfEscape=b.pdfEscape=function(F,fe){return(function(Ne,ze){var Ze,gt,_t,Ht,ar,Pr,Nr,on,zn;if(_t=(ze=ze||{}).sourceEncoding||"Unicode",ar=ze.outputEncoding,(ze.autoencode||ar)&&Wr[Jt].metadata&&Wr[Jt].metadata[_t]&&Wr[Jt].metadata[_t].encoding&&(Ht=Wr[Jt].metadata[_t].encoding,!ar&&Wr[Jt].encoding&&(ar=Wr[Jt].encoding),!ar&&Ht.codePages&&(ar=Ht.codePages[0]),typeof ar=="string"&&(ar=Ht[ar]),ar)){for(Nr=!1,Pr=[],Ze=0,gt=Ne.length;Ze<gt;Ze++)(on=ar[Ne.charCodeAt(Ze)])?Pr.push(String.fromCharCode(on)):Pr.push(Ne[Ze]),Pr[Ze].charCodeAt(0)>>8&&(Nr=!0);Ne=Pr.join("")}for(Ze=Ne.length;Nr===void 0&&Ze!==0;)Ne.charCodeAt(Ze-1)>>8&&(Nr=!0),Ze--;if(!Nr)return Ne;for(Pr=ze.noBOM?[]:[254,255],Ze=0,gt=Ne.length;Ze<gt;Ze++){if((zn=(on=Ne.charCodeAt(Ze))>>8)>>8)throw new Error("Character at position "+Ze+" of string '"+Ne+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Pr.push(zn),Pr.push(on-(zn<<8))}return String.fromCharCode.apply(void 0,Pr)})(F,fe).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},gr=b.__private__.beginPage=function(F){ft[++Dr]=[],mr[Dr]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(F[0]),topRightY:Number(F[1])}},Ga(Dr),Tt(ft[ne])},we=function(F,fe){var Ne,ze,Ze;switch(r=fe||r,typeof F=="string"&&(Ne=O(F.toLowerCase()),Array.isArray(Ne)&&(ze=Ne[0],Ze=Ne[1])),Array.isArray(F)&&(ze=F[0]*Tr,Ze=F[1]*Tr),isNaN(ze)&&(ze=i[0],Ze=i[1]),(ze>14400||Ze>14400)&&(Kn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ze=Math.min(14400,ze),Ze=Math.min(14400,Ze)),i=[ze,Ze],r.substr(0,1)){case"l":Ze>ze&&(i=[Ze,ze]);break;case"p":ze>Ze&&(i=[Ze,ze])}gr(i),br(os),xe(ba),ku!==0&&xe(ku+" J"),Ou!==0&&xe(Ou+" j"),nn.publish("addPage",{pageNumber:Dr})},hr=function(F){F>0&&F<=Dr&&(ft.splice(F,1),mr.splice(F,1),Dr--,ne>Dr&&(ne=Dr),this.setPage(ne))},Ga=function(F){F>0&&F<=Dr&&(ne=F)},$o=b.__private__.getNumberOfPages=b.getNumberOfPages=function(){return ft.length-1},vf=function(F,fe,Ne){var ze,Ze=void 0;return Ne=Ne||{},F=F!==void 0?F:Wr[Jt].fontName,fe=fe!==void 0?fe:Wr[Jt].fontStyle,ze=F.toLowerCase(),qr[ze]!==void 0&&qr[ze][fe]!==void 0?Ze=qr[ze][fe]:qr[F]!==void 0&&qr[F][fe]!==void 0?Ze=qr[F][fe]:Ne.disableWarning===!1&&Kn.warn("Unable to look up font label for font '"+F+"', '"+fe+"'. Refer to getFontList() for available fonts."),Ze||Ne.noFallback||(Ze=qr.times[fe])==null&&(Ze=qr.times.normal),Ze},fi=b.__private__.putInfo=function(){var F=dt(),fe=function(ze){return ze};for(var Ne in u!==null&&(fe=di.encryptor(F,0)),xe("<<"),xe("/Producer ("+oi(fe("jsPDF "+Ar.version))+")"),zr)zr.hasOwnProperty(Ne)&&zr[Ne]&&xe("/"+Ne.substr(0,1).toUpperCase()+Ne.substr(1)+" ("+oi(fe(zr[Ne]))+")");xe("/CreationDate ("+oi(fe(Te))+")"),xe(">>"),xe("endobj")},Mc=b.__private__.putCatalog=function(F){var fe=(F=F||{}).rootDictionaryObjId||Kr;switch(dt(),xe("<<"),xe("/Type /Catalog"),xe("/Pages "+fe+" 0 R"),Qt||(Qt="fullwidth"),Qt){case"fullwidth":xe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":xe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":xe("/OpenAction [3 0 R /Fit]");break;case"original":xe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ne=""+Qt;Ne.substr(Ne.length-1)==="%"&&(Qt=parseInt(Qt)/100),typeof Qt=="number"&&xe("/OpenAction [3 0 R /XYZ null null "+H(Qt)+"]")}switch(jr||(jr="continuous"),jr){case"continuous":xe("/PageLayout /OneColumn");break;case"single":xe("/PageLayout /SinglePage");break;case"two":case"twoleft":xe("/PageLayout /TwoColumnLeft");break;case"tworight":xe("/PageLayout /TwoColumnRight")}Zt&&xe("/PageMode /"+Zt),nn.publish("putCatalog"),xe(">>"),xe("endobj")},he=b.__private__.putTrailer=function(){xe("trailer"),xe("<<"),xe("/Size "+(Ie+1)),xe("/Root "+Ie+" 0 R"),xe("/Info "+(Ie-1)+" 0 R"),u!==null&&xe("/Encrypt "+di.oid+" 0 R"),xe("/ID [ <"+te+"> <"+te+"> ]"),xe(">>")},hi=b.__private__.putHeader=function(){xe("%PDF-"+P),xe("%")},Ml=b.__private__.putXRef=function(){var F="0000000000";xe("xref"),xe("0 "+(Ie+1)),xe("0000000000 65535 f ");for(var fe=1;fe<=Ie;fe++)typeof De[fe]=="function"?xe((F+De[fe]()).slice(-10)+" 00000 n "):De[fe]!==void 0?xe((F+De[fe]).slice(-10)+" 00000 n "):xe("0000000000 00000 n ")},zo=b.__private__.buildDocument=function(){var F;Ie=0,Le=0,$e=[],De=[],We=[],Kr=A(),_n=A(),Tt($e),nn.publish("buildDocument"),hi(),Qn(),(function(){nn.publish("putAdditionalObjects");for(var Ne=0;Ne<We.length;Ne++){var ze=We[Ne];ce(ze.objId,!0),xe(ze.content),xe("endobj")}nn.publish("postPutAdditionalObjects")})(),F=[],(function(){for(var Ne in Wr)Wr.hasOwnProperty(Ne)&&(g===!1||g===!0&&_.hasOwnProperty(Ne))&&Is(Wr[Ne])})(),(function(){var Ne;for(Ne in ct)ct.hasOwnProperty(Ne)&&Ka(ct[Ne])})(),(function(){for(var Ne in Ti)Ti.hasOwnProperty(Ne)&&Nl(Ti[Ne])})(),(function(Ne){var ze;for(ze in fr)fr.hasOwnProperty(ze)&&(fr[ze]instanceof Zh?ma(fr[ze]):fr[ze]instanceof WA&&Di(fr[ze],Ne))})(F),nn.publish("putResources"),F.forEach(en),en({resourcesOid:_n,objectOid:Number.MAX_SAFE_INTEGER}),nn.publish("postPutResources"),u!==null&&(di.oid=dt(),xe("<<"),xe("/Filter /Standard"),xe("/V "+di.v),xe("/R "+di.r),xe("/U <"+di.toHexString(di.U)+">"),xe("/O <"+di.toHexString(di.O)+">"),xe("/P "+di.P),xe(">>"),xe("endobj")),fi(),Mc();var fe=Le;return Ml(),he(),xe("startxref"),xe(""+fe),xe("%%EOF"),Tt(ft[ne]),$e.join(`
`)},qs=b.__private__.getBlob=function(F){return new Blob([Vt(F)],{type:"application/pdf"})},Ll=b.output=b.__private__.output=(Ot=function(F,fe){switch(typeof(fe=fe||{})=="string"?fe={filename:fe}:fe.filename=fe.filename||"generated.pdf",F){case void 0:return zo();case"save":b.save(fe.filename);break;case"arraybuffer":return Vt(zo());case"blob":return qs(zo());case"bloburi":case"bloburl":if(Fr.URL!==void 0&&typeof Fr.URL.createObjectURL=="function")return Fr.URL&&Fr.URL.createObjectURL(qs(zo()))||void 0;Kn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ne="",ze=zo();try{Ne=IF(ze)}catch{Ne=IF(unescape(encodeURIComponent(ze)))}return"data:application/pdf;filename="+fe.filename+";base64,"+Ne;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Fr)==="[object Window]"){var Ze="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",gt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';fe.pdfObjectUrl&&(Ze=fe.pdfObjectUrl,gt="");var _t='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ze+'"'+gt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(fe)+");<\/script></body></html>",Ht=Fr.open();return Ht!==null&&Ht.document.write(_t),Ht}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Fr)==="[object Window]"){var ar='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(fe.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+fe.filename+'" width="500px" height="400px" /></body></html>',Pr=Fr.open();if(Pr!==null){Pr.document.write(ar);var Nr=this;Pr.document.documentElement.querySelector("#pdfViewer").onload=function(){Pr.document.title=fe.filename,Pr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Nr.output("bloburl"))}}return Pr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Fr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var on='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",fe)+'"></iframe></body></html>',zn=Fr.open();if(zn!==null&&(zn.document.write(on),zn.document.title=fe.filename),zn||typeof safari>"u")return zn;break;case"datauri":case"dataurl":return Fr.document.location.href=this.output("datauristring",fe);default:return null}},Ot.foo=function(){try{return Ot.apply(this,arguments)}catch(Ne){var F=Ne.stack||"";~F.indexOf(" at ")&&(F=F.split(" at ")[1]);var fe="Error in function "+F.split(`
`)[0].split("<")[0]+": "+Ne.message;if(!Fr.console)throw new Error(fe);Fr.console.error(fe,Ne),Fr.alert&&alert(fe)}},Ot.foo.bar=Ot,Ot.foo),ns=function(F){return Array.isArray(ga)===!0&&ga.indexOf(F)>-1};switch(n){case"pt":Tr=1;break;case"mm":Tr=72/25.4;break;case"cm":Tr=72/2.54;break;case"in":Tr=72;break;case"px":Tr=ns("px_scaling")==1?.75:96/72;break;case"pc":case"em":Tr=12;break;case"ex":Tr=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Tr=n}var di=null;se(),K();var is=b.__private__.getPageInfo=b.getPageInfo=function(F){if(isNaN(F)||F%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:mr[F].objId,pageNumber:F,pageContext:mr[F]}},Lc=b.__private__.getPageInfoByObjId=function(F){if(isNaN(F)||F%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var fe in mr)if(mr[fe].objId===F)break;return is(fe)},bo=b.__private__.getCurrentPageInfo=b.getCurrentPageInfo=function(){return{objId:mr[ne].objId,pageNumber:ne,pageContext:mr[ne]}};b.addPage=function(){return we.apply(this,arguments),this},b.setPage=function(){return Ga.apply(this,arguments),Tt.call(this,ft[ne]),this},b.insertPage=function(F){return this.addPage(),this.movePage(ne,F),this},b.movePage=function(F,fe){var Ne,ze;if(F>fe){Ne=ft[F],ze=mr[F];for(var Ze=F;Ze>fe;Ze--)ft[Ze]=ft[Ze-1],mr[Ze]=mr[Ze-1];ft[fe]=Ne,mr[fe]=ze,this.setPage(fe)}else if(F<fe){Ne=ft[F],ze=mr[F];for(var gt=F;gt<fe;gt++)ft[gt]=ft[gt+1],mr[gt]=mr[gt+1];ft[fe]=Ne,mr[fe]=ze,this.setPage(fe)}return this},b.deletePage=function(){return hr.apply(this,arguments),this},b.__private__.text=b.text=function(F,fe,Ne,ze,Ze){var gt,_t,Ht,ar,Pr,Nr,on,zn,Ai,Pn=(ze=ze||{}).scope||this;if(typeof F=="number"&&typeof fe=="number"&&(typeof Ne=="string"||Array.isArray(Ne))){var bi=Ne;Ne=fe,fe=F,F=bi}if(arguments[3]instanceof pr==0?(Ht=arguments[4],ar=arguments[5],Nn(on=arguments[3])==="object"&&on!==null||(typeof Ht=="string"&&(ar=Ht,Ht=null),typeof on=="string"&&(ar=on,on=null),typeof on=="number"&&(Ht=on,on=null),ze={flags:on,angle:Ht,align:ar})):(G("The transform parameter of text() with a Matrix value"),Ai=Ze),isNaN(fe)||isNaN(Ne)||F==null)throw new Error("Invalid arguments passed to jsPDF.text");if(F.length===0)return Pn;var Jn,Fi="",wa=typeof ze.lineHeightFactor=="number"?ze.lineHeightFactor:_o,wo=Pn.internal.scaleFactor;function xa(cn){return cn=cn.split("	").join(Array(ze.TabLen||9).join(" ")),oi(cn,on)}function $l(cn){for(var An,Hn=cn.concat(),ti=[],so=Hn.length;so--;)typeof(An=Hn.shift())=="string"?ti.push(An):Array.isArray(cn)&&(An.length===1||An[1]===void 0&&An[2]===void 0)?ti.push(An[0]):ti.push([An[0],An[1],An[2]]);return ti}function Uc(cn,An){var Hn;if(typeof cn=="string")Hn=An(cn)[0];else if(Array.isArray(cn)){for(var ti,so,ta=cn.concat(),ki=[],ka=ta.length;ka--;)typeof(ti=ta.shift())=="string"?ki.push(An(ti)[0]):Array.isArray(ti)&&typeof ti[0]=="string"&&(so=An(ti[0],ti[1],ti[2]),ki.push([so[0],so[1],so[2]]));Hn=ki}return Hn}var us=!1,zl=!0;if(typeof F=="string")us=!0;else if(Array.isArray(F)){var Ks=F.concat();_t=[];for(var Sa,ei=Ks.length;ei--;)(typeof(Sa=Ks.shift())!="string"||Array.isArray(Sa)&&typeof Sa[0]!="string")&&(zl=!1);us=zl}if(us===!1)throw new Error('Type of text must be string or Array. "'+F+'" is not recognized.');typeof F=="string"&&(F=F.match(/[\r?\n]/)?F.split(/\r\n|\r|\n/g):[F]);var Wl=bt/Pn.internal.scaleFactor,Ea=Wl*(wa-1);switch(ze.baseline){case"bottom":Ne-=Ea;break;case"top":Ne+=Wl-Ea;break;case"hanging":Ne+=Wl-2*Ea;break;case"middle":Ne+=Wl/2-Ea}if((Nr=ze.maxWidth||0)>0&&(typeof F=="string"?F=Pn.splitTextToSize(F,Nr):Object.prototype.toString.call(F)==="[object Array]"&&(F=F.reduce(function(cn,An){return cn.concat(Pn.splitTextToSize(An,Nr))},[]))),gt={text:F,x:fe,y:Ne,options:ze,mutex:{pdfEscape:oi,activeFontKey:Jt,fonts:Wr,activeFontSize:bt}},nn.publish("preProcessText",gt),F=gt.text,Ht=(ze=gt.options).angle,Ai instanceof pr==0&&Ht&&typeof Ht=="number"){Ht*=Math.PI/180,ze.rotationDirection===0&&(Ht=-Ht),D===N&&(Ht=-Ht);var $c=Math.cos(Ht),Ru=Math.sin(Ht);Ai=new pr($c,Ru,-Ru,$c,0,0)}else Ht&&Ht instanceof pr&&(Ai=Ht);D!==N||Ai||(Ai=lt),(Pr=ze.charSpace||io)!==void 0&&(Fi+=Z(ae(Pr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(zn=ze.horizontalScale)!==void 0&&(Fi+=Z(100*zn)+` Tz
`),ze.lang;var Ki=-1,Ds=ze.renderingMode!==void 0?ze.renderingMode:ze.stroke,Gs=Pn.internal.getCurrentPageInfo().pageContext;switch(Ds){case 0:case!1:case"fill":Ki=0;break;case 1:case!0:case"stroke":Ki=1;break;case 2:case"fillThenStroke":Ki=2;break;case 3:case"invisible":Ki=3;break;case 4:case"fillAndAddForClipping":Ki=4;break;case 5:case"strokeAndAddPathForClipping":Ki=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ki=6;break;case 7:case"addToPathForClipping":Ki=7}var zc=Gs.usedRenderingMode!==void 0?Gs.usedRenderingMode:-1;Ki!==-1?Fi+=Ki+` Tr
`:zc!==-1&&(Fi+=`0 Tr
`),Ki!==-1&&(Gs.usedRenderingMode=Ki),ar=ze.align||"left";var Ho,Qs=bt*wa,el=Pn.internal.pageSize.getWidth(),Zs=Wr[Jt];Pr=ze.charSpace||io,Nr=ze.maxWidth||0,on=Object.assign({autoencode:!0,noBOM:!0},ze.flags);var Qr=[],fs=function(cn){return Pn.getStringUnitWidth(cn,{font:Zs,charSpace:Pr,fontSize:bt,doKerning:!1})*bt/wo};if(Object.prototype.toString.call(F)==="[object Array]"){var xo;_t=$l(F),ar!=="left"&&(Ho=_t.map(fs));var So,tl=0;if(ar==="right"){fe-=Ho[0],F=[],ei=_t.length;for(var Js=0;Js<ei;Js++)Js===0?(So=Wo(fe),xo=ya(Ne)):(So=ae(tl-Ho[Js]),xo=-Qs),F.push([_t[Js],So,xo]),tl=Ho[Js]}else if(ar==="center"){fe-=Ho[0]/2,F=[],ei=_t.length;for(var Ta=0;Ta<ei;Ta++)Ta===0?(So=Wo(fe),xo=ya(Ne)):(So=ae((tl-Ho[Ta])/2),xo=-Qs),F.push([_t[Ta],So,xo]),tl=Ho[Ta]}else if(ar==="left"){F=[],ei=_t.length;for(var Pa=0;Pa<ei;Pa++)F.push(_t[Pa])}else if(ar==="justify"&&Zs.encoding==="Identity-H"){F=[],ei=_t.length,Nr=Nr!==0?Nr:el;for(var Wn=0,Vn=0;Vn<ei;Vn++)if(xo=Vn===0?ya(Ne):-Qs,So=Vn===0?Wo(fe):Wn,Vn<ei-1){var qo=ae((Nr-Ho[Vn])/(_t[Vn].split(" ").length-1)),ea=_t[Vn].split(" ");F.push([ea[0]+" ",So,xo]),Wn=0;for(var Xo=1;Xo<ea.length;Xo++){var Vl=(fs(ea[Xo-1]+" "+ea[Xo])-fs(ea[Xo]))*wo+qo;Xo==ea.length-1?F.push([ea[Xo],Vl,0]):F.push([ea[Xo]+" ",Vl,0]),Wn-=Vl}}else F.push([_t[Vn],So,xo]);F.push(["",Wn,0])}else{if(ar!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(F=[],ei=_t.length,Nr=Nr!==0?Nr:el,Vn=0;Vn<ei;Vn++){xo=Vn===0?ya(Ne):-Qs,So=Vn===0?Wo(fe):0;var Ci=_t[Vn].split(" ").length-1,rl=Ci>0?(Nr-Ho[Vn])/Ci:0;Vn<ei-1?Qr.push(Z(ae(rl))):Qr.push(0),F.push([_t[Vn],So,xo])}}}(typeof ze.R2L=="boolean"?ze.R2L:qt)===!0&&(F=Uc(F,function(cn,An,Hn){return[cn.split("").reverse().join(""),An,Hn]})),gt={text:F,x:fe,y:Ne,options:ze,mutex:{pdfEscape:oi,activeFontKey:Jt,fonts:Wr,activeFontSize:bt}},nn.publish("postProcessText",gt),F=gt.text,Jn=gt.mutex.isHex||!1;var nl=Wr[Jt].encoding;nl!=="WinAnsiEncoding"&&nl!=="StandardEncoding"||(F=Uc(F,function(cn,An,Hn){return[xa(cn),An,Hn]})),_t=$l(F),F=[];for(var Eo,To,Yo,Hl=Array.isArray(_t[0])?1:0,Ca="",ql=function(cn,An,Hn){var ti="";return Hn instanceof pr?(Hn=typeof ze.angle=="number"?Pi(Hn,new pr(1,0,0,1,cn,An)):Pi(new pr(1,0,0,1,cn,An),Hn),D===N&&(Hn=Pi(new pr(1,0,0,-1,0,0),Hn)),ti=Hn.join(" ")+` Tm
`):ti=Z(cn)+" "+Z(An)+` Td
`,ti},Bn=0;Bn<_t.length;Bn++){switch(Ca="",Hl){case 1:Yo=(Jn?"<":"(")+_t[Bn][0]+(Jn?">":")"),Eo=parseFloat(_t[Bn][1]),To=parseFloat(_t[Bn][2]);break;case 0:Yo=(Jn?"<":"(")+_t[Bn]+(Jn?">":")"),Eo=Wo(fe),To=ya(Ne)}Qr!==void 0&&Qr[Bn]!==void 0&&(Ca=Qr[Bn]+` Tw
`),Bn===0?F.push(Ca+ql(Eo,To,Ai)+Yo):Hl===0?F.push(Ca+Yo):Hl===1&&F.push(Ca+ql(Eo,To,Ai)+Yo)}F=Hl===0?F.join(` Tj
T* `):F.join(` Tj
`),F+=` Tj
`;var Po=`BT
/`;return Po+=Jt+" "+bt+` Tf
`,Po+=Z(bt*wa)+` TL
`,Po+=Ms+`
`,Po+=Fi,Po+=F,xe(Po+="ET"),_[Jt]=!0,Pn};var Dn=b.__private__.clip=b.clip=function(F){return xe(F==="evenodd"?"W*":"W"),this};b.clipEvenOdd=function(){return Dn("evenodd")},b.__private__.discardPath=b.discardPath=function(){return xe("n"),this};var Xs=b.__private__.isValidStyle=function(F){var fe=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(F)!==-1&&(fe=!0),fe};b.__private__.setDefaultPathOperation=b.setDefaultPathOperation=function(F){return Xs(F)&&(c=F),this};var Dl=b.__private__.getStyle=b.getStyle=function(F){var fe=c;switch(F){case"D":case"S":fe="S";break;case"F":fe="f";break;case"FD":case"DF":fe="B";break;case"f":case"f*":case"B":case"B*":fe=F}return fe},ln=b.close=function(){return xe("h"),this};b.stroke=function(){return xe("S"),this},b.fill=function(F){return va("f",F),this},b.fillEvenOdd=function(F){return va("f*",F),this},b.fillStroke=function(F){return va("B",F),this},b.fillStrokeEvenOdd=function(F){return va("B*",F),this};var va=function(F,fe){Nn(fe)==="object"?yf(fe,F):xe(F)},Qa=function(F){F===null||D===N&&F===void 0||(F=Dl(F),xe(F))};function Dc(F,fe,Ne,ze,Ze){var gt=new WA(fe||this.boundingBox,Ne||this.xStep,ze||this.yStep,this.gState,Ze||this.matrix);gt.stream=this.stream;var _t=F+"$$"+this.cloneIndex+++"$$";return pt(_t,gt),gt}var yf=function(F,fe){var Ne=bn[F.key],ze=fr[Ne];if(ze instanceof Zh)xe("q"),xe(bf(fe)),ze.gState&&b.setGState(ze.gState),xe(F.matrix.toString()+" cm"),xe("/"+Ne+" sh"),xe("Q");else if(ze instanceof WA){var Ze=new pr(1,0,0,-1,0,oo());F.matrix&&(Ze=Ze.multiply(F.matrix||lt),Ne=Dc.call(ze,F.key,F.boundingBox,F.xStep,F.yStep,Ze).id),xe("q"),xe("/Pattern cs"),xe("/"+Ne+" scn"),ze.gState&&b.setGState(ze.gState),xe(fe),xe("Q")}},bf=function(F){switch(F){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Bc=b.moveTo=function(F,fe){return xe(Z(ae(F))+" "+Z(le(fe))+" m"),this},dn=b.lineTo=function(F,fe){return xe(Z(ae(F))+" "+Z(le(fe))+" l"),this},Yi=b.curveTo=function(F,fe,Ne,ze,Ze,gt){return xe([Z(ae(F)),Z(le(fe)),Z(ae(Ne)),Z(le(ze)),Z(ae(Ze)),Z(le(gt)),"c"].join(" ")),this};b.__private__.line=b.line=function(F,fe,Ne,ze,Ze){if(isNaN(F)||isNaN(fe)||isNaN(Ne)||isNaN(ze)||!Xs(Ze))throw new Error("Invalid arguments passed to jsPDF.line");return D===L?this.lines([[Ne-F,ze-fe]],F,fe,[1,1],Ze||"S"):this.lines([[Ne-F,ze-fe]],F,fe,[1,1]).stroke()},b.__private__.lines=b.lines=function(F,fe,Ne,ze,Ze,gt){var _t,Ht,ar,Pr,Nr,on,zn,Ai,Pn,bi,Jn,Fi;if(typeof F=="number"&&(Fi=Ne,Ne=fe,fe=F,F=Fi),ze=ze||[1,1],gt=gt||!1,isNaN(fe)||isNaN(Ne)||!Array.isArray(F)||!Array.isArray(ze)||!Xs(Ze)||typeof gt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Bc(fe,Ne),_t=ze[0],Ht=ze[1],Pr=F.length,bi=fe,Jn=Ne,ar=0;ar<Pr;ar++)(Nr=F[ar]).length===2?(bi=Nr[0]*_t+bi,Jn=Nr[1]*Ht+Jn,dn(bi,Jn)):(on=Nr[0]*_t+bi,zn=Nr[1]*Ht+Jn,Ai=Nr[2]*_t+bi,Pn=Nr[3]*Ht+Jn,bi=Nr[4]*_t+bi,Jn=Nr[5]*Ht+Jn,Yi(on,zn,Ai,Pn,bi,Jn));return gt&&ln(),Qa(Ze),this},b.path=function(F){for(var fe=0;fe<F.length;fe++){var Ne=F[fe],ze=Ne.c;switch(Ne.op){case"m":Bc(ze[0],ze[1]);break;case"l":dn(ze[0],ze[1]);break;case"c":Yi.apply(this,ze);break;case"h":ln()}}return this},b.__private__.rect=b.rect=function(F,fe,Ne,ze,Ze){if(isNaN(F)||isNaN(fe)||isNaN(Ne)||isNaN(ze)||!Xs(Ze))throw new Error("Invalid arguments passed to jsPDF.rect");return D===L&&(ze=-ze),xe([Z(ae(F)),Z(le(fe)),Z(ae(Ne)),Z(ae(ze)),"re"].join(" ")),Qa(Ze),this},b.__private__.triangle=b.triangle=function(F,fe,Ne,ze,Ze,gt,_t){if(isNaN(F)||isNaN(fe)||isNaN(Ne)||isNaN(ze)||isNaN(Ze)||isNaN(gt)||!Xs(_t))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ne-F,ze-fe],[Ze-Ne,gt-ze],[F-Ze,fe-gt]],F,fe,[1,1],_t,!0),this},b.__private__.roundedRect=b.roundedRect=function(F,fe,Ne,ze,Ze,gt,_t){if(isNaN(F)||isNaN(fe)||isNaN(Ne)||isNaN(ze)||isNaN(Ze)||isNaN(gt)||!Xs(_t))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ht=4/3*(Math.SQRT2-1);return Ze=Math.min(Ze,.5*Ne),gt=Math.min(gt,.5*ze),this.lines([[Ne-2*Ze,0],[Ze*Ht,0,Ze,gt-gt*Ht,Ze,gt],[0,ze-2*gt],[0,gt*Ht,-Ze*Ht,gt,-Ze,gt],[2*Ze-Ne,0],[-Ze*Ht,0,-Ze,-gt*Ht,-Ze,-gt],[0,2*gt-ze],[0,-gt*Ht,Ze*Ht,-gt,Ze,-gt]],F+Ze,fe,[1,1],_t,!0),this},b.__private__.ellipse=b.ellipse=function(F,fe,Ne,ze,Ze){if(isNaN(F)||isNaN(fe)||isNaN(Ne)||isNaN(ze)||!Xs(Ze))throw new Error("Invalid arguments passed to jsPDF.ellipse");var gt=4/3*(Math.SQRT2-1)*Ne,_t=4/3*(Math.SQRT2-1)*ze;return Bc(F+Ne,fe),Yi(F+Ne,fe-_t,F+gt,fe-ze,F,fe-ze),Yi(F-gt,fe-ze,F-Ne,fe-_t,F-Ne,fe),Yi(F-Ne,fe+_t,F-gt,fe+ze,F,fe+ze),Yi(F+gt,fe+ze,F+Ne,fe+_t,F+Ne,fe),Qa(Ze),this},b.__private__.circle=b.circle=function(F,fe,Ne,ze){if(isNaN(F)||isNaN(fe)||isNaN(Ne)||!Xs(ze))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(F,fe,Ne,Ne,ze)},b.setFont=function(F,fe,Ne){return Ne&&(fe=X(fe,Ne)),Jt=vf(F,fe,{disableWarning:!1}),this};var Ns=b.__private__.getFont=b.getFont=function(){return Wr[vf.apply(b,arguments)]};b.__private__.getFontList=b.getFontList=function(){var F,fe,Ne={};for(F in qr)if(qr.hasOwnProperty(F))for(fe in Ne[F]=[],qr[F])qr[F].hasOwnProperty(fe)&&Ne[F].push(fe);return Ne},b.addFont=function(F,fe,Ne,ze,Ze){var gt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&gt.indexOf(arguments[3])!==-1?Ze=arguments[3]:arguments[3]&&gt.indexOf(arguments[3])==-1&&(Ne=X(Ne,ze)),Nc.call(this,F,fe,Ne,Ze=Ze||"Identity-H")};var _o,os=t.lineWidth||.200025,Bl=b.__private__.getLineWidth=b.getLineWidth=function(){return os},br=b.__private__.setLineWidth=b.setLineWidth=function(F){return os=F,xe(Z(ae(F))+" w"),this};b.__private__.setLineDash=Ar.API.setLineDash=Ar.API.setLineDashPattern=function(F,fe){if(F=F||[],fe=fe||0,isNaN(fe)||!Array.isArray(F))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return F=F.map(function(Ne){return Z(ae(Ne))}).join(" "),fe=Z(ae(fe)),xe("["+F+"] "+fe+" d"),this};var ss=b.__private__.getLineHeight=b.getLineHeight=function(){return bt*_o};b.__private__.getLineHeight=b.getLineHeight=function(){return bt*_o};var Pu=b.__private__.setLineHeightFactor=b.setLineHeightFactor=function(F){return typeof(F=F||1.15)=="number"&&(_o=F),this},_f=b.__private__.getLineHeightFactor=b.getLineHeightFactor=function(){return _o};Pu(t.lineHeight);var Wo=b.__private__.getHorizontalCoordinate=function(F){return ae(F)},ya=b.__private__.getVerticalCoordinate=function(F){return D===N?F:mr[ne].mediaBox.topRightY-mr[ne].mediaBox.bottomLeftY-ae(F)},Cu=b.__private__.getHorizontalCoordinateString=b.getHorizontalCoordinateString=function(F){return Z(Wo(F))},Fc=b.__private__.getVerticalCoordinateString=b.getVerticalCoordinateString=function(F){return Z(ya(F))},ba=t.strokeColor||"0 G";b.__private__.getStrokeColor=b.getDrawColor=function(){return vr(ba)},b.__private__.setStrokeColor=b.setDrawColor=function(F,fe,Ne,ze){return ba=yr({ch1:F,ch2:fe,ch3:Ne,ch4:ze,pdfColorType:"draw",precision:2}),xe(ba),this};var Fl=t.fillColor||"0 g";b.__private__.getFillColor=b.getFillColor=function(){return vr(Fl)},b.__private__.setFillColor=b.setFillColor=function(F,fe,Ne,ze){return Fl=yr({ch1:F,ch2:fe,ch3:Ne,ch4:ze,pdfColorType:"fill",precision:2}),xe(Fl),this};var Ms=t.textColor||"0 g",Za=b.__private__.getTextColor=b.getTextColor=function(){return vr(Ms)};b.__private__.setTextColor=b.setTextColor=function(F,fe,Ne,ze){return Ms=yr({ch1:F,ch2:fe,ch3:Ne,ch4:ze,pdfColorType:"text",precision:3}),this};var io=t.charSpace,jl=b.__private__.getCharSpace=b.getCharSpace=function(){return parseFloat(io||0)};b.__private__.setCharSpace=b.setCharSpace=function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return io=F,this};var ku=0;b.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},b.__private__.setLineCap=b.setLineCap=function(F){var fe=b.CapJoinStyles[F];if(fe===void 0)throw new Error("Line cap style of '"+F+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ku=fe,xe(fe+" J"),this};var Ou=0;b.__private__.setLineJoin=b.setLineJoin=function(F){var fe=b.CapJoinStyles[F];if(fe===void 0)throw new Error("Line join style of '"+F+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ou=fe,xe(fe+" j"),this},b.__private__.setLineMiterLimit=b.__private__.setMiterLimit=b.setLineMiterLimit=b.setMiterLimit=function(F){if(F=F||0,isNaN(F))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return xe(Z(ae(F))+" M"),this},b.GState=w2,b.setGState=function(F){(F=typeof F=="string"?ct[Ir[F]]:jc(null,F)).equals(hn)||(xe("/"+F.id+" gs"),hn=F)};var jc=function(F,fe){if(!F||!Ir[F]){var Ne=!1;for(var ze in ct)if(ct.hasOwnProperty(ze)&&ct[ze].equals(fe)){Ne=!0;break}if(Ne)fe=ct[ze];else{var Ze="GS"+(Object.keys(ct).length+1).toString(10);ct[Ze]=fe,fe.id=Ze}return F&&(Ir[F]=fe.id),nn.publish("addGState",fe),fe}};b.addGState=function(F,fe){return jc(F,fe),this},b.saveGraphicsState=function(){return xe("q"),yn.push({key:Jt,size:bt,color:Ms}),this},b.restoreGraphicsState=function(){xe("Q");var F=yn.pop();return Jt=F.key,bt=F.size,Ms=F.color,hn=null,this},b.setCurrentTransformationMatrix=function(F){return xe(F.toString()+" cm"),this},b.comment=function(F){return xe("#"+F),this};var as=function(F,fe){var Ne=F||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ne},set:function(gt){isNaN(gt)||(Ne=parseFloat(gt))}});var ze=fe||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ze},set:function(gt){isNaN(gt)||(ze=parseFloat(gt))}});var Ze="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ze},set:function(gt){Ze=gt.toString()}}),this},Zn=function(F,fe,Ne,ze){as.call(this,F,fe),this.type="rect";var Ze=Ne||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ze},set:function(_t){isNaN(_t)||(Ze=parseFloat(_t))}});var gt=ze||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return gt},set:function(_t){isNaN(_t)||(gt=parseFloat(_t))}}),this},Vo=function(){this.page=Dr,this.currentPage=ne,this.pages=ft.slice(0),this.pagesContext=mr.slice(0),this.x=Gt,this.y=ii,this.matrix=Jr,this.width=_a(ne),this.height=Ul(ne),this.outputDestination=xt,this.id="",this.objectNumber=-1};Vo.prototype.restore=function(){Dr=this.page,ne=this.currentPage,mr=this.pagesContext,ft=this.pages,Gt=this.x,ii=this.y,Jr=this.matrix,Ja(ne,this.width),ls(ne,this.height),xt=this.outputDestination};var Tn=function(F,fe,Ne,ze,Ze){no.push(new Vo),Dr=ne=0,ft=[],Gt=F,ii=fe,Jr=Ze,gr([Ne,ze])};for(var Ls in b.beginFormObject=function(F,fe,Ne,ze,Ze){return Tn(F,fe,Ne,ze,Ze),this},b.endFormObject=function(F){return(function(fe){if(Rs[fe])no.pop().restore();else{var Ne=new Vo,ze="Xo"+(Object.keys(Ti).length+1).toString(10);Ne.id=ze,Rs[fe]=ze,Ti[ze]=Ne,nn.publish("addFormObject",Ne),no.pop().restore()}})(F),this},b.doFormObject=function(F,fe){var Ne=Ti[Rs[F]];return xe("q"),xe(fe.toString()+" cm"),xe("/"+Ne.id+" Do"),xe("Q"),this},b.getFormObject=function(F){var fe=Ti[Rs[F]];return{x:fe.x,y:fe.y,width:fe.width,height:fe.height,matrix:fe.matrix}},b.save=function(F,fe){return F=F||"generated.pdf",(fe=fe||{}).returnPromise=fe.returnPromise||!1,fe.returnPromise===!1?(Qh(qs(zo()),F),typeof Qh.unload=="function"&&Fr.setTimeout&&setTimeout(Qh.unload,911),this):new Promise(function(Ne,ze){try{var Ze=Qh(qs(zo()),F);typeof Qh.unload=="function"&&Fr.setTimeout&&setTimeout(Qh.unload,911),Ne(Ze)}catch(gt){ze(gt.message)}})},Ar.API)Ar.API.hasOwnProperty(Ls)&&(Ls==="events"&&Ar.API.events.length?(function(F,fe){var Ne,ze,Ze;for(Ze=fe.length-1;Ze!==-1;Ze--)Ne=fe[Ze][0],ze=fe[Ze][1],F.subscribe.apply(F,[Ne].concat(typeof ze=="function"?[ze]:ze))})(nn,Ar.API.events):b[Ls]=Ar.API[Ls]);function _a(F){return mr[F].mediaBox.topRightX-mr[F].mediaBox.bottomLeftX}function Ja(F,fe){mr[F].mediaBox.topRightX=fe+mr[F].mediaBox.bottomLeftX}function Ul(F){return mr[F].mediaBox.topRightY-mr[F].mediaBox.bottomLeftY}function ls(F,fe){mr[F].mediaBox.topRightY=fe+mr[F].mediaBox.bottomLeftY}var Ys=b.getPageWidth=function(F){return _a(F=F||ne)/Tr},Bi=b.setPageWidth=function(F,fe){Ja(F,fe*Tr)},oo=b.getPageHeight=function(F){return Ul(F=F||ne)/Tr},cs=b.setPageHeight=function(F,fe){ls(F,fe*Tr)};return b.internal={pdfEscape:oi,getStyle:Dl,getFont:Ns,getFontSize:It,getCharSpace:jl,getTextColor:Za,getLineHeight:ss,getLineHeightFactor:_f,getLineWidth:Bl,write:At,getHorizontalCoordinate:Wo,getVerticalCoordinate:ya,getCoordinateString:Cu,getVerticalCoordinateString:Fc,collections:{},newObject:dt,newAdditionalObject:Ur,newObjectDeferred:A,newObjectDeferredBegin:ce,getFilters:yi,putStream:Lr,events:nn,scaleFactor:Tr,pageSize:{getWidth:function(){return Ys(ne)},setWidth:function(F){Bi(ne,F)},getHeight:function(){return oo(ne)},setHeight:function(F){cs(ne,F)}},encryptionOptions:u,encryption:di,getEncryptor:function(F){return u!==null?di.encryptor(F,0):function(fe){return fe}},output:Ll,getNumberOfPages:$o,get pages(){return ft},out:xe,f2:H,f3:ee,getPageInfo:is,getPageInfoByObjId:Lc,getCurrentPageInfo:bo,getPDFVersion:E,Point:as,Rectangle:Zn,Matrix:pr,hasHotfix:ns},Object.defineProperty(b.internal.pageSize,"width",{get:function(){return Ys(ne)},set:function(F){Bi(ne,F)},enumerable:!0,configurable:!0}),Object.defineProperty(b.internal.pageSize,"height",{get:function(){return oo(ne)},set:function(F){cs(ne,F)},enumerable:!0,configurable:!0}),(function(F){for(var fe=0,Ne=$t.length;fe<Ne;fe++){var ze=Nc.call(this,F[fe][0],F[fe][1],F[fe][2],$t[fe][3],!0);g===!1&&(_[ze]=!0);var Ze=F[fe][0].split("-");Ic({id:ze,fontName:Ze[0],fontStyle:Ze[1]||""})}nn.publish("addFonts",{fonts:Wr,dictionary:qr})}).call(b,$t),Jt="F1",we(i,r),nn.publish("initialized"),b}IA.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},IA.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},IA.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},IA.prototype.processOwnerPassword=function(t,e){return zT($T(e).substr(0,5),t)},IA.prototype.encryptor=function(t,e){var r=$T(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return zT(r,n)}},w2.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||Nn(t)!==Nn(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},Ar.API={events:[]},Ar.version="4.0.0";var Ni=Ar.API,Ek=1,Hd=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},TA=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Vr=function(t){return t.toFixed(2)},qf=function(t){return t.toFixed(5)};Ni.__acroform__={};var pa=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},DF=function(t){return t*Ek},nu=function(t){var e=new tX,r=sr.internal.getHeight(t)||0,n=sr.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Vr(n)),Number(Vr(r))],e},POe=Ni.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},COe=Ni.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},kOe=Ni.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Vi=Ni.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return kOe(t,e-1)},Hi=Ni.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return POe(t,e-1)},qi=Ni.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return COe(t,e-1)},OOe=Ni.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=t[0],o=t[1],s=t[2],a=t[3],l={};return l.lowerLeft_X=r(i)||0,l.lowerLeft_Y=n(o+a)||0,l.upperRight_X=r(i+s)||0,l.upperRight_Y=n(o)||0,[Number(Vr(l.lowerLeft_X)),Number(Vr(l.lowerLeft_Y)),Number(Vr(l.upperRight_X)),Number(Vr(l.upperRight_Y))]},ROe=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=WT(t,r),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+Vr(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=nu(t);return o.scope=t.scope,o.stream=e.join(`
`),o}},WT=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(H){return H.split(`
`)}):i.map(function(H){return[H]});var o=r,s=sr.internal.getHeight(t)||0;s=s<0?-s:s;var a=sr.internal.getWidth(t)||0;a=a<0?-a:a;var l=function(H,ee,ae){if(H+1<i.length){var le=ee+" "+i[H+1][0];return p1(le,t,ae).width<=a-4}return!1};o++;e:for(;o>0;){e="",o--;var c,u,g=p1("3",t,o).height,_=t.multiline?s-o:(s-g)/2,b=_+=2,P=0,E=0,T=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+p1(e,t,o=12).width+", FieldWidth:"+a+`
`;break}for(var O="",L=0,N=0;N<i.length;N++)if(i.hasOwnProperty(N)){var D=!1;if(i[N].length!==1&&T!==i[N].length-1){if((g+2)*(L+2)+2>s)continue e;O+=i[N][T],D=!0,E=N,N--}else{O=(O+=i[N][T]+" ").substr(O.length-1)==" "?O.substr(0,O.length-1):O;var B=parseInt(N),z=l(B,O,o),X=N>=i.length-1;if(z&&!X){O+=" ",T=0;continue}if(z||X){if(X)E=B;else if(t.multiline&&(g+2)*(L+2)+2>s)continue e}else{if(!t.multiline||(g+2)*(L+2)+2>s)continue e;E=B}}for(var Z="",G=P;G<=E;G++){var de=i[G];if(t.multiline){if(G===E){Z+=de[T]+" ",T=(T+1)%de.length;continue}if(G===P){Z+=de[de.length-1]+" ";continue}}Z+=de[0]+" "}switch(Z=Z.substr(Z.length-1)==" "?Z.substr(0,Z.length-1):Z,u=p1(Z,t,o).width,t.textAlign){case"right":c=a-u-2;break;case"center":c=(a-u)/2;break;default:c=2}e+=Vr(c)+" "+Vr(b)+` Td
`,e+="("+Hd(Z)+`) Tj
`,e+=-Vr(c)+` 0 Td
`,b=-(o+2),u=0,P=D?E:E+1,L++,O=""}break}return n.text=e,n.fontSize=o,n},p1=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},IOe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},NOe=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},MOe=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Oc.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(IOe)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Ek=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new rX,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var o=n[i];o.objId=void 0,o.hasAnnotation&&NOe(o,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,i){var o=!n;for(var s in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(s)){var a=n[s],l=[],c=a.Rect;if(a.Rect&&(a.Rect=OOe(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=sr.createDefaultAppearanceStream(a),Nn(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=c,a.hasAppearanceStream&&!a.appearanceStreamContent){var u=ROe(a);l.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(a.appearanceStreamContent){var g="";for(var _ in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(_)){var b=a.appearanceStreamContent[_];if(g+="/"+_+" ",g+="<<",Object.keys(b).length>=1||Array.isArray(b)){for(var s in b)if(b.hasOwnProperty(s)){var P=b[s];typeof P=="function"&&(P=P.call(i,a)),g+="/"+s+" "+P+" ",i.internal.acroformPlugin.xForms.indexOf(P)>=0||i.internal.acroformPlugin.xForms.push(P)}}else typeof(P=b)=="function"&&(P=P.call(i,a)),g+="/"+s+" "+P,i.internal.acroformPlugin.xForms.indexOf(P)>=0||i.internal.acroformPlugin.xForms.push(P);g+=">>"}l.push({key:"AP",value:`<<
`+g+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}o&&(function(E,T){for(var O in E)if(E.hasOwnProperty(O)){var L=O,N=E[O];T.internal.newObjectDeferredBegin(N.objId,!0),Nn(N)==="object"&&typeof N.putStream=="function"&&N.putStream(),delete E[L]}})(i.internal.acroformPlugin.xForms,i)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},eX=Ni.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(s){return s};if(Array.isArray(t)){for(var i="[",o=0;o<t.length;o++)switch(o!==0&&(i+=" "),Nn(t[o])){case"boolean":case"number":case"object":i+=t[o].toString();break;case"string":t[o].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),i+="("+Hd(n(t[o].toString()))+")"):i+=t[o].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},QS=function(t,e,r){var n=function(i){return i};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),"("+Hd(n(t))+")"},du=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};du.prototype.toString=function(){return this.objId+" 0 R"},du.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},du.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],i=this[n];i&&(Array.isArray(i)?t.push({key:n,value:eX(i,this.objId,this.scope)}):i instanceof du?(i.scope=this.scope,t.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:n,value:i}))}return t};var tX=function(){du.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};pa(tX,du);var rX=function(){du.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Hd(r(t))+")"}},set:function(r){t=r}})};pa(rX,du);var Oc=function t(){du.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(O){if(isNaN(O))throw new Error('Invalid value "'+O+'" for attribute F supplied.');e=O}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Vi(e,3)},set:function(O){O?this.F=Hi(e,3):this.F=qi(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(O){if(isNaN(O))throw new Error('Invalid value "'+O+'" for attribute Ff supplied.');r=O}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(O){n=O!==void 0?O:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(O){n[0]=O}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(O){n[1]=O}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(O){n[2]=O}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(O){n[3]=O}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(O){switch(O){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=O;break;default:throw new Error('Invalid value "'+O+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof x2)return;o="FieldObject"+t.FieldNum++}var O=function(L){return L};return this.scope&&(O=this.scope.internal.getEncryptor(this.objId)),"("+Hd(O(o))+")"},set:function(O){o=O.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(O){o=O}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(O){s=O}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(O){a=O}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(O){l=O}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/Ek:c},set:function(O){c=O}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(O){u=O}});var g="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!g||this instanceof x2||this instanceof Ad))return QS(g,this.objId,this.scope)},set:function(O){O=O.toString(),g=O}});var _=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(_)return this instanceof Fo==0?QS(_,this.objId,this.scope):_},set:function(O){O=O.toString(),_=this instanceof Fo==0?O.substr(0,1)==="("?TA(O.substr(1,O.length-2)):TA(O):O}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Fo==1?TA(_.substr(1,_.length-1)):_},set:function(O){O=O.toString(),_=this instanceof Fo==1?"/"+O:O}});var b=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(b)return b},set:function(O){this.V=O}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof Fo==0?QS(b,this.objId,this.scope):b},set:function(O){O=O.toString(),b=this instanceof Fo==0?O.substr(0,1)==="("?TA(O.substr(1,O.length-2)):TA(O):O}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Fo==1?TA(b.substr(1,b.length-1)):b},set:function(O){O=O.toString(),b=this instanceof Fo==1?"/"+O:O}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var P,E=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return E},set:function(O){O=!!O,E=O}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(P)return P},set:function(O){P=O}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Vi(this.Ff,1)},set:function(O){O?this.Ff=Hi(this.Ff,1):this.Ff=qi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Vi(this.Ff,2)},set:function(O){O?this.Ff=Hi(this.Ff,2):this.Ff=qi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Vi(this.Ff,3)},set:function(O){O?this.Ff=Hi(this.Ff,3):this.Ff=qi(this.Ff,3)}});var T=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(T!==null)return T},set:function(O){if([0,1,2].indexOf(O)===-1)throw new Error('Invalid value "'+O+'" for attribute Q supplied.');T=O}}),Object.defineProperty(this,"textAlign",{get:function(){var O;switch(T){case 0:default:O="left";break;case 1:O="center";break;case 2:O="right"}return O},configurable:!0,enumerable:!0,set:function(O){switch(O){case"right":case 2:T=2;break;case"center":case 1:T=1;break;default:T=0}}})};pa(Oc,du);var e0=function(){Oc.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return eX(e,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=(function(o,s,a){a||(a=1);for(var l,c=[];l=s.exec(o);)c.push(l[a]);return c})(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Vi(this.Ff,18)},set:function(r){r?this.Ff=Hi(this.Ff,18):this.Ff=qi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Vi(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Hi(this.Ff,19):this.Ff=qi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Vi(this.Ff,20)},set:function(r){r?(this.Ff=Hi(this.Ff,20),e.sort()):this.Ff=qi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Vi(this.Ff,22)},set:function(r){r?this.Ff=Hi(this.Ff,22):this.Ff=qi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Vi(this.Ff,23)},set:function(r){r?this.Ff=Hi(this.Ff,23):this.Ff=qi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Vi(this.Ff,27)},set:function(r){r?this.Ff=Hi(this.Ff,27):this.Ff=qi(this.Ff,27)}}),this.hasAppearanceStream=!1};pa(e0,Oc);var t0=function(){e0.call(this),this.fontName="helvetica",this.combo=!1};pa(t0,e0);var r0=function(){t0.call(this),this.combo=!0};pa(r0,t0);var B1=function(){r0.call(this),this.edit=!0};pa(B1,r0);var Fo=function(){Oc.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Vi(this.Ff,15)},set:function(r){r?this.Ff=Hi(this.Ff,15):this.Ff=qi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Vi(this.Ff,16)},set:function(r){r?this.Ff=Hi(this.Ff,16):this.Ff=qi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Vi(this.Ff,17)},set:function(r){r?this.Ff=Hi(this.Ff,17):this.Ff=qi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Vi(this.Ff,26)},set:function(r){r?this.Ff=Hi(this.Ff,26):this.Ff=qi(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(o){return o};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+Hd(r(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){Nn(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};pa(Fo,Oc);var F1=function(){Fo.call(this),this.pushButton=!0};pa(F1,Fo);var n0=function(){Fo.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};pa(n0,Fo);var x2=function(){var t,e;Oc.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var o,s=[];for(o in s.push("<<"),n)s.push("/"+o+" ("+Hd(i(n[o]))+")");return s.push(">>"),s.join(`
`)},set:function(i){Nn(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=sr.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};pa(x2,Oc),n0.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},n0.prototype.createOption=function(t){var e=new x2;return e.Parent=this,e.optionName=t,this.Kids.push(e),LOe.call(this.scope,e),e};var j1=function(){Fo.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=sr.CheckBox.createAppearanceStream()};pa(j1,Fo);var Ad=function(){Oc.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Vi(this.Ff,13)},set:function(e){e?this.Ff=Hi(this.Ff,13):this.Ff=qi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Vi(this.Ff,21)},set:function(e){e?this.Ff=Hi(this.Ff,21):this.Ff=qi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Vi(this.Ff,23)},set:function(e){e?this.Ff=Hi(this.Ff,23):this.Ff=qi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Vi(this.Ff,24)},set:function(e){e?this.Ff=Hi(this.Ff,24):this.Ff=qi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Vi(this.Ff,25)},set:function(e){e?this.Ff=Hi(this.Ff,25):this.Ff=qi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Vi(this.Ff,26)},set:function(e){e?this.Ff=Hi(this.Ff,26):this.Ff=qi(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};pa(Ad,Oc);var U1=function(){Ad.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Vi(this.Ff,14)},set:function(t){t?this.Ff=Hi(this.Ff,14):this.Ff=qi(this.Ff,14)}}),this.password=!0};pa(U1,Ad);var sr={CheckBox:{createAppearanceStream:function(){return{N:{On:sr.CheckBox.YesNormal},D:{On:sr.CheckBox.YesPushDown,Off:sr.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=nu(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),o=WT(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+Vr(sr.internal.getWidth(t))+" "+Vr(sr.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Vr(o.fontSize)+" Tf "+i),r.push("BT"),r.push(o.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=nu(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),i=[],o=sr.internal.getHeight(t),s=sr.internal.getWidth(t),a=WT(t,t.caption);return i.push("1 g"),i.push("0 0 "+Vr(s)+" "+Vr(o)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Vr(s-1)+" "+Vr(o-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+Vr(a.fontSize)+" Tf "+n),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=nu(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Vr(sr.internal.getWidth(t))+" "+Vr(sr.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:sr.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=sr.RadioButton.Circle.YesNormal,e.D[t]=sr.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=nu(t);e.scope=t.scope;var r=[],n=sr.internal.getWidth(t)<=sr.internal.getHeight(t)?sr.internal.getWidth(t)/4:sr.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=sr.internal.Bezier_C,o=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+qf(sr.internal.getWidth(t)/2)+" "+qf(sr.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=nu(t);e.scope=t.scope;var r=[],n=sr.internal.getWidth(t)<=sr.internal.getHeight(t)?sr.internal.getWidth(t)/4:sr.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),o=Number((i*sr.internal.Bezier_C).toFixed(5)),s=Number((n*sr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+qf(sr.internal.getWidth(t)/2)+" "+qf(sr.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),r.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),r.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),r.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+qf(sr.internal.getWidth(t)/2)+" "+qf(sr.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=nu(t);e.scope=t.scope;var r=[],n=sr.internal.getWidth(t)<=sr.internal.getHeight(t)?sr.internal.getWidth(t)/4:sr.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),o=Number((i*sr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+qf(sr.internal.getWidth(t)/2)+" "+qf(sr.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),r.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),r.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),r.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:sr.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=sr.RadioButton.Cross.YesNormal,e.D[t]=sr.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=nu(t);e.scope=t.scope;var r=[],n=sr.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+Vr(sr.internal.getWidth(t)-2)+" "+Vr(sr.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Vr(n.x1.x)+" "+Vr(n.x1.y)+" m"),r.push(Vr(n.x2.x)+" "+Vr(n.x2.y)+" l"),r.push(Vr(n.x4.x)+" "+Vr(n.x4.y)+" m"),r.push(Vr(n.x3.x)+" "+Vr(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=nu(t);e.scope=t.scope;var r=sr.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+Vr(sr.internal.getWidth(t))+" "+Vr(sr.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Vr(sr.internal.getWidth(t)-2)+" "+Vr(sr.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Vr(r.x1.x)+" "+Vr(r.x1.y)+" m"),n.push(Vr(r.x2.x)+" "+Vr(r.x2.y)+" l"),n.push(Vr(r.x4.x)+" "+Vr(r.x4.y)+" m"),n.push(Vr(r.x3.x)+" "+Vr(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=nu(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Vr(sr.internal.getWidth(t))+" "+Vr(sr.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};sr.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=sr.internal.getWidth(t),r=sr.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},sr.internal.getWidth=function(t){var e=0;return Nn(t)==="object"&&(e=DF(t.Rect[2])),e},sr.internal.getHeight=function(t){var e=0;return Nn(t)==="object"&&(e=DF(t.Rect[3])),e};var LOe=Ni.addField=function(t){if(MOe(this,t),!(t instanceof Oc))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Ni.AcroFormChoiceField=e0,Ni.AcroFormListBox=t0,Ni.AcroFormComboBox=r0,Ni.AcroFormEditBox=B1,Ni.AcroFormButton=Fo,Ni.AcroFormPushButton=F1,Ni.AcroFormRadioButton=n0,Ni.AcroFormCheckBox=j1,Ni.AcroFormTextField=Ad,Ni.AcroFormPasswordField=U1,Ni.AcroFormAppearance=sr,Ni.AcroForm={ChoiceField:e0,ListBox:t0,ComboBox:r0,EditBox:B1,Button:Fo,PushButton:F1,RadioButton:n0,CheckBox:j1,TextField:Ad,PasswordField:U1,Appearance:sr},Ar.AcroForm={ChoiceField:e0,ListBox:t0,ComboBox:r0,EditBox:B1,Button:Fo,PushButton:F1,RadioButton:n0,CheckBox:j1,TextField:Ad,PasswordField:U1,Appearance:sr};Ar.AcroForm;function nX(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){var e="addImage_";t.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(H,ee){var ae,le,Te,te,oe,K=r;if((ee=ee||r)==="RGBA"||H.data!==void 0&&H.data instanceof Uint8ClampedArray&&"height"in H&&"width"in H)return"RGBA";if(z(H))for(oe in n)for(Te=n[oe],ae=0;ae<Te.length;ae+=1){for(te=!0,le=0;le<Te[ae].length;le+=1)if(Te[ae][le]!==void 0&&Te[ae][le]!==H[le]){te=!1;break}if(te===!0){K=oe;break}}else for(oe in n)for(Te=n[oe],ae=0;ae<Te.length;ae+=1){for(te=!0,le=0;le<Te[ae].length;le+=1)if(Te[ae][le]!==void 0&&Te[ae][le]!==H.charCodeAt(le)){te=!1;break}if(te===!0){K=oe;break}}return K===r&&ee!==r&&(K=ee),K},o=function H(ee){for(var ae=this.internal.write,le=this.internal.putStream,Te=(0,this.internal.getFilters)();Te.indexOf("FlateEncode")!==-1;)Te.splice(Te.indexOf("FlateEncode"),1);ee.objectId=this.internal.newObject();var te=[];if(te.push({key:"Type",value:"/XObject"}),te.push({key:"Subtype",value:"/Image"}),te.push({key:"Width",value:ee.width}),te.push({key:"Height",value:ee.height}),ee.colorSpace===O.INDEXED?te.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(ee.palette.length/3-1)+" "+("sMask"in ee&&ee.sMask!==void 0?ee.objectId+2:ee.objectId+1)+" 0 R]"}):(te.push({key:"ColorSpace",value:"/"+ee.colorSpace}),ee.colorSpace===O.DEVICE_CMYK&&te.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),te.push({key:"BitsPerComponent",value:ee.bitsPerComponent}),"decodeParameters"in ee&&ee.decodeParameters!==void 0&&te.push({key:"DecodeParms",value:"<<"+ee.decodeParameters+">>"}),"transparency"in ee&&Array.isArray(ee.transparency)&&ee.transparency.length>0){for(var oe="",K=0,ge=ee.transparency.length;K<ge;K++)oe+=ee.transparency[K]+" "+ee.transparency[K]+" ";te.push({key:"Mask",value:"["+oe+"]"})}ee.sMask!==void 0&&te.push({key:"SMask",value:ee.objectId+1+" 0 R"});var Ee=ee.filter!==void 0?["/"+ee.filter]:void 0;if(le({data:ee.data,additionalKeyValues:te,alreadyAppliedFilters:Ee,objectId:ee.objectId}),ae("endobj"),"sMask"in ee&&ee.sMask!==void 0){var se,$=(se=ee.sMaskBitsPerComponent)!==null&&se!==void 0?se:ee.bitsPerComponent,ne={width:ee.width,height:ee.height,colorSpace:"DeviceGray",bitsPerComponent:$,data:ee.sMask};"filter"in ee&&(ne.decodeParameters="/Predictor ".concat(ee.predictor," /Colors 1 /BitsPerComponent ").concat($," /Columns ").concat(ee.width),ne.filter=ee.filter),H.call(this,ne)}if(ee.colorSpace===O.INDEXED){var pe=this.internal.newObject();le({data:Z(new Uint8Array(ee.palette)),objectId:pe}),ae("endobj")}},s=function(){var H=this.internal.collections[e+"images"];for(var ee in H)o.call(this,H[ee])},a=function(){var H,ee=this.internal.collections[e+"images"],ae=this.internal.write;for(var le in ee)ae("/I"+(H=ee[le]).index,H.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",a))},c=function(){var H=this.internal.collections[e+"images"];return l.call(this),H},u=function(){return Object.keys(this.internal.collections[e+"images"]).length},g=function(H){return typeof t["process"+H.toUpperCase()]=="function"},_=function(H){return Nn(H)==="object"&&H.nodeType===1},b=function(H,ee){if(H.nodeName==="IMG"&&H.hasAttribute("src")){var ae=""+H.getAttribute("src");if(ae.indexOf("data:image/")===0)return D1(unescape(ae).split("base64,").pop());var le=t.loadFile(ae,!0);if(le!==void 0)return le}if(H.nodeName==="CANVAS"){if(H.width===0||H.height===0)throw new Error("Given canvas must have data. Canvas width: "+H.width+", height: "+H.height);var Te;switch(ee){case"PNG":Te="image/png";break;case"WEBP":Te="image/webp";break;default:Te="image/jpeg"}return D1(H.toDataURL(Te,1).split("base64,").pop())}},P=function(H){var ee=this.internal.collections[e+"images"];if(ee){for(var ae in ee)if(H===ee[ae].alias)return ee[ae]}},E=function(H,ee,ae){return H||ee||(H=-96,ee=-96),H<0&&(H=-1*ae.width*72/H/this.internal.scaleFactor),ee<0&&(ee=-1*ae.height*72/ee/this.internal.scaleFactor),H===0&&(H=ee*ae.width/ae.height),ee===0&&(ee=H*ae.height/ae.width),[H,ee]},T=function(H,ee,ae,le,Te,te){var oe=E.call(this,ae,le,Te),K=this.internal.getCoordinateString,ge=this.internal.getVerticalCoordinateString,Ee=c.call(this);if(ae=oe[0],le=oe[1],Ee[Te.index]=Te,te){te*=Math.PI/180;var se=Math.cos(te),$=Math.sin(te),ne=function(be){return be.toFixed(4)},pe=[ne(se),ne($),ne(-1*$),ne(se),0,0,"cm"]}this.internal.write("q"),te?(this.internal.write([1,"0","0",1,K(H),ge(ee+le),"cm"].join(" ")),this.internal.write(pe.join(" ")),this.internal.write([K(ae),"0","0",K(le),"0","0","cm"].join(" "))):this.internal.write([K(ae),"0","0",K(le),K(H),ge(ee+le),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Te.index+" Do"),this.internal.write("Q")},O=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var L=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},N=t.__addimage__.sHashCode=function(H){var ee,ae,le=0;if(typeof H=="string")for(ae=H.length,ee=0;ee<ae;ee++)le=(le<<5)-le+H.charCodeAt(ee),le|=0;else if(z(H))for(ae=H.byteLength/2,ee=0;ee<ae;ee++)le=(le<<5)-le+H[ee],le|=0;return le},D=t.__addimage__.validateStringAsBase64=function(H){(H=H||"").toString().trim();var ee=!0;return H.length===0&&(ee=!1),H.length%4!=0&&(ee=!1),/^[A-Za-z0-9+/]+$/.test(H.substr(0,H.length-2))===!1&&(ee=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(H.substr(-2))===!1&&(ee=!1),ee},B=t.__addimage__.extractImageFromDataUrl=function(H){if(H==null||!(H=H.trim()).startsWith("data:"))return null;var ee=H.indexOf(",");return ee<0?null:H.substring(0,ee).trim().endsWith("base64")?H.substring(ee+1):null};t.__addimage__.isArrayBuffer=function(H){return H instanceof ArrayBuffer};var z=t.__addimage__.isArrayBufferView=function(H){return H instanceof Int8Array||H instanceof Uint8Array||H instanceof Uint8ClampedArray||H instanceof Int16Array||H instanceof Uint16Array||H instanceof Int32Array||H instanceof Uint32Array||H instanceof Float32Array||H instanceof Float64Array},X=t.__addimage__.binaryStringToUint8Array=function(H){for(var ee=H.length,ae=new Uint8Array(ee),le=0;le<ee;le++)ae[le]=H.charCodeAt(le);return ae},Z=t.__addimage__.arrayBufferToBinaryString=function(H){for(var ee="",ae=z(H)?H:new Uint8Array(H),le=0;le<ae.length;le+=8192)ee+=String.fromCharCode.apply(null,ae.subarray(le,le+8192));return ee};t.addImage=function(){var H,ee,ae,le,Te,te,oe,K,ge;if(typeof arguments[1]=="number"?(ee=r,ae=arguments[1],le=arguments[2],Te=arguments[3],te=arguments[4],oe=arguments[5],K=arguments[6],ge=arguments[7]):(ee=arguments[1],ae=arguments[2],le=arguments[3],Te=arguments[4],te=arguments[5],oe=arguments[6],K=arguments[7],ge=arguments[8]),Nn(H=arguments[0])==="object"&&!_(H)&&"imageData"in H){var Ee=H;H=Ee.imageData,ee=Ee.format||ee||r,ae=Ee.x||ae||0,le=Ee.y||le||0,Te=Ee.w||Ee.width||Te,te=Ee.h||Ee.height||te,oe=Ee.alias||oe,K=Ee.compression||K,ge=Ee.rotation||Ee.angle||ge}var se=this.internal.getFilters();if(K===void 0&&se.indexOf("FlateEncode")!==-1&&(K="SLOW"),isNaN(ae)||isNaN(le))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var $=G.call(this,H,ee,oe,K);return T.call(this,ae,le,Te,te,$,ge),this};var G=function(H,ee,ae,le){var Te,te,oe;if(typeof H=="string"&&i(H)===r){H=unescape(H);var K=de(H,!1);(K!==""||(K=t.loadFile(H,!0))!==void 0)&&(H=K)}if(_(H)&&(H=b(H,ee)),ee=i(H,ee),!g(ee))throw new Error("addImage does not support files of type '"+ee+"', please ensure that a plugin for '"+ee+"' support is added.");if(((oe=ae)==null||oe.length===0)&&(ae=(function(ge){return typeof ge=="string"||z(ge)?N(ge):z(ge.data)?N(ge.data):null})(H)),(Te=P.call(this,ae))||(H instanceof Uint8Array||ee==="RGBA"||(te=H,H=X(H)),Te=this["process"+ee.toUpperCase()](H,u.call(this),ae,(function(ge){return ge&&typeof ge=="string"&&(ge=ge.toUpperCase()),ge in t.image_compression?ge:L.NONE})(le),te)),!Te)throw new Error("An unknown error occurred whilst processing the image.");return Te},de=t.__addimage__.convertBase64ToBinaryString=function(H,ee){ee=typeof ee!="boolean"||ee;var ae,le="";if(typeof H=="string"){var Te;ae=(Te=B(H))!==null&&Te!==void 0?Te:H;try{le=D1(ae)}catch(te){if(ee)throw D(ae)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+te.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return le};t.getImageProperties=function(H){var ee,ae,le="";if(_(H)&&(H=b(H)),typeof H=="string"&&i(H)===r&&((le=de(H,!1))===""&&(le=t.loadFile(H)||""),H=le),ae=i(H),!g(ae))throw new Error("addImage does not support files of type '"+ae+"', please ensure that a plugin for '"+ae+"' support is added.");if(H instanceof Uint8Array||(H=X(H)),!(ee=this["process"+ae.toUpperCase()](H)))throw new Error("An unknown error occurred whilst processing the image");return ee.fileType=ae,ee}})(Ar.API),(function(t){var e=function(r){if(r!==void 0&&r!="")return!0};Ar.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,i,o,s=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),c=r.pageContext.annotations,u=!1,g=0;g<c.length&&!u;g++)switch((n=c[g]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var _=0;_<c.length;_++){n=c[_];var b=this.internal.pdfEscape,P=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var E=this.internal.newAdditionalObject(),T=this.internal.newAdditionalObject(),O=this.internal.getEncryptor(E.objId),L=n.title||"Note";o="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(n.bounds.x)+" "+a(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+a(n.bounds.y)+"] ")+"/Contents ("+b(O(n.contents))+")",o+=" /Popup "+T.objId+" 0 R",o+=" /P "+l.objId+" 0 R",o+=" /T ("+b(O(L))+") >>",E.content=o;var N=E.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(n.bounds.x+30)+" "+a(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+a(n.bounds.y)+"] ")+" /Parent "+N,n.open&&(o+=" /Open true"),o+=" >>",T.content=o,this.internal.write(E.objId,"0 R",T.objId,"0 R");break;case"freetext":i="/Rect ["+s(n.bounds.x)+" "+a(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+a(n.bounds.y+n.bounds.h)+"] ";var D=n.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+b(P(n.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+D+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(n.options.name){var B=this.annotations._nameMap[n.options.name];n.options.pageNumber=B.page,n.options.top=B.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",o="",n.options.url)o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+b(P(n.options.url))+") >>";else if(n.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,o+=" /FitV "+n.options.left+"]";break;default:var z=a(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),o+=" /XYZ "+n.options.left+" "+z+" "+n.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,i,o,s){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(r),y:c(n),w:l(r+i),h:c(n+o)},options:s,type:"link"})},t.textWithLink=function(r,n,i,o){var s,a,l=this.getTextWidth(r),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){a=o.maxWidth;var u=this.splitTextToSize(r,a).length;s=Math.ceil(c*u)}else a=l,s=c;return this.text(r,n,i,o),i+=.2*c,o.align==="center"&&(n-=l/2),o.align==="right"&&(n-=l),this.link(n,i-c,a,s,o),l},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}})(Ar.API),(function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var o=t.__arabicParser__.isInArabicSubstitutionA=function(E){return e[E.charCodeAt(0)]!==void 0},s=t.__arabicParser__.isArabicLetter=function(E){return typeof E=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(E)},a=t.__arabicParser__.isArabicEndLetter=function(E){return s(E)&&o(E)&&e[E.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(E){return s(E)&&i.indexOf(E.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(E){return s(E)&&o(E)&&e[E.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(E){return s(E)&&o(E)&&e[E.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(E){return s(E)&&o(E)&&e[E.charCodeAt(0)].length>=3};var u=t.__arabicParser__.arabicLetterHasMedialForm=function(E){return s(E)&&o(E)&&e[E.charCodeAt(0)].length==4},g=t.__arabicParser__.resolveLigatures=function(E){var T=0,O=r,L="",N=0;for(T=0;T<E.length;T+=1)O[E.charCodeAt(T)]!==void 0?(N++,typeof(O=O[E.charCodeAt(T)])=="number"&&(L+=String.fromCharCode(O),O=r,N=0),T===E.length-1&&(O=r,L+=E.charAt(T-(N-1)),T-=N-1,N=0)):(O=r,L+=E.charAt(T-N),T-=N,N=0);return L};t.__arabicParser__.isArabicDiacritic=function(E){return E!==void 0&&n[E.charCodeAt(0)]!==void 0};var _=t.__arabicParser__.getCorrectForm=function(E,T,O){return s(E)?o(E)===!1?-1:!c(E)||!s(T)&&!s(O)||!s(O)&&a(T)||a(E)&&!s(T)||a(E)&&l(T)||a(E)&&a(T)?0:u(E)&&s(T)&&!a(T)&&s(O)&&c(O)?3:a(E)||!s(O)?1:2:-1},b=function(E){var T=0,O=0,L=0,N="",D="",B="",z=(E=E||"").split("\\s+"),X=[];for(T=0;T<z.length;T+=1){for(X.push(""),O=0;O<z[T].length;O+=1)N=z[T][O],D=z[T][O-1],B=z[T][O+1],s(N)?(L=_(N,D,B),X[T]+=L!==-1?String.fromCharCode(e[N.charCodeAt(0)][L]):N):X[T]+=N;X[T]=g(X[T])}return X.join(" ")},P=t.__arabicParser__.processArabic=t.processArabic=function(){var E,T=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,O=[];if(Array.isArray(T)){var L=0;for(O=[],L=0;L<T.length;L+=1)Array.isArray(T[L])?O.push([b(T[L][0]),T[L][1],T[L][2]]):O.push([b(T[L])]);E=O}else E=b(T);return typeof arguments[0]=="string"?E:(arguments[0].text=E,arguments[0])};t.events.push(["preProcessText",P])})(Ar.API),Ar.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(a){r=a}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(a){n=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(a){o=a}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(a){s=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Ar.API),(function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(E){l=E}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(E){c=E}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(E){u=E}});var g=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return g},set:function(E){g=E}});var _=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return _},set:function(E){_=E}});var b=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return b},set:function(E){b=E}});var P=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return P},set:function(E){P=E}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,c){n.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),g=c.font||this.getFont(),_=c.scaleFactor||this.internal.scaleFactor,b=0,P=0,E=0,T=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var O=c.maxWidth;O>0?typeof l=="string"?l=this.splitTextToSize(l,O):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(N,D){return N.concat(T.splitTextToSize(D,O))},[])):l=Array.isArray(l)?l:[l];for(var L=0;L<l.length;L++)b<(E=this.getStringUnitWidth(l[L],{font:g})*u)&&(b=E);return b!==0&&(P=l.length),{w:b/=_,h:Math.max((P*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/_,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=t.cell=function(){var l;l=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,g=this.internal.__cell__.margins||e,_=this.internal.__cell__.tableHeaderRow,b=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+g.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=g.top,b&&_&&(this.printHeaderRow(l.lineNumber,!0),l.y+=_[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};t.table=function(l,c,u,g,_){if(n.call(this),!u)throw new Error("No data for PDF table.");var b,P,E,T,O=[],L=[],N=[],D={},B={},z=[],X=[],Z=(_=_||{}).autoSize||!1,G=_.printHeaders!==!1,de=_.css&&_.css["font-size"]!==void 0?16*_.css["font-size"]:_.fontSize||12,H=_.margins||Object.assign({width:this.getPageWidth()},e),ee=typeof _.padding=="number"?_.padding:3,ae=_.headerBackgroundColor||"#c8c8c8",le=_.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=G,this.internal.__cell__.margins=H,this.internal.__cell__.table_font_size=de,this.internal.__cell__.padding=ee,this.internal.__cell__.headerBackgroundColor=ae,this.internal.__cell__.headerTextColor=le,this.setFontSize(de),g==null)L=O=Object.keys(u[0]),N=O.map(function(){return"left"});else if(Array.isArray(g)&&Nn(g[0])==="object")for(O=g.map(function(Ee){return Ee.name}),L=g.map(function(Ee){return Ee.prompt||Ee.name||""}),N=g.map(function(Ee){return Ee.align||"left"}),b=0;b<g.length;b+=1)B[g[b].name]=.7499990551181103*g[b].width;else Array.isArray(g)&&typeof g[0]=="string"&&(L=O=g,N=O.map(function(){return"left"}));if(Z||Array.isArray(g)&&typeof g[0]=="string")for(b=0;b<O.length;b+=1){for(D[T=O[b]]=u.map(function(Ee){return Ee[T]}),this.setFont(void 0,"bold"),z.push(this.getTextDimensions(L[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),P=D[T],this.setFont(void 0,"normal"),E=0;E<P.length;E+=1)z.push(this.getTextDimensions(P[E],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);B[T]=Math.max.apply(null,z)+ee+ee,z=[]}if(G){var Te={};for(b=0;b<O.length;b+=1)Te[O[b]]={},Te[O[b]].text=L[b],Te[O[b]].align=N[b];var te=a.call(this,Te,B);X=O.map(function(Ee){return new o(l,c,B[Ee],te,Te[Ee].text,void 0,Te[Ee].align)}),this.setTableHeaderRow(X),this.printHeaderRow(1,!1)}var oe=g.reduce(function(Ee,se){return Ee[se.name]=se.align,Ee},{});for(b=0;b<u.length;b+=1){"rowStart"in _&&_.rowStart instanceof Function&&_.rowStart({row:b,data:u[b]},this);var K=a.call(this,u[b],B);for(E=0;E<O.length;E+=1){var ge=u[b][O[E]];"cellStart"in _&&_.cellStart instanceof Function&&_.cellStart({row:b,col:E,data:ge},this),s.call(this,new o(l,c,B[O[E]],K,ge,b+2,oe[O[E]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var a=function(l,c){var u=this.internal.__cell__.padding,g=this.internal.__cell__.table_font_size,_=this.internal.scaleFactor;return Object.keys(l).map(function(b){var P=l[b];return this.splitTextToSize(P.hasOwnProperty("text")?P.text:P,c[b]-u-u)},this).map(function(b){return this.getLineHeightFactor()*b.length*g/_+u+u},this).reduce(function(b,P){return Math.max(b,P)},0)};t.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,c){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var g=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(g[0],g[1],g[2],g[3],void 0,-1)}this.setFont(void 0,"bold");for(var _=[],b=0;b<this.internal.__cell__.tableHeaderRow.length;b+=1){u=this.internal.__cell__.tableHeaderRow[b].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,_.push(u)),u.lineNumber=l;var P=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,u),this.setTextColor(P)}_.length>0&&this.setTableHeaderRow(_),this.setFont(void 0,"normal"),r=!1}})(Ar.API);var iX={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},oX=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],VT=nX(oX),sX=[100,200,300,400,500,600,700,800,900],DOe=nX(sX);function ZS(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=(function(o){return iX[o=o||"normal"]?o:"normal"})(t.style),n=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(t.weight),i=(function(o){return typeof VT[o=o||"normal"]=="number"?o:"normal"})(t.stretch);return{family:e,style:r,weight:n,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,r,n].join(" ")}}}function BF(t,e,r,n){var i;for(i=r;i>=0&&i<e.length;i+=n)if(t[e[i]])return t[e[i]];for(i=r;i>=0&&i<e.length;i-=n)if(t[e[i]])return t[e[i]]}var BOe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},FF={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function jF(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function UF(t){return t.trimLeft()}function FOe(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function jOe(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var g1,$F,zF,PA,m1,WF,VF,HF,JS=["times"];function qF(t,e,r,n,i){var o=4,s=YF;switch(i){case Ar.API.image_compression.FAST:o=1,s=XF;break;case Ar.API.image_compression.MEDIUM:o=6,s=KF;break;case Ar.API.image_compression.SLOW:o=9,s=GF}t=(function(l,c,u,g){for(var _,b=l.length/c,P=new Uint8Array(l.length+b),E=[UOe,XF,YF,KF,GF],T=0;T<b;T+=1){var O=T*c,L=l.subarray(O,O+c);if(g)P.set(g(L,u,_),O+T);else{for(var N=E.length,D=[],B=0;B<N;B+=1)D[B]=E[B](L,u,_);var z=zOe(D.concat());P.set(D[z],O+T)}_=L}return P})(t,e,Math.ceil(r*n/8),s);var a=BT(t,{level:o});return Ar.API.__addimage__.arrayBufferToBinaryString(a)}function UOe(t){var e=Array.apply([],t);return e.unshift(0),e}function XF(t,e){var r=t.length,n=[];n[0]=1;for(var i=0;i<r;i+=1){var o=t[i-e]||0;n[i+1]=t[i]-o+256&255}return n}function YF(t,e,r){var n=t.length,i=[];i[0]=2;for(var o=0;o<n;o+=1){var s=r&&r[o]||0;i[o+1]=t[o]-s+256&255}return i}function KF(t,e,r){var n=t.length,i=[];i[0]=3;for(var o=0;o<n;o+=1){var s=t[o-e]||0,a=r&&r[o]||0;i[o+1]=t[o]+256-(s+a>>>1)&255}return i}function GF(t,e,r){var n=t.length,i=[];i[0]=4;for(var o=0;o<n;o+=1){var s=$Oe(t[o-e]||0,r&&r[o]||0,r&&r[o-e]||0);i[o+1]=t[o]-s+256&255}return i}function $Oe(t,e,r){if(t===e&&e===r)return t;var n=Math.abs(e-r),i=Math.abs(t-r),o=Math.abs(t+e-r-r);return n<=i&&n<=o?t:i<=o?e:r}function zOe(t){var e=t.map(function(r){return r.reduce(function(n,i){return n+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function e4(t,e,r){var n=e*r,i=Math.floor(n/8),o=16-(n-8*i+r),s=(1<<r)-1;return aX(t,i)>>o&s}function QF(t,e,r,n){var i=r*n,o=Math.floor(i/8),s=16-(i-8*o+n),a=(1<<n)-1,l=(e&a)<<s;(function(c,u,g){if(u+1<c.byteLength)c.setUint16(u,g,!1);else{var _=g>>8&255;c.setUint8(u,_)}})(t,o,aX(t,o)&~(a<<s)&65535|l)}function aX(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function WOe(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,i=t[e++],o=i>>7,s=1<<1+(7&i);t[e++],t[e++];var a=null,l=null;o&&(a=e,l=s,e+=3*s);var c=!0,u=[],g=0,_=null,b=0,P=null;for(this.width=r,this.height=n;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,P=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((H=t[e++])>=0))throw Error("Invalid block size");if(H===0)break;e+=H}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var E=t[e++];g=t[e++]|t[e++]<<8,_=t[e++],1&E||(_=null),b=E>>2&7,e++;break;case 254:for(;;){if(!((H=t[e++])>=0))throw Error("Invalid block size");if(H===0)break;e+=H}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var T=t[e++]|t[e++]<<8,O=t[e++]|t[e++]<<8,L=t[e++]|t[e++]<<8,N=t[e++]|t[e++]<<8,D=t[e++],B=D>>6&1,z=1<<1+(7&D),X=a,Z=l,G=!1;D>>7&&(G=!0,X=e,Z=z,e+=3*z);var de=e;for(e++;;){var H;if(!((H=t[e++])>=0))throw Error("Invalid block size");if(H===0)break;e+=H}u.push({x:T,y:O,width:L,height:N,has_local_palette:G,palette_offset:X,palette_size:Z,data_offset:de,data_length:e-de,transparent_index:_,interlaced:!!B,delay:g,disposal:b});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return P},this.frameInfo=function(ee){if(ee<0||ee>=u.length)throw new Error("Frame index out of range.");return u[ee]},this.decodeAndBlitFrameBGRA=function(ee,ae){var le=this.frameInfo(ee),Te=le.width*le.height,te=new Uint8Array(Te);ZF(t,le.data_offset,te,Te);var oe=le.palette_offset,K=le.transparent_index;K===null&&(K=256);var ge=le.width,Ee=r-ge,se=ge,$=4*(le.y*r+le.x),ne=4*((le.y+le.height)*r+le.x),pe=$,be=4*Ee;le.interlaced===!0&&(be+=4*r*7);for(var Ie=8,De=0,$e=te.length;De<$e;++De){var Le=te[De];if(se===0&&(se=ge,(pe+=be)>=ne&&(be=4*Ee+4*r*(Ie-1),pe=$+(ge+Ee)*(Ie<<1),Ie>>=1)),Le===K)pe+=4;else{var We=t[oe+3*Le],ft=t[oe+3*Le+1],tt=t[oe+3*Le+2];ae[pe++]=tt,ae[pe++]=ft,ae[pe++]=We,ae[pe++]=255}--se}},this.decodeAndBlitFrameRGBA=function(ee,ae){var le=this.frameInfo(ee),Te=le.width*le.height,te=new Uint8Array(Te);ZF(t,le.data_offset,te,Te);var oe=le.palette_offset,K=le.transparent_index;K===null&&(K=256);var ge=le.width,Ee=r-ge,se=ge,$=4*(le.y*r+le.x),ne=4*((le.y+le.height)*r+le.x),pe=$,be=4*Ee;le.interlaced===!0&&(be+=4*r*7);for(var Ie=8,De=0,$e=te.length;De<$e;++De){var Le=te[De];if(se===0&&(se=ge,(pe+=be)>=ne&&(be=4*Ee+4*r*(Ie-1),pe=$+(ge+Ee)*(Ie<<1),Ie>>=1)),Le===K)pe+=4;else{var We=t[oe+3*Le],ft=t[oe+3*Le+1],tt=t[oe+3*Le+2];ae[pe++]=We,ae[pe++]=ft,ae[pe++]=tt,ae[pe++]=255}--se}}}function ZF(t,e,r,n){for(var i=t[e++],o=1<<i,s=o+1,a=s+1,l=i+1,c=(1<<l)-1,u=0,g=0,_=0,b=t[e++],P=new Int32Array(4096),E=null;;){for(;u<16&&b!==0;)g|=t[e++]<<u,u+=8,b===1?b=t[e++]:--b;if(u<l)break;var T=g&c;if(g>>=l,u-=l,T!==o){if(T===s)break;for(var O=T<a?T:E,L=0,N=O;N>o;)N=P[N]>>8,++L;var D=N;if(_+L+(O!==T?1:0)>n)return void Kn.log("Warning, gif stream longer than expected.");r[_++]=D;var B=_+=L;for(O!==T&&(r[_++]=D),N=O;L--;)N=P[N],r[--B]=255&N,N>>=8;E!==null&&a<4096&&(P[a++]=E<<8|D,a>=c+1&&l<12&&(++l,c=c<<1|1)),E=T}else a=s+1,c=(1<<(l=i+1))-1,E=null}return _!==n&&Kn.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function t4(t){var e,r,n,i,o,s=Math.floor,a=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),g=new Array(65535),_=new Array(65535),b=new Array(64),P=new Array(64),E=[],T=0,O=7,L=new Array(64),N=new Array(64),D=new Array(64),B=new Array(256),z=new Array(2048),X=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],Z=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],G=[0,1,2,3,4,5,6,7,8,9,10,11],de=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],H=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],ee=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],ae=[0,1,2,3,4,5,6,7,8,9,10,11],le=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Te=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function te($,ne){for(var pe=0,be=0,Ie=new Array,De=1;De<=16;De++){for(var $e=1;$e<=$[De];$e++)Ie[ne[be]]=[],Ie[ne[be]][0]=pe,Ie[ne[be]][1]=De,be++,pe++;pe*=2}return Ie}function oe($){for(var ne=$[0],pe=$[1]-1;pe>=0;)ne&1<<pe&&(T|=1<<O),pe--,--O<0&&(T==255?(K(255),K(0)):K(T),O=7,T=0)}function K($){E.push($)}function ge($){K($>>8&255),K(255&$)}function Ee($,ne,pe,be,Ie){for(var De,$e=Ie[0],Le=Ie[240],We=(function(bt,Qt){var It,qt,Zt,Hr,jr,Mr,Yr,zr,Jt,Tr,Gt=0;for(Jt=0;Jt<8;++Jt){It=bt[Gt],qt=bt[Gt+1],Zt=bt[Gt+2],Hr=bt[Gt+3],jr=bt[Gt+4],Mr=bt[Gt+5],Yr=bt[Gt+6];var ii=It+(zr=bt[Gt+7]),Jr=It-zr,Wr=qt+Yr,qr=qt-Yr,yn=Zt+Mr,fr=Zt-Mr,bn=Hr+jr,ct=Hr-jr,Ir=ii+bn,hn=ii-bn,Dr=Wr+yn,mr=Wr-yn;bt[Gt]=Ir+Dr,bt[Gt+4]=Ir-Dr;var nn=.707106781*(mr+hn);bt[Gt+2]=hn+nn,bt[Gt+6]=hn-nn;var ga=.382683433*((Ir=ct+fr)-(mr=qr+Jr)),Ti=.5411961*Ir+ga,Rs=1.306562965*mr+ga,no=.707106781*(Dr=fr+qr),pr=Jr+no,Pi=Jr-no;bt[Gt+5]=Pi+Ti,bt[Gt+3]=Pi-Ti,bt[Gt+1]=pr+Rs,bt[Gt+7]=pr-Rs,Gt+=8}for(Gt=0,Jt=0;Jt<8;++Jt){It=bt[Gt],qt=bt[Gt+8],Zt=bt[Gt+16],Hr=bt[Gt+24],jr=bt[Gt+32],Mr=bt[Gt+40],Yr=bt[Gt+48];var lt=It+(zr=bt[Gt+56]),pt=It-zr,Ot=qt+Yr,dt=qt-Yr,A=Zt+Mr,ce=Zt-Mr,Ur=Hr+jr,Kr=Hr-jr,_n=lt+Ur,vr=lt-Ur,yr=Ot+A,yi=Ot-A;bt[Gt]=_n+yr,bt[Gt+32]=_n-yr;var Lr=.707106781*(yi+vr);bt[Gt+16]=vr+Lr,bt[Gt+48]=vr-Lr;var wr=.382683433*((_n=Kr+ce)-(yi=dt+pt)),Qn=.5411961*_n+wr,Is=1.306562965*yi+wr,Nl=.707106781*(yr=ce+dt),ma=pt+Nl,Di=pt-Nl;bt[Gt+40]=Di+Qn,bt[Gt+24]=Di-Qn,bt[Gt+8]=ma+Is,bt[Gt+56]=ma-Is,Gt++}for(Jt=0;Jt<64;++Jt)Tr=bt[Jt]*Qt[Jt],b[Jt]=Tr>0?Tr+.5|0:Tr-.5|0;return b})($,ne),ft=0;ft<64;++ft)P[X[ft]]=We[ft];var tt=P[0]-pe;pe=P[0],tt==0?oe(be[0]):(oe(be[_[De=32767+tt]]),oe(g[De]));for(var xt=63;xt>0&&P[xt]==0;)xt--;if(xt==0)return oe($e),pe;for(var Tt,xe=1;xe<=xt;){for(var At=xe;P[xe]==0&&xe<=xt;)++xe;var Vt=xe-At;if(Vt>=16){Tt=Vt>>4;for(var $t=1;$t<=Tt;++$t)oe(Le);Vt&=15}De=32767+P[xe],oe(Ie[(Vt<<4)+_[De]]),oe(g[De]),xe++}return xt!=63&&oe($e),pe}function se($){$=Math.min(Math.max($,1),100),o!=$&&((function(ne){for(var pe=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],be=0;be<64;be++){var Ie=s((pe[be]*ne+50)/100);Ie=Math.min(Math.max(Ie,1),255),a[X[be]]=Ie}for(var De=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],$e=0;$e<64;$e++){var Le=s((De[$e]*ne+50)/100);Le=Math.min(Math.max(Le,1),255),l[X[$e]]=Le}for(var We=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ft=0,tt=0;tt<8;tt++)for(var xt=0;xt<8;xt++)c[ft]=1/(a[X[ft]]*We[tt]*We[xt]*8),u[ft]=1/(l[X[ft]]*We[tt]*We[xt]*8),ft++})($<50?Math.floor(5e3/$):Math.floor(200-2*$)),o=$)}this.encode=function($,ne){ne&&se(ne),E=new Array,T=0,O=7,ge(65496),ge(65504),ge(16),K(74),K(70),K(73),K(70),K(0),K(1),K(1),K(0),ge(1),ge(1),K(0),K(0),(function(){ge(65499),ge(132),K(0);for(var qt=0;qt<64;qt++)K(a[qt]);K(1);for(var Zt=0;Zt<64;Zt++)K(l[Zt])})(),(function(qt,Zt){ge(65472),ge(17),K(8),ge(Zt),ge(qt),K(3),K(1),K(17),K(0),K(2),K(17),K(1),K(3),K(17),K(1)})($.width,$.height),(function(){ge(65476),ge(418),K(0);for(var qt=0;qt<16;qt++)K(Z[qt+1]);for(var Zt=0;Zt<=11;Zt++)K(G[Zt]);K(16);for(var Hr=0;Hr<16;Hr++)K(de[Hr+1]);for(var jr=0;jr<=161;jr++)K(H[jr]);K(1);for(var Mr=0;Mr<16;Mr++)K(ee[Mr+1]);for(var Yr=0;Yr<=11;Yr++)K(ae[Yr]);K(17);for(var zr=0;zr<16;zr++)K(le[zr+1]);for(var Jt=0;Jt<=161;Jt++)K(Te[Jt])})(),ge(65498),ge(12),K(3),K(1),K(0),K(2),K(17),K(3),K(17),K(0),K(63),K(0);var pe=0,be=0,Ie=0;T=0,O=7,this.encode.displayName="_encode_";for(var De,$e,Le,We,ft,tt,xt,Tt,xe,At=$.data,Vt=$.width,$t=$.height,bt=4*Vt,Qt=0;Qt<$t;){for(De=0;De<bt;){for(ft=bt*Qt+De,xt=-1,Tt=0,xe=0;xe<64;xe++)tt=ft+(Tt=xe>>3)*bt+(xt=4*(7&xe)),Qt+Tt>=$t&&(tt-=bt*(Qt+1+Tt-$t)),De+xt>=bt&&(tt-=De+xt-bt+4),$e=At[tt++],Le=At[tt++],We=At[tt++],L[xe]=(z[$e]+z[Le+256|0]+z[We+512|0]>>16)-128,N[xe]=(z[$e+768|0]+z[Le+1024|0]+z[We+1280|0]>>16)-128,D[xe]=(z[$e+1280|0]+z[Le+1536|0]+z[We+1792|0]>>16)-128;pe=Ee(L,c,pe,e,n),be=Ee(N,u,be,r,i),Ie=Ee(D,u,Ie,r,i),De+=32}Qt+=8}if(O>=0){var It=[];It[1]=O+1,It[0]=(1<<O+1)-1,oe(It)}return ge(65497),new Uint8Array(E)},t=t||50,(function(){for(var $=String.fromCharCode,ne=0;ne<256;ne++)B[ne]=$(ne)})(),e=te(Z,G),r=te(ee,ae),n=te(de,H),i=te(le,Te),(function(){for(var $=1,ne=2,pe=1;pe<=15;pe++){for(var be=$;be<ne;be++)_[32767+be]=pe,g[32767+be]=[],g[32767+be][1]=pe,g[32767+be][0]=be;for(var Ie=-(ne-1);Ie<=-$;Ie++)_[32767+Ie]=pe,g[32767+Ie]=[],g[32767+Ie][1]=pe,g[32767+Ie][0]=ne-1+Ie;$<<=1,ne<<=1}})(),(function(){for(var $=0;$<256;$++)z[$]=19595*$,z[$+256|0]=38470*$,z[$+512|0]=7471*$+32768,z[$+768|0]=-11059*$,z[$+1024|0]=-21709*$,z[$+1280|0]=32768*$+8421375,z[$+1536|0]=-27439*$,z[$+1792|0]=-5329*$})(),se(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function fc(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function JF(t){function e(G){if(!G)throw Error("assert :P")}function r(G,de,H){for(var ee=0;4>ee;ee++)if(G[de+ee]!=H.charCodeAt(ee))return!0;return!1}function n(G,de,H,ee,ae){for(var le=0;le<ae;le++)G[de+le]=H[ee+le]}function i(G,de,H,ee){for(var ae=0;ae<ee;ae++)G[de+ae]=H}function o(G){return new Int32Array(G)}function s(G,de){for(var H=[],ee=0;ee<G;ee++)H.push(new de);return H}function a(G,de){var H=[];return(function ee(ae,le,Te){for(var te=Te[le],oe=0;oe<te&&(ae.push(Te.length>le+1?[]:new de),!(Te.length<le+1));oe++)ee(ae[oe],le+1,Te)})(H,0,G),H}var l=function(){var G=this;function de(C,I){for(var W=1<<I-1>>>0;C&W;)W>>>=1;return W?(C&W-1)+W:C}function H(C,I,W,J,ue){e(!(J%W));do C[I+(J-=W)]=ue;while(0<J)}function ee(C,I,W,J,ue){if(e(2328>=ue),512>=ue)var re=o(512);else if((re=o(ue))==null)return 0;return(function(ie,Se,Ce,Re,Ve,ot){var Oe,Xe,nt=Se,h=1<<Ce,f=o(16),p=o(16);for(e(Ve!=0),e(Re!=null),e(ie!=null),e(0<Ce),Xe=0;Xe<Ve;++Xe){if(15<Re[Xe])return 0;++f[Re[Xe]]}if(f[0]==Ve)return 0;for(p[1]=0,Oe=1;15>Oe;++Oe){if(f[Oe]>1<<Oe)return 0;p[Oe+1]=p[Oe]+f[Oe]}for(Xe=0;Xe<Ve;++Xe)Oe=Re[Xe],0<Re[Xe]&&(ot[p[Oe]++]=Xe);if(p[15]==1)return(Re=new ae).g=0,Re.value=ot[0],H(ie,nt,1,h,Re),h;var v,y=-1,w=h-1,S=0,k=1,M=1,j=1<<Ce;for(Xe=0,Oe=1,Ve=2;Oe<=Ce;++Oe,Ve<<=1){if(k+=M<<=1,0>(M-=f[Oe]))return 0;for(;0<f[Oe];--f[Oe])(Re=new ae).g=Oe,Re.value=ot[Xe++],H(ie,nt+S,Ve,j,Re),S=de(S,Oe)}for(Oe=Ce+1,Ve=2;15>=Oe;++Oe,Ve<<=1){if(k+=M<<=1,0>(M-=f[Oe]))return 0;for(;0<f[Oe];--f[Oe]){if(Re=new ae,(S&w)!=y){for(nt+=j,v=1<<(y=Oe)-Ce;15>y&&!(0>=(v-=f[y]));)++y,v<<=1;h+=j=1<<(v=y-Ce),ie[Se+(y=S&w)].g=v+Ce,ie[Se+y].value=nt-Se-y}Re.g=Oe-Ce,Re.value=ot[Xe++],H(ie,nt+(S>>Ce),Ve,j,Re),S=de(S,Oe)}}return k!=2*p[15]-1?0:h})(C,I,W,J,ue,re)}function ae(){this.value=this.g=0}function le(){this.value=this.g=0}function Te(){this.G=s(5,ae),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(fs,le)}function te(C,I,W,J){e(C!=null),e(I!=null),e(2147483648>J),C.Ca=254,C.I=0,C.b=-8,C.Ka=0,C.oa=I,C.pa=W,C.Jd=I,C.Yc=W+J,C.Zc=4<=J?W+J-4+1:W,$e(C)}function oe(C,I){for(var W=0;0<I--;)W|=We(C,128)<<I;return W}function K(C,I){var W=oe(C,I);return Le(C)?-W:W}function ge(C,I,W,J){var ue,re=0;for(e(C!=null),e(I!=null),e(4294967288>J),C.Sb=J,C.Ra=0,C.u=0,C.h=0,4<J&&(J=4),ue=0;ue<J;++ue)re+=I[W+ue]<<8*ue;C.Ra=re,C.bb=J,C.oa=I,C.pa=W}function Ee(C){for(;8<=C.u&&C.bb<C.Sb;)C.Ra>>>=8,C.Ra+=C.oa[C.pa+C.bb]<<tl-8>>>0,++C.bb,C.u-=8;be(C)&&(C.h=1,C.u=0)}function se(C,I){if(e(0<=I),!C.h&&I<=So){var W=pe(C)&xo[I];return C.u+=I,Ee(C),W}return C.h=1,C.u=0}function $(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function ne(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function pe(C){return C.Ra>>>(C.u&tl-1)>>>0}function be(C){return e(C.bb<=C.Sb),C.h||C.bb==C.Sb&&C.u>tl}function Ie(C,I){C.u=I,C.h=be(C)}function De(C){C.u>=Js&&(e(C.u>=Js),Ee(C))}function $e(C){e(C!=null&&C.oa!=null),C.pa<C.Zc?(C.I=(C.oa[C.pa++]|C.I<<8)>>>0,C.b+=8):(e(C!=null&&C.oa!=null),C.pa<C.Yc?(C.b+=8,C.I=C.oa[C.pa++]|C.I<<8):C.Ka?C.b=0:(C.I<<=8,C.b+=8,C.Ka=1))}function Le(C){return oe(C,1)}function We(C,I){var W=C.Ca;0>C.b&&$e(C);var J=C.b,ue=W*I>>>8,re=(C.I>>>J>ue)+0;for(re?(W-=ue,C.I-=ue+1<<J>>>0):W=ue+1,J=W,ue=0;256<=J;)ue+=8,J>>=8;return J=7^ue+Ta[J],C.b-=J,C.Ca=(W<<J)-1,re}function ft(C,I,W){C[I+0]=W>>24&255,C[I+1]=W>>16&255,C[I+2]=W>>8&255,C[I+3]=255&W}function tt(C,I){return C[I+0]|C[I+1]<<8}function xt(C,I){return tt(C,I)|C[I+2]<<16}function Tt(C,I){return tt(C,I)|tt(C,I+2)<<16}function xe(C,I){var W=1<<I;return e(C!=null),e(0<I),C.X=o(W),C.X==null?0:(C.Mb=32-I,C.Xa=I,1)}function At(C,I){e(C!=null),e(I!=null),e(C.Xa==I.Xa),n(I.X,0,C.X,0,1<<I.Xa)}function Vt(){this.X=[],this.Xa=this.Mb=0}function $t(C,I,W,J){e(W!=null),e(J!=null);var ue=W[0],re=J[0];return ue==0&&(ue=(C*re+I/2)/I),re==0&&(re=(I*ue+C/2)/C),0>=ue||0>=re?0:(W[0]=ue,J[0]=re,1)}function bt(C,I){return C+(1<<I)-1>>>I}function Qt(C,I){return((4278255360&C)+(4278255360&I)>>>0&4278255360)+((16711935&C)+(16711935&I)>>>0&16711935)>>>0}function It(C,I){G[I]=function(W,J,ue,re,ie,Se,Ce){var Re;for(Re=0;Re<ie;++Re){var Ve=G[C](Se[Ce+Re-1],ue,re+Re);Se[Ce+Re]=Qt(W[J+Re],Ve)}}}function qt(){this.ud=this.hd=this.jd=0}function Zt(C,I){return((4278124286&(C^I))>>>1)+(C&I)>>>0}function Hr(C){return 0<=C&&256>C?C:0>C?0:255<C?255:void 0}function jr(C,I){return Hr(C+(C-I+.5>>1))}function Mr(C,I,W){return Math.abs(I-W)-Math.abs(C-W)}function Yr(C,I,W,J,ue,re,ie){for(J=re[ie-1],W=0;W<ue;++W)re[ie+W]=J=Qt(C[I+W],J)}function zr(C,I,W,J,ue){var re;for(re=0;re<W;++re){var ie=C[I+re],Se=ie>>8&255,Ce=16711935&(Ce=(Ce=16711935&ie)+((Se<<16)+Se));J[ue+re]=(4278255360&ie)+Ce>>>0}}function Jt(C,I){I.jd=255&C,I.hd=C>>8&255,I.ud=C>>16&255}function Tr(C,I,W,J,ue,re){var ie;for(ie=0;ie<J;++ie){var Se=I[W+ie],Ce=Se>>>8,Re=Se,Ve=255&(Ve=(Ve=Se>>>16)+((C.jd<<24>>24)*(Ce<<24>>24)>>>5));Re=255&(Re=(Re+=(C.hd<<24>>24)*(Ce<<24>>24)>>>5)+((C.ud<<24>>24)*(Ve<<24>>24)>>>5)),ue[re+ie]=(4278255360&Se)+(Ve<<16)+Re}}function Gt(C,I,W,J,ue){G[I]=function(re,ie,Se,Ce,Re,Ve,ot,Oe,Xe){for(Ce=ot;Ce<Oe;++Ce)for(ot=0;ot<Xe;++ot)Re[Ve++]=ue(Se[J(re[ie++])])},G[C]=function(re,ie,Se,Ce,Re,Ve,ot){var Oe=8>>re.b,Xe=re.Ea,nt=re.K[0],h=re.w;if(8>Oe)for(re=(1<<re.b)-1,h=(1<<Oe)-1;ie<Se;++ie){var f,p=0;for(f=0;f<Xe;++f)f&re||(p=J(Ce[Re++])),Ve[ot++]=ue(nt[p&h]),p>>=Oe}else G["VP8LMapColor"+W](Ce,Re,nt,h,Ve,ot,ie,Se,Xe)}}function ii(C,I,W,J,ue){for(W=I+W;I<W;){var re=C[I++];J[ue++]=re>>16&255,J[ue++]=re>>8&255,J[ue++]=255&re}}function Jr(C,I,W,J,ue){for(W=I+W;I<W;){var re=C[I++];J[ue++]=re>>16&255,J[ue++]=re>>8&255,J[ue++]=255&re,J[ue++]=re>>24&255}}function Wr(C,I,W,J,ue){for(W=I+W;I<W;){var re=(ie=C[I++])>>16&240|ie>>12&15,ie=240&ie|ie>>28&15;J[ue++]=re,J[ue++]=ie}}function qr(C,I,W,J,ue){for(W=I+W;I<W;){var re=(ie=C[I++])>>16&248|ie>>13&7,ie=ie>>5&224|ie>>3&31;J[ue++]=re,J[ue++]=ie}}function yn(C,I,W,J,ue){for(W=I+W;I<W;){var re=C[I++];J[ue++]=255&re,J[ue++]=re>>8&255,J[ue++]=re>>16&255}}function fr(C,I,W,J,ue,re){if(re==0)for(W=I+W;I<W;)ft(J,((re=C[I++])[0]>>24|re[1]>>8&65280|re[2]<<8&16711680|re[3]<<24)>>>0),ue+=32;else n(J,ue,C,I,W)}function bn(C,I){G[I][0]=G[C+"0"],G[I][1]=G[C+"1"],G[I][2]=G[C+"2"],G[I][3]=G[C+"3"],G[I][4]=G[C+"4"],G[I][5]=G[C+"5"],G[I][6]=G[C+"6"],G[I][7]=G[C+"7"],G[I][8]=G[C+"8"],G[I][9]=G[C+"9"],G[I][10]=G[C+"10"],G[I][11]=G[C+"11"],G[I][12]=G[C+"12"],G[I][13]=G[C+"13"],G[I][14]=G[C+"0"],G[I][15]=G[C+"0"]}function ct(C){return C==Xc||C==Kl||C==hs||C==Gl}function Ir(){this.eb=[],this.size=this.A=this.fb=0}function hn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Dr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ir,this.f.kb=new hn,this.sd=null}function mr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function nn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ga(C){return alert("todo:WebPSamplerProcessPlane"),C.T}function Ti(C,I){var W=C.T,J=I.ba.f.RGBA,ue=J.eb,re=J.fb+C.ka*J.A,ie=sn[I.ba.S],Se=C.y,Ce=C.O,Re=C.f,Ve=C.N,ot=C.ea,Oe=C.W,Xe=I.cc,nt=I.dc,h=I.Mc,f=I.Nc,p=C.ka,v=C.ka+C.T,y=C.U,w=y+1>>1;for(p==0?ie(Se,Ce,null,null,Re,Ve,ot,Oe,Re,Ve,ot,Oe,ue,re,null,null,y):(ie(I.ec,I.fc,Se,Ce,Xe,nt,h,f,Re,Ve,ot,Oe,ue,re-J.A,ue,re,y),++W);p+2<v;p+=2)Xe=Re,nt=Ve,h=ot,f=Oe,Ve+=C.Rc,Oe+=C.Rc,re+=2*J.A,ie(Se,(Ce+=2*C.fa)-C.fa,Se,Ce,Xe,nt,h,f,Re,Ve,ot,Oe,ue,re-J.A,ue,re,y);return Ce+=C.fa,C.j+v<C.o?(n(I.ec,I.fc,Se,Ce,y),n(I.cc,I.dc,Re,Ve,w),n(I.Mc,I.Nc,ot,Oe,w),W--):1&v||ie(Se,Ce,null,null,Re,Ve,ot,Oe,Re,Ve,ot,Oe,ue,re+J.A,null,null,y),W}function Rs(C,I,W){var J=C.F,ue=[C.J];if(J!=null){var re=C.U,ie=I.ba.S,Se=ie==Nu||ie==hs;I=I.ba.f.RGBA;var Ce=[0],Re=C.ka;Ce[0]=C.T,C.Kb&&(Re==0?--Ce[0]:(--Re,ue[0]-=C.width),C.j+C.ka+C.T==C.o&&(Ce[0]=C.o-C.j-Re));var Ve=I.eb;Re=I.fb+Re*I.A,C=ol(J,ue[0],C.width,re,Ce,Ve,Re+(Se?0:3),I.A),e(W==Ce),C&&ct(ie)&&Yl(Ve,Re,Se,re,Ce,I.A)}return 0}function no(C){var I=C.ma,W=I.ba.S,J=11>W,ue=W==Oa||W==qc||W==Nu||W==Sn||W==12||ct(W);if(I.memory=null,I.Ib=null,I.Jb=null,I.Nd=null,!el(I.Oa,C,ue?11:12))return 0;if(ue&&ct(W)&&$l(),C.da)alert("todo:use_scaling");else{if(J){if(I.Ib=ga,C.Kb){if(W=C.U+1>>1,I.memory=o(C.U+2*W),I.memory==null)return 0;I.ec=I.memory,I.fc=0,I.cc=I.ec,I.dc=I.fc+C.U,I.Mc=I.cc,I.Nc=I.dc+W,I.Ib=Ti,$l()}}else alert("todo:EmitYUV");ue&&(I.Jb=Rs,J&&wo())}if(J&&!$i){for(C=0;256>C;++C)ko[C]=89858*(C-128)+ps>>oa,qn[C]=-22014*(C-128)+ps,Go[C]=-45773*(C-128),tc[C]=113618*(C-128)+ps>>oa;for(C=pn;C<mn;++C)I=76283*(C-16)+ps>>oa,er[C-pn]=fi(I,255),co[C-pn]=fi(I+8>>4,15);$i=1}return 1}function pr(C){var I=C.ma,W=C.U,J=C.T;return e(!(1&C.ka)),0>=W||0>=J?0:(W=I.Ib(C,I),I.Jb!=null&&I.Jb(C,I,W),I.Dc+=W,1)}function Pi(C){C.ma.memory=null}function lt(C,I,W,J){return se(C,8)!=47?0:(I[0]=se(C,14)+1,W[0]=se(C,14)+1,J[0]=se(C,1),se(C,3)!=0?0:!C.h)}function pt(C,I){if(4>C)return C+1;var W=C-2>>1;return(2+(1&C)<<W)+se(I,W)+1}function Ot(C,I){return 120<I?I-120:1<=(W=((W=Lu[I-1])>>4)*C+(8-(15&W)))?W:1;var W}function dt(C,I,W){var J=pe(W),ue=C[I+=255&J].g-8;return 0<ue&&(Ie(W,W.u+8),J=pe(W),I+=C[I].value,I+=J&(1<<ue)-1),Ie(W,W.u+C[I].g),C[I].value}function A(C,I,W){return W.g+=C.g,W.value+=C.value<<I>>>0,e(8>=W.g),C.g}function ce(C,I,W){var J=C.xc;return e((I=J==0?0:C.vc[C.md*(W>>J)+(I>>J)])<C.Wb),C.Ya[I]}function Ur(C,I,W,J){var ue=C.ab,re=C.c*I,ie=C.C;I=ie+I;var Se=W,Ce=J;for(J=C.Ta,W=C.Ua;0<ue--;){var Re=C.gc[ue],Ve=ie,ot=I,Oe=Se,Xe=Ce,nt=(Ce=J,Se=W,Re.Ea);switch(e(Ve<ot),e(ot<=Re.nc),Re.hc){case 2:Vn(Oe,Xe,(ot-Ve)*nt,Ce,Se);break;case 0:var h=Ve,f=ot,p=Ce,v=Se,y=(j=Re).Ea;h==0&&(Pa(Oe,Xe,null,null,1,p,v),Yr(Oe,Xe+1,0,0,y-1,p,v+1),Xe+=y,v+=y,++h);for(var w=1<<j.b,S=w-1,k=bt(y,j.b),M=j.K,j=j.w+(h>>j.b)*k;h<f;){var Y=M,ve=j,Pe=1;for(Wn(Oe,Xe,p,v-y,1,p,v);Pe<y;){var _e=(Pe&~S)+w;_e>y&&(_e=y),(0,Ci[Y[ve++]>>8&15])(Oe,Xe+ +Pe,p,v+Pe-y,_e-Pe,p,v+Pe),Pe=_e}Xe+=y,v+=y,++h&S||(j+=k)}ot!=Re.nc&&n(Ce,Se-nt,Ce,Se+(ot-Ve-1)*nt,nt);break;case 1:for(nt=Oe,f=Xe,y=(Oe=Re.Ea)-(v=Oe&~(p=(Xe=1<<Re.b)-1)),h=bt(Oe,Re.b),w=Re.K,Re=Re.w+(Ve>>Re.b)*h;Ve<ot;){for(S=w,k=Re,M=new qt,j=f+v,Y=f+Oe;f<j;)Jt(S[k++],M),rl(M,nt,f,Xe,Ce,Se),f+=Xe,Se+=Xe;f<Y&&(Jt(S[k++],M),rl(M,nt,f,y,Ce,Se),f+=y,Se+=y),++Ve&p||(Re+=h)}break;case 3:if(Oe==Ce&&Xe==Se&&0<Re.b){for(f=Ce,Oe=nt=Se+(ot-Ve)*nt-(v=(ot-Ve)*bt(Re.Ea,Re.b)),Xe=Ce,p=Se,h=[],v=(y=v)-1;0<=v;--v)h[v]=Xe[p+v];for(v=y-1;0<=v;--v)f[Oe+v]=h[v];qo(Re,Ve,ot,Ce,nt,Ce,Se)}else qo(Re,Ve,ot,Oe,Xe,Ce,Se)}Se=J,Ce=W}Ce!=W&&n(J,W,Se,Ce,re)}function Kr(C,I){var W=C.V,J=C.Ba+C.c*C.C,ue=I-C.C;if(e(I<=C.l.o),e(16>=ue),0<ue){var re=C.l,ie=C.Ta,Se=C.Ua,Ce=re.width;if(Ur(C,ue,W,J),ue=Se=[Se],e((W=C.C)<(J=I)),e(re.v<re.va),J>re.o&&(J=re.o),W<re.j){var Re=re.j-W;W=re.j,ue[0]+=Re*Ce}if(W>=J?W=0:(ue[0]+=4*re.v,re.ka=W-re.j,re.U=re.va-re.v,re.T=J-W,W=1),W){if(Se=Se[0],11>(W=C.ca).S){var Ve=W.f.RGBA,ot=(J=W.S,ue=re.U,re=re.T,Re=Ve.eb,Ve.A),Oe=re;for(Ve=Ve.fb+C.Ma*Ve.A;0<Oe--;){var Xe=ie,nt=Se,h=ue,f=Re,p=Ve;switch(J){case Sf:nl(Xe,nt,h,f,p);break;case Oa:Eo(Xe,nt,h,f,p);break;case Xc:Eo(Xe,nt,h,f,p),Yl(f,p,0,h,1,0);break;case na:Hl(Xe,nt,h,f,p);break;case qc:fr(Xe,nt,h,f,p,1);break;case Kl:fr(Xe,nt,h,f,p,1),Yl(f,p,0,h,1,0);break;case Nu:fr(Xe,nt,h,f,p,0);break;case hs:fr(Xe,nt,h,f,p,0),Yl(f,p,1,h,1,0);break;case Sn:To(Xe,nt,h,f,p);break;case Gl:To(Xe,nt,h,f,p),Th(f,p,h,1,0);break;case Ef:Yo(Xe,nt,h,f,p);break;default:e(0)}Se+=Ce,Ve+=ot}C.Ma+=re}else alert("todo:EmitRescaledRowsYUVA");e(C.Ma<=W.height)}}C.C=I,e(C.C<=C.i)}function _n(C){var I;if(0<C.ua)return 0;for(I=0;I<C.Wb;++I){var W=C.Ya[I].G,J=C.Ya[I].H;if(0<W[1][J[1]+0].g||0<W[2][J[2]+0].g||0<W[3][J[3]+0].g)return 0}return 1}function vr(C,I,W,J,ue,re){if(C.Z!=0){var ie=C.qd,Se=C.rd;for(e(ji[C.Z]!=null);I<W;++I)ji[C.Z](ie,Se,J,ue,J,ue,re),ie=J,Se=ue,ue+=re;C.qd=ie,C.rd=Se}}function yr(C,I){var W=C.l.ma,J=W.Z==0||W.Z==1?C.l.j:C.C;if(J=C.C<J?J:C.C,e(I<=C.l.o),I>J){var ue=C.l.width,re=W.ca,ie=W.tb+ue*J,Se=C.V,Ce=C.Ba+C.c*J,Re=C.gc;e(C.ab==1),e(Re[0].hc==3),Xo(Re[0],J,I,Se,Ce,re,ie),vr(W,J,I,re,ie,ue)}C.C=C.Ma=I}function yi(C,I,W,J,ue,re,ie){var Se=C.$/J,Ce=C.$%J,Re=C.m,Ve=C.s,ot=W+C.$,Oe=ot;ue=W+J*ue;var Xe=W+J*re,nt=280+Ve.ua,h=C.Pb?Se:16777216,f=0<Ve.ua?Ve.Wa:null,p=Ve.wc,v=ot<Xe?ce(Ve,Ce,Se):null;e(C.C<re),e(Xe<=ue);var y=!1;e:for(;;){for(;y||ot<Xe;){var w=0;if(Se>=h){var S=ot-W;e((h=C).Pb),h.wd=h.m,h.xd=S,0<h.s.ua&&At(h.s.Wa,h.s.vb),h=Se+al}if(Ce&p||(v=ce(Ve,Ce,Se)),e(v!=null),v.Qb&&(I[ot]=v.qb,y=!0),!y)if(De(Re),v.jc){w=Re,S=I;var k=ot,M=v.pd[pe(w)&fs-1];e(v.jc),256>M.g?(Ie(w,w.u+M.g),S[k]=M.value,w=0):(Ie(w,w.u+M.g-256),e(256<=M.value),w=M.value),w==0&&(y=!0)}else w=dt(v.G[0],v.H[0],Re);if(Re.h)break;if(y||256>w){if(!y)if(v.nd)I[ot]=(v.qb|w<<8)>>>0;else{if(De(Re),y=dt(v.G[1],v.H[1],Re),De(Re),S=dt(v.G[2],v.H[2],Re),k=dt(v.G[3],v.H[3],Re),Re.h)break;I[ot]=(k<<24|y<<16|w<<8|S)>>>0}if(y=!1,++ot,++Ce>=J&&(Ce=0,++Se,ie!=null&&Se<=re&&!(Se%16)&&ie(C,Se),f!=null))for(;Oe<ot;)w=I[Oe++],f.X[(506832829*w&4294967295)>>>f.Mb]=w}else if(280>w){if(w=pt(w-256,Re),S=dt(v.G[4],v.H[4],Re),De(Re),S=Ot(J,S=pt(S,Re)),Re.h)break;if(ot-W<S||ue-ot<w)break e;for(k=0;k<w;++k)I[ot+k]=I[ot+k-S];for(ot+=w,Ce+=w;Ce>=J;)Ce-=J,++Se,ie!=null&&Se<=re&&!(Se%16)&&ie(C,Se);if(e(ot<=ue),Ce&p&&(v=ce(Ve,Ce,Se)),f!=null)for(;Oe<ot;)w=I[Oe++],f.X[(506832829*w&4294967295)>>>f.Mb]=w}else{if(!(w<nt))break e;for(y=w-280,e(f!=null);Oe<ot;)w=I[Oe++],f.X[(506832829*w&4294967295)>>>f.Mb]=w;w=ot,e(!(y>>>(S=f).Xa)),I[w]=S.X[y],y=!0}y||e(Re.h==be(Re))}if(C.Pb&&Re.h&&ot<ue)e(C.m.h),C.a=5,C.m=C.wd,C.$=C.xd,0<C.s.ua&&At(C.s.vb,C.s.Wa);else{if(Re.h)break e;ie!=null&&ie(C,Se>re?re:Se),C.a=0,C.$=ot-W}return 1}return C.a=3,0}function Lr(C){e(C!=null),C.vc=null,C.yc=null,C.Ya=null;var I=C.Wa;I!=null&&(I.X=null),C.vb=null,e(C!=null)}function wr(){var C=new Pr;return C==null?null:(C.a=0,C.xb=Jl,bn("Predictor","VP8LPredictors"),bn("Predictor","VP8LPredictors_C"),bn("PredictorAdd","VP8LPredictorsAdd"),bn("PredictorAdd","VP8LPredictorsAdd_C"),Vn=zr,rl=Tr,nl=ii,Eo=Jr,To=Wr,Yo=qr,Hl=yn,G.VP8LMapColor32b=ea,G.VP8LMapColor8b=Vl,C)}function Qn(C,I,W,J,ue){var re=1,ie=[C],Se=[I],Ce=J.m,Re=J.s,Ve=null,ot=0;e:for(;;){if(W)for(;re&&se(Ce,1);){var Oe=ie,Xe=Se,nt=J,h=1,f=nt.m,p=nt.gc[nt.ab],v=se(f,2);if(nt.Oc&1<<v)re=0;else{switch(nt.Oc|=1<<v,p.hc=v,p.Ea=Oe[0],p.nc=Xe[0],p.K=[null],++nt.ab,e(4>=nt.ab),v){case 0:case 1:p.b=se(f,3)+2,h=Qn(bt(p.Ea,p.b),bt(p.nc,p.b),0,nt,p.K),p.K=p.K[0];break;case 3:var y,w=se(f,8)+1,S=16<w?0:4<w?1:2<w?2:3;if(Oe[0]=bt(p.Ea,S),p.b=S,y=h=Qn(w,1,0,nt,p.K)){var k,M=w,j=p,Y=1<<(8>>j.b),ve=o(Y);if(ve==null)y=0;else{var Pe=j.K[0],_e=j.w;for(ve[0]=j.K[0][0],k=1;k<1*M;++k)ve[k]=Qt(Pe[_e+k],ve[k-1]);for(;k<4*Y;++k)ve[k]=0;j.K[0]=null,j.K[0]=ve,y=1}}h=y;break;case 2:break;default:e(0)}re=h}}if(ie=ie[0],Se=Se[0],re&&se(Ce,1)&&!(re=1<=(ot=se(Ce,4))&&11>=ot)){J.a=3;break e}var ye;if(ye=re)t:{var je,Fe,Ge,qe=J,Ye=ie,Ue=Se,yt=ot,Mt=W,Rt=qe.m,jt=qe.s,Lt=[null],Ut=1,Bt=0,Ct=Rh[yt];r:for(;;){if(Mt&&se(Rt,1)){var vt=se(Rt,3)+2,Xt=bt(Ye,vt),dr=bt(Ue,vt),rr=Xt*dr;if(!Qn(Xt,dr,0,qe,Lt))break r;for(Lt=Lt[0],jt.xc=vt,je=0;je<rr;++je){var cr=Lt[je]>>8&65535;Lt[je]=cr,cr>=Ut&&(Ut=cr+1)}}if(Rt.h)break r;for(Fe=0;5>Fe;++Fe){var $r=sl[Fe];!Fe&&0<yt&&($r+=1<<yt),Bt<$r&&(Bt=$r)}var si=s(Ut*Ct,ae),uo=Ut,ms=s(uo,Te);if(ms==null)var _i=null;else e(65536>=uo),_i=ms;var wi=o(Bt);if(_i==null||wi==null||si==null){qe.a=1;break r}var Oo=si;for(je=Ge=0;je<Ut;++je){var Rn=_i[je],Ro=Rn.G,sa=Rn.H,Ra=0,Gi=1,xi=0;for(Fe=0;5>Fe;++Fe){$r=sl[Fe],Ro[Fe]=Oo,sa[Fe]=Ge,!Fe&&0<yt&&($r+=1<<yt);i:{var Kc,rc=$r,Cf=qe,fl=wi,qm=Oo,gp=Ge,Xn=0,Ia=Cf.m,mp=se(Ia,1);if(i(fl,0,0,rc),mp){var vp=se(Ia,1)+1,Kd=se(Ia,1),Gd=se(Ia,Kd==0?1:8);fl[Gd]=1,vp==2&&(fl[Gd=se(Ia,8)]=1);var hl=1}else{var ri=o(19),Oi=se(Ia,4)+4;if(19<Oi){Cf.a=3;var Si=0;break i}for(Kc=0;Kc<Oi;++Kc)ri[fp[Kc]]=se(Ia,3);var kf=void 0,nc=void 0,Of=Cf,Yb=ri,zi=rc,Qd=fl,Mh=0,dl=Of.m,Na=8,Fs=s(128,ae);n:for(;ee(Fs,0,7,Yb,19);){if(se(dl,1)){var Lh=2+2*se(dl,3);if((kf=2+se(dl,Lh))>zi)break n}else kf=zi;for(nc=0;nc<zi&&kf--;){De(dl);var Zd=Fs[0+(127&pe(dl))];Ie(dl,dl.u+Zd.g);var Gc=Zd.value;if(16>Gc)Qd[nc++]=Gc,Gc!=0&&(Na=Gc);else{var Xm=Gc==16,yp=Gc-16,Ym=Ql[yp],bp=se(dl,Mu[yp])+Ym;if(nc+bp>zi)break n;for(var Km=Xm?Na:0;0<bp--;)Qd[nc++]=Km}}Mh=1;break n}Mh||(Of.a=3),hl=Mh}(hl=hl&&!Ia.h)&&(Xn=ee(qm,gp,8,fl,rc)),hl&&Xn!=0?Si=Xn:(Cf.a=3,Si=0)}if(Si==0)break r;if(Gi&&qd[Fe]==1&&(Gi=Oo[Ge].g==0),Ra+=Oo[Ge].g,Ge+=Si,3>=Fe){var Rf,Jd=wi[0];for(Rf=1;Rf<$r;++Rf)wi[Rf]>Jd&&(Jd=wi[Rf]);xi+=Jd}}if(Rn.nd=Gi,Rn.Qb=0,Gi&&(Rn.qb=(Ro[3][sa[3]+0].value<<24|Ro[1][sa[1]+0].value<<16|Ro[2][sa[2]+0].value)>>>0,Ra==0&&256>Ro[0][sa[0]+0].value&&(Rn.Qb=1,Rn.qb+=Ro[0][sa[0]+0].value<<8)),Rn.jc=!Rn.Qb&&6>xi,Rn.jc){var Dh,js=Rn;for(Dh=0;Dh<fs;++Dh){var ic=Dh,Ma=js.pd[ic],Bu=js.G[0][js.H[0]+ic];256<=Bu.value?(Ma.g=Bu.g+256,Ma.value=Bu.value):(Ma.g=0,Ma.value=0,ic>>=A(Bu,8,Ma),ic>>=A(js.G[1][js.H[1]+ic],16,Ma),ic>>=A(js.G[2][js.H[2]+ic],0,Ma),A(js.G[3][js.H[3]+ic],24,Ma))}}}jt.vc=Lt,jt.Wb=Ut,jt.Ya=_i,jt.yc=si,ye=1;break t}ye=0}if(!(re=ye)){J.a=3;break e}if(0<ot){if(Re.ua=1<<ot,!xe(Re.Wa,ot)){J.a=1,re=0;break e}}else Re.ua=0;var eA=J,tA=ie,Gm=Se,rA=eA.s,nA=rA.xc;if(eA.c=tA,eA.i=Gm,rA.md=bt(tA,nA),rA.wc=nA==0?-1:(1<<nA)-1,W){J.xb=ia;break e}if((Ve=o(ie*Se))==null){J.a=1,re=0;break e}re=(re=yi(J,Ve,0,ie,Se,Se,null))&&!Ce.h;break e}return re?(ue!=null?ue[0]=Ve:(e(Ve==null),e(W)),J.$=0,W||Lr(Re)):Lr(Re),re}function Is(C,I){var W=C.c*C.i,J=W+I+16*I;return e(C.c<=I),C.V=o(J),C.V==null?(C.Ta=null,C.Ua=0,C.a=1,0):(C.Ta=C.V,C.Ua=C.Ba+W+I,1)}function Nl(C,I){var W=C.C,J=I-W,ue=C.V,re=C.Ba+C.c*W;for(e(I<=C.l.o);0<J;){var ie=16<J?16:J,Se=C.l.ma,Ce=C.l.width,Re=Ce*ie,Ve=Se.ca,ot=Se.tb+Ce*W,Oe=C.Ta,Xe=C.Ua;Ur(C,ie,ue,re),xf(Oe,Xe,Ve,ot,Re),vr(Se,W,W+ie,Ve,ot,Ce),J-=ie,ue+=ie*C.c,W+=ie}e(W==I),C.C=C.Ma=I}function ma(){this.ub=this.yd=this.td=this.Rb=0}function Di(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ka(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function en(){this.Yb=(function(){var C=[];return(function I(W,J,ue){for(var re=ue[J],ie=0;ie<re&&(W.push(ue.length>J+1?[]:0),!(ue.length<J+1));ie++)I(W[ie],J+1,ue)})(C,0,[3,11]),C})()}function Ic(){this.jb=o(3),this.Wc=a([4,8],en),this.Xc=a([4,17],en)}function Nc(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function oi(){this.ld=this.La=this.dd=this.tc=0}function gr(){this.Na=this.la=0}function we(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function hr(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ga(){this.uc=this.M=this.Nb=0,this.wa=Array(new oi),this.Y=0,this.ya=Array(new hr),this.aa=0,this.l=new Mc}function $o(){this.y=o(16),this.f=o(8),this.ea=o(8)}function vf(){this.cb=this.a=0,this.sc="",this.m=new $,this.Od=new ma,this.Kc=new Di,this.ed=new Nc,this.Qa=new Ka,this.Ic=this.$c=this.Aa=0,this.D=new Ga,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,$),this.ia=0,this.pb=s(4,we),this.Pa=new Ic,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new $o),this.Hd=0,this.rb=Array(new gr),this.sb=0,this.wa=Array(new oi),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new hr),this.L=this.aa=0,this.gd=a([4,2],oi),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function fi(C,I){return 0>C?0:C>I?I:C}function Mc(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function he(){var C=new vf;return C!=null&&(C.a=0,C.sc="OK",C.cb=0,C.Xb=0,cl||(cl=qs)),C}function hi(C,I,W){return C.a==0&&(C.a=I,C.sc=W,C.cb=0),0}function Ml(C,I,W){return 3<=W&&C[I+0]==157&&C[I+1]==1&&C[I+2]==42}function zo(C,I){if(C==null)return 0;if(C.a=0,C.sc="OK",I==null)return hi(C,2,"null VP8Io passed to VP8GetHeaders()");var W=I.data,J=I.w,ue=I.ha;if(4>ue)return hi(C,7,"Truncated header.");var re=W[J+0]|W[J+1]<<8|W[J+2]<<16,ie=C.Od;if(ie.Rb=!(1&re),ie.td=re>>1&7,ie.yd=re>>4&1,ie.ub=re>>5,3<ie.td)return hi(C,3,"Incorrect keyframe parameters.");if(!ie.yd)return hi(C,4,"Frame not displayable.");J+=3,ue-=3;var Se=C.Kc;if(ie.Rb){if(7>ue)return hi(C,7,"cannot parse picture header");if(!Ml(W,J,ue))return hi(C,3,"Bad code word");Se.c=16383&(W[J+4]<<8|W[J+3]),Se.Td=W[J+4]>>6,Se.i=16383&(W[J+6]<<8|W[J+5]),Se.Ud=W[J+6]>>6,J+=7,ue-=7,C.za=Se.c+15>>4,C.Ub=Se.i+15>>4,I.width=Se.c,I.height=Se.i,I.Da=0,I.j=0,I.v=0,I.va=I.width,I.o=I.height,I.da=0,I.ib=I.width,I.hb=I.height,I.U=I.width,I.T=I.height,i((re=C.Pa).jb,0,255,re.jb.length),e((re=C.Qa)!=null),re.Cb=0,re.Bb=0,re.Fb=1,i(re.Zb,0,0,re.Zb.length),i(re.Lb,0,0,re.Lb)}if(ie.ub>ue)return hi(C,7,"bad partition length");te(re=C.m,W,J,ie.ub),J+=ie.ub,ue-=ie.ub,ie.Rb&&(Se.Ld=Le(re),Se.Kd=Le(re)),Se=C.Qa;var Ce,Re=C.Pa;if(e(re!=null),e(Se!=null),Se.Cb=Le(re),Se.Cb){if(Se.Bb=Le(re),Le(re)){for(Se.Fb=Le(re),Ce=0;4>Ce;++Ce)Se.Zb[Ce]=Le(re)?K(re,7):0;for(Ce=0;4>Ce;++Ce)Se.Lb[Ce]=Le(re)?K(re,6):0}if(Se.Bb)for(Ce=0;3>Ce;++Ce)Re.jb[Ce]=Le(re)?oe(re,8):255}else Se.Bb=0;if(re.Ka)return hi(C,3,"cannot parse segment header");if((Se=C.ed).zd=Le(re),Se.Tb=oe(re,6),Se.wb=oe(re,3),Se.Pc=Le(re),Se.Pc&&Le(re)){for(Re=0;4>Re;++Re)Le(re)&&(Se.vd[Re]=K(re,6));for(Re=0;4>Re;++Re)Le(re)&&(Se.od[Re]=K(re,6))}if(C.L=Se.Tb==0?0:Se.zd?1:2,re.Ka)return hi(C,3,"cannot parse filter header");var Ve=ue;if(ue=Ce=J,J=Ce+Ve,Se=Ve,C.Xb=(1<<oe(C.m,2))-1,Ve<3*(Re=C.Xb))W=7;else{for(Ce+=3*Re,Se-=3*Re,Ve=0;Ve<Re;++Ve){var ot=W[ue+0]|W[ue+1]<<8|W[ue+2]<<16;ot>Se&&(ot=Se),te(C.Jc[+Ve],W,Ce,ot),Ce+=ot,Se-=ot,ue+=3}te(C.Jc[+Re],W,Ce,Se),W=Ce<J?0:5}if(W!=0)return hi(C,W,"cannot parse partitions");for(W=oe(Ce=C.m,7),ue=Le(Ce)?K(Ce,4):0,J=Le(Ce)?K(Ce,4):0,Se=Le(Ce)?K(Ce,4):0,Re=Le(Ce)?K(Ce,4):0,Ce=Le(Ce)?K(Ce,4):0,Ve=C.Qa,ot=0;4>ot;++ot){if(Ve.Cb){var Oe=Ve.Zb[ot];Ve.Fb||(Oe+=W)}else{if(0<ot){C.pb[ot]=C.pb[0];continue}Oe=W}var Xe=C.pb[ot];Xe.Sc[0]=ll[fi(Oe+ue,127)],Xe.Sc[1]=Zl[fi(Oe+0,127)],Xe.Eb[0]=2*ll[fi(Oe+J,127)],Xe.Eb[1]=101581*Zl[fi(Oe+Se,127)]>>16,8>Xe.Eb[1]&&(Xe.Eb[1]=8),Xe.Qc[0]=ll[fi(Oe+Re,117)],Xe.Qc[1]=Zl[fi(Oe+Ce,127)],Xe.lc=Oe+Ce}if(!ie.Rb)return hi(C,4,"Not a key frame.");for(Le(re),ie=C.Pa,W=0;4>W;++W){for(ue=0;8>ue;++ue)for(J=0;3>J;++J)for(Se=0;11>Se;++Se)Re=We(re,dp[W][ue][J][Se])?oe(re,8):Yd[W][ue][J][Se],ie.Wc[W][ue].Yb[J][Se]=Re;for(ue=0;17>ue;++ue)ie.Xc[W][ue]=ie.Wc[W][Ih[ue]]}return C.kc=Le(re),C.kc&&(C.Bd=oe(re,8)),C.cb=1}function qs(C,I,W,J,ue,re,ie){var Se=I[ue].Yb[W];for(W=0;16>ue;++ue){if(!We(C,Se[W+0]))return ue;for(;!We(C,Se[W+1]);)if(Se=I[++ue].Yb[0],W=0,ue==16)return 16;var Ce=I[ue+1].Yb;if(We(C,Se[W+2])){var Re=C,Ve=0;if(We(Re,(Oe=Se)[(ot=W)+3]))if(We(Re,Oe[ot+6])){for(Se=0,ot=2*(Ve=We(Re,Oe[ot+8]))+(Oe=We(Re,Oe[ot+9+Ve])),Ve=0,Oe=Yc[ot];Oe[Se];++Se)Ve+=Ve+We(Re,Oe[Se]);Ve+=3+(8<<ot)}else We(Re,Oe[ot+7])?(Ve=7+2*We(Re,165),Ve+=We(Re,145)):Ve=5+We(Re,159);else Ve=We(Re,Oe[ot+4])?3+We(Re,Oe[ot+5]):2;Se=Ce[2]}else Ve=1,Se=Ce[1];Ce=ie+Tf[ue],0>(Re=C).b&&$e(Re);var ot,Oe=Re.b,Xe=(ot=Re.Ca>>1)-(Re.I>>Oe)>>31;--Re.b,Re.Ca+=Xe,Re.Ca|=1,Re.I-=(ot+1&Xe)<<Oe,re[Ce]=((Ve^Xe)-Xe)*J[(0<ue)+0]}return 16}function Ll(C){var I=C.rb[C.sb-1];I.la=0,I.Na=0,i(C.zc,0,0,C.zc.length),C.ja=0}function ns(C,I,W,J,ue){ue=C[I+W+32*J]+(ue>>3),C[I+W+32*J]=-256&ue?0>ue?0:255:ue}function di(C,I,W,J,ue,re){ns(C,I,0,W,J+ue),ns(C,I,1,W,J+re),ns(C,I,2,W,J-re),ns(C,I,3,W,J-ue)}function is(C){return(20091*C>>16)+C}function Lc(C,I,W,J){var ue,re=0,ie=o(16);for(ue=0;4>ue;++ue){var Se=C[I+0]+C[I+8],Ce=C[I+0]-C[I+8],Re=(35468*C[I+4]>>16)-is(C[I+12]),Ve=is(C[I+4])+(35468*C[I+12]>>16);ie[re+0]=Se+Ve,ie[re+1]=Ce+Re,ie[re+2]=Ce-Re,ie[re+3]=Se-Ve,re+=4,I++}for(ue=re=0;4>ue;++ue)Se=(C=ie[re+0]+4)+ie[re+8],Ce=C-ie[re+8],Re=(35468*ie[re+4]>>16)-is(ie[re+12]),ns(W,J,0,0,Se+(Ve=is(ie[re+4])+(35468*ie[re+12]>>16))),ns(W,J,1,0,Ce+Re),ns(W,J,2,0,Ce-Re),ns(W,J,3,0,Se-Ve),re++,J+=32}function bo(C,I,W,J){var ue=C[I+0]+4,re=35468*C[I+4]>>16,ie=is(C[I+4]),Se=35468*C[I+1]>>16;di(W,J,0,ue+ie,C=is(C[I+1]),Se),di(W,J,1,ue+re,C,Se),di(W,J,2,ue-re,C,Se),di(W,J,3,ue-ie,C,Se)}function Dn(C,I,W,J,ue){Lc(C,I,W,J),ue&&Lc(C,I+16,W,J+4)}function Xs(C,I,W,J){ql(C,I+0,W,J,1),ql(C,I+32,W,J+128,1)}function Dl(C,I,W,J){var ue;for(C=C[I+0]+4,ue=0;4>ue;++ue)for(I=0;4>I;++I)ns(W,J,I,ue,C)}function ln(C,I,W,J){C[I+0]&&cn(C,I+0,W,J),C[I+16]&&cn(C,I+16,W,J+4),C[I+32]&&cn(C,I+32,W,J+128),C[I+48]&&cn(C,I+48,W,J+128+4)}function va(C,I,W,J){var ue,re=o(16);for(ue=0;4>ue;++ue){var ie=C[I+0+ue]+C[I+12+ue],Se=C[I+4+ue]+C[I+8+ue],Ce=C[I+4+ue]-C[I+8+ue],Re=C[I+0+ue]-C[I+12+ue];re[0+ue]=ie+Se,re[8+ue]=ie-Se,re[4+ue]=Re+Ce,re[12+ue]=Re-Ce}for(ue=0;4>ue;++ue)ie=(C=re[0+4*ue]+3)+re[3+4*ue],Se=re[1+4*ue]+re[2+4*ue],Ce=re[1+4*ue]-re[2+4*ue],Re=C-re[3+4*ue],W[J+0]=ie+Se>>3,W[J+16]=Re+Ce>>3,W[J+32]=ie-Se>>3,W[J+48]=Re-Ce>>3,J+=64}function Qa(C,I,W){var J,ue=I-32,re=ao,ie=255-C[ue-1];for(J=0;J<W;++J){var Se,Ce=re,Re=ie+C[I-1];for(Se=0;Se<W;++Se)C[I+Se]=Ce[Re+C[ue+Se]];I+=32}}function Dc(C,I){Qa(C,I,4)}function yf(C,I){Qa(C,I,8)}function bf(C,I){Qa(C,I,16)}function Bc(C,I){var W;for(W=0;16>W;++W)n(C,I+32*W,C,I-32,16)}function dn(C,I){var W;for(W=16;0<W;--W)i(C,I,C[I-1],16),I+=32}function Yi(C,I,W){var J;for(J=0;16>J;++J)i(I,W+32*J,C,16)}function Ns(C,I){var W,J=16;for(W=0;16>W;++W)J+=C[I-1+32*W]+C[I+W-32];Yi(J>>5,C,I)}function _o(C,I){var W,J=8;for(W=0;16>W;++W)J+=C[I-1+32*W];Yi(J>>4,C,I)}function os(C,I){var W,J=8;for(W=0;16>W;++W)J+=C[I+W-32];Yi(J>>4,C,I)}function Bl(C,I){Yi(128,C,I)}function br(C,I,W){return C+2*I+W+2>>2}function ss(C,I){var W,J=I-32;for(J=new Uint8Array([br(C[J-1],C[J+0],C[J+1]),br(C[J+0],C[J+1],C[J+2]),br(C[J+1],C[J+2],C[J+3]),br(C[J+2],C[J+3],C[J+4])]),W=0;4>W;++W)n(C,I+32*W,J,0,J.length)}function Pu(C,I){var W=C[I-1],J=C[I-1+32],ue=C[I-1+64],re=C[I-1+96];ft(C,I+0,16843009*br(C[I-1-32],W,J)),ft(C,I+32,16843009*br(W,J,ue)),ft(C,I+64,16843009*br(J,ue,re)),ft(C,I+96,16843009*br(ue,re,re))}function _f(C,I){var W,J=4;for(W=0;4>W;++W)J+=C[I+W-32]+C[I-1+32*W];for(J>>=3,W=0;4>W;++W)i(C,I+32*W,J,4)}function Wo(C,I){var W=C[I-1+0],J=C[I-1+32],ue=C[I-1+64],re=C[I-1-32],ie=C[I+0-32],Se=C[I+1-32],Ce=C[I+2-32],Re=C[I+3-32];C[I+0+96]=br(J,ue,C[I-1+96]),C[I+1+96]=C[I+0+64]=br(W,J,ue),C[I+2+96]=C[I+1+64]=C[I+0+32]=br(re,W,J),C[I+3+96]=C[I+2+64]=C[I+1+32]=C[I+0+0]=br(ie,re,W),C[I+3+64]=C[I+2+32]=C[I+1+0]=br(Se,ie,re),C[I+3+32]=C[I+2+0]=br(Ce,Se,ie),C[I+3+0]=br(Re,Ce,Se)}function ya(C,I){var W=C[I+1-32],J=C[I+2-32],ue=C[I+3-32],re=C[I+4-32],ie=C[I+5-32],Se=C[I+6-32],Ce=C[I+7-32];C[I+0+0]=br(C[I+0-32],W,J),C[I+1+0]=C[I+0+32]=br(W,J,ue),C[I+2+0]=C[I+1+32]=C[I+0+64]=br(J,ue,re),C[I+3+0]=C[I+2+32]=C[I+1+64]=C[I+0+96]=br(ue,re,ie),C[I+3+32]=C[I+2+64]=C[I+1+96]=br(re,ie,Se),C[I+3+64]=C[I+2+96]=br(ie,Se,Ce),C[I+3+96]=br(Se,Ce,Ce)}function Cu(C,I){var W=C[I-1+0],J=C[I-1+32],ue=C[I-1+64],re=C[I-1-32],ie=C[I+0-32],Se=C[I+1-32],Ce=C[I+2-32],Re=C[I+3-32];C[I+0+0]=C[I+1+64]=re+ie+1>>1,C[I+1+0]=C[I+2+64]=ie+Se+1>>1,C[I+2+0]=C[I+3+64]=Se+Ce+1>>1,C[I+3+0]=Ce+Re+1>>1,C[I+0+96]=br(ue,J,W),C[I+0+64]=br(J,W,re),C[I+0+32]=C[I+1+96]=br(W,re,ie),C[I+1+32]=C[I+2+96]=br(re,ie,Se),C[I+2+32]=C[I+3+96]=br(ie,Se,Ce),C[I+3+32]=br(Se,Ce,Re)}function Fc(C,I){var W=C[I+0-32],J=C[I+1-32],ue=C[I+2-32],re=C[I+3-32],ie=C[I+4-32],Se=C[I+5-32],Ce=C[I+6-32],Re=C[I+7-32];C[I+0+0]=W+J+1>>1,C[I+1+0]=C[I+0+64]=J+ue+1>>1,C[I+2+0]=C[I+1+64]=ue+re+1>>1,C[I+3+0]=C[I+2+64]=re+ie+1>>1,C[I+0+32]=br(W,J,ue),C[I+1+32]=C[I+0+96]=br(J,ue,re),C[I+2+32]=C[I+1+96]=br(ue,re,ie),C[I+3+32]=C[I+2+96]=br(re,ie,Se),C[I+3+64]=br(ie,Se,Ce),C[I+3+96]=br(Se,Ce,Re)}function ba(C,I){var W=C[I-1+0],J=C[I-1+32],ue=C[I-1+64],re=C[I-1+96];C[I+0+0]=W+J+1>>1,C[I+2+0]=C[I+0+32]=J+ue+1>>1,C[I+2+32]=C[I+0+64]=ue+re+1>>1,C[I+1+0]=br(W,J,ue),C[I+3+0]=C[I+1+32]=br(J,ue,re),C[I+3+32]=C[I+1+64]=br(ue,re,re),C[I+3+64]=C[I+2+64]=C[I+0+96]=C[I+1+96]=C[I+2+96]=C[I+3+96]=re}function Fl(C,I){var W=C[I-1+0],J=C[I-1+32],ue=C[I-1+64],re=C[I-1+96],ie=C[I-1-32],Se=C[I+0-32],Ce=C[I+1-32],Re=C[I+2-32];C[I+0+0]=C[I+2+32]=W+ie+1>>1,C[I+0+32]=C[I+2+64]=J+W+1>>1,C[I+0+64]=C[I+2+96]=ue+J+1>>1,C[I+0+96]=re+ue+1>>1,C[I+3+0]=br(Se,Ce,Re),C[I+2+0]=br(ie,Se,Ce),C[I+1+0]=C[I+3+32]=br(W,ie,Se),C[I+1+32]=C[I+3+64]=br(J,W,ie),C[I+1+64]=C[I+3+96]=br(ue,J,W),C[I+1+96]=br(re,ue,J)}function Ms(C,I){var W;for(W=0;8>W;++W)n(C,I+32*W,C,I-32,8)}function Za(C,I){var W;for(W=0;8>W;++W)i(C,I,C[I-1],8),I+=32}function io(C,I,W){var J;for(J=0;8>J;++J)i(I,W+32*J,C,8)}function jl(C,I){var W,J=8;for(W=0;8>W;++W)J+=C[I+W-32]+C[I-1+32*W];io(J>>4,C,I)}function ku(C,I){var W,J=4;for(W=0;8>W;++W)J+=C[I+W-32];io(J>>3,C,I)}function Ou(C,I){var W,J=4;for(W=0;8>W;++W)J+=C[I-1+32*W];io(J>>3,C,I)}function jc(C,I){io(128,C,I)}function as(C,I,W){var J=C[I-W],ue=C[I+0],re=3*(ue-J)+ra[1020+C[I-2*W]-C[I+W]],ie=Hc[112+(re+4>>3)];C[I-W]=ao[255+J+Hc[112+(re+3>>3)]],C[I+0]=ao[255+ue-ie]}function Zn(C,I,W,J){var ue=C[I+0],re=C[I+W];return Ko[255+C[I-2*W]-C[I-W]]>J||Ko[255+re-ue]>J}function Vo(C,I,W,J){return 4*Ko[255+C[I-W]-C[I+0]]+Ko[255+C[I-2*W]-C[I+W]]<=J}function Tn(C,I,W,J,ue){var re=C[I-3*W],ie=C[I-2*W],Se=C[I-W],Ce=C[I+0],Re=C[I+W],Ve=C[I+2*W],ot=C[I+3*W];return 4*Ko[255+Se-Ce]+Ko[255+ie-Re]>J?0:Ko[255+C[I-4*W]-re]<=ue&&Ko[255+re-ie]<=ue&&Ko[255+ie-Se]<=ue&&Ko[255+ot-Ve]<=ue&&Ko[255+Ve-Re]<=ue&&Ko[255+Re-Ce]<=ue}function Ls(C,I,W,J){var ue=2*J+1;for(J=0;16>J;++J)Vo(C,I+J,W,ue)&&as(C,I+J,W)}function _a(C,I,W,J){var ue=2*J+1;for(J=0;16>J;++J)Vo(C,I+J*W,1,ue)&&as(C,I+J*W,1)}function Ja(C,I,W,J){var ue;for(ue=3;0<ue;--ue)Ls(C,I+=4*W,W,J)}function Ul(C,I,W,J){var ue;for(ue=3;0<ue;--ue)_a(C,I+=4,W,J)}function ls(C,I,W,J,ue,re,ie,Se){for(re=2*re+1;0<ue--;){if(Tn(C,I,W,re,ie))if(Zn(C,I,W,Se))as(C,I,W);else{var Ce=C,Re=I,Ve=W,ot=Ce[Re-2*Ve],Oe=Ce[Re-Ve],Xe=Ce[Re+0],nt=Ce[Re+Ve],h=Ce[Re+2*Ve],f=27*(v=ra[1020+3*(Xe-Oe)+ra[1020+ot-nt]])+63>>7,p=18*v+63>>7,v=9*v+63>>7;Ce[Re-3*Ve]=ao[255+Ce[Re-3*Ve]+v],Ce[Re-2*Ve]=ao[255+ot+p],Ce[Re-Ve]=ao[255+Oe+f],Ce[Re+0]=ao[255+Xe-f],Ce[Re+Ve]=ao[255+nt-p],Ce[Re+2*Ve]=ao[255+h-v]}I+=J}}function Ys(C,I,W,J,ue,re,ie,Se){for(re=2*re+1;0<ue--;){if(Tn(C,I,W,re,ie))if(Zn(C,I,W,Se))as(C,I,W);else{var Ce=C,Re=I,Ve=W,ot=Ce[Re-Ve],Oe=Ce[Re+0],Xe=Ce[Re+Ve],nt=Hc[112+(4+(h=3*(Oe-ot))>>3)],h=Hc[112+(h+3>>3)],f=nt+1>>1;Ce[Re-2*Ve]=ao[255+Ce[Re-2*Ve]+f],Ce[Re-Ve]=ao[255+ot+h],Ce[Re+0]=ao[255+Oe-nt],Ce[Re+Ve]=ao[255+Xe-f]}I+=J}}function Bi(C,I,W,J,ue,re){ls(C,I,W,1,16,J,ue,re)}function oo(C,I,W,J,ue,re){ls(C,I,1,W,16,J,ue,re)}function cs(C,I,W,J,ue,re){var ie;for(ie=3;0<ie;--ie)Ys(C,I+=4*W,W,1,16,J,ue,re)}function F(C,I,W,J,ue,re){var ie;for(ie=3;0<ie;--ie)Ys(C,I+=4,1,W,16,J,ue,re)}function fe(C,I,W,J,ue,re,ie,Se){ls(C,I,ue,1,8,re,ie,Se),ls(W,J,ue,1,8,re,ie,Se)}function Ne(C,I,W,J,ue,re,ie,Se){ls(C,I,1,ue,8,re,ie,Se),ls(W,J,1,ue,8,re,ie,Se)}function ze(C,I,W,J,ue,re,ie,Se){Ys(C,I+4*ue,ue,1,8,re,ie,Se),Ys(W,J+4*ue,ue,1,8,re,ie,Se)}function Ze(C,I,W,J,ue,re,ie,Se){Ys(C,I+4,1,ue,8,re,ie,Se),Ys(W,J+4,1,ue,8,re,ie,Se)}function gt(){this.ba=new Dr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new nn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function _t(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ht(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function ar(){this.ua=0,this.Wa=new Vt,this.vb=new Vt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Te,this.yc=new ae}function Pr(){this.xb=this.a=0,this.l=new Mc,this.ca=new Dr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new ne,this.Pb=0,this.wd=new ne,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new ar,this.ab=0,this.gc=s(4,Ht),this.Oc=0}function Nr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Mc,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function on(C,I,W,J,ue,re,ie){for(C=C==null?0:C[I+0],I=0;I<ie;++I)ue[re+I]=C+W[J+I]&255,C=ue[re+I]}function zn(C,I,W,J,ue,re,ie){var Se;if(C==null)on(null,null,W,J,ue,re,ie);else for(Se=0;Se<ie;++Se)ue[re+Se]=C[I+Se]+W[J+Se]&255}function Ai(C,I,W,J,ue,re,ie){if(C==null)on(null,null,W,J,ue,re,ie);else{var Se,Ce=C[I+0],Re=Ce,Ve=Ce;for(Se=0;Se<ie;++Se)Re=Ve+(Ce=C[I+Se])-Re,Ve=W[J+Se]+(-256&Re?0>Re?0:255:Re)&255,Re=Ce,ue[re+Se]=Ve}}function Pn(C,I,W,J){var ue=I.width,re=I.o;if(e(C!=null&&I!=null),0>W||0>=J||W+J>re)return null;if(!C.Cc){if(C.ga==null){var ie;if(C.ga=new Nr,(ie=C.ga==null)||(ie=I.width*I.o,e(C.Gb.length==0),C.Gb=o(ie),C.Uc=0,C.Gb==null?ie=0:(C.mb=C.Gb,C.nb=C.Uc,C.rc=null,ie=1),ie=!ie),!ie){ie=C.ga;var Se=C.Fa,Ce=C.P,Re=C.qc,Ve=C.mb,ot=C.nb,Oe=Ce+1,Xe=Re-1,nt=ie.l;if(e(Se!=null&&Ve!=null&&I!=null),ji[0]=null,ji[1]=on,ji[2]=zn,ji[3]=Ai,ie.ca=Ve,ie.tb=ot,ie.c=I.width,ie.i=I.height,e(0<ie.c&&0<ie.i),1>=Re)I=0;else if(ie.$a=3&Se[Ce+0],ie.Z=Se[Ce+0]>>2&3,ie.Lc=Se[Ce+0]>>4&3,Ce=Se[Ce+0]>>6&3,0>ie.$a||1<ie.$a||4<=ie.Z||1<ie.Lc||Ce)I=0;else if(nt.put=pr,nt.ac=no,nt.bc=Pi,nt.ma=ie,nt.width=I.width,nt.height=I.height,nt.Da=I.Da,nt.v=I.v,nt.va=I.va,nt.j=I.j,nt.o=I.o,ie.$a)e:{e(ie.$a==1),I=wr();t:for(;;){if(I==null){I=0;break e}if(e(ie!=null),ie.mc=I,I.c=ie.c,I.i=ie.i,I.l=ie.l,I.l.ma=ie,I.l.width=ie.c,I.l.height=ie.i,I.a=0,ge(I.m,Se,Oe,Xe),!Qn(ie.c,ie.i,1,I,null)||(I.ab==1&&I.gc[0].hc==3&&_n(I.s)?(ie.ic=1,Se=I.c*I.i,I.Ta=null,I.Ua=0,I.V=o(Se),I.Ba=0,I.V==null?(I.a=1,I=0):I=1):(ie.ic=0,I=Is(I,ie.c)),!I))break t;I=1;break e}ie.mc=null,I=0}else I=Xe>=ie.c*ie.i;ie=!I}if(ie)return null;C.ga.Lc!=1?C.Ga=0:J=re-W}e(C.ga!=null),e(W+J<=re);e:{if(I=(Se=C.ga).c,re=Se.l.o,Se.$a==0){if(Oe=C.rc,Xe=C.Vc,nt=C.Fa,Ce=C.P+1+W*I,Re=C.mb,Ve=C.nb+W*I,e(Ce<=C.P+C.qc),Se.Z!=0)for(e(ji[Se.Z]!=null),ie=0;ie<J;++ie)ji[Se.Z](Oe,Xe,nt,Ce,Re,Ve,I),Oe=Re,Xe=Ve,Ve+=I,Ce+=I;else for(ie=0;ie<J;++ie)n(Re,Ve,nt,Ce,I),Oe=Re,Xe=Ve,Ve+=I,Ce+=I;C.rc=Oe,C.Vc=Xe}else{if(e(Se.mc!=null),I=W+J,e((ie=Se.mc)!=null),e(I<=ie.i),ie.C>=I)I=1;else if(Se.ic||wo(),Se.ic){Se=ie.V,Oe=ie.Ba,Xe=ie.c;var h=ie.i,f=(nt=1,Ce=ie.$/Xe,Re=ie.$%Xe,Ve=ie.m,ot=ie.s,ie.$),p=Xe*h,v=Xe*I,y=ot.wc,w=f<v?ce(ot,Re,Ce):null;e(f<=p),e(I<=h),e(_n(ot));t:for(;;){for(;!Ve.h&&f<v;){if(Re&y||(w=ce(ot,Re,Ce)),e(w!=null),De(Ve),256>(h=dt(w.G[0],w.H[0],Ve)))Se[Oe+f]=h,++f,++Re>=Xe&&(Re=0,++Ce<=I&&!(Ce%16)&&yr(ie,Ce));else{if(!(280>h)){nt=0;break t}h=pt(h-256,Ve);var S,k=dt(w.G[4],w.H[4],Ve);if(De(Ve),!(f>=(k=Ot(Xe,k=pt(k,Ve)))&&p-f>=h)){nt=0;break t}for(S=0;S<h;++S)Se[Oe+f+S]=Se[Oe+f+S-k];for(f+=h,Re+=h;Re>=Xe;)Re-=Xe,++Ce<=I&&!(Ce%16)&&yr(ie,Ce);f<v&&Re&y&&(w=ce(ot,Re,Ce))}e(Ve.h==be(Ve))}yr(ie,Ce>I?I:Ce);break t}!nt||Ve.h&&f<p?(nt=0,ie.a=Ve.h?5:3):ie.$=f,I=nt}else I=yi(ie,ie.V,ie.Ba,ie.c,ie.i,I,Nl);if(!I){J=0;break e}}W+J>=re&&(C.Cc=1),J=1}if(!J)return null;if(C.Cc&&((J=C.ga)!=null&&(J.mc=null),C.ga=null,0<C.Ga))return alert("todo:WebPDequantizeLevels"),null}return C.nb+W*ue}function bi(C,I,W,J,ue,re){for(;0<ue--;){var ie,Se=C,Ce=I+(W?1:0),Re=C,Ve=I+(W?0:3);for(ie=0;ie<J;++ie){var ot=Re[Ve+4*ie];ot!=255&&(ot*=32897,Se[Ce+4*ie+0]=Se[Ce+4*ie+0]*ot>>23,Se[Ce+4*ie+1]=Se[Ce+4*ie+1]*ot>>23,Se[Ce+4*ie+2]=Se[Ce+4*ie+2]*ot>>23)}I+=re}}function Jn(C,I,W,J,ue){for(;0<J--;){var re;for(re=0;re<W;++re){var ie=C[I+2*re+0],Se=15&(Re=C[I+2*re+1]),Ce=4369*Se,Re=(240&Re|Re>>4)*Ce>>16;C[I+2*re+0]=(240&ie|ie>>4)*Ce>>16&240|(15&ie|ie<<4)*Ce>>16>>4&15,C[I+2*re+1]=240&Re|Se}I+=ue}}function Fi(C,I,W,J,ue,re,ie,Se){var Ce,Re,Ve=255;for(Re=0;Re<ue;++Re){for(Ce=0;Ce<J;++Ce){var ot=C[I+Ce];re[ie+4*Ce]=ot,Ve&=ot}I+=W,ie+=Se}return Ve!=255}function wa(C,I,W,J,ue){var re;for(re=0;re<ue;++re)W[J+re]=C[I+re]>>8}function wo(){Yl=bi,Th=Jn,ol=Fi,xf=wa}function xa(C,I,W){G[C]=function(J,ue,re,ie,Se,Ce,Re,Ve,ot,Oe,Xe,nt,h,f,p,v,y){var w,S=y-1>>1,k=Se[Ce+0]|Re[Ve+0]<<16,M=ot[Oe+0]|Xe[nt+0]<<16;e(J!=null);var j=3*k+M+131074>>2;for(I(J[ue+0],255&j,j>>16,h,f),re!=null&&(j=3*M+k+131074>>2,I(re[ie+0],255&j,j>>16,p,v)),w=1;w<=S;++w){var Y=Se[Ce+w]|Re[Ve+w]<<16,ve=ot[Oe+w]|Xe[nt+w]<<16,Pe=k+Y+M+ve+524296,_e=Pe+2*(Y+M)>>3;j=_e+k>>1,k=(Pe=Pe+2*(k+ve)>>3)+Y>>1,I(J[ue+2*w-1],255&j,j>>16,h,f+(2*w-1)*W),I(J[ue+2*w-0],255&k,k>>16,h,f+(2*w-0)*W),re!=null&&(j=Pe+M>>1,k=_e+ve>>1,I(re[ie+2*w-1],255&j,j>>16,p,v+(2*w-1)*W),I(re[ie+2*w+0],255&k,k>>16,p,v+(2*w+0)*W)),k=Y,M=ve}1&y||(j=3*k+M+131074>>2,I(J[ue+y-1],255&j,j>>16,h,f+(y-1)*W),re!=null&&(j=3*M+k+131074>>2,I(re[ie+y-1],255&j,j>>16,p,v+(y-1)*W)))}}function $l(){sn[Sf]=Ap,sn[Oa]=As,sn[na]=pp,sn[qc]=Ui,sn[Nu]=ec,sn[Sn]=Du,sn[Ef]=Pf,sn[Xc]=As,sn[Kl]=Ui,sn[hs]=ec,sn[Gl]=Du}function Uc(C){return C&-16384?0>C?0:255:C>>ul}function us(C,I){return Uc((19077*C>>8)+(26149*I>>8)-14234)}function zl(C,I,W){return Uc((19077*C>>8)-(6419*I>>8)-(13320*W>>8)+8708)}function Ks(C,I){return Uc((19077*C>>8)+(33050*I>>8)-17685)}function Sa(C,I,W,J,ue){J[ue+0]=us(C,W),J[ue+1]=zl(C,I,W),J[ue+2]=Ks(C,I)}function ei(C,I,W,J,ue){J[ue+0]=Ks(C,I),J[ue+1]=zl(C,I,W),J[ue+2]=us(C,W)}function Wl(C,I,W,J,ue){var re=zl(C,I,W);I=re<<3&224|Ks(C,I)>>3,J[ue+0]=248&us(C,W)|re>>5,J[ue+1]=I}function Ea(C,I,W,J,ue){var re=240&Ks(C,I)|15;J[ue+0]=240&us(C,W)|zl(C,I,W)>>4,J[ue+1]=re}function $c(C,I,W,J,ue){J[ue+0]=255,Sa(C,I,W,J,ue+1)}function Ru(C,I,W,J,ue){ei(C,I,W,J,ue),J[ue+3]=255}function Ki(C,I,W,J,ue){Sa(C,I,W,J,ue),J[ue+3]=255}function Ds(C,I,W){G[C]=function(J,ue,re,ie,Se,Ce,Re,Ve,ot){for(var Oe=Ve+(-2&ot)*W;Ve!=Oe;)I(J[ue+0],re[ie+0],Se[Ce+0],Re,Ve),I(J[ue+1],re[ie+0],Se[Ce+0],Re,Ve+W),ue+=2,++ie,++Ce,Ve+=2*W;1&ot&&I(J[ue+0],re[ie+0],Se[Ce+0],Re,Ve)}}function Gs(C,I,W){return W==0?C==0?I==0?6:5:I==0?4:0:W}function zc(C,I,W,J,ue){switch(C>>>30){case 3:ql(I,W,J,ue,0);break;case 2:Bn(I,W,J,ue);break;case 1:cn(I,W,J,ue)}}function Ho(C,I){var W,J,ue=I.M,re=I.Nb,ie=C.oc,Se=C.pc+40,Ce=C.oc,Re=C.pc+584,Ve=C.oc,ot=C.pc+600;for(W=0;16>W;++W)ie[Se+32*W-1]=129;for(W=0;8>W;++W)Ce[Re+32*W-1]=129,Ve[ot+32*W-1]=129;for(0<ue?ie[Se-1-32]=Ce[Re-1-32]=Ve[ot-1-32]=129:(i(ie,Se-32-1,127,21),i(Ce,Re-32-1,127,9),i(Ve,ot-32-1,127,9)),J=0;J<C.za;++J){var Oe=I.ya[I.aa+J];if(0<J){for(W=-1;16>W;++W)n(ie,Se+32*W-4,ie,Se+32*W+12,4);for(W=-1;8>W;++W)n(Ce,Re+32*W-4,Ce,Re+32*W+4,4),n(Ve,ot+32*W-4,Ve,ot+32*W+4,4)}var Xe=C.Gd,nt=C.Hd+J,h=Oe.ad,f=Oe.Hc;if(0<ue&&(n(ie,Se-32,Xe[nt].y,0,16),n(Ce,Re-32,Xe[nt].f,0,8),n(Ve,ot-32,Xe[nt].ea,0,8)),Oe.Za){var p=ie,v=Se-32+16;for(0<ue&&(J>=C.za-1?i(p,v,Xe[nt].y[15],4):n(p,v,Xe[nt+1].y,0,4)),W=0;4>W;W++)p[v+128+W]=p[v+256+W]=p[v+384+W]=p[v+0+W];for(W=0;16>W;++W,f<<=2)p=ie,v=Se+tr[W],ds[Oe.Ob[W]](p,v),zc(f,h,16*+W,p,v)}else if(p=Gs(J,ue,Oe.Ob[0]),lo[p](ie,Se),f!=0)for(W=0;16>W;++W,f<<=2)zc(f,h,16*+W,ie,Se+tr[W]);for(W=Oe.Gc,p=Gs(J,ue,Oe.Dd),Co[p](Ce,Re),Co[p](Ve,ot),f=h,p=Ce,v=Re,255&(Oe=0|W)&&(170&Oe?Po(f,256,p,v):An(f,256,p,v)),Oe=Ve,f=ot,255&(W>>=8)&&(170&W?Po(h,320,Oe,f):An(h,320,Oe,f)),ue<C.Ub-1&&(n(Xe[nt].y,0,ie,Se+480,16),n(Xe[nt].f,0,Ce,Re+224,8),n(Xe[nt].ea,0,Ve,ot+224,8)),W=8*re*C.B,Xe=C.sa,nt=C.ta+16*J+16*re*C.R,h=C.qa,Oe=C.ra+8*J+W,f=C.Ha,p=C.Ia+8*J+W,W=0;16>W;++W)n(Xe,nt+W*C.R,ie,Se+32*W,16);for(W=0;8>W;++W)n(h,Oe+W*C.B,Ce,Re+32*W,8),n(f,p+W*C.B,Ve,ot+32*W,8)}}function Qs(C,I,W,J,ue,re,ie,Se,Ce){var Re=[0],Ve=[0],ot=0,Oe=Ce!=null?Ce.kd:0,Xe=Ce??new _t;if(C==null||12>W)return 7;Xe.data=C,Xe.w=I,Xe.ha=W,I=[I],W=[W],Xe.gb=[Xe.gb];e:{var nt=I,h=W,f=Xe.gb;if(e(C!=null),e(h!=null),e(f!=null),f[0]=0,12<=h[0]&&!r(C,nt[0],"RIFF")){if(r(C,nt[0]+8,"WEBP")){f=3;break e}var p=Tt(C,nt[0]+4);if(12>p||4294967286<p){f=3;break e}if(Oe&&p>h[0]-8){f=7;break e}f[0]=p,nt[0]+=12,h[0]-=12}f=0}if(f!=0)return f;for(p=0<Xe.gb[0],W=W[0];;){e:{var v=C;h=I,f=W;var y=Re,w=Ve,S=nt=[0];if((j=ot=[ot])[0]=0,8>f[0])f=7;else{if(!r(v,h[0],"VP8X")){if(Tt(v,h[0]+4)!=10){f=3;break e}if(18>f[0]){f=7;break e}var k=Tt(v,h[0]+8),M=1+xt(v,h[0]+12);if(2147483648<=M*(v=1+xt(v,h[0]+15))){f=3;break e}S!=null&&(S[0]=k),y!=null&&(y[0]=M),w!=null&&(w[0]=v),h[0]+=18,f[0]-=18,j[0]=1}f=0}}if(ot=ot[0],nt=nt[0],f!=0)return f;if(h=!!(2&nt),!p&&ot)return 3;if(re!=null&&(re[0]=!!(16&nt)),ie!=null&&(ie[0]=h),Se!=null&&(Se[0]=0),ie=Re[0],nt=Ve[0],ot&&h&&Ce==null){f=0;break}if(4>W){f=7;break}if(p&&ot||!p&&!ot&&!r(C,I[0],"ALPH")){W=[W],Xe.na=[Xe.na],Xe.P=[Xe.P],Xe.Sa=[Xe.Sa];e:{k=C,f=I,p=W;var j=Xe.gb;y=Xe.na,w=Xe.P,S=Xe.Sa,M=22,e(k!=null),e(p!=null),v=f[0];var Y=p[0];for(e(y!=null),e(S!=null),y[0]=null,w[0]=null,S[0]=0;;){if(f[0]=v,p[0]=Y,8>Y){f=7;break e}var ve=Tt(k,v+4);if(4294967286<ve){f=3;break e}var Pe=8+ve+1&-2;if(M+=Pe,0<j&&M>j){f=3;break e}if(!r(k,v,"VP8 ")||!r(k,v,"VP8L")){f=0;break e}if(Y[0]<Pe){f=7;break e}r(k,v,"ALPH")||(y[0]=k,w[0]=v+8,S[0]=ve),v+=Pe,Y-=Pe}}if(W=W[0],Xe.na=Xe.na[0],Xe.P=Xe.P[0],Xe.Sa=Xe.Sa[0],f!=0)break}W=[W],Xe.Ja=[Xe.Ja],Xe.xa=[Xe.xa];e:if(j=C,f=I,p=W,y=Xe.gb[0],w=Xe.Ja,S=Xe.xa,k=f[0],v=!r(j,k,"VP8 "),M=!r(j,k,"VP8L"),e(j!=null),e(p!=null),e(w!=null),e(S!=null),8>p[0])f=7;else{if(v||M){if(j=Tt(j,k+4),12<=y&&j>y-12){f=3;break e}if(Oe&&j>p[0]-8){f=7;break e}w[0]=j,f[0]+=8,p[0]-=8,S[0]=M}else S[0]=5<=p[0]&&j[k+0]==47&&!(j[k+4]>>5),w[0]=p[0];f=0}if(W=W[0],Xe.Ja=Xe.Ja[0],Xe.xa=Xe.xa[0],I=I[0],f!=0)break;if(4294967286<Xe.Ja)return 3;if(Se==null||h||(Se[0]=Xe.xa?2:1),ie=[ie],nt=[nt],Xe.xa){if(5>W){f=7;break}Se=ie,Oe=nt,h=re,C==null||5>W?C=0:5<=W&&C[I+0]==47&&!(C[I+4]>>5)?(p=[0],j=[0],y=[0],ge(w=new ne,C,I,W),lt(w,p,j,y)?(Se!=null&&(Se[0]=p[0]),Oe!=null&&(Oe[0]=j[0]),h!=null&&(h[0]=y[0]),C=1):C=0):C=0}else{if(10>W){f=7;break}Se=nt,C==null||10>W||!Ml(C,I+3,W-3)?C=0:(Oe=C[I+0]|C[I+1]<<8|C[I+2]<<16,h=16383&(C[I+7]<<8|C[I+6]),C=16383&(C[I+9]<<8|C[I+8]),1&Oe||3<(Oe>>1&7)||!(Oe>>4&1)||Oe>>5>=Xe.Ja||!h||!C?C=0:(ie&&(ie[0]=h),Se&&(Se[0]=C),C=1))}if(!C||(ie=ie[0],nt=nt[0],ot&&(Re[0]!=ie||Ve[0]!=nt)))return 3;Ce!=null&&(Ce[0]=Xe,Ce.offset=I-Ce.w,e(4294967286>I-Ce.w),e(Ce.offset==Ce.ha-W));break}return f==0||f==7&&ot&&Ce==null?(re!=null&&(re[0]|=Xe.na!=null&&0<Xe.na.length),J!=null&&(J[0]=ie),ue!=null&&(ue[0]=nt),0):f}function el(C,I,W){var J=I.width,ue=I.height,re=0,ie=0,Se=J,Ce=ue;if(I.Da=C!=null&&0<C.Da,I.Da&&(Se=C.cd,Ce=C.bd,re=C.v,ie=C.j,11>W||(re&=-2,ie&=-2),0>re||0>ie||0>=Se||0>=Ce||re+Se>J||ie+Ce>ue))return 0;if(I.v=re,I.j=ie,I.va=re+Se,I.o=ie+Ce,I.U=Se,I.T=Ce,I.da=C!=null&&0<C.da,I.da){if(!$t(Se,Ce,W=[C.ib],re=[C.hb]))return 0;I.ib=W[0],I.hb=re[0]}return I.ob=C!=null&&C.ob,I.Kb=C==null||!C.Sd,I.da&&(I.ob=I.ib<3*J/4&&I.hb<3*ue/4,I.Kb=0),1}function Zs(C){if(C==null)return 2;if(11>C.S){var I=C.f.RGBA;I.fb+=(C.height-1)*I.A,I.A=-I.A}else I=C.f.kb,C=C.height,I.O+=(C-1)*I.fa,I.fa=-I.fa,I.N+=(C-1>>1)*I.Ab,I.Ab=-I.Ab,I.W+=(C-1>>1)*I.Db,I.Db=-I.Db,I.F!=null&&(I.J+=(C-1)*I.lb,I.lb=-I.lb);return 0}function Qr(C,I,W,J){if(J==null||0>=C||0>=I)return 2;if(W!=null){if(W.Da){var ue=W.cd,re=W.bd,ie=-2&W.v,Se=-2&W.j;if(0>ie||0>Se||0>=ue||0>=re||ie+ue>C||Se+re>I)return 2;C=ue,I=re}if(W.da){if(!$t(C,I,ue=[W.ib],re=[W.hb]))return 2;C=ue[0],I=re[0]}}J.width=C,J.height=I;e:{var Ce=J.width,Re=J.height;if(C=J.S,0>=Ce||0>=Re||!(C>=Sf&&13>C))C=2;else{if(0>=J.Rd&&J.sd==null){ie=re=ue=I=0;var Ve=(Se=Ce*gs[C])*Re;if(11>C||(re=(Re+1)/2*(I=(Ce+1)/2),C==12&&(ie=(ue=Ce)*Re)),(Re=o(Ve+2*re+ie))==null){C=1;break e}J.sd=Re,11>C?((Ce=J.f.RGBA).eb=Re,Ce.fb=0,Ce.A=Se,Ce.size=Ve):((Ce=J.f.kb).y=Re,Ce.O=0,Ce.fa=Se,Ce.Fd=Ve,Ce.f=Re,Ce.N=0+Ve,Ce.Ab=I,Ce.Cd=re,Ce.ea=Re,Ce.W=0+Ve+re,Ce.Db=I,Ce.Ed=re,C==12&&(Ce.F=Re,Ce.J=0+Ve+2*re),Ce.Tc=ie,Ce.lb=ue)}if(I=1,ue=J.S,re=J.width,ie=J.height,ue>=Sf&&13>ue)if(11>ue)C=J.f.RGBA,I&=(Se=Math.abs(C.A))*(ie-1)+re<=C.size,I&=Se>=re*gs[ue],I&=C.eb!=null;else{C=J.f.kb,Se=(re+1)/2,Ve=(ie+1)/2,Ce=Math.abs(C.fa),Re=Math.abs(C.Ab);var ot=Math.abs(C.Db),Oe=Math.abs(C.lb),Xe=Oe*(ie-1)+re;I&=Ce*(ie-1)+re<=C.Fd,I&=Re*(Ve-1)+Se<=C.Cd,I=(I&=ot*(Ve-1)+Se<=C.Ed)&Ce>=re&Re>=Se&ot>=Se,I&=C.y!=null,I&=C.f!=null,I&=C.ea!=null,ue==12&&(I&=Oe>=re,I&=Xe<=C.Tc,I&=C.F!=null)}else I=0;C=I?0:2}}return C!=0||W!=null&&W.fd&&(C=Zs(J)),C}var fs=64,xo=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],So=24,tl=32,Js=8,Ta=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];It("Predictor0","PredictorAdd0"),G.Predictor0=function(){return 4278190080},G.Predictor1=function(C){return C},G.Predictor2=function(C,I,W){return I[W+0]},G.Predictor3=function(C,I,W){return I[W+1]},G.Predictor4=function(C,I,W){return I[W-1]},G.Predictor5=function(C,I,W){return Zt(Zt(C,I[W+1]),I[W+0])},G.Predictor6=function(C,I,W){return Zt(C,I[W-1])},G.Predictor7=function(C,I,W){return Zt(C,I[W+0])},G.Predictor8=function(C,I,W){return Zt(I[W-1],I[W+0])},G.Predictor9=function(C,I,W){return Zt(I[W+0],I[W+1])},G.Predictor10=function(C,I,W){return Zt(Zt(C,I[W-1]),Zt(I[W+0],I[W+1]))},G.Predictor11=function(C,I,W){var J=I[W+0];return 0>=Mr(J>>24&255,C>>24&255,(I=I[W-1])>>24&255)+Mr(J>>16&255,C>>16&255,I>>16&255)+Mr(J>>8&255,C>>8&255,I>>8&255)+Mr(255&J,255&C,255&I)?J:C},G.Predictor12=function(C,I,W){var J=I[W+0];return(Hr((C>>24&255)+(J>>24&255)-((I=I[W-1])>>24&255))<<24|Hr((C>>16&255)+(J>>16&255)-(I>>16&255))<<16|Hr((C>>8&255)+(J>>8&255)-(I>>8&255))<<8|Hr((255&C)+(255&J)-(255&I)))>>>0},G.Predictor13=function(C,I,W){var J=I[W-1];return(jr((C=Zt(C,I[W+0]))>>24&255,J>>24&255)<<24|jr(C>>16&255,J>>16&255)<<16|jr(C>>8&255,J>>8&255)<<8|jr(255&C,255&J))>>>0};var Pa=G.PredictorAdd0;G.PredictorAdd1=Yr,It("Predictor2","PredictorAdd2"),It("Predictor3","PredictorAdd3"),It("Predictor4","PredictorAdd4"),It("Predictor5","PredictorAdd5"),It("Predictor6","PredictorAdd6"),It("Predictor7","PredictorAdd7"),It("Predictor8","PredictorAdd8"),It("Predictor9","PredictorAdd9"),It("Predictor10","PredictorAdd10"),It("Predictor11","PredictorAdd11"),It("Predictor12","PredictorAdd12"),It("Predictor13","PredictorAdd13");var Wn=G.PredictorAdd2;Gt("ColorIndexInverseTransform","MapARGB","32b",function(C){return C>>8&255},function(C){return C}),Gt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(C){return C},function(C){return C>>8&255});var Vn,qo=G.ColorIndexInverseTransform,ea=G.MapARGB,Xo=G.VP8LColorIndexInverseTransformAlpha,Vl=G.MapAlpha,Ci=G.VP8LPredictorsAdd=[];Ci.length=16,(G.VP8LPredictors=[]).length=16,(G.VP8LPredictorsAdd_C=[]).length=16,(G.VP8LPredictors_C=[]).length=16;var rl,nl,Eo,To,Yo,Hl,Ca,ql,Bn,Po,cn,An,Hn,ti,so,ta,ki,ka,il,Wc,wf,Eh,Vc,Xl,Yl,Th,ol,xf,Iu=o(511),Ph=o(2041),Ch=o(225),kh=o(767),Oh=0,ra=Ph,Hc=Ch,ao=kh,Ko=Iu,Sf=0,Oa=1,na=2,qc=3,Nu=4,Sn=5,Ef=6,Xc=7,Kl=8,hs=9,Gl=10,Mu=[2,3,7],Ql=[3,3,11],sl=[280,256,256,256,40],qd=[0,1,1,1,0],fp=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Lu=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Rh=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],al=8,ll=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Zl=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],cl=null,Yc=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Tf=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Xd=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Yd=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],hp=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],dp=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Ih=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],lo=[],ds=[],Co=[],ia=1,Jl=2,ji=[],sn=[];xa("UpsampleRgbLinePair",Sa,3),xa("UpsampleBgrLinePair",ei,3),xa("UpsampleRgbaLinePair",Ki,4),xa("UpsampleBgraLinePair",Ru,4),xa("UpsampleArgbLinePair",$c,4),xa("UpsampleRgba4444LinePair",Ea,2),xa("UpsampleRgb565LinePair",Wl,2);var Ap=G.UpsampleRgbLinePair,pp=G.UpsampleBgrLinePair,As=G.UpsampleRgbaLinePair,Ui=G.UpsampleBgraLinePair,ec=G.UpsampleArgbLinePair,Du=G.UpsampleRgba4444LinePair,Pf=G.UpsampleRgb565LinePair,oa=16,ps=1<<oa-1,pn=-227,mn=482,ul=6,$i=0,ko=o(256),tc=o(256),Go=o(256),qn=o(256),er=o(mn-pn),co=o(mn-pn);Ds("YuvToRgbRow",Sa,3),Ds("YuvToBgrRow",ei,3),Ds("YuvToRgbaRow",Ki,4),Ds("YuvToBgraRow",Ru,4),Ds("YuvToArgbRow",$c,4),Ds("YuvToRgba4444Row",Ea,2),Ds("YuvToRgb565Row",Wl,2);var tr=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Fn=[0,2,8],Nh=[8,7,6,4,4,2,2,2,1,1,1,1],Bs=1;this.WebPDecodeRGBA=function(C,I,W,J,ue){var re=Oa,ie=new gt,Se=new Dr;ie.ba=Se,Se.S=re,Se.width=[Se.width],Se.height=[Se.height];var Ce=Se.width,Re=Se.height,Ve=new mr;if(Ve==null||C==null)var ot=2;else e(Ve!=null),ot=Qs(C,I,W,Ve.width,Ve.height,Ve.Pd,Ve.Qd,Ve.format,null);if(ot!=0?Ce=0:(Ce!=null&&(Ce[0]=Ve.width[0]),Re!=null&&(Re[0]=Ve.height[0]),Ce=1),Ce){Se.width=Se.width[0],Se.height=Se.height[0],J!=null&&(J[0]=Se.width),ue!=null&&(ue[0]=Se.height);e:{if(J=new Mc,(ue=new _t).data=C,ue.w=I,ue.ha=W,ue.kd=1,I=[0],e(ue!=null),((C=Qs(ue.data,ue.w,ue.ha,null,null,null,I,null,ue))==0||C==7)&&I[0]&&(C=4),(I=C)==0){if(e(ie!=null),J.data=ue.data,J.w=ue.w+ue.offset,J.ha=ue.ha-ue.offset,J.put=pr,J.ac=no,J.bc=Pi,J.ma=ie,ue.xa){if((C=wr())==null){ie=1;break e}if((function(Oe,Xe){var nt=[0],h=[0],f=[0];t:for(;;){if(Oe==null)return 0;if(Xe==null)return Oe.a=2,0;if(Oe.l=Xe,Oe.a=0,ge(Oe.m,Xe.data,Xe.w,Xe.ha),!lt(Oe.m,nt,h,f)){Oe.a=3;break t}if(Oe.xb=Jl,Xe.width=nt[0],Xe.height=h[0],!Qn(nt[0],h[0],1,Oe,null))break t;return 1}return e(Oe.a!=0),0})(C,J)){if(J=(I=Qr(J.width,J.height,ie.Oa,ie.ba))==0){t:{J=C;r:for(;;){if(J==null){J=0;break t}if(e(J.s.yc!=null),e(J.s.Ya!=null),e(0<J.s.Wb),e((W=J.l)!=null),e((ue=W.ma)!=null),J.xb!=0){if(J.ca=ue.ba,J.tb=ue.tb,e(J.ca!=null),!el(ue.Oa,W,qc)){J.a=2;break r}if(!Is(J,W.width)||W.da)break r;if((W.da||ct(J.ca.S))&&wo(),11>J.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),J.ca.f.kb.F!=null&&wo()),J.Pb&&0<J.s.ua&&J.s.vb.X==null&&!xe(J.s.vb,J.s.Wa.Xa)){J.a=1;break r}J.xb=0}if(!yi(J,J.V,J.Ba,J.c,J.i,W.o,Kr))break r;ue.Dc=J.Ma,J=1;break t}e(J.a!=0),J=0}J=!J}J&&(I=C.a)}else I=C.a}else{if((C=new he)==null){ie=1;break e}if(C.Fa=ue.na,C.P=ue.P,C.qc=ue.Sa,zo(C,J)){if((I=Qr(J.width,J.height,ie.Oa,ie.ba))==0){if(C.Aa=0,W=ie.Oa,e((ue=C)!=null),W!=null){if(0<(Ce=0>(Ce=W.Md)?0:100<Ce?255:255*Ce/100)){for(Re=Ve=0;4>Re;++Re)12>(ot=ue.pb[Re]).lc&&(ot.ia=Ce*Nh[0>ot.lc?0:ot.lc]>>3),Ve|=ot.ia;Ve&&(alert("todo:VP8InitRandom"),ue.ia=1)}ue.Ga=W.Id,100<ue.Ga?ue.Ga=100:0>ue.Ga&&(ue.Ga=0)}(function(Oe,Xe){if(Oe==null)return 0;if(Xe==null)return hi(Oe,2,"NULL VP8Io parameter in VP8Decode().");if(!Oe.cb&&!zo(Oe,Xe))return 0;if(e(Oe.cb),Xe.ac==null||Xe.ac(Xe)){Xe.ob&&(Oe.L=0);var nt=Fn[Oe.L];if(Oe.L==2?(Oe.yb=0,Oe.zb=0):(Oe.yb=Xe.v-nt>>4,Oe.zb=Xe.j-nt>>4,0>Oe.yb&&(Oe.yb=0),0>Oe.zb&&(Oe.zb=0)),Oe.Va=Xe.o+15+nt>>4,Oe.Hb=Xe.va+15+nt>>4,Oe.Hb>Oe.za&&(Oe.Hb=Oe.za),Oe.Va>Oe.Ub&&(Oe.Va=Oe.Ub),0<Oe.L){var h=Oe.ed;for(nt=0;4>nt;++nt){var f;if(Oe.Qa.Cb){var p=Oe.Qa.Lb[nt];Oe.Qa.Fb||(p+=h.Tb)}else p=h.Tb;for(f=0;1>=f;++f){var v=Oe.gd[nt][f],y=p;if(h.Pc&&(y+=h.vd[0],f&&(y+=h.od[0])),0<(y=0>y?0:63<y?63:y)){var w=y;0<h.wb&&(w=4<h.wb?w>>2:w>>1)>9-h.wb&&(w=9-h.wb),1>w&&(w=1),v.dd=w,v.tc=2*y+w,v.ld=40<=y?2:15<=y?1:0}else v.tc=0;v.La=f}}}nt=0}else hi(Oe,6,"Frame setup failed"),nt=Oe.a;if(nt=nt==0){if(nt){Oe.$c=0,0<Oe.Aa||(Oe.Ic=Bs);t:{nt=Oe.Ic,h=4*(w=Oe.za);var S=32*w,k=w+1,M=0<Oe.L?w*(0<Oe.Aa?2:1):0,j=(Oe.Aa==2?2:1)*w;if((v=h+832+(f=3*(16*nt+Fn[Oe.L])/2*S)+(p=Oe.Fa!=null&&0<Oe.Fa.length?Oe.Kc.c*Oe.Kc.i:0))!=v)nt=0;else{if(v>Oe.Vb){if(Oe.Vb=0,Oe.Ec=o(v),Oe.Fc=0,Oe.Ec==null){nt=hi(Oe,1,"no memory during frame initialization.");break t}Oe.Vb=v}v=Oe.Ec,y=Oe.Fc,Oe.Ac=v,Oe.Bc=y,y+=h,Oe.Gd=s(S,$o),Oe.Hd=0,Oe.rb=s(k+1,gr),Oe.sb=1,Oe.wa=M?s(M,oi):null,Oe.Y=0,Oe.D.Nb=0,Oe.D.wa=Oe.wa,Oe.D.Y=Oe.Y,0<Oe.Aa&&(Oe.D.Y+=w),e(!0),Oe.oc=v,Oe.pc=y,y+=832,Oe.ya=s(j,hr),Oe.aa=0,Oe.D.ya=Oe.ya,Oe.D.aa=Oe.aa,Oe.Aa==2&&(Oe.D.aa+=w),Oe.R=16*w,Oe.B=8*w,w=(S=Fn[Oe.L])*Oe.R,S=S/2*Oe.B,Oe.sa=v,Oe.ta=y+w,Oe.qa=Oe.sa,Oe.ra=Oe.ta+16*nt*Oe.R+S,Oe.Ha=Oe.qa,Oe.Ia=Oe.ra+8*nt*Oe.B+S,Oe.$c=0,y+=f,Oe.mb=p?v:null,Oe.nb=p?y:null,e(y+p<=Oe.Fc+Oe.Vb),Ll(Oe),i(Oe.Ac,Oe.Bc,0,h),nt=1}}if(nt){if(Xe.ka=0,Xe.y=Oe.sa,Xe.O=Oe.ta,Xe.f=Oe.qa,Xe.N=Oe.ra,Xe.ea=Oe.Ha,Xe.Vd=Oe.Ia,Xe.fa=Oe.R,Xe.Rc=Oe.B,Xe.F=null,Xe.J=0,!Oh){for(nt=-255;255>=nt;++nt)Iu[255+nt]=0>nt?-nt:nt;for(nt=-1020;1020>=nt;++nt)Ph[1020+nt]=-128>nt?-128:127<nt?127:nt;for(nt=-112;112>=nt;++nt)Ch[112+nt]=-16>nt?-16:15<nt?15:nt;for(nt=-255;510>=nt;++nt)kh[255+nt]=0>nt?0:255<nt?255:nt;Oh=1}Ca=va,ql=Dn,Po=Xs,cn=Dl,An=ln,Bn=bo,Hn=Bi,ti=oo,so=fe,ta=Ne,ki=cs,ka=F,il=ze,Wc=Ze,wf=Ls,Eh=_a,Vc=Ja,Xl=Ul,ds[0]=_f,ds[1]=Dc,ds[2]=ss,ds[3]=Pu,ds[4]=Wo,ds[5]=Cu,ds[6]=ya,ds[7]=Fc,ds[8]=Fl,ds[9]=ba,lo[0]=Ns,lo[1]=bf,lo[2]=Bc,lo[3]=dn,lo[4]=_o,lo[5]=os,lo[6]=Bl,Co[0]=jl,Co[1]=yf,Co[2]=Ms,Co[3]=Za,Co[4]=Ou,Co[5]=ku,Co[6]=jc,nt=1}else nt=0}nt&&(nt=(function(Y,ve){for(Y.M=0;Y.M<Y.Va;++Y.M){var Pe,_e=Y.Jc[Y.M&Y.Xb],ye=Y.m,je=Y;for(Pe=0;Pe<je.za;++Pe){var Fe=ye,Ge=je,qe=Ge.Ac,Ye=Ge.Bc+4*Pe,Ue=Ge.zc,yt=Ge.ya[Ge.aa+Pe];if(Ge.Qa.Bb?yt.$b=We(Fe,Ge.Pa.jb[0])?2+We(Fe,Ge.Pa.jb[2]):We(Fe,Ge.Pa.jb[1]):yt.$b=0,Ge.kc&&(yt.Ad=We(Fe,Ge.Bd)),yt.Za=!We(Fe,145)+0,yt.Za){var Mt=yt.Ob,Rt=0;for(Ge=0;4>Ge;++Ge){var jt,Lt=Ue[0+Ge];for(jt=0;4>jt;++jt){Lt=hp[qe[Ye+jt]][Lt];for(var Ut=Xd[We(Fe,Lt[0])];0<Ut;)Ut=Xd[2*Ut+We(Fe,Lt[Ut])];Lt=-Ut,qe[Ye+jt]=Lt}n(Mt,Rt,qe,Ye,4),Rt+=4,Ue[0+Ge]=Lt}}else Lt=We(Fe,156)?We(Fe,128)?1:3:We(Fe,163)?2:0,yt.Ob[0]=Lt,i(qe,Ye,Lt,4),i(Ue,0,Lt,4);yt.Dd=We(Fe,142)?We(Fe,114)?We(Fe,183)?1:3:2:0}if(je.m.Ka)return hi(Y,7,"Premature end-of-partition0 encountered.");for(;Y.ja<Y.za;++Y.ja){if(je=_e,Fe=(ye=Y).rb[ye.sb-1],qe=ye.rb[ye.sb+ye.ja],Pe=ye.ya[ye.aa+ye.ja],Ye=ye.kc?Pe.Ad:0)Fe.la=qe.la=0,Pe.Za||(Fe.Na=qe.Na=0),Pe.Hc=0,Pe.Gc=0,Pe.ia=0;else{var Bt,Ct;if(Fe=qe,qe=je,Ye=ye.Pa.Xc,Ue=ye.ya[ye.aa+ye.ja],yt=ye.pb[Ue.$b],Ge=Ue.ad,Mt=0,Rt=ye.rb[ye.sb-1],Lt=jt=0,i(Ge,Mt,0,384),Ue.Za)var vt=0,Xt=Ye[3];else{Ut=o(16);var dr=Fe.Na+Rt.Na;if(dr=cl(qe,Ye[1],dr,yt.Eb,0,Ut,0),Fe.Na=Rt.Na=(0<dr)+0,1<dr)Ca(Ut,0,Ge,Mt);else{var rr=Ut[0]+3>>3;for(Ut=0;256>Ut;Ut+=16)Ge[Mt+Ut]=rr}vt=1,Xt=Ye[0]}var cr=15&Fe.la,$r=15&Rt.la;for(Ut=0;4>Ut;++Ut){var si=1&$r;for(rr=Ct=0;4>rr;++rr)cr=cr>>1|(si=(dr=cl(qe,Xt,dr=si+(1&cr),yt.Sc,vt,Ge,Mt))>vt)<<7,Ct=Ct<<2|(3<dr?3:1<dr?2:Ge[Mt+0]!=0),Mt+=16;cr>>=4,$r=$r>>1|si<<7,jt=(jt<<8|Ct)>>>0}for(Xt=cr,vt=$r>>4,Bt=0;4>Bt;Bt+=2){for(Ct=0,cr=Fe.la>>4+Bt,$r=Rt.la>>4+Bt,Ut=0;2>Ut;++Ut){for(si=1&$r,rr=0;2>rr;++rr)dr=si+(1&cr),cr=cr>>1|(si=0<(dr=cl(qe,Ye[2],dr,yt.Qc,0,Ge,Mt)))<<3,Ct=Ct<<2|(3<dr?3:1<dr?2:Ge[Mt+0]!=0),Mt+=16;cr>>=2,$r=$r>>1|si<<5}Lt|=Ct<<4*Bt,Xt|=cr<<4<<Bt,vt|=(240&$r)<<Bt}Fe.la=Xt,Rt.la=vt,Ue.Hc=jt,Ue.Gc=Lt,Ue.ia=43690&Lt?0:yt.ia,Ye=!(jt|Lt)}if(0<ye.L&&(ye.wa[ye.Y+ye.ja]=ye.gd[Pe.$b][Pe.Za],ye.wa[ye.Y+ye.ja].La|=!Ye),je.Ka)return hi(Y,7,"Premature end-of-file encountered.")}if(Ll(Y),ye=ve,je=1,Pe=(_e=Y).D,Fe=0<_e.L&&_e.M>=_e.zb&&_e.M<=_e.Va,_e.Aa==0)t:{if(Pe.M=_e.M,Pe.uc=Fe,Ho(_e,Pe),je=1,Pe=(Ct=_e.D).Nb,Fe=(Lt=Fn[_e.L])*_e.R,qe=Lt/2*_e.B,Ut=16*Pe*_e.R,rr=8*Pe*_e.B,Ye=_e.sa,Ue=_e.ta-Fe+Ut,yt=_e.qa,Ge=_e.ra-qe+rr,Mt=_e.Ha,Rt=_e.Ia-qe+rr,$r=(cr=Ct.M)==0,jt=cr>=_e.Va-1,_e.Aa==2&&Ho(_e,Ct),Ct.uc)for(si=(dr=_e).D.M,e(dr.D.uc),Ct=dr.yb;Ct<dr.Hb;++Ct){vt=Ct,Xt=si;var uo=(ms=(xi=dr).D).Nb;Bt=xi.R;var ms=ms.wa[ms.Y+vt],_i=xi.sa,wi=xi.ta+16*uo*Bt+16*vt,Oo=ms.dd,Rn=ms.tc;if(Rn!=0)if(e(3<=Rn),xi.L==1)0<vt&&Eh(_i,wi,Bt,Rn+4),ms.La&&Xl(_i,wi,Bt,Rn),0<Xt&&wf(_i,wi,Bt,Rn+4),ms.La&&Vc(_i,wi,Bt,Rn);else{var Ro=xi.B,sa=xi.qa,Ra=xi.ra+8*uo*Ro+8*vt,Gi=xi.Ha,xi=xi.Ia+8*uo*Ro+8*vt;uo=ms.ld,0<vt&&(ti(_i,wi,Bt,Rn+4,Oo,uo),ta(sa,Ra,Gi,xi,Ro,Rn+4,Oo,uo)),ms.La&&(ka(_i,wi,Bt,Rn,Oo,uo),Wc(sa,Ra,Gi,xi,Ro,Rn,Oo,uo)),0<Xt&&(Hn(_i,wi,Bt,Rn+4,Oo,uo),so(sa,Ra,Gi,xi,Ro,Rn+4,Oo,uo)),ms.La&&(ki(_i,wi,Bt,Rn,Oo,uo),il(sa,Ra,Gi,xi,Ro,Rn,Oo,uo))}}if(_e.ia&&alert("todo:DitherRow"),ye.put!=null){if(Ct=16*cr,cr=16*(cr+1),$r?(ye.y=_e.sa,ye.O=_e.ta+Ut,ye.f=_e.qa,ye.N=_e.ra+rr,ye.ea=_e.Ha,ye.W=_e.Ia+rr):(Ct-=Lt,ye.y=Ye,ye.O=Ue,ye.f=yt,ye.N=Ge,ye.ea=Mt,ye.W=Rt),jt||(cr-=Lt),cr>ye.o&&(cr=ye.o),ye.F=null,ye.J=null,_e.Fa!=null&&0<_e.Fa.length&&Ct<cr&&(ye.J=Pn(_e,ye,Ct,cr-Ct),ye.F=_e.mb,ye.F==null&&ye.F.length==0)){je=hi(_e,3,"Could not decode alpha data.");break t}Ct<ye.j&&(Lt=ye.j-Ct,Ct=ye.j,e(!(1&Lt)),ye.O+=_e.R*Lt,ye.N+=_e.B*(Lt>>1),ye.W+=_e.B*(Lt>>1),ye.F!=null&&(ye.J+=ye.width*Lt)),Ct<cr&&(ye.O+=ye.v,ye.N+=ye.v>>1,ye.W+=ye.v>>1,ye.F!=null&&(ye.J+=ye.v),ye.ka=Ct-ye.j,ye.U=ye.va-ye.v,ye.T=cr-Ct,je=ye.put(ye))}Pe+1!=_e.Ic||jt||(n(_e.sa,_e.ta-Fe,Ye,Ue+16*_e.R,Fe),n(_e.qa,_e.ra-qe,yt,Ge+8*_e.B,qe),n(_e.Ha,_e.Ia-qe,Mt,Rt+8*_e.B,qe))}if(!je)return hi(Y,6,"Output aborted.")}return 1})(Oe,Xe)),Xe.bc!=null&&Xe.bc(Xe),nt&=1}return nt?(Oe.cb=0,nt):0})(C,J)||(I=C.a)}}else I=C.a}I==0&&ie.Oa!=null&&ie.Oa.fd&&(I=Zs(ie.ba))}ie=I}re=ie!=0?null:11>re?Se.f.RGBA.eb:Se.f.kb.y}else re=null;return re};var gs=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(G,de){for(var H="",ee=0;ee<4;ee++)H+=String.fromCharCode(G[de++]);return H}function u(G,de){return G[de+0]|G[de+1]<<8}function g(G,de){return(G[de+0]|G[de+1]<<8|G[de+2]<<16)>>>0}function _(G,de){return(G[de+0]|G[de+1]<<8|G[de+2]<<16|G[de+3]<<24)>>>0}new l;var b=[0],P=[0],E=[],T=new l,O=t,L=(function(G,de){var H={},ee=0,ae=!1,le=0,Te=0;if(H.frames=[],!(function($,ne){for(var pe=0;pe<4;pe++)if($[ne+pe]!="RIFF".charCodeAt(pe))return!0;return!1})(G,de)){for(_(G,de+=4),de+=8;de<G.length;){var te=c(G,de),oe=_(G,de+=4);de+=4;var K=oe+(1&oe);switch(te){case"VP8 ":case"VP8L":H.frames[ee]===void 0&&(H.frames[ee]={}),(se=H.frames[ee]).src_off=ae?Te:de-8,se.src_size=le+oe+8,ee++,ae&&(ae=!1,le=0,Te=0);break;case"VP8X":(se=H.header={}).feature_flags=G[de];var ge=de+4;se.canvas_width=1+g(G,ge),ge+=3,se.canvas_height=1+g(G,ge),ge+=3;break;case"ALPH":ae=!0,le=K+8,Te=de-8;break;case"ANIM":(se=H.header).bgcolor=_(G,de),ge=de+4,se.loop_count=u(G,ge),ge+=2;break;case"ANMF":var Ee,se;(se=H.frames[ee]={}).offset_x=2*g(G,de),de+=3,se.offset_y=2*g(G,de),de+=3,se.width=1+g(G,de),de+=3,se.height=1+g(G,de),de+=3,se.duration=g(G,de),de+=3,Ee=G[de++],se.dispose=1&Ee,se.blend=Ee>>1&1}te!="ANMF"&&(de+=K)}return H}})(O,0);L.response=O,L.rgbaoutput=!0,L.dataurl=!1;var N=L.header?L.header:null,D=L.frames?L.frames:null;if(N){N.loop_counter=N.loop_count,b=[N.canvas_height],P=[N.canvas_width];for(var B=0;B<D.length&&D[B].blend!=0;B++);}var z=D[0],X=T.WebPDecodeRGBA(O,z.src_off,z.src_size,P,b);z.rgba=X,z.imgwidth=P[0],z.imgheight=b[0];for(var Z=0;Z<P[0]*b[0]*4;Z++)E[Z]=X[Z];return this.width=P,this.height=b,this.data=E,this}(function(t){var e,r,n,i,o,s,a,l,c,u=function($){return $=$||{},this.isStrokeTransparent=$.isStrokeTransparent||!1,this.strokeOpacity=$.strokeOpacity||1,this.strokeStyle=$.strokeStyle||"#000000",this.fillStyle=$.fillStyle||"#000000",this.isFillTransparent=$.isFillTransparent||!1,this.fillOpacity=$.fillOpacity||1,this.font=$.font||"10px sans-serif",this.textBaseline=$.textBaseline||"alphabetic",this.textAlign=$.textAlign||"left",this.lineWidth=$.lineWidth||1,this.lineJoin=$.lineJoin||"miter",this.lineCap=$.lineCap||"butt",this.path=$.path||[],this.transform=$.transform!==void 0?$.transform.clone():new l,this.globalCompositeOperation=$.globalCompositeOperation||"normal",this.globalAlpha=$.globalAlpha||1,this.clip_path=$.clip_path||[],this.currentPoint=$.currentPoint||new s,this.miterLimit=$.miterLimit||10,this.lastPoint=$.lastPoint||new s,this.lineDashOffset=$.lineDashOffset||0,this.lineDash=$.lineDash||[],this.margin=$.margin||[0,0,0,0],this.prevPageLastElemOffset=$.prevPageLastElemOffset||0,this.ignoreClearRect=typeof $.ignoreClearRect!="boolean"||$.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new g(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,s=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var g=function($){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var ne=$;Object.defineProperty(this,"pdf",{get:function(){return ne}});var pe=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return pe},set:function(xe){pe=!!xe}});var be=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return be},set:function(xe){be=!!xe}});var Ie=0;Object.defineProperty(this,"posX",{get:function(){return Ie},set:function(xe){isNaN(xe)||(Ie=xe)}});var De=0;Object.defineProperty(this,"posY",{get:function(){return De},set:function(xe){isNaN(xe)||(De=xe)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(xe){var At;typeof xe=="number"?At=[xe,xe,xe,xe]:((At=new Array(4))[0]=xe[0],At[1]=xe.length>=2?xe[1]:At[0],At[2]=xe.length>=3?xe[2]:At[0],At[3]=xe.length>=4?xe[3]:At[1]),c.margin=At}});var $e=!1;Object.defineProperty(this,"autoPaging",{get:function(){return $e},set:function(xe){$e=xe}});var Le=0;Object.defineProperty(this,"lastBreak",{get:function(){return Le},set:function(xe){Le=xe}});var We=[];Object.defineProperty(this,"pageBreaks",{get:function(){return We},set:function(xe){We=xe}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(xe){xe instanceof u&&(c=xe)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(xe){c.path=xe}});var ft=[];Object.defineProperty(this,"ctxStack",{get:function(){return ft},set:function(xe){ft=xe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(xe){var At;At=_(xe),this.ctx.fillStyle=At.style,this.ctx.isFillTransparent=At.a===0,this.ctx.fillOpacity=At.a,this.pdf.setFillColor(At.r,At.g,At.b,{a:At.a}),this.pdf.setTextColor(At.r,At.g,At.b,{a:At.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(xe){var At=_(xe);this.ctx.strokeStyle=At.style,this.ctx.isStrokeTransparent=At.a===0,this.ctx.strokeOpacity=At.a,At.a===0?this.pdf.setDrawColor(255,255,255):(At.a,this.pdf.setDrawColor(At.r,At.g,At.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(xe){["butt","round","square"].indexOf(xe)!==-1&&(this.ctx.lineCap=xe,this.pdf.setLineCap(xe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(xe){isNaN(xe)||(this.ctx.lineWidth=xe,this.pdf.setLineWidth(xe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(xe){["bevel","round","miter"].indexOf(xe)!==-1&&(this.ctx.lineJoin=xe,this.pdf.setLineJoin(xe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(xe){isNaN(xe)||(this.ctx.miterLimit=xe,this.pdf.setMiterLimit(xe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(xe){this.ctx.textBaseline=xe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(xe){["right","end","center","left","start"].indexOf(xe)!==-1&&(this.ctx.textAlign=xe)}});var tt=null,xt=null,Tt=null;Object.defineProperty(this,"fontFaces",{get:function(){return Tt},set:function(xe){tt=null,xt=null,Tt=xe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(xe){var At;if(this.ctx.font=xe,(At=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(xe))!==null){var Vt=At[1];At[2];var $t=At[3],bt=At[4];At[5];var Qt=At[6],It=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(bt)[2];bt=Math.floor(It==="px"?parseFloat(bt)*this.pdf.internal.scaleFactor:It==="em"?parseFloat(bt)*this.pdf.getFontSize():parseFloat(bt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(bt);var qt=(function(Gt){var ii,Jr,Wr=[],qr=Gt.trim();if(qr==="")return JS;if(qr in FF)return[FF[qr]];for(;qr!=="";){switch(Jr=null,ii=(qr=UF(qr)).charAt(0)){case'"':case"'":Jr=FOe(qr.substring(1),ii);break;default:Jr=jOe(qr)}if(Jr===null||(Wr.push(Jr[0]),(qr=UF(Jr[1]))!==""&&qr.charAt(0)!==","))return JS;qr=qr.replace(/^,/,"")}return Wr})(Qt);if(this.fontFaces){var Zt=(function(Gt,ii){var Jr=Gt.getFontList(),Wr=JSON.stringify(Jr);if(tt===null||xt!==Wr){var qr=(function(yn){var fr=[];return Object.keys(yn).forEach(function(bn){yn[bn].forEach(function(ct){var Ir=null;switch(ct){case"bold":Ir={family:bn,weight:"bold"};break;case"italic":Ir={family:bn,style:"italic"};break;case"bolditalic":Ir={family:bn,weight:"bold",style:"italic"};break;case"":case"normal":Ir={family:bn}}Ir!==null&&(Ir.ref={name:bn,style:ct},fr.push(Ir))})}),fr})(Jr);tt=(function(yn){for(var fr={},bn=0;bn<yn.length;++bn){var ct=ZS(yn[bn]),Ir=ct.family,hn=ct.stretch,Dr=ct.style,mr=ct.weight;fr[Ir]=fr[Ir]||{},fr[Ir][hn]=fr[Ir][hn]||{},fr[Ir][hn][Dr]=fr[Ir][hn][Dr]||{},fr[Ir][hn][Dr][mr]=ct}return fr})(qr.concat(ii)),xt=Wr}return tt})(this.pdf,this.fontFaces),Hr=qt.map(function(Gt){return{family:Gt,stretch:"normal",weight:$t,style:Vt}}),jr=(function(Gt,ii,Jr){for(var Wr=(Jr=Jr||{}).defaultFontFamily||"times",qr=Object.assign({},BOe,Jr.genericFontFamilies||{}),yn=null,fr=null,bn=0;bn<ii.length;++bn)if(qr[(yn=ZS(ii[bn])).family]&&(yn.family=qr[yn.family]),Gt.hasOwnProperty(yn.family)){fr=Gt[yn.family];break}if(!(fr=fr||Gt[Wr]))throw new Error("Could not find a font-family for the rule '"+jF(yn)+"' and default family '"+Wr+"'.");if(fr=(function(ct,Ir){if(Ir[ct])return Ir[ct];var hn=VT[ct],Dr=hn<=VT.normal?-1:1,mr=BF(Ir,oX,hn,Dr);if(!mr)throw new Error("Could not find a matching font-stretch value for "+ct);return mr})(yn.stretch,fr),fr=(function(ct,Ir){if(Ir[ct])return Ir[ct];for(var hn=iX[ct],Dr=0;Dr<hn.length;++Dr)if(Ir[hn[Dr]])return Ir[hn[Dr]];throw new Error("Could not find a matching font-style for "+ct)})(yn.style,fr),!(fr=(function(ct,Ir){if(Ir[ct])return Ir[ct];if(ct===400&&Ir[500])return Ir[500];if(ct===500&&Ir[400])return Ir[400];var hn=DOe[ct],Dr=BF(Ir,sX,hn,ct<400?-1:1);if(!Dr)throw new Error("Could not find a matching font-weight for value "+ct);return Dr})(yn.weight,fr)))throw new Error("Failed to resolve a font for the rule '"+jF(yn)+"'.");return fr})(Zt,Hr);this.pdf.setFont(jr.ref.name,jr.ref.style)}else{var Mr="";($t==="bold"||parseInt($t,10)>=700||Vt==="bold")&&(Mr="bold"),Vt==="italic"&&(Mr+="italic"),Mr.length===0&&(Mr="normal");for(var Yr="",zr={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Jt=0;Jt<qt.length;Jt++){if(this.pdf.internal.getFont(qt[Jt],Mr,{noFallback:!0,disableWarning:!0})!==void 0){Yr=qt[Jt];break}if(Mr==="bolditalic"&&this.pdf.internal.getFont(qt[Jt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Yr=qt[Jt],Mr="bold";else if(this.pdf.internal.getFont(qt[Jt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Yr=qt[Jt],Mr="normal";break}}if(Yr===""){for(var Tr=0;Tr<qt.length;Tr++)if(zr[qt[Tr]]){Yr=zr[qt[Tr]];break}}Yr=Yr===""?"Times":Yr,this.pdf.setFont(Yr,Mr)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(xe){this.ctx.globalCompositeOperation=xe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(xe){this.ctx.globalAlpha=xe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(xe){this.ctx.lineDashOffset=xe,se.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(xe){this.ctx.lineDash=xe,se.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(xe){this.ctx.ignoreClearRect=!!xe}})};g.prototype.setLineDash=function($){this.lineDash=$},g.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},g.prototype.fill=function(){D.call(this,"fill",!1)},g.prototype.stroke=function(){D.call(this,"stroke",!1)},g.prototype.beginPath=function(){this.path=[{type:"begin"}]},g.prototype.moveTo=function($,ne){if(isNaN($)||isNaN(ne))throw Kn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var pe=this.ctx.transform.applyToPoint(new s($,ne));this.path.push({type:"mt",x:pe.x,y:pe.y}),this.ctx.lastPoint=new s($,ne)},g.prototype.closePath=function(){var $=new s(0,0),ne=0;for(ne=this.path.length-1;ne!==-1;ne--)if(this.path[ne].type==="begin"&&Nn(this.path[ne+1])==="object"&&typeof this.path[ne+1].x=="number"){$=new s(this.path[ne+1].x,this.path[ne+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s($.x,$.y)},g.prototype.lineTo=function($,ne){if(isNaN($)||isNaN(ne))throw Kn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var pe=this.ctx.transform.applyToPoint(new s($,ne));this.path.push({type:"lt",x:pe.x,y:pe.y}),this.ctx.lastPoint=new s(pe.x,pe.y)},g.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),D.call(this,null,!0)},g.prototype.quadraticCurveTo=function($,ne,pe,be){if(isNaN(pe)||isNaN(be)||isNaN($)||isNaN(ne))throw Kn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Ie=this.ctx.transform.applyToPoint(new s(pe,be)),De=this.ctx.transform.applyToPoint(new s($,ne));this.path.push({type:"qct",x1:De.x,y1:De.y,x:Ie.x,y:Ie.y}),this.ctx.lastPoint=new s(Ie.x,Ie.y)},g.prototype.bezierCurveTo=function($,ne,pe,be,Ie,De){if(isNaN(Ie)||isNaN(De)||isNaN($)||isNaN(ne)||isNaN(pe)||isNaN(be))throw Kn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var $e=this.ctx.transform.applyToPoint(new s(Ie,De)),Le=this.ctx.transform.applyToPoint(new s($,ne)),We=this.ctx.transform.applyToPoint(new s(pe,be));this.path.push({type:"bct",x1:Le.x,y1:Le.y,x2:We.x,y2:We.y,x:$e.x,y:$e.y}),this.ctx.lastPoint=new s($e.x,$e.y)},g.prototype.arc=function($,ne,pe,be,Ie,De){if(isNaN($)||isNaN(ne)||isNaN(pe)||isNaN(be)||isNaN(Ie))throw Kn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(De=!!De,!this.ctx.transform.isIdentity){var $e=this.ctx.transform.applyToPoint(new s($,ne));$=$e.x,ne=$e.y;var Le=this.ctx.transform.applyToPoint(new s(0,pe)),We=this.ctx.transform.applyToPoint(new s(0,0));pe=Math.sqrt(Math.pow(Le.x-We.x,2)+Math.pow(Le.y-We.y,2))}Math.abs(Ie-be)>=2*Math.PI&&(be=0,Ie=2*Math.PI),this.path.push({type:"arc",x:$,y:ne,radius:pe,startAngle:be,endAngle:Ie,counterclockwise:De})},g.prototype.arcTo=function($,ne,pe,be,Ie){throw new Error("arcTo not implemented.")},g.prototype.rect=function($,ne,pe,be){if(isNaN($)||isNaN(ne)||isNaN(pe)||isNaN(be))throw Kn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo($,ne),this.lineTo($+pe,ne),this.lineTo($+pe,ne+be),this.lineTo($,ne+be),this.lineTo($,ne),this.lineTo($+pe,ne),this.lineTo($,ne)},g.prototype.fillRect=function($,ne,pe,be){if(isNaN($)||isNaN(ne)||isNaN(pe)||isNaN(be))throw Kn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!b.call(this)){var Ie={};this.lineCap!=="butt"&&(Ie.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Ie.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect($,ne,pe,be),this.fill(),Ie.hasOwnProperty("lineCap")&&(this.lineCap=Ie.lineCap),Ie.hasOwnProperty("lineJoin")&&(this.lineJoin=Ie.lineJoin)}},g.prototype.strokeRect=function($,ne,pe,be){if(isNaN($)||isNaN(ne)||isNaN(pe)||isNaN(be))throw Kn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");P.call(this)||(this.beginPath(),this.rect($,ne,pe,be),this.stroke())},g.prototype.clearRect=function($,ne,pe,be){if(isNaN($)||isNaN(ne)||isNaN(pe)||isNaN(be))throw Kn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect($,ne,pe,be))},g.prototype.save=function($){$=typeof $!="boolean"||$;for(var ne=this.pdf.internal.getCurrentPageInfo().pageNumber,pe=0;pe<this.pdf.internal.getNumberOfPages();pe++)this.pdf.setPage(pe+1),this.pdf.internal.out("q");if(this.pdf.setPage(ne),$){this.ctx.fontSize=this.pdf.internal.getFontSize();var be=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=be}},g.prototype.restore=function($){$=typeof $!="boolean"||$;for(var ne=this.pdf.internal.getCurrentPageInfo().pageNumber,pe=0;pe<this.pdf.internal.getNumberOfPages();pe++)this.pdf.setPage(pe+1),this.pdf.internal.out("Q");this.pdf.setPage(ne),$&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},g.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var _=function($){var ne,pe,be,Ie;if($.isCanvasGradient===!0&&($=$.getColor()),!$)return{r:0,g:0,b:0,a:0,style:$};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test($))ne=0,pe=0,be=0,Ie=0;else{var De=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec($);if(De!==null)ne=parseInt(De[1]),pe=parseInt(De[2]),be=parseInt(De[3]),Ie=1;else if((De=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec($))!==null)ne=parseInt(De[1]),pe=parseInt(De[2]),be=parseInt(De[3]),Ie=parseFloat(De[4]);else{if(Ie=1,typeof $=="string"&&$.charAt(0)!=="#"){var $e=new Qq($);$=$e.ok?$e.toHex():"#000000"}$.length===4?(ne=$.substring(1,2),ne+=ne,pe=$.substring(2,3),pe+=pe,be=$.substring(3,4),be+=be):(ne=$.substring(1,3),pe=$.substring(3,5),be=$.substring(5,7)),ne=parseInt(ne,16),pe=parseInt(pe,16),be=parseInt(be,16)}}return{r:ne,g:pe,b:be,a:Ie,style:$}},b=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},P=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};g.prototype.fillText=function($,ne,pe,be){if(isNaN(ne)||isNaN(pe)||typeof $!="string")throw Kn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(be=isNaN(be)?void 0:be,!b.call(this)){var Ie=K(this.ctx.transform.rotation),De=this.ctx.transform.scaleX;ee.call(this,{text:$,x:ne,y:pe,scale:De,angle:Ie,align:this.textAlign,maxWidth:be})}},g.prototype.strokeText=function($,ne,pe,be){if(isNaN(ne)||isNaN(pe)||typeof $!="string")throw Kn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!P.call(this)){be=isNaN(be)?void 0:be;var Ie=K(this.ctx.transform.rotation),De=this.ctx.transform.scaleX;ee.call(this,{text:$,x:ne,y:pe,scale:De,renderingMode:"stroke",angle:Ie,align:this.textAlign,maxWidth:be})}},g.prototype.measureText=function($){if(typeof $!="string")throw Kn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var ne=this.pdf,pe=this.pdf.internal.scaleFactor,be=ne.internal.getFontSize(),Ie=ne.getStringUnitWidth($)*be/ne.internal.scaleFactor;return new function(De){var $e=(De=De||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return $e}}),this}({width:Ie*=Math.round(96*pe/72*1e4)/1e4})},g.prototype.scale=function($,ne){if(isNaN($)||isNaN(ne))throw Kn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var pe=new l($,0,0,ne,0,0);this.ctx.transform=this.ctx.transform.multiply(pe)},g.prototype.rotate=function($){if(isNaN($))throw Kn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var ne=new l(Math.cos($),Math.sin($),-Math.sin($),Math.cos($),0,0);this.ctx.transform=this.ctx.transform.multiply(ne)},g.prototype.translate=function($,ne){if(isNaN($)||isNaN(ne))throw Kn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var pe=new l(1,0,0,1,$,ne);this.ctx.transform=this.ctx.transform.multiply(pe)},g.prototype.transform=function($,ne,pe,be,Ie,De){if(isNaN($)||isNaN(ne)||isNaN(pe)||isNaN(be)||isNaN(Ie)||isNaN(De))throw Kn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var $e=new l($,ne,pe,be,Ie,De);this.ctx.transform=this.ctx.transform.multiply($e)},g.prototype.setTransform=function($,ne,pe,be,Ie,De){$=isNaN($)?1:$,ne=isNaN(ne)?0:ne,pe=isNaN(pe)?0:pe,be=isNaN(be)?1:be,Ie=isNaN(Ie)?0:Ie,De=isNaN(De)?0:De,this.ctx.transform=new l($,ne,pe,be,Ie,De)};var E=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};g.prototype.drawImage=function($,ne,pe,be,Ie,De,$e,Le,We){var ft=this.pdf.getImageProperties($),tt=1,xt=1,Tt=1,xe=1;be!==void 0&&Le!==void 0&&(Tt=Le/be,xe=We/Ie,tt=ft.width/be*Le/be,xt=ft.height/Ie*We/Ie),De===void 0&&(De=ne,$e=pe,ne=0,pe=0),be!==void 0&&Le===void 0&&(Le=be,We=Ie),be===void 0&&Le===void 0&&(Le=ft.width,We=ft.height);var At=this.ctx.transform.decompose(),Vt=K(At.rotate.shx),$t=new l,bt=($t=($t=($t=$t.multiply(At.translate)).multiply(At.skew)).multiply(At.scale)).applyToRectangle(new a(De-ne*Tt,$e-pe*xe,be*tt,Ie*xt));if(this.autoPaging){for(var Qt,It=T.call(this,bt),qt=[],Zt=0;Zt<It.length;Zt+=1)qt.indexOf(It[Zt])===-1&&qt.push(It[Zt]);N(qt);for(var Hr=qt[0],jr=qt[qt.length-1],Mr=Hr;Mr<jr+1;Mr++){this.pdf.setPage(Mr);var Yr=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],zr=Mr===1?this.posY+this.margin[0]:this.margin[0],Jt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Tr=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Gt=Mr===1?0:Jt+(Mr-2)*Tr;if(this.ctx.clip_path.length!==0){var ii=this.path;Qt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=L(Qt,this.posX+this.margin[3],-Gt+zr+this.ctx.prevPageLastElemOffset),B.call(this,"fill",!0),this.path=ii}var Jr=JSON.parse(JSON.stringify(bt));Jr=L([Jr],this.posX+this.margin[3],-Gt+zr+this.ctx.prevPageLastElemOffset)[0];var Wr=(Mr>Hr||Mr<jr)&&E.call(this);Wr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Yr,Tr,null).clip().discardPath()),this.pdf.addImage($,"JPEG",Jr.x,Jr.y,Jr.w,Jr.h,null,null,Vt),Wr&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage($,"JPEG",bt.x,bt.y,bt.w,bt.h,null,null,Vt)};var T=function($,ne,pe){var be=[];ne=ne||this.pdf.internal.pageSize.width,pe=pe||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Ie=this.posY+this.ctx.prevPageLastElemOffset;switch($.type){default:case"mt":case"lt":be.push(Math.floor(($.y+Ie)/pe)+1);break;case"arc":be.push(Math.floor(($.y+Ie-$.radius)/pe)+1),be.push(Math.floor(($.y+Ie+$.radius)/pe)+1);break;case"qct":var De=ge(this.ctx.lastPoint.x,this.ctx.lastPoint.y,$.x1,$.y1,$.x,$.y);be.push(Math.floor((De.y+Ie)/pe)+1),be.push(Math.floor((De.y+De.h+Ie)/pe)+1);break;case"bct":var $e=Ee(this.ctx.lastPoint.x,this.ctx.lastPoint.y,$.x1,$.y1,$.x2,$.y2,$.x,$.y);be.push(Math.floor(($e.y+Ie)/pe)+1),be.push(Math.floor(($e.y+$e.h+Ie)/pe)+1);break;case"rect":be.push(Math.floor(($.y+Ie)/pe)+1),be.push(Math.floor(($.y+$.h+Ie)/pe)+1)}for(var Le=0;Le<be.length;Le+=1)for(;this.pdf.internal.getNumberOfPages()<be[Le];)O.call(this);return be},O=function(){var $=this.fillStyle,ne=this.strokeStyle,pe=this.font,be=this.lineCap,Ie=this.lineWidth,De=this.lineJoin;this.pdf.addPage(),this.fillStyle=$,this.strokeStyle=ne,this.font=pe,this.lineCap=be,this.lineWidth=Ie,this.lineJoin=De},L=function($,ne,pe){for(var be=0;be<$.length;be++)switch($[be].type){case"bct":$[be].x2+=ne,$[be].y2+=pe;case"qct":$[be].x1+=ne,$[be].y1+=pe;default:$[be].x+=ne,$[be].y+=pe}return $},N=function($){return $.sort(function(ne,pe){return ne-pe})},D=function($,ne){var pe=this.fillStyle,be=this.strokeStyle,Ie=this.lineCap,De=this.lineWidth,$e=Math.abs(De*this.ctx.transform.scaleX),Le=this.lineJoin;if(this.autoPaging){for(var We,ft,tt=JSON.parse(JSON.stringify(this.path)),xt=JSON.parse(JSON.stringify(this.path)),Tt=[],xe=0;xe<xt.length;xe++)if(xt[xe].x!==void 0)for(var At=T.call(this,xt[xe]),Vt=0;Vt<At.length;Vt+=1)Tt.indexOf(At[Vt])===-1&&Tt.push(At[Vt]);for(var $t=0;$t<Tt.length;$t++)for(;this.pdf.internal.getNumberOfPages()<Tt[$t];)O.call(this);N(Tt);for(var bt=Tt[0],Qt=Tt[Tt.length-1],It=bt;It<Qt+1;It++){this.pdf.setPage(It),this.fillStyle=pe,this.strokeStyle=be,this.lineCap=Ie,this.lineWidth=$e,this.lineJoin=Le;var qt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Zt=It===1?this.posY+this.margin[0]:this.margin[0],Hr=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],jr=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Mr=It===1?0:Hr+(It-2)*jr;if(this.ctx.clip_path.length!==0){var Yr=this.path;We=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=L(We,this.posX+this.margin[3],-Mr+Zt+this.ctx.prevPageLastElemOffset),B.call(this,$,!0),this.path=Yr}if(ft=JSON.parse(JSON.stringify(tt)),this.path=L(ft,this.posX+this.margin[3],-Mr+Zt+this.ctx.prevPageLastElemOffset),ne===!1||It===0){var zr=(It>bt||It<Qt)&&E.call(this);zr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],qt,jr,null).clip().discardPath()),B.call(this,$,ne),zr&&this.pdf.restoreGraphicsState()}this.lineWidth=De}this.path=tt}else this.lineWidth=$e,B.call(this,$,ne),this.lineWidth=De},B=function($,ne){if(($!=="stroke"||ne||!P.call(this))&&($==="stroke"||ne||!b.call(this))){for(var pe,be,Ie=[],De=this.path,$e=0;$e<De.length;$e++){var Le=De[$e];switch(Le.type){case"begin":Ie.push({begin:!0});break;case"close":Ie.push({close:!0});break;case"mt":Ie.push({start:Le,deltas:[],abs:[]});break;case"lt":var We=Ie.length;if(De[$e-1]&&!isNaN(De[$e-1].x)&&(pe=[Le.x-De[$e-1].x,Le.y-De[$e-1].y],We>0)){for(;We>=0;We--)if(Ie[We-1].close!==!0&&Ie[We-1].begin!==!0){Ie[We-1].deltas.push(pe),Ie[We-1].abs.push(Le);break}}break;case"bct":pe=[Le.x1-De[$e-1].x,Le.y1-De[$e-1].y,Le.x2-De[$e-1].x,Le.y2-De[$e-1].y,Le.x-De[$e-1].x,Le.y-De[$e-1].y],Ie[Ie.length-1].deltas.push(pe);break;case"qct":var ft=De[$e-1].x+2/3*(Le.x1-De[$e-1].x),tt=De[$e-1].y+2/3*(Le.y1-De[$e-1].y),xt=Le.x+2/3*(Le.x1-Le.x),Tt=Le.y+2/3*(Le.y1-Le.y),xe=Le.x,At=Le.y;pe=[ft-De[$e-1].x,tt-De[$e-1].y,xt-De[$e-1].x,Tt-De[$e-1].y,xe-De[$e-1].x,At-De[$e-1].y],Ie[Ie.length-1].deltas.push(pe);break;case"arc":Ie.push({deltas:[],abs:[],arc:!0}),Array.isArray(Ie[Ie.length-1].abs)&&Ie[Ie.length-1].abs.push(Le)}}be=ne?null:$==="stroke"?"stroke":"fill";for(var Vt=!1,$t=0;$t<Ie.length;$t++)if(Ie[$t].arc)for(var bt=Ie[$t].abs,Qt=0;Qt<bt.length;Qt++){var It=bt[Qt];It.type==="arc"?Z.call(this,It.x,It.y,It.radius,It.startAngle,It.endAngle,It.counterclockwise,void 0,ne,!Vt):ae.call(this,It.x,It.y),Vt=!0}else if(Ie[$t].close===!0)this.pdf.internal.out("h"),Vt=!1;else if(Ie[$t].begin!==!0){var qt=Ie[$t].start.x,Zt=Ie[$t].start.y;le.call(this,Ie[$t].deltas,qt,Zt),Vt=!0}be&&G.call(this,be),ne&&de.call(this)}},z=function($){var ne=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,pe=ne*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return $-pe;case"top":return $+ne-pe;case"hanging":return $+ne-2*pe;case"middle":return $+ne/2-pe;default:return $}},X=function($){return $+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};g.prototype.createLinearGradient=function(){var $=function(){};return $.colorStops=[],$.addColorStop=function(ne,pe){this.colorStops.push([ne,pe])},$.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},$.isCanvasGradient=!0,$},g.prototype.createPattern=function(){return this.createLinearGradient()},g.prototype.createRadialGradient=function(){return this.createLinearGradient()};var Z=function($,ne,pe,be,Ie,De,$e,Le,We){for(var ft=te.call(this,pe,be,Ie,De),tt=0;tt<ft.length;tt++){var xt=ft[tt];tt===0&&(We?H.call(this,xt.x1+$,xt.y1+ne):ae.call(this,xt.x1+$,xt.y1+ne)),Te.call(this,$,ne,xt.x2,xt.y2,xt.x3,xt.y3,xt.x4,xt.y4)}Le?de.call(this):G.call(this,$e)},G=function($){switch($){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},de=function(){this.pdf.clip(),this.pdf.discardPath()},H=function($,ne){this.pdf.internal.out(r($)+" "+n(ne)+" m")},ee=function($){var ne;switch($.align){case"right":case"end":ne="right";break;case"center":ne="center";break;default:ne="left"}var pe,be,Ie,De=this.pdf.getTextDimensions($.text),$e=z.call(this,$.y),Le=X.call(this,$e)-De.h,We=this.ctx.transform.applyToPoint(new s($.x,$e));if(this.autoPaging){var ft=this.ctx.transform.decompose(),tt=new l;tt=(tt=(tt=tt.multiply(ft.translate)).multiply(ft.skew)).multiply(ft.scale);for(var xt=this.ctx.transform.applyToRectangle(new a($.x,$e,De.w,De.h)),Tt=tt.applyToRectangle(new a($.x,Le,De.w,De.h)),xe=T.call(this,Tt),At=[],Vt=0;Vt<xe.length;Vt+=1)At.indexOf(xe[Vt])===-1&&At.push(xe[Vt]);N(At);for(var $t=At[0],bt=At[At.length-1],Qt=$t;Qt<bt+1;Qt++){this.pdf.setPage(Qt);var It=Qt===1?this.posY+this.margin[0]:this.margin[0],qt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Zt=this.pdf.internal.pageSize.height-this.margin[2],Hr=Zt-this.margin[0],jr=this.pdf.internal.pageSize.width-this.margin[1],Mr=jr-this.margin[3],Yr=Qt===1?0:qt+(Qt-2)*Hr;if(this.ctx.clip_path.length!==0){var zr=this.path;pe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=L(pe,this.posX+this.margin[3],-1*Yr+It),B.call(this,"fill",!0),this.path=zr}var Jt=L([JSON.parse(JSON.stringify(Tt))],this.posX+this.margin[3],-Yr+It+this.ctx.prevPageLastElemOffset)[0];$.scale>=.01&&(be=this.pdf.internal.getFontSize(),this.pdf.setFontSize(be*$.scale),Ie=this.lineWidth,this.lineWidth=Ie*$.scale);var Tr=this.autoPaging!=="text";if(Tr||Jt.y+Jt.h<=Zt){if(Tr||Jt.y>=It&&Jt.x<=jr){var Gt=Tr?$.text:this.pdf.splitTextToSize($.text,$.maxWidth||jr-Jt.x)[0],ii=L([JSON.parse(JSON.stringify(xt))],this.posX+this.margin[3],-Yr+It+this.ctx.prevPageLastElemOffset)[0],Jr=Tr&&(Qt>$t||Qt<bt)&&E.call(this);Jr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Mr,Hr,null).clip().discardPath()),this.pdf.text(Gt,ii.x,ii.y,{angle:$.angle,align:ne,renderingMode:$.renderingMode}),Jr&&this.pdf.restoreGraphicsState()}}else Jt.y<Zt&&(this.ctx.prevPageLastElemOffset+=Zt-Jt.y);$.scale>=.01&&(this.pdf.setFontSize(be),this.lineWidth=Ie)}}else $.scale>=.01&&(be=this.pdf.internal.getFontSize(),this.pdf.setFontSize(be*$.scale),Ie=this.lineWidth,this.lineWidth=Ie*$.scale),this.pdf.text($.text,We.x+this.posX,We.y+this.posY,{angle:$.angle,align:ne,renderingMode:$.renderingMode,maxWidth:$.maxWidth}),$.scale>=.01&&(this.pdf.setFontSize(be),this.lineWidth=Ie)},ae=function($,ne,pe,be){pe=pe||0,be=be||0,this.pdf.internal.out(r($+pe)+" "+n(ne+be)+" l")},le=function($,ne,pe){return this.pdf.lines($,ne,pe,null,null)},Te=function($,ne,pe,be,Ie,De,$e,Le){this.pdf.internal.out([e(i(pe+$)),e(o(be+ne)),e(i(Ie+$)),e(o(De+ne)),e(i($e+$)),e(o(Le+ne)),"c"].join(" "))},te=function($,ne,pe,be){for(var Ie=2*Math.PI,De=Math.PI/2;ne>pe;)ne-=Ie;var $e=Math.abs(pe-ne);$e<Ie&&be&&($e=Ie-$e);for(var Le=[],We=be?-1:1,ft=ne;$e>1e-5;){var tt=ft+We*Math.min($e,De);Le.push(oe.call(this,$,ft,tt)),$e-=Math.abs(tt-ft),ft=tt}return Le},oe=function($,ne,pe){var be=(pe-ne)/2,Ie=$*Math.cos(be),De=$*Math.sin(be),$e=Ie,Le=-De,We=$e*$e+Le*Le,ft=We+$e*Ie+Le*De,tt=4/3*(Math.sqrt(2*We*ft)-ft)/($e*De-Le*Ie),xt=$e-tt*Le,Tt=Le+tt*$e,xe=xt,At=-Tt,Vt=be+ne,$t=Math.cos(Vt),bt=Math.sin(Vt);return{x1:$*Math.cos(ne),y1:$*Math.sin(ne),x2:xt*$t-Tt*bt,y2:xt*bt+Tt*$t,x3:xe*$t-At*bt,y3:xe*bt+At*$t,x4:$*Math.cos(pe),y4:$*Math.sin(pe)}},K=function($){return 180*$/Math.PI},ge=function($,ne,pe,be,Ie,De){var $e=$+.5*(pe-$),Le=ne+.5*(be-ne),We=Ie+.5*(pe-Ie),ft=De+.5*(be-De),tt=Math.min($,Ie,$e,We),xt=Math.max($,Ie,$e,We),Tt=Math.min(ne,De,Le,ft),xe=Math.max(ne,De,Le,ft);return new a(tt,Tt,xt-tt,xe-Tt)},Ee=function($,ne,pe,be,Ie,De,$e,Le){var We,ft,tt,xt,Tt,xe,At,Vt,$t,bt,Qt,It,qt,Zt,Hr=pe-$,jr=be-ne,Mr=Ie-pe,Yr=De-be,zr=$e-Ie,Jt=Le-De;for(ft=0;ft<41;ft++)$t=(At=(tt=$+(We=ft/40)*Hr)+We*((Tt=pe+We*Mr)-tt))+We*(Tt+We*(Ie+We*zr-Tt)-At),bt=(Vt=(xt=ne+We*jr)+We*((xe=be+We*Yr)-xt))+We*(xe+We*(De+We*Jt-xe)-Vt),ft==0?(Qt=$t,It=bt,qt=$t,Zt=bt):(Qt=Math.min(Qt,$t),It=Math.min(It,bt),qt=Math.max(qt,$t),Zt=Math.max(Zt,bt));return new a(Math.round(Qt),Math.round(It),Math.round(qt-Qt),Math.round(Zt-It))},se=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var $,ne,pe=($=this.ctx.lineDash,ne=this.ctx.lineDashOffset,JSON.stringify({lineDash:$,lineDashOffset:ne}));this.prevLineDash!==pe&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=pe)}}})(Ar.API),(function(t){var e=function(s){var a,l,c,u,g,_,b,P,E,T;for(l=[],c=0,u=(s+=a="\0\0\0\0".slice(s.length%4||4)).length;u>c;c+=4)(g=(s.charCodeAt(c)<<24)+(s.charCodeAt(c+1)<<16)+(s.charCodeAt(c+2)<<8)+s.charCodeAt(c+3))!==0?(_=(g=((g=((g=((g=(g-(T=g%85))/85)-(E=g%85))/85)-(P=g%85))/85)-(b=g%85))/85)%85,l.push(_+33,b+33,P+33,E+33,T+33)):l.push(122);return(function(O,L){for(var N=L;N>0;N--)O.pop()})(l,a.length),String.fromCharCode.apply(String,l)+"~>"},r=function(s){var a,l,c,u,g,_=String,b="length",P=255,E="charCodeAt",T="slice",O="replace";for(s[T](-2),s=s[T](0,-2)[O](/\s/g,"")[O]("z","!!!!!"),c=[],u=0,g=(s+=a="uuuuu"[T](s[b]%5||5))[b];g>u;u+=5)l=52200625*(s[E](u)-33)+614125*(s[E](u+1)-33)+7225*(s[E](u+2)-33)+85*(s[E](u+3)-33)+(s[E](u+4)-33),c.push(P&l>>24,P&l>>16,P&l>>8,P&l);return(function(L,N){for(var D=N;D>0;D--)L.pop()})(c,a[b]),_.fromCharCode.apply(_,c)},n=function(s){return s.split("").map(function(a){return("0"+a.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(s){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),a.test(s)===!1)return"";for(var l="",c=0;c<s.length;c+=2)l+=String.fromCharCode("0x"+(s[c]+s[c+1]));return l},o=function(s){for(var a=new Uint8Array(s.length),l=s.length;l--;)a[l]=s.charCodeAt(l);return(a=BT(a)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};t.processDataByFilters=function(s,a){var l=0,c=s||"",u=[];for(typeof(a=a||[])=="string"&&(a=[a]),l=0;l<a.length;l+=1)switch(a[l]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=i(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=n(c),u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=o(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[l]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}})(Ar.API),(function(t){t.loadFile=function(e,r,n){return(function(i,o,s){o=o!==!1,s=typeof s=="function"?s:function(){};var a=void 0;try{a=(function(l,c,u){var g=new XMLHttpRequest,_=0,b=function(P){var E=P.length,T=[],O=String.fromCharCode;for(_=0;_<E;_+=1)T.push(O(255&P.charCodeAt(_)));return T.join("")};if(g.open("GET",l,!c),g.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(g.onload=function(){g.status===200?u(b(this.responseText)):u(void 0)}),g.send(null),c&&g.status===200)return b(g.responseText)})(i,o,s)}catch{}return a})(e,r,n)},t.allowFsRead=void 0,t.loadImageFile=t.loadFile})(Ar.API),(function(t){function e(){return(Fr.html2canvas?Promise.resolve(Fr.html2canvas):KA(()=>import("./html2canvas.esm-QH1iLAAe.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function r(){return(Fr.DOMPurify?Promise.resolve(Fr.DOMPurify):KA(()=>import("./purify.es-B9ZVCkUG.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var n=function(a){var l=Nn(a);return l==="undefined"?"undefined":l==="string"||a instanceof String?"string":l==="number"||a instanceof Number?"number":l==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(a,l){var c=document.createElement(a);for(var u in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[u]=l.style[u];return c},o=function a(l,c){for(var u=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),g=l.firstChild;g;g=g.nextSibling)c!==!0&&g.nodeType===1&&g.nodeName==="SCRIPT"||u.appendChild(a(g,c));return l.nodeType===1&&(l.nodeName==="CANVAS"?(u.width=l.width,u.height=l.height,u.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(u.value=l.value),u.addEventListener("load",function(){u.scrollTop=l.scrollTop,u.scrollLeft=l.scrollLeft},!0)),u},s=function a(l){var c=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),u=a.convert(Promise.resolve(),c);return(u=u.setProgress(1,a,1,[a])).set(l)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(a,l){return a.__proto__=l||s.prototype,a},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(a,l){return this.then(function(){switch(l=l||(function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(a),l){case"string":return this.then(r).then(function(c){return this.set({src:i("div",{innerHTML:a,dompurify:c})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},s.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var c=this.opt.jsPDF,u=this.opt.fontFaces,g=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,_=Object.assign({async:!0,allowTaint:!0,scale:g,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete _.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var b=0;b<u.length;++b){var P=u[b],E=P.src.find(function(T){return T.format==="truetype"});E&&c.addFont(E.url,P.ref.name,P.ref.style)}return _.windowHeight=_.windowHeight||0,_.windowHeight=_.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):_.windowHeight,c.context2d.save(!0),l(this.prop.container,_)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(a,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(a,l):this.outputPdf(a,l)},s.prototype.outputPdf=function(a,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,l)})},s.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},s.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(a){if(n(a)!=="object")return this;var l=Object.keys(a||{}).map(function(c){if(c in s.template.prop)return function(){this.prop[c]=a[c]};switch(c){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[c]=a[c]}}},this);return this.then(function(){return this.thenList(l)})},s.prototype.get=function(a,l){return this.then(function(){var c=a in s.template.prop?this.prop[a]:this.opt[a];return l?l(c):c})},s.prototype.setMargin=function(a){return this.then(function(){switch(n(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},s.prototype.setPageSize=function(a){function l(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(a=a||Ar.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:l(a.inner.width,a.k),height:l(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},s.prototype.setProgress=function(a,l,c,u){return a!=null&&(this.progress.val=a),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(a,l,c,u){return this.setProgress(a?this.progress.val+a:null,l||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},s.prototype.then=function(a,l){var c=this;return this.thenCore(a,l,function(u,g){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(_){return c.updateProgress(null,u),_}).then(u,g).then(function(_){return c.updateProgress(1),_})})},s.prototype.thenCore=function(a,l,c){c=c||Promise.prototype.then;var u=this;a&&(a=a.bind(u)),l&&(l=l.bind(u));var g=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?u:s.convert(Object.assign({},u),Promise.prototype),_=c.call(g,a,l);return s.convert(_,u.__proto__)},s.prototype.thenExternal=function(a,l){return Promise.prototype.then.call(this,a,l)},s.prototype.thenList=function(a){var l=this;return a.forEach(function(c){l=l.thenCore(c)}),l},s.prototype.catch=function(a){a&&(a=a.bind(this));var l=Promise.prototype.catch.call(this,a);return s.convert(l,this)},s.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},s.prototype.error=function(a){return this.then(function(){throw new Error(a)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Ar.getPageSize=function(a,l,c){if(Nn(a)==="object"){var u=a;a=u.orientation,l=u.unit||l,c=u.format||c}l=l||"mm",c=c||"a4",a=(""+(a||"P")).toLowerCase();var g,_=(""+c).toLowerCase(),b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":g=1;break;case"mm":g=72/25.4;break;case"cm":g=72/2.54;break;case"in":g=72;break;case"px":g=.75;break;case"pc":case"em":g=12;break;case"ex":g=6;break;default:throw"Invalid unit: "+l}var P,E=0,T=0;if(b.hasOwnProperty(_))E=b[_][1]/g,T=b[_][0]/g;else try{E=c[1],T=c[0]}catch{throw new Error("Invalid format: "+c)}if(a==="p"||a==="portrait")a="p",T>E&&(P=T,T=E,E=P);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",E>T&&(P=T,T=E,E=P)}return{width:T,height:E,unit:l,k:g,orientation:a}},t.html=function(a,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(ZS):null;var c=new s(l);return l.worker?c:c.from(a).doCallback()}})(Ar.API),Ar.API.addJS=function(t){return zF=t,this.internal.events.subscribe("postPutResources",function(){g1=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(g1+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),$F=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+zF+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){g1!==void 0&&$F!==void 0&&this.internal.out("/Names <</JavaScript "+g1+" 0 R>>")}),this},(function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),o=0;o<i.length;o++){var s=i[o],a=n.exec(s);if(a!=null){var l=a[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(s)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(o=0;o<c;o++){var g=r.internal.newObject();u.push(g);var _=r.internal.getPageInfo(o+1);r.internal.write("<< /D["+_.objId+" 0 R /XYZ null null null]>> endobj")}var b=r.internal.newObject();for(r.internal.write("<< /Names [ "),o=0;o<u.length;o++)r.internal.write("(page_"+(o+1)+")"+u[o]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+b+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,o){var s={title:i,options:o,children:[]};return n==null&&(n=this.root),n.children.push(s),s},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<n.children.length;o++){var s=n.children[o];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(n)),o>0&&this.line("/Prev "+this.makeRef(n.children[o-1])),o<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[o+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var a=this.count=this.count_r({count:0},s);if(a>0&&this.line("/Count "+a),s.options&&s.options.pageNumber){var l=r.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<n.children.length;c++)this.renderItems(n.children[c])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var o=0;o<i.children.length;o++)n.count++,this.count_r(n,i.children[o]);return n.count}}])})(Ar.API),(function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,i,o,s,a){var l,c=this.decode.DCT_DECODE,u=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=s||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,l=(function(g){for(var _,b=256*g.charCodeAt(4)+g.charCodeAt(5),P=g.length,E={width:0,height:0,numcomponents:1},T=4;T<P;T+=2){if(T+=b,e.indexOf(g.charCodeAt(T+1))!==-1){_=256*g.charCodeAt(T+5)+g.charCodeAt(T+6),E={width:256*g.charCodeAt(T+7)+g.charCodeAt(T+8),height:_,numcomponents:g.charCodeAt(T+9)};break}b=256*g.charCodeAt(T+2)+g.charCodeAt(T+3)}return E})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),l.numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}u={data:r,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:c,index:n,alias:i}}return u}})(Ar.API),Ar.API.processPNG=function(t,e,r,n){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,o=wOe(t,{checkCrc:!0}),s=o.width,a=o.height,l=o.channels,c=o.palette,u=o.depth;i=c&&l===1?(function(Z){for(var G=Z.width,de=Z.height,H=Z.data,ee=Z.palette,ae=Z.depth,le=!1,Te=[],te=[],oe=void 0,K=!1,ge=0,Ee=0;Ee<ee.length;Ee++){var se=qB(ee[Ee],4),$=se[0],ne=se[1],pe=se[2],be=se[3];Te.push($,ne,pe),be!=null&&(be===0?(ge++,te.length<1&&te.push(Ee)):be<255&&(K=!0))}if(K||ge>1){le=!0,te=void 0;var Ie=G*de;oe=new Uint8Array(Ie);for(var De=new DataView(H.buffer),$e=0;$e<Ie;$e++){var Le=e4(De,$e,ae),We=qB(ee[Le],4)[3];oe[$e]=We}}else ge===0&&(te=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:le?8:void 0,colorBytes:H,alphaBytes:oe,needSMask:le,palette:Te,mask:te}})(o):l===2||l===4?(function(Z){for(var G=Z.data,de=Z.width,H=Z.height,ee=Z.channels,ae=Z.depth,le=ee===2?"DeviceGray":"DeviceRGB",Te=ee-1,te=de*H,oe=Te,K=te*oe,ge=1*te,Ee=Math.ceil(K*ae/8),se=Math.ceil(ge*ae/8),$=new Uint8Array(Ee),ne=new Uint8Array(se),pe=new DataView(G.buffer),be=new DataView($.buffer),Ie=new DataView(ne.buffer),De=!1,$e=0;$e<te;$e++){for(var Le=$e*ee,We=0;We<oe;We++)QF(be,e4(pe,Le+We,ae),$e*oe+We,ae);var ft=e4(pe,Le+oe,ae);ft<(1<<ae)-1&&(De=!0),QF(Ie,ft,1*$e,ae)}return{colorSpace:le,colorsPerPixel:Te,sMaskBitsPerComponent:De?ae:void 0,colorBytes:$,alphaBytes:ne,needSMask:De}})(o):(function(Z){var G=Z.data,de=Z.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:de,colorsPerPixel:de==="DeviceGray"?1:3,colorBytes:G instanceof Uint16Array?(function(H){for(var ee=H.length,ae=new Uint8Array(2*ee),le=new DataView(ae.buffer,ae.byteOffset,ae.byteLength),Te=0;Te<ee;Te++)le.setUint16(2*Te,H[Te],!1);return ae})(G):G,needSMask:!1}})(o);var g,_,b,P=i,E=P.colorSpace,T=P.colorsPerPixel,O=P.sMaskBitsPerComponent,L=P.colorBytes,N=P.alphaBytes,D=P.needSMask,B=P.palette,z=P.mask,X=null;return n!==Ar.API.image_compression.NONE&&typeof BT=="function"?(X=(function(Z){var G;switch(Z){case Ar.API.image_compression.FAST:G=11;break;case Ar.API.image_compression.MEDIUM:G=13;break;case Ar.API.image_compression.SLOW:G=14;break;default:G=12}return G})(n),g=this.decode.FLATE_DECODE,_="/Predictor ".concat(X," /Colors ").concat(T," /BitsPerComponent ").concat(u," /Columns ").concat(s),t=qF(L,Math.ceil(s*T*u/8),T,u,n),D&&(b=qF(N,Math.ceil(s*O/8),1,O,n))):(g=void 0,_=void 0,t=L,D&&(b=N)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(b&&this.__addimage__.isArrayBuffer(b)||this.__addimage__.isArrayBufferView(b))&&(b=this.__addimage__.arrayBufferToBinaryString(b)),{alias:r,data:t,index:e,filter:g,decodeParameters:_,transparency:z,palette:B,sMask:b,predictor:X,width:s,height:a,bitsPerComponent:u,sMaskBitsPerComponent:O,colorSpace:E}}},(function(t){t.processGIF89A=function(e,r,n,i){var o=new WOe(e),s=o.width,a=o.height,l=[];o.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:s,height:a},u=new t4(100).encode(c,100);return t.processJPEG.call(this,u,r,n,i)},t.processGIF87A=t.processGIF89A})(Ar.API),fc.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:r,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},fc.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){Kn.log("bit decode error:"+r)}},fc.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var o=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[o>>7-a&1];this.data[s+4*a]=l.blue,this.data[s+4*a+1]=l.green,this.data[s+4*a+2]=l.red,this.data[s+4*a+3]=255}r!==0&&(this.pos+=4-r)}},fc.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<t;i++){var o=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*i*4,a=o>>4,l=15&o,c=this.palette[a];if(this.data[s]=c.blue,this.data[s+1]=c.green,this.data[s+2]=c.red,this.data[s+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[s+4]=c.blue,this.data[s+4+1]=c.green,this.data[s+4+2]=c.red,this.data[s+4+3]=255}e!==0&&(this.pos+=4-e)}},fc.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+4*n;if(i<this.palette.length){var s=this.palette[i];this.data[o]=s.red,this.data[o+1]=s.green,this.data[o+2]=s.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}t!==0&&(this.pos+=4-t)}},fc.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&e)/e*255|0,a=(o>>5&e)/e*255|0,l=(o>>10&e)/e*255|0,c=o>>15?255:0,u=n*this.width*4+4*i;this.data[u]=l,this.data[u+1]=a,this.data[u+2]=s,this.data[u+3]=c}this.pos+=t}},fc.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,o=0;o<this.width;o++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,l=(s>>5&r)/r*255|0,c=(s>>11)/e*255|0,u=i*this.width*4+4*o;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=a,this.data[u+3]=255}this.pos+=t}},fc.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*r;this.data[s]=o,this.data[s+1]=i,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},fc.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*r;this.data[a]=o,this.data[a+1]=i,this.data[a+2]=n,this.data[a+3]=s}},fc.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(e,r,n,i){var o=new fc(e,!1),s=o.width,a=o.height,l={data:o.getData(),width:s,height:a},c=new t4(100).encode(l,100);return t.processJPEG.call(this,c,r,n,i)}})(Ar.API),JF.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(e,r,n,i){var o=new JF(e),s=o.width,a=o.height,l={data:o.getData(),width:s,height:a},c=new t4(100).encode(l,100);return t.processJPEG.call(this,c,r,n,i)}})(Ar.API),Ar.API.processRGBA=function(t,e,r){for(var n=t.data,i=n.length,o=new Uint8Array(i/4*3),s=new Uint8Array(i/4),a=0,l=0,c=0;c<i;c+=4){var u=n[c],g=n[c+1],_=n[c+2],b=n[c+3];o[a++]=u,o[a++]=g,o[a++]=_,s[l++]=b}var P=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:P,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Ar.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},PA=Ar.API,m1=PA.getCharWidthsArray=function(t,e){var r,n,i=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,c=e.kerning?e.kerning:i.metadata.Unicode.kerning,u=c.fof?c.fof:1,g=e.doKerning!==!1,_=0,b=t.length,P=0,E=a[0]||l,T=[];for(r=0;r<b;r++)n=t.charCodeAt(r),typeof i.metadata.widthOfString=="function"?T.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+s*(1e3/o)||0)/1e3):(_=g&&Nn(c[n])==="object"&&!isNaN(parseInt(c[n][P],10))?c[n][P]/u:0,T.push((a[n]||E)/l+_)),P=n;return T},WF=PA.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return PA.processArabic&&(t=PA.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,i)/r:m1.apply(this,arguments).reduce(function(o,s){return o+s},0)},VF=function(t,e,r,n){for(var i=[],o=0,s=t.length,a=0;o!==s&&a+e[o]<r;)a+=e[o],o++;i.push(t.slice(0,o));var l=o;for(a=0;o!==s;)a+e[o]>n&&(i.push(t.slice(l,o)),a=0,l=o),a+=e[o],o++;return l!==o&&i.push(t.slice(l,o)),i},HF=function(t,e,r){r||(r={});var n,i,o,s,a,l,c,u=[],g=[u],_=r.textIndent||0,b=0,P=0,E=t.split(" "),T=m1.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?E[0].length+2:r.lineIndent||0){var O=Array(l).join(" "),L=[];E.map(function(D){(D=D.split(/\s*\n/)).length>1?L=L.concat(D.map(function(B,z){return(z&&B.length?`
`:"")+B})):L.push(D[0])}),E=L,l=WF.apply(this,[O,r])}for(o=0,s=E.length;o<s;o++){var N=0;if(n=E[o],l&&n[0]==`
`&&(n=n.substr(1),N=1),_+b+(P=(i=m1.apply(this,[n,r])).reduce(function(D,B){return D+B},0))>e||N){if(P>e){for(a=VF.apply(this,[n,i,e-(_+b),e]),u.push(a.shift()),u=[a.pop()];a.length;)g.push([a.shift()]);P=i.slice(n.length-(u[0]?u[0].length:0)).reduce(function(D,B){return D+B},0)}else u=[n];g.push(u),_=P+l,b=T}else u.push(n),_+=b+P,b=T}return c=l?function(D,B){return(B?O:"")+D.join(" ")}:function(D){return D.join(" ")},g.map(c)},PA.splitTextToSize=function(t,e,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),o=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var g=this.internal.getFont(u.fontName,u.fontStyle),_="Unicode";return g.metadata[_]?{widths:g.metadata[_].widths||{0:1},kerning:g.metadata[_].kerning||{}}:{font:g.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/i;o.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,o.lineIndent=r.lineIndent;var a,l,c=[];for(a=0,l=n.length;a<l;a++)c=c.concat(HF.apply(this,[n[a],s,o]));return c},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",r="klmnopqrstuvwxyz",n={},i={},o=0;o<16;o++)n[r[o]]=e[o],i[e[o]]=r[o];var s=function(_){return"0x"+parseInt(_,10).toString(16)},a=t.__fontmetrics__.compress=function(_){var b,P,E,T,O=["{"];for(var L in _){if(b=_[L],isNaN(parseInt(L,10))?P="'"+L+"'":(L=parseInt(L,10),P=(P=s(L).slice(2)).slice(0,-1)+i[P.slice(-1)]),typeof b=="number")b<0?(E=s(b).slice(3),T="-"):(E=s(b).slice(2),T=""),E=T+E.slice(0,-1)+i[E.slice(-1)];else{if(Nn(b)!=="object")throw new Error("Don't know what to do with value type "+Nn(b)+".");E=a(b)}O.push(P+E)}return O.push("}"),O.join("")},l=t.__fontmetrics__.uncompress=function(_){if(typeof _!="string")throw new Error("Invalid argument passed to uncompress.");for(var b,P,E,T,O={},L=1,N=O,D=[],B="",z="",X=_.length-1,Z=1;Z<X;Z+=1)(T=_[Z])=="'"?b?(E=b.join(""),b=void 0):b=[]:b?b.push(T):T=="{"?(D.push([N,E]),N={},E=void 0):T=="}"?((P=D.pop())[0][P[1]]=N,E=void 0,N=P[0]):T=="-"?L=-1:E===void 0?n.hasOwnProperty(T)?(B+=n[T],E=parseInt(B,16)*L,L=1,B=""):B+=T:n.hasOwnProperty(T)?(z+=n[T],N[E]=parseInt(z,16)*L,L=1,E=void 0,z=""):z+=T;return O},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},g={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(_){var b=_.font,P=g.Unicode[b.postScriptName];P&&(b.metadata.Unicode={},b.metadata.Unicode.widths=P.widths,b.metadata.Unicode.kerning=P.kerning);var E=u.Unicode[b.postScriptName];E&&(b.metadata.Unicode.encoding=E,b.encoding=E.codePages[0])}])})(Ar.API),(function(t){var e=function(r){for(var n=r.length,i=new Uint8Array(n),o=0;o<n;o++)i[o]=r.charCodeAt(o);return i};t.API.events.push(["addFont",function(r){var n=void 0,i=r.font,o=r.instance;if(!i.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=o.existsFileInVFS(i.postScriptName)===!1?o.loadFile(i.postScriptName):o.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(s,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(D1(a)),s.metadata=t.API.TTFFont.open(a),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(i,n)}}])})(Ar),Ar.API.addSvgAsImage=function(t,e,r,n,i,o,s,a){if(isNaN(e)||isNaN(r))throw Kn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw Kn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=n,l.height=i;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},g=this;return(Fr.canvg?Promise.resolve(Fr.canvg):KA(()=>import("./index.es-DAEcNHl3.js"),[])).catch(function(_){return Promise.reject(new Error("Could not load canvg: "+_))}).then(function(_){return _.default?_.default:_}).then(function(_){return _.fromString(c,t,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(_){return _.render(u)}).then(function(){g.addImage(l.toDataURL("image/jpeg",1),e,r,n,i,s,a)})},Ar.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,r);return this},Ar.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,i,o,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(s),l=[],c=0,u=0,g=0;function _(P,E){var T,O=!1;for(T=0;T<P.length;T+=1)P[T]===E&&(O=!0);return O}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var b=a.length;for(g=0;g<b;g+=1)r[a[g]].value=r[a[g]].defaultValue,r[a[g]].explicitSet=!1}if(Nn(t)==="object"){for(i in t)if(o=t[i],_(a,i)&&o!==void 0){if(r[i].type==="boolean"&&typeof o=="boolean")r[i].value=o;else if(r[i].type==="name"&&_(r[i].valueSet,o))r[i].value=o;else if(r[i].type==="integer"&&Number.isInteger(o))r[i].value=o;else if(r[i].type==="array"){for(c=0;c<o.length;c+=1)if(n=!0,o[c].length===1&&typeof o[c][0]=="number")l.push(String(o[c]-1));else if(o[c].length>1){for(u=0;u<o[c].length;u+=1)typeof o[c][u]!="number"&&(n=!1);n===!0&&l.push([o[c][0]-1,o[c][1]-1].join(" "))}r[i].value="["+l.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var P,E=[];for(P in r)r[P].explicitSet===!0&&(r[P].type==="name"?E.push("/"+P+" /"+r[P].value):E.push("/"+P+" "+r[P].value));E.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+E.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},(function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(n)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=o.length+s.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+o+s+a+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}})(Ar.API),(function(t){var e=t.API,r=e.pdfEscape16=function(o,s){for(var a,l=s.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],g=0,_=o.length;g<_;++g){if(a=s.metadata.characterToGlyph(o.charCodeAt(g)),s.metadata.glyIdsUsed.push(a),s.metadata.toUnicode[a]=o.charCodeAt(g),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(s.metadata.widthOfGlyph(a),10)])),a=="0")return u.join("");a=a.toString(16),u.push(c[4-a.length],a)}return u.join("")},n=function(o){var s,a,l,c,u,g,_;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],g=0,_=(a=Object.keys(o).sort(function(b,P){return b-P})).length;g<_;g++)s=a[g],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),o[s]!==void 0&&o[s]!==null&&typeof o[s].toString=="function"&&(c=("0000"+o[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),l.push("<"+s+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(s){var a=s.font,l=s.out,c=s.newObject,u=s.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="Identity-H"){for(var g=a.metadata.Unicode.widths,_=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),b="",P=0;P<_.length;P++)b+=String.fromCharCode(_[P]);var E=c();u({data:b,addLength1:!0,objectId:E}),l("endobj");var T=c();u({data:n(a.metadata.toUnicode),addLength1:!0,objectId:T}),l("endobj");var O=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+NA(a.fontName)),l("/FontFile2 "+E+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var L=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+NA(a.fontName)),l("/FontDescriptor "+O+" 0 R"),l("/W "+t.API.PDFObject.convert(g)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+T+" 0 R"),l("/BaseFont /"+NA(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+L+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(s){var a=s.font,l=s.out,c=s.newObject,u=s.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var g=a.metadata.rawData,_="",b=0;b<g.length;b++)_+=String.fromCharCode(g[b]);var P=c();u({data:_,addLength1:!0,objectId:P}),l("endobj");var E=c();u({data:n(a.metadata.toUnicode),addLength1:!0,objectId:E}),l("endobj");var T=c();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+P+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+NA(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=c();for(var O=0;O<a.metadata.hmtx.widths.length;O++)a.metadata.hmtx.widths[O]=parseInt(a.metadata.hmtx.widths[O]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+E+" 0 R/BaseFont/"+NA(a.fontName)+"/FontDescriptor "+T+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(o)}]);var i=function(o){var s,a=o.text||"",l=o.x,c=o.y,u=o.options||{},g=o.mutex||{},_=g.pdfEscape,b=g.activeFontKey,P=g.fonts,E=b,T="",O=0,L="",N=P[E].encoding;if(P[E].encoding!=="Identity-H")return{text:a,x:l,y:c,options:u,mutex:g};for(L=a,E=b,Array.isArray(a)&&(L=a[0]),O=0;O<L.length;O+=1)P[E].metadata.hasOwnProperty("cmap")&&(s=P[E].metadata.cmap.unicode.codeMap[L[O].charCodeAt(0)]),s||L[O].charCodeAt(0)<256&&P[E].metadata.hasOwnProperty("Unicode")?T+=L[O]:T+="";var D="";return parseInt(E.slice(1))<14||N==="WinAnsiEncoding"?D=_(T,E).split("").map(function(B){return B.charCodeAt(0).toString(16)}).join(""):N==="Identity-H"&&(D=r(T,P[E])),g.isHex=!0,{text:D,x:l,y:c,options:u,mutex:g}};e.events.push(["postProcessText",function(o){var s=o.text||"",a=[],l={text:s,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(s)){var c=0;for(c=0;c<s.length;c+=1)Array.isArray(s[c])&&s[c].length===3?a.push([i(Object.assign({},l,{text:s[c][0]})).text,s[c][1],s[c][2]]):a.push(i(Object.assign({},l,{text:s[c]})).text);o.text=a}else o.text=i(Object.assign({},l,{text:s})).text}])})(Ar),(function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(Ar.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var i,o,s,a,l,c,u,g=e,_=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],b=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],P={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},E={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},T=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],O=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),L=!1,N=0;this.__bidiEngine__={};var D=function(H){var ee=H.charCodeAt(),ae=ee>>8,le=E[ae];return le!==void 0?g[256*le+(255&ee)]:ae===252||ae===253?"AL":O.test(ae)?"L":ae===8?"R":"N"},B=function(H){for(var ee,ae=0;ae<H.length;ae++){if((ee=D(H.charAt(ae)))==="L")return!1;if(ee==="R")return!0}return!1},z=function(H,ee,ae,le){var Te,te,oe,K,ge=ee[le];switch(ge){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":L=!1;break;case"N":case"AN":break;case"EN":L&&(ge="AN");break;case"AL":L=!0,ge="R";break;case"WS":case"BN":ge="N";break;case"CS":le<1||le+1>=ee.length||(Te=ae[le-1])!=="EN"&&Te!=="AN"||(te=ee[le+1])!=="EN"&&te!=="AN"?ge="N":L&&(te="AN"),ge=te===Te?te:"N";break;case"ES":ge=(Te=le>0?ae[le-1]:"B")==="EN"&&le+1<ee.length&&ee[le+1]==="EN"?"EN":"N";break;case"ET":if(le>0&&ae[le-1]==="EN"){ge="EN";break}if(L){ge="N";break}for(oe=le+1,K=ee.length;oe<K&&ee[oe]==="ET";)oe++;ge=oe<K&&ee[oe]==="EN"?"EN":"N";break;case"NSM":if(s&&!a){for(K=ee.length,oe=le+1;oe<K&&ee[oe]==="NSM";)oe++;if(oe<K){var Ee=H[le],se=Ee>=1425&&Ee<=2303||Ee===64286;if(Te=ee[oe],se&&(Te==="R"||Te==="AL")){ge="R";break}}}ge=le<1||(Te=ee[le-1])==="B"?"N":ae[le-1];break;case"B":L=!1,i=!0,ge=N;break;case"S":o=!0,ge="N"}return ge},X=function(H,ee,ae){var le=H.split("");return ae&&Z(le,ae,{hiLevel:N}),le.reverse(),ee&&ee.reverse(),le.join("")},Z=function(H,ee,ae){var le,Te,te,oe,K,ge=-1,Ee=H.length,se=0,$=[],ne=N?b:_,pe=[];for(L=!1,i=!1,o=!1,Te=0;Te<Ee;Te++)pe[Te]=D(H[Te]);for(te=0;te<Ee;te++){if(K=se,$[te]=z(H,pe,$,te),le=240&(se=ne[K][P[$[te]]]),se&=15,ee[te]=oe=ne[se][5],le>0)if(le===16){for(Te=ge;Te<te;Te++)ee[Te]=1;ge=-1}else ge=-1;if(ne[se][6])ge===-1&&(ge=te);else if(ge>-1){for(Te=ge;Te<te;Te++)ee[Te]=oe;ge=-1}pe[te]==="B"&&(ee[te]=0),ae.hiLevel|=oe}o&&(function(be,Ie,De){for(var $e=0;$e<De;$e++)if(be[$e]==="S"){Ie[$e]=N;for(var Le=$e-1;Le>=0&&be[Le]==="WS";Le--)Ie[Le]=N}})(pe,ee,Ee)},G=function(H,ee,ae,le,Te){if(!(Te.hiLevel<H)){if(H===1&&N===1&&!i)return ee.reverse(),void(ae&&ae.reverse());for(var te,oe,K,ge,Ee=ee.length,se=0;se<Ee;){if(le[se]>=H){for(K=se+1;K<Ee&&le[K]>=H;)K++;for(ge=se,oe=K-1;ge<oe;ge++,oe--)te=ee[ge],ee[ge]=ee[oe],ee[oe]=te,ae&&(te=ae[ge],ae[ge]=ae[oe],ae[oe]=te);se=K}se++}}},de=function(H,ee,ae){var le=H.split(""),Te={hiLevel:N};return ae||(ae=[]),Z(le,ae,Te),(function(te,oe,K){if(K.hiLevel!==0&&u)for(var ge,Ee=0;Ee<te.length;Ee++)oe[Ee]===1&&(ge=T.indexOf(te[Ee]))>=0&&(te[Ee]=T[ge+1])})(le,ae,Te),G(2,le,ee,ae,Te),G(1,le,ee,ae,Te),le.join("")};return this.__bidiEngine__.doBidiReorder=function(H,ee,ae){if((function(Te,te){if(te)for(var oe=0;oe<Te.length;oe++)te[oe]=oe;a===void 0&&(a=B(Te)),c===void 0&&(c=B(Te))})(H,ee),s||!l||c)if(s&&l&&a^c)N=a?1:0,H=X(H,ee,ae);else if(!s&&l&&c)N=a?1:0,H=de(H,ee,ae),H=X(H,ee);else if(!s||a||l||c){if(s&&!l&&a^c)H=X(H,ee),a?(N=0,H=de(H,ee,ae)):(N=1,H=de(H,ee,ae),H=X(H,ee));else if(s&&a&&!l&&c)N=1,H=de(H,ee,ae),H=X(H,ee);else if(!s&&!l&&a^c){var le=u;a?(N=1,H=de(H,ee,ae),N=0,u=!1,H=de(H,ee,ae),u=le):(N=0,H=de(H,ee,ae),H=X(H,ee),N=1,u=!1,H=de(H,ee,ae),u=le,H=X(H,ee))}}else N=0,H=de(H,ee,ae);else N=a?1:0,H=de(H,ee,ae);return H},this.__bidiEngine__.setOptions=function(H){H&&(s=H.isInputVisual,l=H.isOutputVisual,a=H.isInputRtl,c=H.isOutputRtl,u=H.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var o=n.options||{};n.mutex,o.lang;var s=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,r.setOptions(o),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(s=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?s.push([r.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):s.push([r.doBidiReorder(i[a])]);n.text=s}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])})(Ar),Ar.API.TTFFont=(function(){function t(e){var r;if(this.rawData=e,r=this.contents=new ph(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new iRe(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new VOe(this.contents),this.head=new qOe(this),this.name=new QOe(this),this.cmap=new lX(this),this.toUnicode={},this.hhea=new XOe(this),this.maxp=new ZOe(this),this.hmtx=new JOe(this),this.post=new KOe(this),this.os2=new YOe(this),this.loca=new nRe(this),this.glyf=new eRe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,i,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,a,l,c;for(c=[],s=0,a=(l=this.bbox).length;s<a;s++)e=l[s],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var i,o,s,a;for(s=0,o=0,a=(e=""+e).length;0<=a?o<a:o>a;o=0<=a?++o:--o)i=e.charCodeAt(o),s+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return s*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t})();var Rc,ph=(function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,i;for(i=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(e.charCodeAt(r)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,i,o,s,a,l;return e=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),o=this.readByte(),s=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^o)+65536*(255^s)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*i+16777216*o+65536*s+256*a+l},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,i,o;for(o=[],n=0,i=e.length;n<i;n++)r=e[n],o.push(this.writeByte(r));return o},t})(),VOe=(function(){var t;function e(r){var n,i,o;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,o=this.tableCount;0<=o?i<o:i>o;i=0<=o?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,i,o,s,a,l,c,u,g,_,b,P,E;for(E in b=Object.keys(r).length,l=Math.log(2),g=16*Math.floor(Math.log(b)/l),s=Math.floor(g/l),u=16*b-g,(i=new ph).writeInt(this.scalarType),i.writeShort(b),i.writeShort(g),i.writeShort(s),i.writeShort(u),o=16*b,c=i.pos+o,a=null,P=[],r)for(_=r[E],i.writeString(E),i.writeInt(t(_)),i.writeInt(c),i.writeInt(_.length),P=P.concat(_),E==="head"&&(a=c),c+=_.length;c%4;)P.push(0),c++;return i.write(P),n=2981146554-t(i.data),i.pos=a+8,i.writeUInt32(n),i.data},t=function(r){var n,i,o,s;for(r=cX.call(r);r.length%4;)r.push(0);for(o=new ph(r),i=0,n=0,s=r.length;n<s;n=n+=4)i+=o.readUInt32();return 4294967295&i},e})(),HOe={}.hasOwnProperty,Tu=function(t,e){for(var r in e)HOe.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};Rc=(function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var qOe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Tu(t,Rc),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var r;return(r=new ph).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},t})(),ej=(function(){function t(e,r){var n,i,o,s,a,l,c,u,g,_,b,P,E,T,O,L,N;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),g=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(b=e.readUInt16(),_=b/2,e.pos+=6,o=(function(){var D,B;for(B=[],l=D=0;0<=_?D<_:D>_;l=0<=_?++D:--D)B.push(e.readUInt16());return B})(),e.pos+=2,E=(function(){var D,B;for(B=[],l=D=0;0<=_?D<_:D>_;l=0<=_?++D:--D)B.push(e.readUInt16());return B})(),c=(function(){var D,B;for(B=[],l=D=0;0<=_?D<_:D>_;l=0<=_?++D:--D)B.push(e.readUInt16());return B})(),u=(function(){var D,B;for(B=[],l=D=0;0<=_?D<_:D>_;l=0<=_?++D:--D)B.push(e.readUInt16());return B})(),i=(this.length-e.pos+this.offset)/2,a=(function(){var D,B;for(B=[],l=D=0;0<=i?D<i:D>i;l=0<=i?++D:--D)B.push(e.readUInt16());return B})(),l=O=0,N=o.length;O<N;l=++O)for(T=o[l],n=L=P=E[l];P<=T?L<=T:L>=T;n=P<=T?++L:--L)u[l]===0?s=n+c[l]:(s=a[u[l]/2+(n-P)-(_-l)]||0)!==0&&(s+=c[l]),this.codeMap[n]=65535&s}e.pos=g}return t.encode=function(e,r){var n,i,o,s,a,l,c,u,g,_,b,P,E,T,O,L,N,D,B,z,X,Z,G,de,H,ee,ae,le,Te,te,oe,K,ge,Ee,se,$,ne,pe,be,Ie,De,$e,Le,We,ft,tt;switch(le=new ph,s=Object.keys(e).sort(function(xt,Tt){return xt-Tt}),r){case"macroman":for(E=0,T=(function(){var xt=[];for(P=0;P<256;++P)xt.push(0);return xt})(),L={0:0},o={},Te=0,ge=s.length;Te<ge;Te++)L[Le=e[i=s[Te]]]==null&&(L[Le]=++E),o[i]={old:e[i],new:L[e[i]]},T[i]=L[e[i]];return le.writeUInt16(1),le.writeUInt16(0),le.writeUInt32(12),le.writeUInt16(0),le.writeUInt16(262),le.writeUInt16(0),le.write(T),{charMap:o,subtable:le.data,maxGlyphID:E+1};case"unicode":for(ee=[],g=[],N=0,L={},n={},O=c=null,te=0,Ee=s.length;te<Ee;te++)L[B=e[i=s[te]]]==null&&(L[B]=++N),n[i]={old:B,new:L[B]},a=L[B]-i,O!=null&&a===c||(O&&g.push(O),ee.push(i),c=a),O=i;for(O&&g.push(O),g.push(65535),ee.push(65535),de=2*(G=ee.length),Z=2*Math.pow(Math.log(G)/Math.LN2,2),_=Math.log(Z/2)/Math.LN2,X=2*G-Z,l=[],z=[],b=[],P=oe=0,se=ee.length;oe<se;P=++oe){if(H=ee[P],u=g[P],H===65535){l.push(0),z.push(0);break}if(H-(ae=n[H].new)>=32768)for(l.push(0),z.push(2*(b.length+G-P)),i=K=H;H<=u?K<=u:K>=u;i=H<=u?++K:--K)b.push(n[i].new);else l.push(ae-H),z.push(0)}for(le.writeUInt16(3),le.writeUInt16(1),le.writeUInt32(12),le.writeUInt16(4),le.writeUInt16(16+8*G+2*b.length),le.writeUInt16(0),le.writeUInt16(de),le.writeUInt16(Z),le.writeUInt16(_),le.writeUInt16(X),De=0,$=g.length;De<$;De++)i=g[De],le.writeUInt16(i);for(le.writeUInt16(0),$e=0,ne=ee.length;$e<ne;$e++)i=ee[$e],le.writeUInt16(i);for(We=0,pe=l.length;We<pe;We++)a=l[We],le.writeUInt16(a);for(ft=0,be=z.length;ft<be;ft++)D=z[ft],le.writeUInt16(D);for(tt=0,Ie=b.length;tt<Ie;tt++)E=b[tt],le.writeUInt16(E);return{charMap:n,subtable:le.data,maxGlyphID:N+1}}},t})(),lX=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Tu(t,Rc),t.prototype.tag="cmap",t.prototype.parse=function(e){var r,n,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)r=new ej(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(e,r){var n,i;return r==null&&(r="macroman"),n=ej.encode(e,r),(i=new ph).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},t})(),XOe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Tu(t,Rc),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t})(),YOe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Tu(t,Rc),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var r,n;for(n=[],r=0;r<10;++r)n.push(e.readByte());return n})(),this.charRange=(function(){var r,n;for(n=[],r=0;r<4;++r)n.push(e.readInt());return n})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(e.readInt());return n})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t})(),KOe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Tu(t,Rc),t.prototype.tag="post",t.prototype.parse=function(e){var r,n,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(n=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)r=e.readByte(),i.push(this.names.push(e.readString(r)));return i;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var s,a,l;for(l=[],o=s=0,a=this.file.maxp.numGlyphs;0<=a?s<a:s>a;o=0<=a?++s:--s)l.push(e.readUInt32());return l}).call(this)}},t})(),GOe=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},QOe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Tu(t,Rc),t.prototype.tag="name",t.prototype.parse=function(e){var r,n,i,o,s,a,l,c,u,g,_;for(e.pos=this.offset,e.readShort(),r=e.readShort(),a=e.readShort(),n=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+a+e.readShort()});for(l={},o=u=0,g=n.length;u<g;o=++u)i=n[o],e.pos=i.offset,c=e.readString(i.length),s=new GOe(c,i),l[_=i.nameID]==null&&(l[_]=[]),l[i.nameID].push(s);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t})(),ZOe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Tu(t,Rc),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t})(),JOe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Tu(t,Rc),t.prototype.tag="hmtx",t.prototype.parse=function(e){var r,n,i,o,s,a,l;for(e.pos=this.offset,this.metrics=[],r=0,a=this.file.hhea.numberOfMetrics;0<=a?r<a:r>a;r=0<=a?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var c,u;for(u=[],r=c=0;0<=i?c<i:c>i;r=0<=i?++c:--c)u.push(e.readInt16());return u})(),this.widths=(function(){var c,u,g,_;for(_=[],c=0,u=(g=this.metrics).length;c<u;c++)o=g[c],_.push(o.advance);return _}).call(this),n=this.widths[this.widths.length-1],l=[],r=s=0;0<=i?s<i:s>i;r=0<=i?++s:--s)l.push(this.widths.push(n));return l},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t})(),cX=[].slice,eRe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Tu(t,Rc),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var r,n,i,o,s,a,l,c,u,g;return e in this.cache?this.cache[e]:(o=this.file.loca,r=this.file.contents,n=o.indexOf(e),(i=o.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+n,s=(a=new ph(r.read(i))).readShort(),c=a.readShort(),g=a.readShort(),l=a.readShort(),u=a.readShort(),this.cache[e]=s===-1?new rRe(a,c,g,l,u):new tRe(a,s,c,g,l,u),this.cache[e]))},t.prototype.encode=function(e,r,n){var i,o,s,a,l;for(s=[],o=[],a=0,l=r.length;a<l;a++)i=e[r[a]],o.push(s.length),i&&(s=s.concat(i.encode(n)));return o.push(s.length),{table:s,offsets:o}},t})(),tRe=(function(){function t(e,r,n,i,o,s){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=o,this.yMax=s,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),rRe=(function(){function t(e,r,n,i,o){var s,a;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;a=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&a;)s.pos+=1&a?4:2,128&a?s.pos+=8:64&a?s.pos+=4:8&a&&(s.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new ph(cX.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t})(),nRe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Tu(t,Rc),t.prototype.tag="loca",t.prototype.parse=function(e){var r,n;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,o;for(o=[],n=0,i=this.length;n<i;n+=2)o.push(2*e.readUInt16());return o}).call(this):(function(){var i,o;for(o=[],n=0,i=this.length;n<i;n+=4)o.push(e.readUInt32());return o}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,r){for(var n=new Uint32Array(this.offsets.length),i=0,o=0,s=0;s<n.length;++s)if(n[s]=i,o<r.length&&r[o]==s){++o,n[s]=i;var a=this.offsets[s],l=this.offsets[s+1]-a;l>0&&(i+=l)}for(var c=new Array(4*n.length),u=0;u<n.length;++u)c[4*u+3]=255&n[u],c[4*u+2]=(65280&n[u])>>8,c[4*u+1]=(16711680&n[u])>>16,c[4*u]=(4278190080&n[u])>>24;return c},t})(),iRe=(function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,i,o;for(r in i=this.font.cmap.tables[0].codeMap,e={},o=this.subset)n=o[r],e[r]=i[n];return e},t.prototype.glyphsFor=function(e){var r,n,i,o,s,a,l;for(i={},s=0,a=e.length;s<a;s++)i[o=e[s]]=this.font.glyf.glyphFor(o);for(o in r=[],i)(n=i[o])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(o in l=this.glyphsFor(r))n=l[o],i[o]=n;return i},t.prototype.encode=function(e,r){var n,i,o,s,a,l,c,u,g,_,b,P,E,T,O;for(i in n=lX.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),b={0:0},O=n.charMap)b[(l=O[i]).old]=l.new;for(P in _=n.maxGlyphID,s)P in b||(b[P]=_++);return u=(function(L){var N,D;for(N in D={},L)D[L[N]]=N;return D})(b),g=Object.keys(u).sort(function(L,N){return L-N}),E=(function(){var L,N,D;for(D=[],L=0,N=g.length;L<N;L++)a=g[L],D.push(u[a]);return D})(),o=this.font.glyf.encode(s,E,b),c=this.font.loca.encode(o.offsets,E),T={cmap:this.font.cmap.raw(),glyf:o.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(T["OS/2"]=this.font.os2.raw()),this.font.directory.encode(T)},t})();Ar.API.PDFObject=(function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,i,o,s;if(Array.isArray(r))return"["+(function(){var a,l,c;for(c=[],a=0,l=r.length;a<l;a++)n=r[a],c.push(e.convert(n));return c})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in o=["<<"],r)s=r[i],o.push("/"+i+" "+e.convert(s));return o.push(">>"),o.join(`
`)}return""+r},e})();function uX(t,e,r,n,i){n=n||{};var o=1.15,s=i.internal.scaleFactor,a=i.internal.getFontSize()/s,l=i.getLineHeightFactor?i.getLineHeightFactor():o,c=a*l,u=/\r\n|\r|\n/g,g="",_=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(g=typeof t=="string"?t.split(u):t,_=g.length||1),r+=a*(2-o),n.valign==="middle"?r-=_/2*c:n.valign==="bottom"&&(r-=_*c),n.halign==="center"||n.halign==="right"){var b=a;if(n.halign==="center"&&(b*=.5),g&&_>=1){for(var P=0;P<g.length;P++)i.text(g[P],e-i.getStringUnitWidth(g[P])*b,r),r+=c;return i}e-=i.getStringUnitWidth(t)*b}return n.halign==="justify"?i.text(t,e,r,{maxWidth:n.maxWidth||100,align:"justify"}):i.text(t,e,r),i}var tj={},i0=(function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=e:tj=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,r){var n,i,o;r===void 0&&(r=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var s=this.jsPDFDocument.internal.getFont(),a=s.fontStyle,l=s.fontName;if(e.font&&(l=e.font),e.fontStyle){a=e.fontStyle;var c=this.getFontList()[l];c&&c.indexOf(a)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(c[0]),a=c[0])}if(this.jsPDFDocument.setFont(l,a),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!r){var u=t.unifyColor(e.fillColor);u&&(n=this.jsPDFDocument).setFillColor.apply(n,u),u=t.unifyColor(e.textColor),u&&(i=this.jsPDFDocument).setTextColor.apply(i,u),u=t.unifyColor(e.lineColor),u&&(o=this.jsPDFDocument).setDrawColor.apply(o,u),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,r,n){return this.jsPDFDocument.splitTextToSize(e,r,n)},t.prototype.rect=function(e,r,n,i,o){return this.jsPDFDocument.rect(e,r,n,i,o)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return tj||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t})(),HT=function(t,e){return HT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},HT(t,e)};function fX(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");HT(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var hX=(function(t){fX(e,t);function e(r){var n=t.call(this)||this;return n._element=r,n}return e})(Array);function oRe(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function sRe(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function S2(t,e,r){r.applyStyles(e,!0);var n=Array.isArray(t)?t:[t],i=n.map(function(o){return r.getTextWidth(o)}).reduce(function(o,s){return Math.max(o,s)},0);return i}function dX(t,e,r,n){var i=e.settings.tableLineWidth,o=e.settings.tableLineColor;t.applyStyles({lineWidth:i,lineColor:o});var s=AX(i,!1);s&&t.rect(r.x,r.y,e.getWidth(t.pageSize().width),n.y-r.y,s)}function AX(t,e){var r=t>0,n=e||e===0;return r&&n?"DF":r?"S":n?"F":null}function Xb(t,e){var r,n,i,o;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(r=t.left)!==null&&r!==void 0?r:e,top:(n=t.top)!==null&&n!==void 0?n:e,right:(i=t.right)!==null&&i!==void 0?i:e,bottom:(o=t.bottom)!==null&&o!==void 0?o:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function pX(t,e){var r=Xb(e.settings.margin,0);return t.pageSize().width-(r.left+r.right)}function aRe(t,e,r,n,i){var o={},s=1.3333333333333333,a=r4(e,function(N){return i.getComputedStyle(N).backgroundColor});a!=null&&(o.fillColor=a);var l=r4(e,function(N){return i.getComputedStyle(N).color});l!=null&&(o.textColor=l);var c=cRe(n,r);c&&(o.cellPadding=c);var u="borderTopColor",g=s*r,_=n.borderTopWidth;if(n.borderBottomWidth===_&&n.borderRightWidth===_&&n.borderLeftWidth===_){var b=(parseFloat(_)||0)/g;b&&(o.lineWidth=b)}else o.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/g,right:(parseFloat(n.borderRightWidth)||0)/g,bottom:(parseFloat(n.borderBottomWidth)||0)/g,left:(parseFloat(n.borderLeftWidth)||0)/g},o.lineWidth.top||(o.lineWidth.right?u="borderRightColor":o.lineWidth.bottom?u="borderBottomColor":o.lineWidth.left&&(u="borderLeftColor"));var P=r4(e,function(N){return i.getComputedStyle(N)[u]});P!=null&&(o.lineColor=P);var E=["left","right","center","justify"];E.indexOf(n.textAlign)!==-1&&(o.halign=n.textAlign),E=["middle","bottom","top"],E.indexOf(n.verticalAlign)!==-1&&(o.valign=n.verticalAlign);var T=parseInt(n.fontSize||"");isNaN(T)||(o.fontSize=T/s);var O=lRe(n);O&&(o.fontStyle=O);var L=(n.fontFamily||"").toLowerCase();return t.indexOf(L)!==-1&&(o.font=L),o}function lRe(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function r4(t,e){var r=gX(t,e);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var i=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],o=parseInt(n[4]);return o===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function gX(t,e){var r=e(t);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?t.parentElement==null?null:gX(t.parentElement,e):r}function cRe(t,e){var r=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],n=96/(72/e),i=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,o=r.map(function(a){return parseInt(a||"0")/n}),s=Xb(o,0);return i>s.top&&(s.top=i),i>s.bottom&&(s.bottom=i),s}function mX(t,e,r,n,i){var o,s;n===void 0&&(n=!1),i===void 0&&(i=!1);var a;typeof e=="string"?a=r.document.querySelector(e):a=e;var l=Object.keys(t.getFontList()),c=t.scaleFactor(),u=[],g=[],_=[];if(!a)return console.error("Html table could not be found with input: ",e),{head:u,body:g,foot:_};for(var b=0;b<a.rows.length;b++){var P=a.rows[b],E=(s=(o=P==null?void 0:P.parentElement)===null||o===void 0?void 0:o.tagName)===null||s===void 0?void 0:s.toLowerCase(),T=uRe(l,c,r,P,n,i);T&&(E==="thead"?u.push(T):E==="tfoot"?_.push(T):g.push(T))}return{head:u,body:g,foot:_}}function uRe(t,e,r,n,i,o){for(var s=new hX(n),a=0;a<n.cells.length;a++){var l=n.cells[a],c=r.getComputedStyle(l);if(i||c.display!=="none"){var u=void 0;o&&(u=aRe(t,l,e,c,r)),s.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:u,_element:l,content:fRe(l)})}}var g=r.getComputedStyle(n);if(s.length>0&&(i||g.display!=="none"))return s}function fRe(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),e.innerText||e.textContent||""}function hRe(t,e,r){for(var n=0,i=[t,e,r];n<i.length;n++){var o=i[n];o&&typeof o!="object"&&console.error("The options parameter should be of type object, is: "+typeof o),o.startY&&typeof o.startY!="number"&&(console.error("Invalid value for startY option",o.startY),delete o.startY)}}function Zu(t,e,r,n,i){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(t),s=1;s<arguments.length;s++){var a=arguments[s];if(a!=null)for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(o[l]=a[l])}return o}function vX(t,e){var r=new i0(t),n=r.getDocumentOptions(),i=r.getGlobalOptions();hRe(i,n,e);var o=Zu({},i,n,e),s;typeof window<"u"&&(s=window);var a=dRe(i,n,e),l=ARe(i,n,e),c=pRe(r,o),u=mRe(r,o,s);return{id:e.tableId,content:u,hooks:l,styles:a,settings:c}}function dRe(t,e,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(l){if(l==="columnStyles"){var c=t[l],u=e[l],g=r[l];n.columnStyles=Zu({},c,u,g)}else{var _=[t,e,r],b=_.map(function(P){return P[l]||{}});n[l]=Zu({},b[0],b[1],b[2])}},o=0,s=Object.keys(n);o<s.length;o++){var a=s[o];i(a)}return n}function ARe(t,e,r){for(var n=[t,e,r],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},o=0,s=n;o<s.length;o++){var a=s[o];a.didParseCell&&i.didParseCell.push(a.didParseCell),a.willDrawCell&&i.willDrawCell.push(a.willDrawCell),a.didDrawCell&&i.didDrawCell.push(a.didDrawCell),a.willDrawPage&&i.willDrawPage.push(a.willDrawPage),a.didDrawPage&&i.didDrawPage.push(a.didDrawPage)}return i}function pRe(t,e){var r,n,i,o,s,a,l,c,u,g,_,b,P=Xb(e.margin,40/t.scaleFactor()),E=(r=gRe(t,e.startY))!==null&&r!==void 0?r:P.top,T;e.showFoot===!0?T="everyPage":e.showFoot===!1?T="never":T=(n=e.showFoot)!==null&&n!==void 0?n:"everyPage";var O;e.showHead===!0?O="everyPage":e.showHead===!1?O="never":O=(i=e.showHead)!==null&&i!==void 0?i:"everyPage";var L=(o=e.useCss)!==null&&o!==void 0?o:!1,N=e.theme||(L?"plain":"striped"),D=!!e.horizontalPageBreak,B=(s=e.horizontalPageBreakRepeat)!==null&&s!==void 0?s:null;return{includeHiddenHtml:(a=e.includeHiddenHtml)!==null&&a!==void 0?a:!1,useCss:L,theme:N,startY:E,margin:P,pageBreak:(l=e.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(c=e.rowPageBreak)!==null&&c!==void 0?c:"auto",tableWidth:(u=e.tableWidth)!==null&&u!==void 0?u:"auto",showHead:O,showFoot:T,tableLineWidth:(g=e.tableLineWidth)!==null&&g!==void 0?g:0,tableLineColor:(_=e.tableLineColor)!==null&&_!==void 0?_:200,horizontalPageBreak:D,horizontalPageBreakRepeat:B,horizontalPageBreakBehaviour:(b=e.horizontalPageBreakBehaviour)!==null&&b!==void 0?b:"afterAllRows"}}function gRe(t,e){var r=t.getLastAutoTable(),n=t.scaleFactor(),i=t.pageNumber(),o=!1;if(r&&r.startPageNumber){var s=r.startPageNumber+r.pageNumber-1;o=s===i}return typeof e=="number"?e:(e==null||e===!1)&&o&&(r==null?void 0:r.finalY)!=null?r.finalY+20/n:null}function mRe(t,e,r){var n=e.head||[],i=e.body||[],o=e.foot||[];if(e.html){var s=e.includeHiddenHtml;if(r){var a=mX(t,e.html,r,s,e.useCss)||{};n=a.head||n,i=a.body||n,o=a.foot||n}else console.error("Cannot parse html in non browser environment")}var l=e.columns||vRe(n,i,o);return{columns:l,head:n,body:i,foot:o}}function vRe(t,e,r){var n=t[0]||e[0]||r[0]||[],i=[];return Object.keys(n).filter(function(o){return o!=="_element"}).forEach(function(o){var s=1,a;Array.isArray(n)?a=n[parseInt(o)]:a=n[o],typeof a=="object"&&!Array.isArray(a)&&(s=(a==null?void 0:a.colSpan)||1);for(var l=0;l<s;l++){var c=void 0;Array.isArray(n)?c=i.length:c=o+(l>0?"_".concat(l):"");var u={dataKey:c};i.push(u)}}),i}var qT=(function(){function t(e,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=e.getDocument()}return t})(),yRe=(function(t){fX(e,t);function e(r,n,i,o,s,a){var l=t.call(this,r,n,a)||this;return l.cell=i,l.row=o,l.column=s,l.section=o.section,l}return e})(qT),bRe=(function(){function t(e,r){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,r,n,i,o,s){for(var a=0,l=r;a<l.length;a++){var c=l[a],u=new yRe(e,this,n,i,o,s),g=c(u)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],g)return!1}return!0},t.prototype.callEndPageHooks=function(e,r){e.applyStyles(e.userStyles);for(var n=0,i=this.hooks.didDrawPage;n<i.length;n++){var o=i[n];o(new qT(e,this,r))}},t.prototype.callWillDrawPageHooks=function(e,r){for(var n=0,i=this.hooks.willDrawPage;n<i.length;n++){var o=i[n];o(new qT(e,this,r))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(i,o){return i+o.wrappedWidth},0);return r}else{var n=this.settings.margin;return e-n.left-n.right}},t})(),yX=(function(){function t(e,r,n,i,o){o===void 0&&(o=!1),this.height=0,this.raw=e,e instanceof hX&&(this.raw=e._element,this.element=e._element),this.index=r,this.section=n,this.cells=i,this.spansMultiplePages=o}return t.prototype.getMaxCellHeight=function(e){var r=this;return e.reduce(function(n,i){var o;return Math.max(n,((o=r.cells[i.index])===null||o===void 0?void 0:o.height)||0)},0)},t.prototype.hasRowSpan=function(e){var r=this;return e.filter(function(n){var i=r.cells[n.index];return i?i.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,r){return this.getMaxCellHeight(r)<=e},t.prototype.getMinimumRowHeight=function(e,r){var n=this;return e.reduce(function(i,o){var s=n.cells[o.index];if(!s)return 0;var a=r.getLineHeight(s.styles.fontSize),l=s.padding("vertical"),c=l+a;return c>i?c:i},0)},t})(),bX=(function(){function t(e,r,n){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=e;var o=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,o=(i=e.content)!==null&&i!==void 0?i:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var s=o!=null?""+o:"",a=/\r\n|\r|\n/g;this.text=s.split(a)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");e=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");n=this.x+i/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:e}},t.prototype.getContentHeight=function(e,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/e*r,o=n*i+this.padding("vertical");return Math.max(o,this.styles.minCellHeight)},t.prototype.padding=function(e){var r=Xb(this.styles.cellPadding,0);return e==="vertical"?r.top+r.bottom:e==="horizontal"?r.left+r.right:r[e]},t})(),_Re=(function(){function t(e,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=r,this.index=n}return t.prototype.getMaxCustomCellWidth=function(e){for(var r=0,n=0,i=e.allRows();n<i.length;n++){var o=i[n],s=o.cells[this.index];s&&typeof s.styles.cellWidth=="number"&&(r=Math.max(r,s.styles.cellWidth))}return r},t})();function wRe(t,e){xRe(t,e);var r=[],n=0;e.columns.forEach(function(o){var s=o.getMaxCustomCellWidth(e);s?o.width=s:(o.width=o.wrappedWidth,r.push(o)),n+=o.width});var i=e.getWidth(t.pageSize().width)-n;i&&(i=XT(r,i,function(o){return Math.max(o.minReadableWidth,o.minWidth)})),i&&(i=XT(r,i,function(o){return o.minWidth})),i=Math.abs(i),!e.settings.horizontalPageBreak&&i>.1/t.scaleFactor()&&(i=i<1?i:Math.round(i),console.log("Of the table content, ".concat(i," units width could not fit page"))),ERe(e),TRe(e,t),SRe(e)}function xRe(t,e){var r=t.scaleFactor(),n=e.settings.horizontalPageBreak,i=pX(t,e);e.allRows().forEach(function(o){for(var s=0,a=e.columns;s<a.length;s++){var l=a[s],c=o.cells[l.index];if(c){var u=e.hooks.didParseCell;e.callCellHooks(t,u,c,o,l,null);var g=c.padding("horizontal");c.contentWidth=S2(c.text,c.styles,t)+g;var _=S2(c.text.join(" ").split(/[^\S\u00A0]+/),c.styles,t);if(c.minReadableWidth=_+c.padding("horizontal"),typeof c.styles.cellWidth=="number")c.minWidth=c.styles.cellWidth,c.wrappedWidth=c.styles.cellWidth;else if(c.styles.cellWidth==="wrap"||n===!0)c.contentWidth>i?(c.minWidth=i,c.wrappedWidth=i):(c.minWidth=c.contentWidth,c.wrappedWidth=c.contentWidth);else{var b=10/r;c.minWidth=c.styles.minCellWidth||b,c.wrappedWidth=c.contentWidth,c.minWidth>c.wrappedWidth&&(c.wrappedWidth=c.minWidth)}}}}),e.allRows().forEach(function(o){for(var s=0,a=e.columns;s<a.length;s++){var l=a[s],c=o.cells[l.index];if(c&&c.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,c.wrappedWidth),l.minWidth=Math.max(l.minWidth,c.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,c.minReadableWidth);else{var u=e.styles.columnStyles[l.dataKey]||e.styles.columnStyles[l.index]||{},g=u.cellWidth||u.minCellWidth;g&&typeof g=="number"&&(l.minWidth=g,l.wrappedWidth=g)}c&&(c.colSpan>1&&!l.minWidth&&(l.minWidth=c.minWidth),c.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=c.minWidth))}})}function XT(t,e,r){for(var n=e,i=t.reduce(function(b,P){return b+P.wrappedWidth},0),o=0;o<t.length;o++){var s=t[o],a=s.wrappedWidth/i,l=n*a,c=s.width+l,u=r(s),g=c<u?u:c;e-=g-s.width,s.width=g}if(e=Math.round(e*1e10)/1e10,e){var _=t.filter(function(b){return e<0?b.width>r(b):!0});_.length&&(e=XT(_,e,r))}return e}function SRe(t){for(var e={},r=1,n=t.allRows(),i=0;i<n.length;i++)for(var o=n[i],s=0,a=t.columns;s<a.length;s++){var l=a[s],c=e[l.index];if(r>1)r--,delete o.cells[l.index];else if(c)c.cell.height+=o.height,r=c.cell.colSpan,delete o.cells[l.index],c.left--,c.left<=1&&delete e[l.index];else{var u=o.cells[l.index];if(!u)continue;if(u.height=o.height,u.rowSpan>1){var g=n.length-i,_=u.rowSpan>g?g:u.rowSpan;e[l.index]={cell:u,left:_,row:o}}}}}function ERe(t){for(var e=t.allRows(),r=0;r<e.length;r++)for(var n=e[r],i=null,o=0,s=0,a=0;a<t.columns.length;a++){var l=t.columns[a];if(s-=1,s>1&&t.columns[a+1])o+=l.width,delete n.cells[l.index];else if(i){var c=i;delete n.cells[l.index],i=null,c.width=l.width+o}else{var c=n.cells[l.index];if(!c)continue;if(s=c.colSpan,o=0,c.colSpan>1){i=c,o+=l.width;continue}c.width=l.width+o}}}function TRe(t,e){for(var r={count:0,height:0},n=0,i=t.allRows();n<i.length;n++){for(var o=i[n],s=0,a=t.columns;s<a.length;s++){var l=a[s],c=o.cells[l.index];if(c){e.applyStyles(c.styles,!0);var u=c.width-c.padding("horizontal");if(c.styles.overflow==="linebreak")c.text=e.splitTextToSize(c.text,u+1/e.scaleFactor(),{fontSize:c.styles.fontSize});else if(c.styles.overflow==="ellipsize")c.text=rj(c.text,u,c.styles,e,"...");else if(c.styles.overflow==="hidden")c.text=rj(c.text,u,c.styles,e,"");else if(typeof c.styles.overflow=="function"){var g=c.styles.overflow(c.text,u);typeof g=="string"?c.text=[g]:c.text=g}c.contentHeight=c.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var _=c.contentHeight/c.rowSpan;c.rowSpan>1&&r.count*r.height<_*c.rowSpan?r={height:_,count:c.rowSpan}:r&&r.count>0&&r.height>_&&(_=r.height),_>o.height&&(o.height=_)}}r.count--}}function rj(t,e,r,n,i){return t.map(function(o){return PRe(o,e,r,n,i)})}function PRe(t,e,r,n,i){var o=1e4*n.scaleFactor();if(e=Math.ceil(e*o)/o,e>=S2(t,r,n))return t;for(;e<S2(t+i,r,n)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+i}function _X(t,e){var r=new i0(t),n=CRe(e,r.scaleFactor()),i=new bRe(e,n);return wRe(r,i),r.applyStyles(r.userStyles),i}function CRe(t,e){var r=t.content,n=ORe(r.columns);if(r.head.length===0){var i=nj(n,"head");i&&r.head.push(i)}if(r.foot.length===0){var i=nj(n,"foot");i&&r.foot.push(i)}var o=t.settings.theme,s=t.styles;return{columns:n,head:n4("head",r.head,n,s,o,e),body:n4("body",r.body,n,s,o,e),foot:n4("foot",r.foot,n,s,o,e)}}function n4(t,e,r,n,i,o){var s={},a=e.map(function(l,c){for(var u=0,g={},_=0,b=0,P=0,E=r;P<E.length;P++){var T=E[P];if(s[T.index]==null||s[T.index].left===0)if(b===0){var O=void 0;Array.isArray(l)?O=l[T.index-_-u]:O=l[T.dataKey];var L={};typeof O=="object"&&!Array.isArray(O)&&(L=(O==null?void 0:O.styles)||{});var N=RRe(t,T,c,i,n,o,L),D=new bX(O,N,t);g[T.dataKey]=D,g[T.index]=D,b=D.colSpan-1,s[T.index]={left:D.rowSpan-1,times:b}}else b--,_++;else s[T.index].left--,b=s[T.index].times,u++}return new yX(l,c,t,g)});return a}function nj(t,e){var r={};return t.forEach(function(n){if(n.raw!=null){var i=kRe(e,n.raw);i!=null&&(r[n.dataKey]=i)}}),Object.keys(r).length>0?r:null}function kRe(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function ORe(t){return t.map(function(e,r){var n,i;return typeof e=="object"?i=(n=e.dataKey)!==null&&n!==void 0?n:r:i=r,new _Re(i,e,r)})}function RRe(t,e,r,n,i,o,s){var a=sRe(n),l;t==="head"?l=i.headStyles:t==="body"?l=i.bodyStyles:t==="foot"&&(l=i.footStyles);var c=Zu({},a.table,a[t],i.styles,l),u=i.columnStyles[e.dataKey]||i.columnStyles[e.index]||{},g=t==="body"?u:{},_=t==="body"&&r%2===0?Zu({},a.alternateRow,i.alternateRowStyles):{},b=oRe(o),P=Zu({},b,c,_,g);return Zu(P,s)}function IRe(t,e,r){var n;r===void 0&&(r={});var i=pX(t,e),o=new Map,s=[],a=[],l=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?l=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(l=[e.settings.horizontalPageBreakRepeat]),l.forEach(function(_){var b=e.columns.find(function(P){return P.dataKey===_||P.index===_});b&&!o.has(b.index)&&(o.set(b.index,!0),s.push(b.index),a.push(e.columns[b.index]),i-=b.wrappedWidth)});for(var c=!0,u=(n=r==null?void 0:r.start)!==null&&n!==void 0?n:0;u<e.columns.length;){if(o.has(u)){u++;continue}var g=e.columns[u].wrappedWidth;if(c||i>=g)c=!1,s.push(u),a.push(e.columns[u]),i-=g;else break;u++}return{colIndexes:s,columns:a,lastIndex:u-1}}function NRe(t,e){for(var r=[],n=0;n<e.columns.length;n++){var i=IRe(t,e,{start:n});i.columns.length&&(r.push(i),n=i.lastIndex)}return r}function wX(t,e){var r=e.settings,n=r.startY,i=r.margin,o={x:i.left,y:n},s=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),a=n+i.bottom+s;if(r.pageBreak==="avoid"){var l=e.body,c=l.reduce(function(_,b){return _+b.height},0);a+=c}var u=new i0(t);(r.pageBreak==="always"||r.startY!=null&&a>u.pageSize().height)&&(SX(u),o.y=i.top),e.callWillDrawPageHooks(u,o);var g=Zu({},o);e.startPageNumber=u.pageNumber(),r.horizontalPageBreak?MRe(u,e,g,o):(u.applyStyles(u.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&e.head.forEach(function(_){return df(u,e,_,o,e.columns)}),u.applyStyles(u.userStyles),e.body.forEach(function(_,b){var P=b===e.body.length-1;E2(u,e,_,P,g,o,e.columns)}),u.applyStyles(u.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&e.foot.forEach(function(_){return df(u,e,_,o,e.columns)})),dX(u,e,g,o),e.callEndPageHooks(u,o),e.finalY=o.y,t.lastAutoTable=e,u.applyStyles(u.userStyles)}function MRe(t,e,r,n){var i=NRe(t,e),o=e.settings;if(o.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(c,u){t.applyStyles(t.userStyles),u>0?xg(t,e,r,n,c.columns,!0):ij(t,e,n,c.columns),LRe(t,e,r,n,c.columns),i4(t,e,n,c.columns)});else for(var s=-1,a=i[0],l=function(){var c=s;if(a){t.applyStyles(t.userStyles);var u=a.columns;s>=0?xg(t,e,r,n,u,!0):ij(t,e,n,u),c=oj(t,e,s+1,n,u),i4(t,e,n,u)}var g=c-s;i.slice(1).forEach(function(_){t.applyStyles(t.userStyles),xg(t,e,r,n,_.columns,!0),oj(t,e,s+1,n,_.columns,g),i4(t,e,n,_.columns)}),s=c};s<e.body.length-1;)l()}function ij(t,e,r,n){var i=e.settings;t.applyStyles(t.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&e.head.forEach(function(o){return df(t,e,o,r,n)})}function LRe(t,e,r,n,i){t.applyStyles(t.userStyles),e.body.forEach(function(o,s){var a=s===e.body.length-1;E2(t,e,o,a,r,n,i)})}function oj(t,e,r,n,i,o){t.applyStyles(t.userStyles),o=o??e.body.length;var s=Math.min(r+o,e.body.length),a=-1;return e.body.slice(r,s).forEach(function(l,c){var u=r+c===e.body.length-1,g=xX(t,e,u,n);l.canEntireRowFit(g,i)&&(df(t,e,l,n,i),a=r+c)}),a}function i4(t,e,r,n){var i=e.settings;t.applyStyles(t.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&e.foot.forEach(function(o){return df(t,e,o,r,n)})}function DRe(t,e,r){var n=r.getLineHeight(t.styles.fontSize),i=t.padding("vertical"),o=Math.floor((e-i)/n);return Math.max(0,o)}function BRe(t,e,r,n){var i={};t.spansMultiplePages=!0,t.height=0;for(var o=0,s=0,a=r.columns;s<a.length;s++){var l=a[s],c=t.cells[l.index];if(c){Array.isArray(c.text)||(c.text=[c.text]);var u=new bX(c.raw,c.styles,c.section);u=Zu(u,c),u.text=[];var g=DRe(c,e,n);c.text.length>g&&(u.text=c.text.splice(g,c.text.length));var _=n.scaleFactor(),b=n.getLineHeightFactor();c.contentHeight=c.getContentHeight(_,b),c.contentHeight>=e&&(c.contentHeight=e,u.styles.minCellHeight-=e),c.contentHeight>t.height&&(t.height=c.contentHeight),u.contentHeight=u.getContentHeight(_,b),u.contentHeight>o&&(o=u.contentHeight),i[l.index]=u}}var P=new yX(t.raw,-1,t.section,i,!0);P.height=o;for(var E=0,T=r.columns;E<T.length;E++){var l=T[E],u=P.cells[l.index];u&&(u.height=P.height);var c=t.cells[l.index];c&&(c.height=t.height)}return P}function FRe(t,e,r,n){var i=t.pageSize().height,o=n.settings.margin,s=o.top+o.bottom,a=i-s;e.section==="body"&&(a-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var l=e.getMinimumRowHeight(n.columns,t),c=l<r;if(l>a)return console.log("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!c)return!1;var u=e.hasRowSpan(n.columns),g=e.getMaxCellHeight(n.columns)>a;return g?(u&&console.log("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(u||n.settings.rowPageBreak==="avoid")}function E2(t,e,r,n,i,o,s){var a=xX(t,e,n,o);if(r.canEntireRowFit(a,s))df(t,e,r,o,s);else if(FRe(t,r,a,e)){var l=BRe(r,a,e,t);df(t,e,r,o,s),xg(t,e,i,o,s),E2(t,e,l,n,i,o,s)}else xg(t,e,i,o,s),E2(t,e,r,n,i,o,s)}function df(t,e,r,n,i){n.x=e.settings.margin.left;for(var o=0,s=i;o<s.length;o++){var a=s[o],l=r.cells[a.index];if(!l){n.x+=a.width;continue}t.applyStyles(l.styles),l.x=n.x,l.y=n.y;var c=e.callCellHooks(t,e.hooks.willDrawCell,l,r,a,n);if(c===!1){n.x+=a.width;continue}jRe(t,l,n);var u=l.getTextPos();uX(l.text,u.x,u.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,l,r,a,n),n.x+=a.width}n.y+=r.height}function jRe(t,e,r){var n=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof n.lineWidth=="number"){var i=AX(n.lineWidth,n.fillColor);i&&t.rect(e.x,r.y,e.width,e.height,i)}else typeof n.lineWidth=="object"&&(n.fillColor&&t.rect(e.x,r.y,e.width,e.height,"F"),URe(t,e,r,n.lineWidth))}function URe(t,e,r,n){var i,o,s,a;n.top&&(i=r.x,o=r.y,s=r.x+e.width,a=r.y,n.right&&(s+=.5*n.right),n.left&&(i-=.5*n.left),l(n.top,i,o,s,a)),n.bottom&&(i=r.x,o=r.y+e.height,s=r.x+e.width,a=r.y+e.height,n.right&&(s+=.5*n.right),n.left&&(i-=.5*n.left),l(n.bottom,i,o,s,a)),n.left&&(i=r.x,o=r.y,s=r.x,a=r.y+e.height,n.top&&(o-=.5*n.top),n.bottom&&(a+=.5*n.bottom),l(n.left,i,o,s,a)),n.right&&(i=r.x+e.width,o=r.y,s=r.x+e.width,a=r.y+e.height,n.top&&(o-=.5*n.top),n.bottom&&(a+=.5*n.bottom),l(n.right,i,o,s,a));function l(c,u,g,_,b){t.getDocument().setLineWidth(c),t.getDocument().line(u,g,_,b,"S")}}function xX(t,e,r,n){var i=e.settings.margin.bottom,o=e.settings.showFoot;return(o==="everyPage"||o==="lastPage"&&r)&&(i+=e.getFootHeight(e.columns)),t.pageSize().height-n.y-i}function xg(t,e,r,n,i,o){i===void 0&&(i=[]),o===void 0&&(o=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!o&&e.foot.forEach(function(a){return df(t,e,a,n,i)}),e.callEndPageHooks(t,n);var s=e.settings.margin;dX(t,e,r,n),SX(t),e.pageNumber++,n.x=s.left,n.y=s.top,r.y=s.top,e.callWillDrawPageHooks(t,n),e.settings.showHead==="everyPage"&&(e.head.forEach(function(a){return df(t,e,a,n,i)}),t.applyStyles(t.userStyles))}function SX(t){var e=t.pageNumber();t.setPage(e+1);var r=t.pageNumber();return r===e?(t.addPage(),!0):!1}function $Re(t){t.API.autoTable=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=e[0],i=vX(this,n),o=_X(this,i);return wX(this,o),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,r,n,i){uX(e,r,n,i,this)},t.API.autoTableSetDefaults=function(e){return i0.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,r){i0.setDefaults(e,r)},t.API.autoTableHtmlToJson=function(e,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new i0(this),o=mX(i,e,window,r,!1),s=o.head,a=o.body,l=((n=s[0])===null||n===void 0?void 0:n.map(function(c){return c.content}))||[];return{columns:l,rows:a,data:a}}}var o4;function sj(t,e){var r=vX(t,e),n=_X(t,r);wX(t,n)}try{if(typeof window<"u"&&window){var aj=window,lj=aj.jsPDF||((o4=aj.jspdf)===null||o4===void 0?void 0:o4.jsPDF);lj&&$Re(lj)}}catch(t){console.error("Could not apply autoTable plugin",t)}function zRe(t,e,r){var c,u,g,_,b,P;const n=new Ar,i=new Date().toLocaleString("en-IN");n.setFontSize(20),n.setTextColor(30,58,138),n.text("NE-NETRA Risk Analysis Report",14,20),n.setFontSize(10),n.setTextColor(100),n.text(`Generated: ${i}`,14,28),n.text(`District: ${t}`,14,34),n.setDrawColor(200),n.line(14,38,196,38),n.setFontSize(14),n.setTextColor(0),n.text("Composite Risk Score",14,48),n.setFontSize(24);const o=HRe(e.risk_level);n.setTextColor(o[0],o[1],o[2]),n.text(`${Math.round(e.score)}/100`,14,58),n.setFontSize(12),n.setTextColor(0),n.text(`Risk Level: ${e.risk_level.toUpperCase()}`,50,58),n.text(`Trend: ${e.trend}`,120,58),n.setFontSize(12),n.text("3-Layer Risk Model Breakdown",14,72),sj(n,{startY:76,head:[["Layer","Score","Status"]],body:[["Cognitive (Language/Sentiment)",`${((c=e.layer_scores)==null?void 0:c.cognitive.toFixed(1))||0}/10`,s4(((u=e.layer_scores)==null?void 0:u.cognitive)||0,10)],["Network (Velocity/Spread)",`${((g=e.layer_scores)==null?void 0:g.network.toFixed(1))||0}/10`,s4(((_=e.layer_scores)==null?void 0:_.network)||0,10)],["Physical (Geo/Volatility)",`${((b=e.layer_scores)==null?void 0:b.physical.toFixed(1))||0}/10`,s4(((P=e.layer_scores)==null?void 0:P.physical)||0,10)]],theme:"grid",headStyles:{fillColor:[30,58,138]}});const s=n.lastAutoTable.finalY||100;n.setFontSize(12),n.text("Primary Risk Trigger",14,s+10),n.setFontSize(10),n.setTextColor(100),n.text(e.primary_trigger,14,s+16,{maxWidth:180}),e.hotspots&&e.hotspots.length>0&&(n.setFontSize(12),n.setTextColor(0),n.text("Active Hotspots",14,s+28),sj(n,{startY:s+32,head:[["Location","Severity","Incidents","Type"]],body:e.hotspots.slice(0,5).map(E=>[E.location,E.severity.toUpperCase(),E.incidents.toString(),E.type]),theme:"grid",headStyles:{fillColor:[30,58,138]}}));const a=n.getNumberOfPages();for(let E=1;E<=a;E++)n.setPage(E),n.setFontSize(8),n.setTextColor(150),n.text(`NE-NETRA Early Warning Platform - Confidential - Page ${E} of ${a}`,n.internal.pageSize.width/2,n.internal.pageSize.height-10,{align:"center"});const l=`NE-NETRA_RiskAnalysis_${t.replace(/\s/g,"_")}_${new Date().getTime()}.pdf`;n.save(l)}function WRe(t,e){const r=["Timestamp","District","Officer","Action"],n=e.map(c=>[new Date(c.timestamp).toLocaleString("en-IN"),c.district,c.officer_name,c.action]),i=[r.join(","),...n.map(c=>c.map(u=>`"${u}"`).join(","))].join(`
`),o=new Blob([i],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a"),a=URL.createObjectURL(o);s.setAttribute("href",a);const l=`NE-NETRA_AuditLog_${t.replace(/\s/g,"_")}_${new Date().getTime()}.csv`;s.setAttribute("download",l),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s)}function VRe(t,e){const r=["Timestamp","Score","Risk Level"],n=e.map(c=>[new Date(c.timestamp).toLocaleString("en-IN"),c.score.toFixed(2),c.risk_level]),i=[r.join(","),...n.map(c=>c.map(u=>`"${u}"`).join(","))].join(`
`),o=new Blob([i],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a"),a=URL.createObjectURL(o);s.setAttribute("href",a);const l=`NE-NETRA_RiskHistory_${t.replace(/\s/g,"_")}_${new Date().getTime()}.csv`;s.setAttribute("download",l),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s)}function HRe(t){switch(t){case"critical":return[220,38,38];case"high":return[245,158,11];case"medium":return[234,179,8];case"low":return[34,197,94];default:return[100,116,139]}}function s4(t,e){const r=t/e*100;return r>=75?"Critical":r>=50?"High":r>=25?"Medium":"Low"}function qRe({riskData:t,history:e=[],loading:r=!1,selectedDistrict:n="Unknown"}){if(r)return V.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[V.jsxs("div",{className:"flex items-end justify-between",children:[V.jsxs("div",{className:"space-y-2",children:[V.jsx(bl,{className:"h-8 w-64"}),V.jsx(bl,{className:"h-4 w-96"})]}),V.jsx(bl,{className:"h-12 w-24"})]}),V.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[V.jsxs("div",{className:"space-y-6 lg:col-span-2",children:[V.jsx(bl,{className:"h-[250px] w-full"}),V.jsx(bl,{className:"h-[400px] w-full"})]}),V.jsxs("div",{className:"space-y-6",children:[V.jsx(bl,{className:"h-[300px] w-full"}),V.jsx(bl,{className:"h-24 w-full"})]})]})]});if(!t)return V.jsx("div",{className:"text-foreground-secondary",children:"Select a district to view analysis."});const{layer_scores:i}=t,o=e.map(g=>g.score),s=o.reduce((g,_)=>g+_,0)/(o.length||1),a=o.reduce((g,_)=>g+Math.pow(_-s,2),0)/(o.length||1),l=Math.sqrt(a),c=()=>{zRe(n,t)},u=()=>{VRe(n,e)};return V.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[V.jsxs("div",{className:"flex items-end justify-between",children:[V.jsxs("div",{children:[V.jsx("h2",{className:"text-2xl font-bold tracking-tight text-foreground",children:"Risk Analysis Breakdown"}),V.jsx("p",{className:"text-foreground-secondary mt-1",children:"Detailed factor analysis and explainable AI reasoning for the current risk score."})]}),V.jsxs("div",{className:"flex items-center gap-3",children:[o.length>1&&V.jsxs("div",{className:"text-right",children:[V.jsx("p",{className:"text-xs text-foreground-secondary uppercase tracking-wider",children:" volatility index ()"}),V.jsx("p",{className:Os("text-xl font-mono font-bold",l>15?"text-red-400":"text-emerald-400"),children:l.toFixed(2)})]}),V.jsxs("div",{className:"flex gap-2",children:[V.jsxs(o0,{onClick:c,variant:"outline",size:"sm",className:"gap-2",children:[V.jsx(f4,{className:"w-4 h-4"}),"Export PDF"]}),V.jsxs(o0,{onClick:u,variant:"outline",size:"sm",className:"gap-2",children:[V.jsx(f4,{className:"w-4 h-4"}),"Export CSV"]})]})]})]}),V.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[V.jsxs("div",{className:"space-y-6 lg:col-span-2",children:[V.jsx(gke,{data:e}),V.jsx(mge,{primaryTrigger:t.primary_trigger,contributingFactors:t.contributing_factors})]}),V.jsxs("div",{className:"space-y-6",children:[V.jsxs(uu,{className:"border-border",children:[V.jsx(bd,{children:V.jsx(_d,{className:"text-base",children:"3-Layer Model Status"})}),V.jsxs(Z0,{className:"space-y-6",children:[V.jsxs("div",{className:"space-y-2",children:[V.jsxs("div",{className:"flex items-center justify-between text-sm",children:[V.jsxs("div",{className:"flex items-center gap-2 text-foreground-secondary",children:[V.jsx(Nj,{className:"w-4 h-4 text-blue-400"}),"Cognitive Layer"]}),V.jsxs("span",{className:"font-mono font-bold text-foreground",children:[(i==null?void 0:i.cognitive)||0,"/10"]})]}),V.jsx("div",{className:"h-2 bg-background-tertiary rounded-full overflow-hidden",children:V.jsx("div",{className:"h-full bg-blue-500 transition-all duration-500",style:{width:`${((i==null?void 0:i.cognitive)||0)/10*100}%`}})}),V.jsx("p",{className:"text-xs text-foreground-tertiary",children:"Sentiment, Toxicity, Code-switching"})]}),V.jsxs("div",{className:"space-y-2",children:[V.jsxs("div",{className:"flex items-center justify-between text-sm",children:[V.jsxs("div",{className:"flex items-center gap-2 text-foreground-secondary",children:[V.jsx(Lj,{className:"w-4 h-4 text-amber-400"}),"Network Layer"]}),V.jsxs("span",{className:"font-mono font-bold text-foreground",children:[(i==null?void 0:i.network)||0,"/10"]})]}),V.jsx("div",{className:"h-2 bg-background-tertiary rounded-full overflow-hidden",children:V.jsx("div",{className:"h-full bg-amber-500 transition-all duration-500",style:{width:`${((i==null?void 0:i.network)||0)/10*100}%`}})}),V.jsx("p",{className:"text-xs text-foreground-tertiary",children:"Velocity, Viral Spread, Echo Chambers"})]}),V.jsxs("div",{className:"space-y-2",children:[V.jsxs("div",{className:"flex items-center justify-between text-sm",children:[V.jsxs("div",{className:"flex items-center gap-2 text-foreground-secondary",children:[V.jsx(nP,{className:"w-4 h-4 text-red-400"}),"Physical Layer"]}),V.jsxs("span",{className:"font-mono font-bold text-foreground",children:[(i==null?void 0:i.physical)||0,"/10"]})]}),V.jsx("div",{className:"h-2 bg-background-tertiary rounded-full overflow-hidden",children:V.jsx("div",{className:"h-full bg-red-500 transition-all duration-500",style:{width:`${((i==null?void 0:i.physical)||0)/10*100}%`}})}),V.jsx("p",{className:"text-xs text-foreground-tertiary",children:"Geo-location, Sensitive Zones, History"})]})]})]}),V.jsxs("div",{className:"p-4 bg-primary/5 border border-primary/20 rounded-lg text-xs text-foreground-secondary",children:[V.jsx("strong",{className:"block mb-1 text-primary",children:"Explainability Note:"}),"The NE-NETRA model weighs the ",V.jsx("strong",{children:"Physical Layer"})," 20% higher in sensitive border districts."]})]})]})]})}function XRe({riskData:t,selectedDistrict:e}){var i;const[r,n]=Q.useState("hex");return V.jsxs("div",{className:"h-[calc(100vh-8rem)] flex flex-col space-y-4",children:[V.jsxs("div",{className:"flex items-center justify-between",children:[V.jsxs("div",{children:[V.jsx("h2",{className:"text-2xl font-bold tracking-tight text-foreground",children:"Geographic Risk Map"}),V.jsx("p",{className:"text-foreground-secondary mt-1",children:"Spatial distribution of risk signals using H3 hexagonal clustering."})]}),V.jsxs("div",{className:"flex p-1 bg-background-tertiary rounded-lg border border-border-subtle",children:[V.jsxs("button",{onClick:()=>n("hex"),className:Os("flex items-center gap-2 px-3 py-1.5 rounded text-sm font-medium transition-colors",r==="hex"?"bg-card shadow text-foreground":"text-foreground-tertiary hover:text-foreground hover:bg-background-secondary"),children:[V.jsx(TG,{className:"w-4 h-4"})," Hexagon"]}),V.jsxs("button",{onClick:()=>n("heatmap"),className:Os("flex items-center gap-2 px-3 py-1.5 rounded text-sm font-medium transition-colors",r==="heatmap"?"bg-card shadow text-foreground":"text-foreground-tertiary hover:text-foreground hover:bg-background-secondary"),children:[V.jsx(Yp,{className:"w-4 h-4"})," Heatmap"]}),V.jsxs("button",{onClick:()=>n("markers"),className:Os("flex items-center gap-2 px-3 py-1.5 rounded text-sm font-medium transition-colors",r==="markers"?"bg-card shadow text-foreground":"text-foreground-tertiary hover:text-foreground hover:bg-background-secondary"),children:[V.jsx(jG,{className:"w-4 h-4"})," Markers"]})]})]}),V.jsxs("div",{className:"flex-1 grid grid-cols-1 lg:grid-cols-3 gap-6 min-h-0",children:[V.jsx(uu,{className:"lg:col-span-2 flex flex-col overflow-hidden border-border",children:V.jsx("div",{className:"flex-1 relative bg-background-tertiary",children:V.jsx(oW,{district:e,velocity:((i=t==null?void 0:t.components)==null?void 0:i.velocity)||0,layerMode:r})})}),V.jsxs(uu,{className:"flex flex-col overflow-hidden",children:[V.jsx(bd,{children:V.jsx(_d,{children:"Identified Hotspots"})}),V.jsx(Z0,{className:"flex-1 overflow-y-auto pr-2",children:V.jsxs("div",{className:"space-y-3",children:[((t==null?void 0:t.hotspots)||[]).map((o,s)=>V.jsxs("div",{className:"p-3 bg-background-tertiary rounded border border-border-subtle hover:border-border transition-colors cursor-default",children:[V.jsxs("div",{className:"flex items-center justify-between mb-1",children:[V.jsx(gC,{level:o.severity}),V.jsx("span",{className:"text-xs uppercase font-medium text-foreground-tertiary tracking-wider",children:o.severity})]}),V.jsx("p",{className:"text-foreground font-medium",children:o.location}),V.jsxs("p",{className:"text-sm text-foreground-secondary mt-1",children:[o.incidents," Signals Detected"]})]},s)),(!(t!=null&&t.hotspots)||t.hotspots.length===0)&&V.jsx("div",{className:"text-center py-8 text-foreground-tertiary",children:"No hotspots detected."})]})})]})]})]})}function a4({children:t,variant:e="default",className:r=""}){const n={default:"bg-accent text-accent-foreground",neutral:"bg-badge-neutral-bg text-badge-neutral-fg",outline:"border border-border text-foreground-secondary bg-transparent"};return V.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded text-xs font-medium ${n[e]} ${r}`,children:t})}function YRe({actions:t}){const e={high:"High Priority",medium:"Medium Priority",low:"Low Priority"};return V.jsxs(Q2,{children:[V.jsx(TP,{children:V.jsxs("div",{className:"flex items-center justify-between",children:[V.jsx(PP,{children:"Suggested Actions"}),V.jsx(a4,{variant:"outline",children:"Decision Support"})]})}),V.jsxs(Z2,{children:[V.jsx("div",{className:"space-y-4",children:t.map((r,n)=>V.jsx("div",{className:"p-4 bg-background-secondary rounded border border-border-subtle space-y-2",children:V.jsxs("div",{className:"flex items-start gap-3",children:[V.jsx("div",{className:"mt-0.5",children:V.jsx(LG,{className:"w-4 h-4 text-primary flex-shrink-0"})}),V.jsxs("div",{className:"flex-1 space-y-2",children:[V.jsxs("div",{className:"flex items-start justify-between gap-4",children:[V.jsx("p",{className:"text-foreground font-medium",children:r.action.startsWith("Consider")||r.action.startsWith("Advisory")?r.action:`Consider ${r.action.charAt(0).toLowerCase()+r.action.slice(1)}`}),V.jsx(a4,{variant:"neutral",className:"flex-shrink-0",children:e[r.priority]})]}),V.jsx("p",{className:"text-sm text-foreground-secondary",children:r.rationale})]})]})},r.id||n))}),V.jsxs("div",{className:"mt-6 p-3 bg-background-tertiary border border-border rounded flex items-center gap-2",children:[V.jsx(a4,{variant:"outline",className:"shrink-0 border-primary text-primary",children:"Advisory Only"}),V.jsx("p",{className:"text-xs text-foreground-tertiary",children:"These are AI-generated advisories. Final decisions require human authorization."})]})]})]})}function KRe({riskData:t}){return t?V.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[V.jsxs("div",{children:[V.jsx("h2",{className:"text-2xl font-bold tracking-tight text-foreground",children:"Suggested Actions"}),V.jsxs("p",{className:"text-foreground-secondary mt-1",children:["AI-generated advisory protocols based on current risk levels.",V.jsx("span",{className:"text-accent ml-2 text-sm font-medium",children:"pending human authorization"})]})]}),V.jsx(YRe,{actions:t.suggested_actions||[]})]}):V.jsx("div",{className:"text-foreground-secondary",children:"Select a district to view advisory actions."})}function cj({children:t,variant:e="secondary",size:r="md",fullWidth:n=!1,disabled:i=!1,className:o="",...s}){const a="inline-flex items-center justify-center font-medium rounded transition-all focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-ring disabled:opacity-40 disabled:cursor-not-allowed",l={primary:"bg-primary text-primary-foreground hover:bg-primary-hover border border-primary",secondary:"bg-secondary text-secondary-foreground hover:bg-background-tertiary border border-border",ghost:"bg-transparent text-foreground-secondary hover:bg-background-secondary border border-transparent",outline:"bg-transparent text-foreground border-2 border-border hover:bg-background-secondary",danger:"bg-severity-high text-severity-high-foreground hover:bg-severity-critical border border-severity-high"},c={sm:"px-3 py-1.5 text-xs gap-1.5",md:"px-4 py-2 text-sm gap-2",lg:"px-6 py-3 text-base gap-2"},u=n?"w-full":"";return V.jsx("button",{className:`${a} ${l[e]} ${c[r]} ${u} ${o}`,disabled:i,...s,children:t})}function GRe({auditLog:t,district:e,riskScoreId:r,onSubmit:n}){const[i,o]=Q.useState(!1),[s,a]=Q.useState(""),[l,c]=Q.useState(""),[u,g]=Q.useState("SP"),[_,b]=Q.useState(!1),P=()=>{o(!i)},E=async()=>{if(!n)return;b(!0),await n({district:e,risk_score_id:r,officer_name:l||"Officer",officer_rank:u,reviewed:i,notes:s,action_taken:s})&&(a(""),o(!1)),b(!1)},T=()=>{a(""),o(!1),c("")};return V.jsxs(Q2,{children:[V.jsx(TP,{children:V.jsx(PP,{children:"Officer Review"})}),V.jsxs(Z2,{className:"space-y-6",children:[V.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[V.jsxs("div",{className:"space-y-2",children:[V.jsx("label",{htmlFor:"officer-rank",className:"block text-sm font-medium text-foreground",children:"Rank"}),V.jsxs("select",{id:"officer-rank",value:u,onChange:O=>g(O.target.value),className:"w-full px-4 py-2 bg-input-background border border-input-border rounded text-foreground focus:outline-none focus:ring-2 focus:ring-input-focus focus:border-input-focus",children:[V.jsx("option",{value:"SP",children:"SP"}),V.jsx("option",{value:"DSP",children:"DSP"}),V.jsx("option",{value:"DM",children:"DM"}),V.jsx("option",{value:"ADM",children:"ADM"})]})]}),V.jsxs("div",{className:"space-y-2",children:[V.jsx("label",{htmlFor:"officer-name",className:"block text-sm font-medium text-foreground",children:"Name"}),V.jsx("input",{type:"text",id:"officer-name",value:l,onChange:O=>c(O.target.value),placeholder:"Officer Name",className:"w-full px-4 py-2 bg-input-background border border-input-border rounded text-foreground placeholder:text-foreground-tertiary focus:outline-none focus:ring-2 focus:ring-input-focus focus:border-input-focus"})]})]}),V.jsxs("div",{className:"flex items-start gap-3 p-4 bg-background-secondary rounded border border-border",children:[V.jsx("input",{type:"checkbox",id:"officer-review",checked:i,onChange:P,className:"mt-1 w-4 h-4 rounded border-border bg-input-background accent-primary cursor-pointer"}),V.jsxs("label",{htmlFor:"officer-review",className:"flex-1 cursor-pointer",children:[V.jsxs("div",{className:"flex items-center gap-2",children:[V.jsx("span",{className:"text-foreground font-medium",children:"Reviewed by Authorized Officer"}),i&&V.jsx(Mj,{className:"w-4 h-4 text-severity-low"})]}),V.jsx("p",{className:"text-sm text-foreground-secondary mt-1",children:"I confirm that I have reviewed the risk assessment and suggested actions"})]})]}),V.jsxs("div",{className:"bg-background-tertiary p-3 rounded border border-border-secondary grid grid-cols-2 gap-4",children:[V.jsxs("div",{className:"space-y-1",children:[V.jsx("label",{className:"text-xs font-medium text-foreground-secondary uppercase tracking-wider",children:"Review ID"}),V.jsxs("div",{className:"font-mono text-sm text-foreground",children:["RVW-",new Date().toISOString().slice(0,10).replace(/-/g,""),"-",Math.floor(Math.random()*1e3).toString().padStart(4,"0")]})]}),V.jsxs("div",{className:"space-y-1",children:[V.jsx("label",{className:"text-xs font-medium text-foreground-secondary uppercase tracking-wider",children:"Timestamp"}),V.jsx("div",{className:"font-mono text-sm text-foreground",children:new Date().toLocaleString("en-IN")})]})]}),V.jsxs("div",{className:"space-y-2",children:[V.jsx("label",{htmlFor:"officer-notes",className:"block text-sm font-medium text-foreground",children:"Review Notes"}),V.jsx("textarea",{id:"officer-notes",value:s,onChange:O=>a(O.target.value),rows:4,placeholder:"Enter review comments, decisions taken, or additional observations...",className:"w-full px-4 py-3 bg-input-background border border-input-border rounded text-foreground placeholder:text-foreground-tertiary focus:outline-none focus:ring-2 focus:ring-input-focus focus:border-input-focus resize-none"}),V.jsx("p",{className:"text-xs text-foreground-tertiary",children:"These notes will be included in the audit log along with the Review ID."})]}),V.jsxs("div",{className:"flex gap-3",children:[V.jsx(cj,{variant:"primary",disabled:!i||!s.trim()||!l.trim()||_,onClick:E,children:_?"Submitting...":"Submit Review"}),V.jsx(cj,{variant:"ghost",onClick:T,disabled:_,children:"Clear"})]}),V.jsxs("div",{className:"pt-6 border-t border-border space-y-3",children:[V.jsxs("div",{className:"flex items-center gap-2",children:[V.jsx(rP,{className:"w-4 h-4 text-foreground-secondary"}),V.jsx("h4",{className:"text-foreground",children:"Recent Audit Log"})]}),V.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:t.length>0?t.map((O,L)=>V.jsxs("div",{className:"p-3 bg-background-secondary rounded border border-border-subtle text-sm",children:[V.jsxs("div",{className:"flex items-start justify-between gap-4 mb-1",children:[V.jsx("span",{className:"text-foreground-secondary font-medium",children:O.officer}),V.jsx("span",{className:"text-xs text-foreground-tertiary",children:O.timestamp})]}),V.jsx("p",{className:"text-foreground-secondary",children:O.action})]},L)):V.jsx("p",{className:"text-sm text-foreground-tertiary text-center py-4",children:"No audit log entries yet"})})]})]})]})}function QRe({selectedDistrict:t,auditLog:e,onReviewSubmit:r}){const n=e.map(i=>({timestamp:new Date(i.timestamp).toLocaleString("en-IN"),officer:i.officer_name,action:i.action}));return V.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[V.jsxs("div",{children:[V.jsx("h2",{className:"text-2xl font-bold tracking-tight text-foreground",children:"Officer Review"}),V.jsx("p",{className:"text-foreground-secondary mt-1",children:"Mandatory human review of algorithmic risk assessments."})]}),V.jsx(GRe,{district:t,riskScoreId:1,auditLog:n,onSubmit:r})]})}function ZRe({auditLog:t,selectedDistrict:e="All Districts"}){const r=()=>{WRe(e,t)};return V.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[V.jsxs("div",{className:"flex items-center justify-between",children:[V.jsxs("div",{children:[V.jsx("h2",{className:"text-2xl font-bold tracking-tight text-foreground",children:"Audit Log"}),V.jsx("p",{className:"text-foreground-secondary mt-1",children:"Immutable record of all system activities and officer actions."})]}),V.jsxs(o0,{onClick:r,variant:"outline",size:"sm",className:"gap-2",disabled:t.length===0,children:[V.jsx(f4,{className:"w-4 h-4"}),"Export CSV"]})]}),V.jsxs(uu,{children:[V.jsx(bd,{children:V.jsxs(_d,{className:"flex items-center gap-2",children:[V.jsx(rP,{className:"w-5 h-5 text-primary"}),"Activity Timeline"]})}),V.jsx(Z0,{children:V.jsxs("div",{className:"relative border-l border-border ml-3 space-y-8 py-2",children:[t.length===0&&V.jsx("div",{className:"pl-6 text-foreground-tertiary",children:"No activity recorded for this district."}),t.map((n,i)=>V.jsxs("div",{className:"relative pl-6 group",children:[V.jsx("div",{className:"absolute -left-1.5 top-1.5 w-3 h-3 rounded-full bg-background border-2 border-border group-hover:border-primary transition-colors"}),V.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-baseline gap-1",children:[V.jsx("span",{className:"font-mono text-xs text-foreground-tertiary",children:new Date(n.timestamp).toLocaleString("en-IN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})}),n.officer_name&&V.jsxs("div",{className:"flex items-center gap-1 text-xs font-medium text-foreground-secondary px-2 py-0.5 rounded bg-background-tertiary border border-border-subtle",children:[V.jsx(Dj,{className:"w-3 h-3"}),n.officer_name]})]}),V.jsx("p",{className:"text-foreground font-medium mt-1",children:n.action}),n.officer_name&&V.jsxs("p",{className:"text-foreground-secondary mt-0.5 font-mono text-xs opacity-70",children:["Review ID: ",n.id]})]},i))]})})]})]})}function JRe(){const[t,e]=Q.useState(""),[r,n]=Q.useState([]),[i,o]=Q.useState(null),[s,a]=Q.useState([]),[l,c]=Q.useState([]),[u,g]=Q.useState(null),[_,b]=Q.useState(!0),[P,E]=Q.useState(null),[T,O]=Q.useState(!0);Q.useEffect(()=>{(async()=>{const B=await fa.healthCheck();O(B),B||(E("Backend API not available. Please start the backend server."),b(!1))})()},[]),Q.useEffect(()=>{if(!T)return;(async()=>{try{const B=await fa.getDistricts();n(B),B.length>0?e(B[0]):E("No districts with data found. Please load demo data first.")}catch(B){E("Failed to load districts. Please check the backend connection."),console.error(B)}finally{b(!1)}})()},[T]),Q.useEffect(()=>{if(!t||!T)return;(async()=>{b(!0),E(null);try{const B=await fa.getRiskScore(t);o(B);const z=await fa.getAuditLog(t);a(z);const X=await fa.getRiskHistory(t);c(X);const Z=await fa.getDistrictStats(t);g(Z)}catch(B){E(`Failed to load data for ${t}. ${B instanceof Error?B.message:"Unknown error"}`),console.error(B)}finally{b(!1)}})()},[t,T]);const L=()=>{t&&(b(!0),Promise.all([fa.getRiskScore(t),fa.getAuditLog(t),fa.getRiskHistory(t),fa.getDistrictStats(t)]).then(([D,B,z,X])=>{o(D),a(B),c(z),g(X)}).finally(()=>b(!1)))},N=async D=>{try{await fa.submitReview(D);const B=await fa.getAuditLog(t);return a(B),!0}catch(B){return console.error("Failed to submit review:",B),!1}};return T?P&&!_&&!i?V.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-6 text-foreground",children:V.jsxs("div",{className:"max-w-md space-y-6 text-center",children:[V.jsx(z1,{className:"w-16 h-16 text-severity-medium mx-auto"}),V.jsx("h2",{className:"text-xl font-bold",children:"Data Loading Issue"}),V.jsx("p",{className:"text-foreground-secondary",children:P}),V.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary text-primary-foreground rounded hover:bg-primary-hover",children:"Retry"})]})}):V.jsx(jK,{children:V.jsx(pK,{children:V.jsxs(ru,{element:V.jsx(rre,{districts:r,selectedDistrict:t,onDistrictChange:e}),children:[V.jsx(ru,{path:"/",element:V.jsx(Age,{riskData:i,stats:u,loading:_,selectedDistrict:t})}),V.jsx(ru,{path:"/ingest",element:V.jsx(gge,{districts:r,onIngestComplete:L})}),V.jsx(ru,{path:"/analysis",element:V.jsx(qRe,{riskData:i,history:l,loading:_,selectedDistrict:t})}),V.jsx(ru,{path:"/map",element:V.jsx(XRe,{riskData:i,selectedDistrict:t})}),V.jsx(ru,{path:"/actions",element:V.jsx(KRe,{riskData:i})}),V.jsx(ru,{path:"/review",element:V.jsx(QRe,{selectedDistrict:t,auditLog:s,onReviewSubmit:N})}),V.jsx(ru,{path:"/audit",element:V.jsx(ZRe,{auditLog:s,selectedDistrict:t})}),V.jsx(ru,{path:"*",element:V.jsx(hK,{to:"/",replace:!0})})]})})}):V.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-6 text-foreground",children:V.jsxs("div",{className:"max-w-md space-y-6 text-center",children:[V.jsx(z1,{className:"w-16 h-16 text-severity-high mx-auto"}),V.jsx("h2",{className:"text-xl font-bold",children:"System Offline"}),V.jsx("p",{className:"text-foreground-secondary",children:"Backend service is unreachable."})]})})}dY.createRoot(document.getElementById("root")).render(V.jsx(JRe,{}));export{Nn as _,yv as c,Ln as g};
